<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>





<head>

<title>Workflow Using SAML</title>



 <meta http-equiv=content-type content="text/html; charset=windows-1252">
<meta name=topic-status content="In Progress">
<meta name=topic-priority content=0>
<meta name=topic-time-estimate content=0>
<meta name=topic-comment content>
<meta name=topic-id content="Identity Bridging Workflow">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=1667>
<meta name=layout-width content=952>
<meta name=x-ignored-words content="SecureSpan;Workflow;Daemon;SSL;TLS;Lifecycle;SAML;FIP;Namespace;Failover;GUI;Logging.properties;URI;workflow;SOAPAction;WS-Trust;logging.properties;XP;C;Settings\;Linux;WSDL;Uptime;uptime;Unix;cert;francis;LDAP;firewall;policy.templates;admin;popup;user(s;CTRL;Login;WS;username;Username;Xml-based;DMZ;non-invasively;Solaris;internetworking;Beatty;ext;GUI-based;scalable;PKI-based;offloads;toolset;WS-Security;Services@https;servername;namespace;Gateway(s;XPath;NotOnOrAfter;saml;requestor;tempuri.org;Name.wsdl;yourcompany.com;MyWebService.wsdl.;schemas.xmlsoap.org;wsdl;URIs;GetQuoteResponse;stockSymbol;StockInfo;getQuote;getQuoteRequest;getQuoteResponse;operation(s;StockServiceSOAPBinding;StockQuote;localhost;ws;TCP;GenericLDAP;MSAD;IIPs;TivoliLDAP;assertion(s;criteria--username;headers--for;SHA;form--for;cleartext;folder(s;SSL-TLS;yuk;HTTP(S;detail(s;AES;node(s;Avg;IP;min;CDE;Kunststoff;Timeout;login;timeout;SSGAdmin;hostname;Admin;substring;DN;myLDAP;ldap;ldapserver;dc=com;myMSAD;ou=Layer;dc=LOCAL;hostname.domain;mygateway;mycompany.com;mygateway.mycompany.com.;IIS;mail.abc.com;ou=ABC;dc=ABC;mybrowse;mypassword;LdapErr;vece;findAllHeaders;myName;myPassword;myCompany;SLA;ReType;Inc;cred;certs;Xml;HttpClientCert;n.m;xxxx;System.NullReferenceException;IPAddress;MyGateway;MyGateway.MyCompany.com.;MyGateway.MyCompany.com;servername.company.com.;SLL;Wsdl;screenshots;ui;searchability;JGoodies;connection(s;Bridge.sh;daemon;Extranet;workflows;interoperable;PKCS;JMS;XSLT;WS-SecureConversation;WS-Metadata;WS-Policy;WSRP;MQ;WS-I;BSP;XServer;XBlade;XScreen;XSpeed;firewalling;ASIC;eServer;BladeCenter;ASIC-accelerated;EAI;ESB;decouples;PKI;SSO;QoS;CN=*;A(s;requestor-side;FIPs;certificate(s;CN=;IIP;CN=user">




 <link rel="StyleSheet" href="SecureSpan.css">



 <META NAME="generator" CONTENT="RoboHelp by eHelp Corporation www.ehelp.com">
</head>




<body>

<h1>Workflow Using SAML</h1>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="NOTE.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;
			x-cell-content-align: center;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>NOTE</B></span>: You will 
 need the SecureSpan™ Manager and SecureSpan Manager documentation to complete 
 the following instructions. The instructions are not complete to the referenced 
 forms. To fully utilize the guidance that this workflow provides, reference 
 this topic when configuring each requirement in the SecureSpan Manager 
 and SecureSpan™ Bridge. The generic &quot;Trusted Gateway A&quot; and 
 &quot;Federated Gateway B&quot; references are used in the identity bridging 
 examples, workflows, and instructions. The Trusted Gateway A is the certificate 
 authority (CA) that issues and manages security credentials and that is 
 responsible for authentication. The Federated Gateway B is the Web service 
 provider that is responsible for authorization. In order to configure 
 the SecureSpan™ Bridge in an identity bridging configuration using the 
 SAML credential source, the Trusted Gateway A and the Federated Gateway 
 B must be SecureSpan™ Gateways residing in the respective authentication 
 and authorization domains.</td></tr>
</table>

<p>Configure identity bridging using the SAML credential source as follows: 
 </p>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Confirm that the requirements outlined in <a href="System_Requirements.htm">System 
 Requirements</a> are met for configuring identity bridging with SAML.</p></li>
</ol>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				margin-left: 40px;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="NOTE.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;
			x-cell-content-align: center;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>NOTE</B></span>: Steps 
 #2 – 8 below must be performed in the SecureSpan™ Manager. This Help System 
 includes instructions for some of the SecureSpan Manager procedures. Other 
 procedures reference the applicable section in the SecureSpan Manager 
 documentation.</td></tr>
</table>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>In the SecureSpan™ Manager (Federated Gateway 
 B domain), connect to the Trusted Gateway A as outlined in <span style="font-style: italic;"><I>Connect 
 to the SecureSpan™ Gateway</I></span> in the SecureSpan Manager documentation.</p></li>
	
	<li class="kadov-p"><p>Add a new Internal Identity Provider user in the 
 Trusted Gateway A as outlined in <span style="font-style: italic;"><I>Add 
 and Edit Internal Identity Provider Users and Groups</I></span> in the<span 
 style="font-style: italic;"> <I></I></span>SecureSpan Manager documentation. 
 For example, &quot;user A.&quot;</p></li>
	
	<li class="kadov-p"><p>Disconnect from the Trusted Gateway A, then connect 
 to the Federated Gateway B.</p></li>
	
	<li class="kadov-p"><p>Import the Trusted Gateway A server certificate 
 (issued by the Trusted Gateway A's CA) into the Federated Gateway B trust 
 store as outlined in <a HREF="Add_Edit_Certificates.htm">Add and Edit 
 Certificates</a>. In the Specify Certificate Options screen of the Add 
 Certificate Wizard, select the <span style="font-weight: bold;"><B>Signing 
 SAML Tokens</B></span> check box.<span style="font-weight: bold;"> <B></B></span></p></li>
	
	<li class="kadov-p"><p>Create a new Federated Identity Provider (FIP) 
 as outlined in <a HREF="Add_Edit_Federated_Identity_Providers.htm">Add 
 and Edit Federated Identity Providers</a>. Configure the new FIP for the 
 SAML credential source as follows:</p></li>
</ol>

<ol start=6
	style="list-style: decimal;"
	type=1>
	
	<ul>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>In the Enter Provider Information screen, 
 check the <span style="font-weight: bold;"><B>SAML Token</B></span> check box 
 for the <span style="font-weight: bold;"><B>Credential Source Type Allowed</B></span> 
 item</p></li>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>In the Select the Trusted Certificates screen, 
 click [<span style="font-weight: bold;"><B>Add</B></span>] to attach the Trusted 
 Gateway A server certificate imported in Step #5 above</p></li>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>Complete the configuration process as outlined 
 in <a href="Add_Edit_Federated_Identity_Providers.htm">Add and Edit Federated 
 Identity Providers</a>.</p></li>
	</ul>
</ol>

<ol start=7
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Create a new federated user as outlined in <a href="Add_Edit_FIP_Users_and_Groups.htm">Add and Edit Federated Identity 
 Provider Users and Groups</a>:</p></li>
	
	<ul>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>One new federated user must have a subject 
 DN in the format “CN=&lt;login&gt;,” where &lt;login&gt; is the login 
 ID of the Trusted Gateway A Internal Identity Provider (IIP) user (for 
 example, &quot;user A&quot;) configured in Step #3 above. <span style="margin-left: 40px;">In 
 the Create Federated User form:</span></p></li>
		
		<ol style="list-style: decimal;"
			type=1>
			
			<li class="kadov-p"><p style="margin-left: 0px;">Enter the subject 
 DN for the Trusted Gateway A IIP user, such as &quot;CN=user A,&quot; 
 into the <span style="font-weight: bold;"><B>X509 Subject DN</B></span> field.</p></li>
		</ol>
	</ul>
</ol>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				margin-left: 120px;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="NOTE.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;
			x-cell-content-align: center;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>NOTE</B></span>: In the 
 Create Federated User form, the X509 Subject DN must match the &quot;Issued 
 to&quot; value in an imported certificate.</td></tr>
</table>

<ul style="list-style: decimal;"
	type=1>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<ol start=2
			style="list-style: decimal;"
			type=1>
			
			<li class="kadov-p"><p style="margin-left: 0px;">Complete the 
 configuration process as outlined in <a href="Add_Edit_Federated_Identity_Providers.htm">Add 
 and Edit Federated Identity Providers</a>.</p></li>
		</ol>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Add additional required 
 federated users, federated groups, and/or virtual groups to the FIP as 
 outlined in <a href="Add_Edit_FIP_Users_and_Groups.htm">Add and Edit Federated 
 Identity Provider Users and Groups</a>. </p></li>
	</ul>
</ul>

<ol start=8
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Configure a policy with the SAML Assertion for 
 the shared Web service as outlined in <a HREF="Configure_SAML_Policies.htm">Configure 
 SAML Policies</a>. </p></li>
</ol>

<ol start=9
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>In the SecureSpan™ Bridge, use the Full Identity 
 Bridging method to add two SecureSpan™ Gateway Accounts as outlined in 
 <a href="Gateway_Accounts_and_Identity_Bridging.htm">Gateway Accounts 
 and Identity Bridging</a>. </p></li>
</ol>

<ol start=10
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>When completed, consume the shared Web service 
 as outlined in <a HREF="Consume_Shared_Web_Service.htm">Consume Shared 
 Web Services</a>.</p></li>
</ol>

<p>&nbsp;</p>

<h4>Next Topic: </h4>

<p><a href="Workflow_Using_an_X.509_Certificate.htm">Workflow Using an 
 X.509 Certificate</a></p>

<p>&nbsp;</p>

</body>

</html>
