<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>





<head>

<title>Configure SAML Policies</title>



 <meta http-equiv=content-type content="text/html; charset=windows-1252">
<meta name=topic-status content="In Progress">
<meta name=topic-priority content=0>
<meta name=topic-time-estimate content=0>
<meta name=topic-comment content>
<meta name=topic-id content="Identity Bridging Policy Overview">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=1912>
<meta name=layout-width content=852>
<meta name=x-ignored-words content="SecureSpan;Workflow;Daemon;SSL;TLS;Lifecycle;SAML;FIP;Namespace;Failover;GUI;Logging.properties;URI;workflow;SOAPAction;WS-Trust;logging.properties;XP;C;Settings\;Linux;WSDL;Uptime;uptime;Unix;cert;francis;LDAP;firewall;policy.templates;admin;popup;user(s;CTRL;Login;WS;username;Username;Xml-based;DMZ;non-invasively;Solaris;internetworking;Beatty;ext;GUI-based;scalable;PKI-based;offloads;toolset;WS-Security;Services@https;servername;namespace;Gateway(s;XPath;NotOnOrAfter;saml;requestor;tempuri.org;Name.wsdl;yourcompany.com;MyWebService.wsdl.;schemas.xmlsoap.org;wsdl;URIs;GetQuoteResponse;stockSymbol;StockInfo;getQuote;getQuoteRequest;getQuoteResponse;operation(s;StockServiceSOAPBinding;StockQuote;localhost;ws;TCP;GenericLDAP;MSAD;IIPs;TivoliLDAP;assertion(s;criteria--username;headers--for;SHA;form--for;cleartext;folder(s;SSL-TLS;yuk;HTTP(S;detail(s;AES;node(s;Avg;IP;min;CDE;Kunststoff;Timeout;login;timeout;SSGAdmin;hostname;Admin;substring;DN;myLDAP;ldap;ldapserver;dc=com;myMSAD;ou=Layer;dc=LOCAL;hostname.domain;mygateway;mycompany.com;mygateway.mycompany.com.;IIS;mail.abc.com;ou=ABC;dc=ABC;mybrowse;mypassword;LdapErr;vece;findAllHeaders;myName;myPassword;myCompany;SLA;ReType;Inc;cred;certs;Xml;HttpClientCert;n.m;xxxx;System.NullReferenceException;IPAddress;MyGateway;MyGateway.MyCompany.com.;MyGateway.MyCompany.com;servername.company.com.;SLL;Wsdl;screenshots;ui;searchability;JGoodies;connection(s;Bridge.sh;daemon;Extranet;workflows;interoperable;PKCS;JMS;XSLT;WS-SecureConversation;WS-Metadata;WS-Policy;WSRP;MQ;WS-I;BSP;XServer;XBlade;XScreen;XSpeed;firewalling;ASIC;eServer;BladeCenter;ASIC-accelerated;EAI;ESB;decouples;PKI;SSO;QoS;CN=*;A(s;requestor-side;FIPs;certificate(s;CN=;IIP;CN=user;uncheck;F;HOK;NameQualifier">




 <link rel="StyleSheet" href="SecureSpan.css">



 <META NAME="generator" CONTENT="RoboHelp by eHelp Corporation www.ehelp.com">
</head>




<body>

<h1>Configure SAML Policies</h1>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="NOTE.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;
			x-cell-content-align: center;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>NOTE</B></span>: The generic 
 &quot;Trusted Gateway A&quot; and &quot;Federated Gateway B&quot; references 
 are used in the identity bridging examples, workflows, and instructions. 
 The Trusted Gateway A is the certificate authority (CA) that issues and 
 manages security credentials and that is responsible for authentication. 
 The Federated Gateway B is the Web service provider that is responsible 
 for authorization. </td></tr>
</table>

<p>As part of the required SAML credential source workflow (see <a HREF="Workflow_Using_SAML.htm">Workflow 
 Using SAML</a>), a SecureSpan™ Manager policy must be configured for the 
 shared Web service with:</p>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p style="margin-top: 4.5pt;">The SAML Assertion 
 from the Access Control category of the [Assertions] tab (see <span style="font-style: italic;"><I>Configure 
 and Edit Access Control Assertions</I></span> in the SecureSpan Manager documentation)</p></li>
	
	<li class="kadov-p"><p style="margin-bottom: 4.5pt;">The federated identities 
 (users, groups, and/or virtual groups) containing credentials shared by 
 the Trusted Gateway A and Federated Gateway B.</p></li>
</ul>

<p>&nbsp;</p>

<p>The SecureSpan Manager Policy Development window is the repository for 
 the assertions used to develop a policy for a published Web service. Most 
 assertions require configuration either before or after being added to 
 the Policy Development window. After adding the SAML Assertion and federated 
 users, groups, and/or virtual groups to the policy, configure additional 
 policy assertions for the Web service as outlined in <span style="font-style: italic;"><I>Manage 
 Policy Assertions</I></span> and <span style="font-style: italic;"><I>Configure 
 and Edit Policies</I></span> in the SecureSpan Manager documentation.</p>

<p>&nbsp;</p>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="TIP.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				border-style: none;
				width: 32px;
				height: 32px;
				float: none;" width="32" height="32" border="0"></td>
<td style="padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;
			x-cell-content-align: center;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>TIP</B></span>: Before 
 constructing a policy, ensure that the Policy Validation Messages window 
 is enabled in the SecureSpan™ Manager. To enable the window, select [View] 
 &gt; Policy Messages from the Main Menu (check box checked). The Policy 
 Validation Messages window provides you with policy and assertion-level 
 confirmation, warning, or error messages that you can use during the configuration 
 process. See the &quot;Validate a Policy&quot; section in <span style="font-style: italic;"><I>Configure 
 and Edit Policies</I></span> in the SecureSpan™ Manager documentation for 
 more information.</td></tr>
</table>

<p>&nbsp;</p>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Access the Policy Development window for the target 
 Web service by one of two methods:</p></li>
</ol>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				border-spacing: 0px;
				margin-left: 40px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="TIP.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				border-style: none;
				width: 32px;
				height: 32px;
				float: none;" width="32" height="32" border="0"></td>
<td style="padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;
			x-cell-content-align: center;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>TIP</B></span>: If not 
 already disabled, it is strongly recommended that you disable a service 
 while constructing its policy to prevent unsecured and unauthorized access. 
 A disabled service contains a red &quot;X&quot; through its left-side 
 icon. See <span style="font-style: italic;"><I>Manage Published Services</I></span> 
 in the SecureSpan™ Manager documentation for more information.</td></tr>
</table>

<ul style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Right-click the service name in the [<span 
 style="font-weight: bold;"><B>Services</B></span>] tab. A drop-down menu appears. 
 Select <span style="font-weight: bold;"><B>Policy Assertions</B></span>. Or,</p></li>
		
		<li class="kadov-p"><p>Double-click the service in the [<span style="font-weight: bold;"><B>Services</B></span>] 
 tab.</p></li>
	</ul>
</ul>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The Policy Development window appears. Add the 
 SAML Assertion to the policy by one of two methods:</p></li>
</ol>

<ul start=2
	style="list-style: decimal;"
	type=1>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Drag and drop the SAML Assertion from the 
 Access Control category of the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab into the Policy Development window, or &nbsp;</p></li>
		
		<li class="kadov-p"><p>Highlight the SAML Assertion in the [<span 
 style="font-weight: bold;"><B>Assertions</B></span>] tab and click the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
			width: 22px;
			height: 18px;
			margin-left: 0px;
			margin-right: 0px;
			margin-top: 0px;
			margin-bottom: -2.5px;
			float: none;
			border-style: none;
			border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar. </p></li>
	</ul>
</ul>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The SAML Constraints Wizard appears. Configure 
 the SAML Assertion with the following constraints:</p></li>
	
	<ol start=6
		style="list-style: decimal;"
		type=1>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>In the SAML Statement Type screen of the SAML 
 Constraints Wizard, select the <span style="font-weight: bold;"><B>Authentication 
 Statement</B></span> option</p></li>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>In the Subject Confirmation screen, check 
 the <span style="font-weight: bold;"><B>Holder-of-Key</B></span> and/or <span 
 style="font-weight: bold;"><B>Sender Vouches</B></span> check boxes</p></li>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>In the Name Identifier screen:</p></li>
		
		<ol>
			
			<li style="list-style: decimal;" type="1" class="kadov-p"><p>If incoming messages must contain a particular 
 NameQualifier value, enter the value into the <span style="font-weight: bold;"><B>Name 
 Qualifier</B></span> field.</p></li>
			
			<li style="list-style: decimal;" type="1" class="kadov-p"><p>Check the <span style="font-weight: bold;"><B>X.509 
 Subject Name</B></span>,<span style="font-weight: bold;"><B> Email Address</B></span>, 
 and/or<span style="font-weight: bold;"><B> Windows Qualified Domain Name</B></span> 
 check boxes.</p></li>
		</ol>
	</ol>
</ol>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				border-spacing: 0px;
				margin-left: 120px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="NOTE.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;
			x-cell-content-align: center;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>NOTE</B></span>: If configuring 
 one or more virtual groups for the Federated Identity Provider, then you 
 must check the X.509 Subject Name check box.</td></tr>
</table>

<ul start=3
	style="list-style: decimal;"
	type=1>
	
	<ul style="list-style: decimal;"
		type=1>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>Complete the SAML Assertion configuration 
 process as outlined in <span style="font-style: italic;"><I>Configure and 
 Edit Access Control Assertions</I></span> in the SecureSpan Manager documentation.</p></li>
	</ul>
</ul>

<ol start=4
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Add a Grant Access to Users/Groups assertion to 
 the policy by one of two methods:</p></li>
</ol>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Drag and drop the Grant Access to Users/Groups 
 assertion from the Access Control category of the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab into the Policy Development window, or &nbsp;</p></li>
		
		<li class="kadov-p"><p>Highlight the Grant Access to Users/Groups 
 assertion in the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab and click the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
								width: 22px;
								height: 18px;
								margin-left: 0px;
								margin-right: 0px;
								margin-top: 0px;
								margin-bottom: -2.5px;
								float: none;
								border-style: none;
								border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar. </p></li>
	</ul>
</ol>

<ol start=5
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The Search Identity Provider form appears. Add 
 the shared federated user configured in <a href="Workflow_Using_SAML.htm">Workflow 
 Using SAML</a> to the policy as follows:</p></li>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Select the Federated Identity Provider name 
 from the <span style="font-weight: bold;"><B>Search</B></span> drop-down list</p></li>
		
		<li class="kadov-p"><p>Select the &quot;Users&quot; search target 
 from the <span style="font-weight: bold;"><B>Type</B></span> drop-down list</p></li>
		
		<li class="kadov-p"><p>If necessary, specify any search criteria 
 using the <span style="font-weight: bold;"><B>Name</B></span> drop-down list 
 and field</p></li>
	</ul>
</ol>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				border-spacing: 0px;
				margin-left: 80px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="TIP.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				border-style: none;
				width: 32px;
				height: 32px;
				float: none;" width="32" height="32" border="0"></td>
<td style="padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;
			x-cell-content-align: center;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>TIP</B></span>: The Search 
 Identity Provider form supports the following wild card characters in 
 the Name field:</p>
<p class="tipsnotes">• &nbsp;The 
 asterisk truncation operator (*) retrieves terms with a common initial 
 spelling. It substitutes a string of zero or more characters when searching 
 Federated Identity Providers.</td></tr>
</table>

<ol start=4
	style="list-style: decimal;"
	type=1>
	
	<ul start=2
		style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Click [<span style="font-weight: bold;"><B>Search</B></span>].</p></li>
	</ul>
</ol>

<ol start=6>
	
	<li class="kadov-p"><p>Search results appear in the Search Results window. 
 Select the target federated user, such as &quot;user A,&quot; from the 
 Search Results window by one of two methods:</p></li>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Double-click the target federated user name, 
 or </p></li>
		
		<li class="kadov-p"><p>Select the target federated user name and 
 click [<span style="font-weight: bold;"><B>Select</B></span>].</p></li>
	</ul>
</ol>

<ol start=7
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Repeat to add additional federated users, groups, 
 and/or virtual groups as required.</p></li>
</ol>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				border-spacing: 0px;
				margin-left: 40px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="NOTE.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;
			x-cell-content-align: center;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>NOTE</B></span>: A policy 
 with more than one Grant Access to Users/Groups assertion must organize 
 the identities into &quot;At least one assertion must evaluate to true&quot; 
 assertion folders. To add a folder to the Policy Development window, right-click 
 any assertion and select &quot;Add 'One or More' Assertion&quot; from 
 the drop-down menu. Drag and drop federated users, groups, and/or virtual 
 groups into the individual folders as required. For more information, 
 see <span style="font-style: italic;"><I>Policy Organization </I></span>and <span 
 style="font-style: italic;"><I>Configure and Edit Policies</I></span> in the 
 SecureSpan™ Manager documentation.</td></tr>
</table>

<ol start=8
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p style="margin-left: 0px;">Configure additional 
 policy assertions for the Web service. When completed, click [<span style="font-weight: bold;"><B>Save</B></span>] 
 in the Policy Tool Bar. Note any error or warning messages in the Policy 
 Validation Messages window. If necessary, correct policy errors as outlined 
 in the &quot;Validate a Policy&quot; section in <span style="font-style: italic;"><I>Configure 
 and Edit Policies</I></span> in the SecureSpan Manager documentation. </p></li>
</ol>

<p style="margin-left: 0px;">&nbsp;</p>

<p style="margin-left: 0px;">Proceed to configure the required Gateway 
 Accounts in the SecureSpan™ Bridge. See <a href="Gateway_Accounts_and_Identity_Bridging.htm">Configure 
 Gateway Accounts for Identity Bridging</a> for more information.</p>

<p>&nbsp;</p>

</body>

</html>
