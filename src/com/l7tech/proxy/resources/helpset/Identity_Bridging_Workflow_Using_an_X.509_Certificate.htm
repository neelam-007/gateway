<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>





<head>

<title>Identity Bridging Workflow Using an X.509 Certificate</title>



 <meta http-equiv=content-type content="text/html; charset=windows-1252">
<meta name=topic-status content="In Progress">
<meta name=topic-priority content=0>
<meta name=topic-time-estimate content=0>
<meta name=topic-comment content>
<meta name=topic-id content="X509 Workflow">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=2924>
<meta name=layout-width content=837>
<meta name=x-ignored-words content="Workflow;SAML;workflows;requestor;SSL;FIP">




 <link rel="StyleSheet" href="JavaHelp.css">



 <META NAME="generator" CONTENT="RoboHelp by eHelp Corporation www.ehelp.com">
</head>




<body>

<h1>Identity Bridging Workflow Using an X.509 Certificate</h1>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-left: 4px;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE: 
 </B></span>You will need the SecureSpan™ Manager and “SecureSpan™ Manager 
 User Manual” to complete the following instructions. The instructions 
 are not complete to the referenced forms. To fully utilize the guidance 
 that this workflow provides, reference this topic when configuring each 
 requirement in the SecureSpan Manager and SecureSpan™ Bridge.</p>
</div>

<p>Configure identity bridging using an X.509 certificate credential source 
 as follows: </p>

<p>&nbsp;</p>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-left: 4px;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 The generic &quot;Trusted Gateway A&quot; and &quot;Federated Gateway 
 B&quot; references are used in the identity bridging examples, workflows, 
 and instructions. The Trusted Gateway A is the certificate authority (CA) 
 that issues and manages security credentials and that is responsible for 
 authentication. The Federated Gateway B is the Web service provider that 
 is responsible for authorization. </p>
</div>

<p>&nbsp;</p>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Confirm that the system requirements outlined 
 in <a href="Identity_Bridging_Requirements.htm">Identity Bridging Requirements</a> 
 are met for configuring identity bridging with an X.509 certificate.</p></li>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 Steps #2 – 5 below must be performed in the SecureSpan™ Manager. This 
 Help System includes instructions for some of the SecureSpan Manager procedures. 
 Other procedures reference the applicable section in the “SecureSpan™ 
 Manager User Manual.”</p>
</div>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>In the SecureSpan™ Manager (Federated Gateway 
 B domain), connect to the Federated Gateway B as outlined in <span style="font-style: italic;"><I>Connect 
 to the SecureSpan™ Gateway</I></span> in the “SecureSpan™ Manager User Manual.” 
 </p></li>
	
	<li class="kadov-p"><p>Import one or more Trusted Gateway A certificates 
 into the Federated Gateway B trust store in accordance with one of the 
 following X.509 certificate usage scenarios:</p></li>
</ol>


<table x-use-null-cells style="x-cell-content-align: top;
				left: 0px;
				top: 2194px;
				border-left-style: Groove;
				border-left-width: 1px;
				border-right-style: Groove;
				border-right-width: 1px;
				border-top-style: Groove;
				border-top-width: 1px;
				border-bottom-style: Groove;
				border-bottom-width: 1px;
				margin-left: 40px;
				width: 600px;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="600" BORDER="1">
<col style="width: 20.304%;">
<col style="width: 35.718%;">
<col style="width: 43.88%;">

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 20.304%;
			padding-right: 10px;
			padding-left: 10px;
			background-color: #c0c0c0;
			border-left-color: #000000;
			border-top-color: #000000;
			border-right-color: #000000;
			border-bottom-color: #000000;
			border-bottom-width: 1px;
			border-bottom-style: Groove;
			border-right-width: 1px;
			border-right-style: Groove;
			border-left-width: 1px;
			border-left-style: Groove;
			border-top-width: 1px;
			border-top-style: Groove;"
	bgcolor=#C0C0C0
	width=20.304%>
<p class="tipsnotes" style="text-align: center; font-weight: bold;" Align="center"><span style="text-align: center; font-weight: bold;"><B>Scenario</B></span></td>
<td colspan=1
	rowspan=1
	style="width: 35.718%;
			padding-right: 10px;
			padding-left: 10px;
			background-color: #c0c0c0;
			border-top-color: #000000;
			border-right-color: #000000;
			border-bottom-color: #000000;
			border-bottom-width: 1px;
			border-bottom-style: Groove;
			border-right-width: 1px;
			border-right-style: Groove;
			border-top-width: 1px;
			border-top-style: Groove;"
	bgcolor=#C0C0C0
	width=35.718%>
<p class="tipsnotes" style="text-align: center; font-weight: bold;" Align="center">Import Methods</td>
<td style="width: 43.88%;
			padding-right: 10px;
			padding-left: 10px;
			background-color: #c0c0c0;
			border-top-color: #000000;
			border-right-color: #000000;
			border-bottom-color: #000000;
			border-bottom-width: 1px;
			border-bottom-style: Groove;
			border-right-width: 1px;
			border-right-style: Groove;
			border-top-width: 1px;
			border-top-style: Groove;"
	bgcolor=#C0C0C0
	width=43.88%>
<p class="tipsnotes" style="text-align: center; font-weight: bold;" Align="center">Notes / Restrictions</td></tr>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 20.304%;
			padding-right: 10px;
			padding-left: 10px;
			border-left-color: #000000;
			border-right-color: #000000;
			border-bottom-color: #000000;
			border-bottom-width: 1px;
			border-bottom-style: Groove;
			border-right-width: 1px;
			border-right-style: Groove;
			border-left-width: 1px;
			border-left-style: Groove;"
	width=20.304%>
<p>CA (Certificate Authority) Certificate ONLY</td>
<td colspan=1
	rowspan=1
	style="width: 35.718%;
			padding-right: 10px;
			padding-left: 10px;
			border-right-color: #000000;
			border-bottom-color: #000000;
			border-bottom-width: 1px;
			border-bottom-style: Groove;
			border-right-width: 1px;
			border-right-style: Groove;"
	width=35.718%>
<p>Import into the trust store with the Add Certificate Wizard, then add 
 to the Federated Identity Provider (FIP) with the Create Federated Identity 
 Provider Wizard.</td>
<td style="width: 43.88%;
			padding-right: 10px;
			padding-left: 10px;
			border-right-color: #000000;
			border-bottom-color: #000000;
			border-bottom-width: 1px;
			border-bottom-style: Groove;
			border-right-width: 1px;
			border-right-style: Groove;"
	width=43.88%>
<p>&nbsp;</td></tr>

<tr style="x-cell-content-align: top;"
	valign=top>
<td colspan=1
	rowspan=1
	style="width: 20.304%;
			padding-right: 10px;
			padding-left: 10px;
			border-left-color: #000000;
			border-right-color: #000000;
			border-bottom-color: #000000;
			border-bottom-width: 1px;
			border-bottom-style: Groove;
			border-right-width: 1px;
			border-right-style: Groove;
			border-left-width: 1px;
			border-left-style: Groove;"
	width=20.304%>
<p>Individual Client Certificates ONLY</p>
<p>*The Federated Identity Provider must NOT contain any trusted certificates.</td>
<td colspan=1
	rowspan=1
	style="width: 35.718%;
			padding-right: 10px;
			padding-left: 10px;
			border-right-color: #000000;
			border-bottom-color: #000000;
			border-bottom-width: 1px;
			border-bottom-style: Groove;
			border-right-width: 1px;
			border-right-style: Groove;"
	width=35.718%>
<p>Import via the FIP User Properties form, not the Add Certificate Wizard. 
 </td>
<td colspan=1
	rowspan=1
	style="width: 43.88%;
			padding-right: 10px;
			padding-left: 10px;
			border-right-color: #000000;
			border-bottom-color: #000000;
			border-bottom-width: 1px;
			border-bottom-style: Groove;
			border-right-width: 1px;
			border-right-style: Groove;"
	width=43.88%>
<p>In this scenario:</p>
<p>1. The FIP must not contain any trusted certificates (CA or server). 
 In other words, the Trusted Certificates window in the Select the Trusted 
 Certificates screen of the Create Federated Identity Provider Wizard must 
 be empty. If any trusted certificates are added to the Federated Identity 
 Provider (FIP), the scenario of “CA root certificate and individual user 
 client certificates” is assumed.</p>
<p>2. Since a trusted certificate is not attached to the FIP, you cannot 
 create a virtual group for the FIP.</p>
<p>3. When no CA certificates are trusted by the FIP, federated users must 
 have client certificates in order to be authorized.</p>
<p>4. When a client certificate is imported for a federated user, incoming 
 certificate-based credentials will be compared against the stored client 
 certificate. Any mismatch will cause an authorization failure, even if 
 the certificate in the request was signed by a trusted CA.</td></tr>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 20.304%;
			padding-right: 10px;
			padding-left: 10px;
			border-left-color: #000000;
			border-right-color: #000000;
			border-bottom-color: #000000;
			border-bottom-width: 1px;
			border-bottom-style: Groove;
			border-right-width: 1px;
			border-right-style: Groove;
			border-left-width: 1px;
			border-left-style: Groove;"
	width=20.304%>
<p>CA Certificate and Individual Client Certificates</td>
<td colspan=1
	rowspan=1
	style="width: 35.718%;
			padding-right: 10px;
			padding-left: 10px;
			border-right-color: #000000;
			border-bottom-color: #000000;
			border-bottom-width: 1px;
			border-bottom-style: Groove;
			border-right-width: 1px;
			border-right-style: Groove;"
	width=35.718%>
<p>CA Certificate:</p>
<p>Import into the trust store with the Add Certificate Wizard, then add 
 to the FIP with the Create Federated Identity Provider Wizard</p>
<p>Client Certificate:</p>
<p>Import via the FIP User Properties form, not the Add Certificate Wizard.</td>
<td style="width: 43.88%;
			padding-right: 10px;
			padding-left: 10px;
			border-right-color: #000000;
			border-bottom-color: #000000;
			border-bottom-width: 1px;
			border-bottom-style: Groove;
			border-right-width: 1px;
			border-right-style: Groove;"
	width=43.88%>
<p>1. The individual client certificates must be signed by the CA certificate.</p>
<p>2. When a client certificate is imported for a federated user, incoming 
 certificate-based credentials will be compared against the stored client 
 certificate. Any mismatch will cause an authorization failure, even if 
 the certificate in the request was signed by a trusted CA.</td></tr>
</table>

<p>&nbsp;</p>

<h4 style="margin-left: 40px;">CA Certificate Only</h4>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Import the CA certificate as outlined in <a href="Add_Edit_Certificates.htm">Add and Edit Certificates</a>. In the 
 Specify Certificate Options screen of the Add Certificate Wizard:</p></li>
		
		<ul style="list-style: disc;"
			type=disc>
			
			<li class="kadov-p"><p>Check the <span style="font-weight: bold;"><B>Signing 
 Client Certificates</B></span> check box to signify that the CA certificate 
 is trusted to authenticate identities in this Federated Identity Provider 
 (FIP) by signing their X.509 certificates.</p></li>
		</ul>
		
		<li class="kadov-p"><p>Complete the configuration process as outlined 
 in <a href="Add_Edit_Certificates.htm">Add and Edit Certificates</a>.</p></li>
	</ul>
</ol>

<h4 style="margin-left: 40px;">Client Certificates Only</h4>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 Do not import client certificates into the trust store. Instead, attach 
 them to individual federated users from the Federated Identity Provider 
 (FIP) User Properties form. See Step #5 below for more information. Never 
 attach imported client certificates to the FIP in the Create Federated 
 Identity Provider Wizard.</p>
</div>

<p style="margin-left: 40px;">In this scenario only, absolutely no trusted 
 certificates are allowed in the Federated Identity Provider (FIP). See 
 Step #5 below for information on adding and configuring a federated user 
 in the FIP. A client certificate is imported for each individual federated 
 user from the FIP User Properties form. </p>

<h4 style="margin-left: 40px;">CA Certificate and Client Certificates </h4>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 Do not import client certificates into the trust store. Instead, attach 
 them to individual federated users from the Federated Identity Provider 
 (FIP) User Properties form. See Step #5 below for more information. Never 
 attach imported client certificates to the FIP in the Create Federated 
 Identity Provider Wizard.</p>
</div>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Import the CA certificate as outlined in <a href="Add_Edit_Certificates.htm">Add and Edit Certificates</a>. In the 
 Specify Certificate Options screen of the Add Certificate Wizard:</p></li>
		
		<ul style="list-style: disc;"
			type=disc>
			
			<li class="kadov-p"><p>Check the <span style="font-weight: bold;"><B>Signing 
 Client Certificates</B></span> check box to signify that the CA certificate 
 is trusted to sign the client certificates for federated users in this 
 Federated Identity Provider (FIP).</p></li>
		</ul>
		
		<li class="kadov-p"><p>Complete the configuration process as outlined 
 in <a href="Add_Edit_Certificates.htm">Add and Edit Certificates</a>.</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Import the client 
 certificate(s) for the federated user(s) as outlined in Step #5 below. 
 </p></li>
	</ul>
</ol>

<ol start=4
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Create a new Federated Identity Provider (FIP) 
 as outlined in <a href="Add_Edit_Federated_Identity_Providers.htm">Add 
 and Edit Federated Identity Providers</a>. Configure the new FIP for the 
 X.509 certificate credential source as follows:</p></li>
</ol>

<ul style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>In the Enter Provider Information screen, 
 check the <span style="font-weight: bold;"><B>X.509 Certificate</B></span> check 
 box for the <span style="font-weight: bold;"><B>Credential Source Type Allowed</B></span> 
 item</p></li>
		
		<li class="kadov-p"><p>For the &quot;CA Certificate Only&quot; and 
 &quot;CA Certificate and Client Certificates&quot; scenarios in Step #3 
 above, click [<span style="font-weight: bold;"><B>Add</B></span>] to attach the 
 imported Trusted Gateway A CA certificate</p></li>
	</ul>
</ul>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 Client certificates are imported using the Federated Identity Provider 
 User Properties form. See Step #5 below for more information. Never attach 
 imported client certificates to the Federated Identity Provider (FIP) 
 in the Create Federated Identity Provider Wizard.</p>
</div>

<ol start=6
	style="list-style: decimal;"
	type=1>
	
	<ul>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>Complete the configuration process as outlined 
 in <a href="Add_Edit_Federated_Identity_Providers.htm">Add and Edit Federated 
 Identity Providers</a>.</p></li>
	</ul>
</ol>

<ol start=5
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Create one or more new federated users, groups, 
 or virtual groups as outlined in <a href="Add_Edit_FIP_Users_and_Groups.htm">Add 
 and Edit Federated Identity Provider Users and Groups</a>. For the &quot;Client 
 Certificates Only&quot; and/or &quot;CA Certificate and Client Certificates&quot; 
 scenarios:</p></li>
</ol>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Create a new federated 
 user for each client certificate that you want to trust as outlined in 
 <a href="Add_Edit_FIP_Users_and_Groups.htm">Add and Edit Federated Identity 
 Provider Users and Groups</a></p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">In the Create Federated 
 User form, enter the subject DN that corresponds to the &quot;Issued to:&quot; 
 value in the client certificate into the <span style="font-weight: bold;"><B>X509 
 Subject DN</B></span> field </p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">In the [<span style="font-weight: bold;"><B>Certificate</B></span>] 
 tab of the User Properties form for the federated user, import the target 
 client certificate</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Complete the configuration 
 process as outlined in <a href="Add_Edit_FIP_Users_and_Groups.htm">Add 
 and Edit Federated Identity Provider Users and Groups</a>.</p></li>
	</ul>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 You cannot create a virtual group for the Federated Identity Provider 
 (FIP) unless it contains one or more trusted certificate(s). In the X.509 
 certificate credential source workflow, the trusted certificate is a CA 
 certificate attached to the FIP with the Create Federated Identity Provider 
 Wizard. &nbsp;A 
 virtual group cannot be created in the &quot;Client Certificate Only&quot; 
 scenario since a trusted certificate does not exist in the FIP.</p>
</div>

<ol start=6
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>In the SecureSpan™ Bridge, use the Full Identity 
 Bridging or Ad-Hoc Identity Bridging method to configure one or more SecureSpan™ 
 Gateway Accounts as outlined in <a href="Gateway_Accounts_and_Identity_Bridging.htm">Gateway 
 Accounts and Identity Bridging</a>.</p></li>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 If your identity bridging configuration consists of two SecureSpan™ Gateways, 
 then you will be able to use the Full Identity Bridging method or Ad-Hoc 
 Identity Bridging method for creating the required SecureSpan™ Gateway 
 Account or Accounts in the SecureSpan™ Bridge. If using the Full Identity 
 Bridging method (see <a href="Gateway_Accounts_and_Identity_Bridging.htm">Gateway 
 Accounts and Identity Bridging</a>) in a configuration that uses the X.509 
 credential source, then you must create a shared federated user between 
 the Trusted Gateway A and Federated Gateway B before you configure the 
 SecureSpan Bridge. To do so, follow the instructions outlined in <a href="Identity_Bridging_Workflow.htm">Identity 
 Bridging Workflow Using SAML</a>. Perform Steps #2-4 to create the Internal 
 Identity Provider user in the Trusted Gateway A, then perform Step #7 
 to create the shared federated user in the Federated Gateway B.</p>
</div>

<ol start=7
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>When completed, consume the shared Web service 
 as outlined in <a href="Consume_Shared_Web_Service.htm">Consume Shared 
 Web Services</a>.</p></li>
</ol>

<p>&nbsp;</p>

</body>

</html>
