<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>





<head>

<title>Daemon Mode</title>



 <meta http-equiv=content-type content="text/html; charset=windows-1252">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=2960>
<meta name=layout-width content=802>
<meta name=x-ignored-words content="SecureSpan;Workflow;Daemon;SSL;TLS;Lifecycle;SAML;FIP;Namespace;Failover;GUI;Logging.properties;URI;workflow;SOAPAction;WS-Trust;logging.properties;XP;C;Settings\;Linux;WSDL;Uptime;uptime;Unix;cert;francis;LDAP;firewall;policy.templates;admin;popup;user(s;CTRL;Login;WS;username;Username;Xml-based;DMZ;non-invasively;Solaris;internetworking;Beatty;ext;GUI-based;scalable;PKI-based;offloads;toolset;WS-Security;Services@https;servername;namespace;Gateway(s;XPath;NotOnOrAfter;saml;requestor;tempuri.org;Name.wsdl;yourcompany.com;MyWebService.wsdl.;schemas.xmlsoap.org;wsdl;URIs;GetQuoteResponse;stockSymbol;StockInfo;getQuote;getQuoteRequest;getQuoteResponse;operation(s;StockServiceSOAPBinding;StockQuote;localhost;ws;TCP;GenericLDAP;MSAD;IIPs;TivoliLDAP;assertion(s;criteria--username;headers--for;SHA;form--for;cleartext;folder(s;SSL-TLS;yuk;HTTP(S;detail(s;AES;node(s;Avg;IP;min;CDE;Kunststoff;Timeout;login;timeout;SSGAdmin;hostname;Admin;substring;DN;myLDAP;ldap;ldapserver;dc=com;myMSAD;ou=Layer;dc=LOCAL;hostname.domain;mygateway;mycompany.com;mygateway.mycompany.com.;IIS;mail.abc.com;ou=ABC;dc=ABC;mybrowse;mypassword;LdapErr;vece;findAllHeaders;myName;myPassword;myCompany;SLA;ReType;Inc;cred;certs;Xml;HttpClientCert;n.m;xxxx;System.NullReferenceException;IPAddress;MyGateway;MyGateway.MyCompany.com.;MyGateway.MyCompany.com;servername.company.com.;SLL;Wsdl;screenshots;ui;searchability;JGoodies;connection(s;Bridge.sh;daemon;Extranet;workflows;interoperable;PKCS;JMS;XSLT;WS-SecureConversation;WS-Metadata;WS-Policy;WSRP;MQ;WS-I;BSP;XServer;XBlade;XScreen;XSpeed;firewalling;ASIC;eServer;BladeCenter;ASIC-accelerated;EAI;ESB;decouples;PKI;SSO;QoS;CN=*;A(s;requestor-side;FIPs;certificate(s;CN=;IIP;CN=user;uncheck;F;HOK;NameQualifier;ssgs.xml;Files\Layer;Technologies\SecureSpan;bd;Ctrl;Y;ps;PID;axuf|grep;killall;java;Linux">




 <link rel="StyleSheet" href="JavaHelp.css">



 <META NAME="generator" CONTENT="RoboHelp by eHelp Corporation www.ehelp.com">
</head>




<body>

<h1>SecureSpan™ Bridge in Daemon Mode</h1>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			width: 550px;
			float: none;
			height: 61px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 Configure and test all required SecureSpan™ Gateway Accounts and other 
 settings in the SecureSpan™ Bridge before you run it in daemon mode. When 
 in daemon mode, you will not be able to access the SecureSpan Bridge GUI 
 or be prompted for a password when attempting to connect to a Gateway 
 Account that requires credentials.</p>
</div>

<p>To minimize CPU and RAM usage, the SecureSpan™ Bridge can be run as 
 a non-interactive background process — referred to as “daemon mode” — 
 on a Linux or Windows machine. </p>

<p>&nbsp;</p>

<h4>Quick Links:</h4>

<p class="quicklinks"><a href="#Prepare_the_SecureSpan__Bridge_for_Daemon_Mode">Prepare 
 the SecureSpan™ Bridge for Daemon Mode</a></p>

<p class="quicklinks"><a href="#Start_the_SecureSpan__Bridge_in_Daemon_Mode">Start 
 <a href="#Prepare_the_SecureSpan__Bridge_for_Daemon_Mode">the SecureSpan™ 
 Bridge in Daemon Mode</a></a></p>

<p class="quicklinks"><a href="#Terminate_Daemon_Mode">Terminate Daemon Mode</a></p>

<p class="quicklinks">&nbsp;</p>

<h2 style="color: #000000;"><a name=Prepare_the_SecureSpan__Bridge_for_Daemon_Mode
								style="color: #000000;">Prepare the SecureSpan™ 
 Bridge for Daemon Mode</a></h2>

<p>When in daemon mode, the SecureSpan™ Bridge GUI is not accessible, and 
 the SecureSpan Bridge will not prompt for a password when the client application 
 attempts to connect to a Gateway Account that requires credentials. Therefore, 
 before initiating daemon mode ensure that:</p>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>All Gateway Accounts are configured and tested</p></li>
	
	<li class="kadov-p"><p>Since the SecureSpan Bridge will not be able to 
 prompt for passwords when in daemon mode, each Gateway Account that requires 
 access credentials must be configured with a valid user name and saved 
 password. To configure the SecureSpan Bridge to save the password for 
 a Gateway Account:</p></li>
</ul>

<p>&nbsp;</p>

<ul style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p>Select the target Gateway Account from the 
 Account List.</p></li>
		
		<li class="kadov-p"><p>Select [<span style="font-weight: bold;"><B>File</B></span>] 
 &gt; <span style="font-weight: bold;"><B>Properties</B></span> from the Main 
 Menu or click [<span style="font-weight: bold;"><B>Properties</B></span>] on 
 the Main Tool Bar. The Properties form appears.</p></li>
		
		<li class="kadov-p"><p>Click the [<span style="font-weight: bold;"><B>Identity</B></span>] 
 tab. Under the credential fields, check the <span style="font-weight: bold;"><B>Save 
 Password</B></span> check box.</p></li>
		
		<li class="kadov-p"><p>Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The SecureSpan Bridge will save the password in obfuscated form in a local 
 folder. Repeat to save the password in the additional Gateway Accounts 
 that require credentials.</p></li>
	</ol>
</ul>

<p>&nbsp;</p>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			width: 550px;
			height: 61px;
			margin-left: 40px;
			float: none;
			border-left-style: Solid;
			border-left-width: 1px;
			border-right-style: Solid;
			border-right-width: 1px;
			border-top-style: Solid;
			border-top-width: 1px;
			border-bottom-style: Solid;
			border-bottom-width: 1px;
			border-left-color: #ff0000;
			border-right-color: #ff0000;
			border-top-color: #ff0000;
			border-bottom-color: #ff0000;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 <span style="color: #ff0000;"><font color=red >WARNING</font></span>: Configuring the SecureSpan™ 
 Bridge to save the password associated with a Gateway Account has security 
 implications. The saved password is not encrypted, but saved in obfuscated 
 form in the ssgs.xml file in the local .l7tech directory. An attacker 
 who can gain access to this file can recover the password. If this is 
 a significant risk for the machine that will be running the SecureSpan 
 Bridge, then it is strongly recommended that you do not run the SecureSpan 
 Bridge in daemon mode.</p>
</div>

<p>&nbsp;</p>

<h2><a name=Start_the_SecureSpan__Bridge_in_Daemon_Mode>Start the SecureSpan™ 
 Bridge in Daemon Mode</a></h2>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			width: 550px;
			float: none;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 Before starting the SecureSpan™ Bridge in daemon mode, ensure that all 
 instances of the program are closed.</p>
</div>

<h3>Windows Machine</h3>

<p>On a Windows machine, the daemon mode of the SecureSpan™ Bridge is initiated 
 by running a batch file that is included in the SecureSpan Bridge installation 
 directory:</p>

<p>&nbsp;</p>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Navigate to the installation directory for the 
 SecureSpan Bridge. For example: “C:\Program Files\Layer 7 Technologies\SecureSpan 
 Bridge 3.1.”</p></li>
	
	<li class="kadov-p"><p>In the directory, located the “SecureSpan Bridge 
 in Text Mode” MS-DOS batch file. Double-click the file.</p></li>
	
	<li class="kadov-p"><p>An MS-DOS window appears. The window is automatically 
 populated with the batch file code. Minimize the window. The SecureSpan 
 Bridge is now running in daemon mode, and the client application can continue 
 to send requests to the SecureSpan Bridge through the “http://localhost:7700/” 
 service URL.</p></li>
</ol>

<h3>Linux Machine</h3>

<p>On a Linux machine, the daemon mode of the SecureSpan™ Bridge is initiated 
 by running a -bd switch that is attached to the Bridge.sh shell script:</p>

<p>&nbsp;</p>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			width: 550px;
			float: none;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 Do not include the quotes in the command line.</p>
</div>

<p>&nbsp;</p>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Open a terminal window. Navigate to the location 
 of the SecureSpan Bridge installation directory.</p></li>
	
	<li class="kadov-p"><p>From the directory, run “./Bridge.sh –bd”</p></li>
</ol>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The daemon mode of the SecureSpan Bridge starts. 
 Daemon mode will run until it is manually terminated or the system is 
 re-booted. </p></li>
</ol>

<p>&nbsp;</p>

<h2 style="color: #000000;"><a name=Terminate_Daemon_Mode
								style="color: #000000;">Terminate Daemon 
 Mode</a></h2>

<h3>Windows Machine</h3>

<p>On a Windows machine, the daemon mode of the SecureSpan™ Bridge is terminated 
 by closing the MS-DOS window:</p>

<p>&nbsp;</p>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Locate the MS-DOS window. Press “[<span style="font-weight: bold;"><B>Ctrl</B></span>] 
 and [<span style="font-weight: bold;"><B>C</B></span>]” on your keyboard. </p></li>
	
	<li class="kadov-p"><p>A “Terminate batch job” message appears. Select 
 [<span style="font-weight: bold;"><B>Y</B></span>] for yes on your keyboard.</p></li>
	
	<li class="kadov-p"><p>The daemon mode of the SecureSpan Bridge is terminated. 
 Proceed to launch the GUI mode of the SecureSpan Bridge as required.</p></li>
</ol>

<h3>Linux Machine</h3>

<p>On a Linux machine, the daemon mode of the SecureSpan™ Bridge is terminated 
 by manually killing the SecureSpan Bridge process:</p>

<p>&nbsp;</p>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			width: 550px;
			float: none;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 Do not include the quotes in the command lines.</p>
</div>

<p>&nbsp;</p>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>Open a terminal window. Use the &quot;ps&quot; 
 command in Linux to determine the process ID (PID) for the SecureSpan 
 Bridge process, then use the “kill -9” command to terminate the PID (&quot;kill 
 -9 &lt; PID &gt;&quot;), or</p></li>
</ul>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			width: 550px;
			float: none;
			margin-left: 40px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	border-style: none;
	width: 16px;
	height: 14px;
	float: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 If multiple processes are running on the machine, use the “ps -axuf|grep 
 Bridge&quot; command to find the appropriate process ID for the SecureSpan™ 
 Bridge. </p>
</div>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>If the SecureSpan Bridge is the only Java process 
 running on the machine, then the process can be killed with the &quot;killall 
 -9 java&quot; command that terminates all Java processes.</p></li>
</ul>

<p>&nbsp;</p>

</body>

</html>
