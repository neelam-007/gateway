<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>





<head>

<title>Configure/Edit Message Routing Assertions</title>



 <meta http-equiv=content-type content="text/html; charset=windows-1252">
<meta name=topic-status content="In Progress">
<meta name=topic-priority content=0>
<meta name=topic-time-estimate content=0>
<meta name=topic-comment content>
<meta name=topic-id content="Configure/Edit Message Routing Assertions">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=4953>
<meta name=layout-width content=951>
<meta name=x-ignored-words content="SecureSpan;Workflow;LDAP;IIP;WSS;TLS;SiteMinder;Symantec;JMS;SAML;FIP;CIDR;Namespace;EIPs;XPath;GenericLDAP;Timeout;IP;MSAD;SSL;Login;Tivoli;TivoliLDAP;Uptime;WS;WSDL;XSLT;HTTP(S;screenshots;ui;asc;desc;int;BFILENAME;FROM_TZ;NUMTODSINTERVAL;NUMTOYMINTERVAL;TO_TIMESTAMP_TZ;TZ_OFFSET;timestamp;add-ons;Netegrity;NotOnOrAfter;saml;requestor;soapenv;timestamps;uptime;Unix;cert;francis;firewall;policy.templates;exp;provider(s;assertion(s;encapsules;admin;popup;user(s;CTRL;username;Username;Xml-based;DMZ;non-invasively;Linux;Solaris;internetworking;SOAPAction;Beatty;ext;GUI-based;GUI;scalable;PKI-based;offloads;toolset;WS-Security;Services@https;servername;namespace;Gateway(s;tempuri.org;Name.wsdl;yourcompany.com;MyWebService.wsdl.;schemas.xmlsoap.org;wsdl;URIs;GetQuoteResponse;stockSymbol;StockInfo;getQuote;getQuoteRequest;getQuoteResponse;operation(s;StockServiceSOAPBinding;StockQuote;localhost;ws;TCP;IIPs;criteria--username;headers--for;SHA;form--for;cleartext;folder(s;SSL-TLS;yuk;workflow;detail(s;AES;node(s;Avg;min;CDE;Kunststoff;login;timeout;SSGAdmin;hostname;Admin;substring;DN;myLDAP;ldap;ldapserver;dc=com;myMSAD;ou=Layer;dc=LOCAL;hostname.domain;mygateway;mycompany.com;mygateway.mycompany.com.;IIS;mail.abc.com;ou=ABC;dc=ABC;mybrowse;mypassword;LdapErr;vece;findAllHeaders;myName;myPassword;myCompany;SLA;ReType;Inc;SNMP;ssg;conf;serverconfig_override.properties;Hostname;IANA;OID;UsernameToken;PEM;cred;certs;Xml;HttpClientCert;n.m;xxxx;System.NullReferenceException;C;IPAddress;MyGateway;MyGateway.MyCompany.com.;MyGateway.MyCompany.com;servername.company.com.;SLL;Wsdl;searchability;JGoodies;XP;connection(s;WebSphere;MQ;JNDI;requestors;JMS-to-JMS;iJMS;oJMS;Requestor;requestor-designated;JMS-to-HTTP;HTTP-to-JMS;cn=GatewayQueue;GatewayQueue;servername.company.com;dc=companydomain;QueueConnectionFactory;cn=QueueConnectionFactoryJNDIName;QueueConnectionFactoryJNDIName;com.sun.jndi.ldap.LdapCtxFactory.;unregister;Expiry;PDF;www.zvon.org;xxl;XPathTutorial;www.purpletech.com;xpe;index.jsp;xpath;pls;Stylesheet;eXtensible;elementName;attributeName;local-name(;xpath#function-local-name;examples.html;WSDL-based;namespaces;boolean(s;CID;Namespaces;attachment(s;KB;URL(s;machinename.domain.com;machinename.domain.com.;URLs;LIPs;expiry;Uncheck;Ctrl;group(s;SSL-secured;metadata;ACL;init;workflows;CN=;NameIdentifier;Format=;windowsDomain;emailAddress;DNs;O=ACME;OU=Anvils;CN=*;CN=Name;CN=user;BinarySecurityToken;AttributeStatement;CAs;DNS;IPs;failover;balancer;Failover;IV_USER;non-SecureSpan">




 <link rel="StyleSheet" href="SecureSpan.css">



 <META NAME="generator" CONTENT="RoboHelp by eHelp Corporation www.ehelp.com">
</head>




<body>

<h1>Configure and Edit Message Routing Assertions</h1>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="NOTE.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="x-cell-content-align: center;
			padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>NOTE</B></span>: The JMS 
 Routing assertion in the Message Routing category is an optional assertion 
 that requires special configuration procedures in the SecureSpan™ Gateway. 
 See <a href="Optional_Add-On_Assertion.htm">Optional Add-On Assertions</a> 
 for more information. </td></tr>
</table>

<p style="margin-bottom: 9pt;">In the SecureSpan™ Manager, three assertions 
 are available in the Message Routing category of the [Assertions] tab: 
 An optional JMS Routing assertion that is addressed in <a href="Optional_Add-On_Assertion.htm">Optional 
 Add-On Assertions </a>and an HTTP(S) Routing and SecureSpan™ Bridge Routing 
 assertion discussed below:</p>

<p class="space">&nbsp;</p>

<p><img src="5.gif" x-maintain-ratio="TRUE" style="border: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 10px;
				margin-bottom: 2px;
				width: 306px;
				height: 385px;
				float: none;
				border-style: none;
				border-style: none;" width="306" height="385" border="0"></p>

<h6 style="margin-top: 2pt;
			margin-bottom: 10pt;
			color: #c0c0c0;">Message Routing Category of the [Assertions] 
 Tab</h6>

<p>&nbsp;</p>

<h4>Quick Links:</h4>

<p class="quicklinks"><a href="#HTTP_S__Routing">HTTP(S) Routing</a></p>

<p class="quicklinks"><a href="#SecureSpan_Bridge_Routing">SecureSpan Bridge 
 Routing</a> </p>

<p class="quicklinks">&nbsp;</p>

<h2 style="color: #000000;"><a name=HTTP_S__Routing
								style="color: #000000;">HTTP(S) Routing</a></h2>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="NOTE.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="x-cell-content-align: center;
			padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>NOTE</B></span>: The HTTP(S) 
 Routing assertion supports the HTTP 1.1 standard.</td></tr>
</table>

<p>The HTTP(S) Routing assertion defines where a Web service or XML application 
 message is sent and what authentication credentials it uses. If client 
 authentication is requested by a service, then the SecureSpan™ Gateway 
 will use its certificate for the SSL-TLS handshake. </p>

<p>&nbsp;</p>

<p>A message routing assertion is an essential policy element. When you 
 publish a service using the Publish SOAP Web Service Wizard, Create WSDL 
 Wizard, or Publish XML Application Wizard, the SecureSpan™ Manager automatically 
 adds the service URL specified during the publication process as an HTTP(S) 
 Routing assertion in the published service's initial policy. For information 
 on publishing a service, see <a href="Manage_Services.htm">Manage Services</a>. 
 </p>

<h3 style="color: #000000;"><a name=Configure_the_HTTP_S__Routing_Assertion
								style="color: #000000;">Configure the HTTP(S) 
 Routing Assertion</a></h3>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="NOTE.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="x-cell-content-align: center;
			padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>NOTE</B></span>: The HTTP(S) 
 Routing assertion should already be present in the Policy Development 
 window. If not, then add the assertion by one of the following methods: 
 1. Drag and drop the assertion from the [Assertions] tab into the Policy 
 Development window or, 2. Highlight the assertion in the [Assertions] 
 tab and click the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
								width: 22px;
								height: 18px;
								margin-left: 0px;
								margin-right: 0px;
								margin-top: 0px;
								margin-bottom: -2.5px;
								float: none;
								border-style: none;
								border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar.</td></tr>
</table>

<h6>&nbsp;</h6>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>In the Policy Development window, right-click 
 the &quot;Route to http&quot; assertion. A drop-down menu appears. Select 
 <span style="font-weight: bold;"><B>Routing Properties</B></span>.</p></li>
</ol>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The HTTP(S) Routing Properties form appears. If 
 required, edit the URL path to the service in the <span style="font-weight: bold;"><B>Service 
 URL</B></span> field. </p></li>
</ol>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				margin-left: 40px;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="TIP.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="x-cell-content-align: center;
			padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>TIP</B></span>: Click [Default] 
 to populate the Service URL field with the URL specified during the service 
 publication process.</td></tr>
</table>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The <span style="font-weight: bold;"><B>Look Up IP 
 Addresses in DNS</B></span> option is selected by default. Optionally specify 
 one or more service IPs:</p></li>
</ol>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				margin-left: 40px;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="TIP.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="x-cell-content-align: center;
			padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>TIP</B></span>: Multiple 
 hard-coded service IPs allow you to bypass the DNS when a host name does 
 not resolve to an appropriate service IP address. Manual IP configuration 
 can also be used for failover protection, for geographic redundancy, and 
 for clustering without a load balancer. In most cases, however, it is 
 best to get IP information from the DNS.</td></tr>
</table>

<ol style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p>Select the <span style="font-weight: bold;"><B>Use 
 the following IP addresses</B></span> option.</p></li>
		
		<li class="kadov-p"><p>Click [<span style="font-weight: bold;"><B>Add</B></span>]. 
 The Add IP Address form appears.</p></li>
		
		<li class="kadov-p"><p>Enter a service IP address into the <span 
 style="font-weight: bold;"><B>IP Address</B></span> field. Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 </p></li>
		
		<li class="kadov-p"><p>The Add IP Address form closes and the IP 
 address appears in the field in the HTTP(S) Routing Properties form. Repeat 
 Steps #2-3 as required to add other service IP addresses. </p></li>
		
		<li class="kadov-p"><p>When all IP addresses have been added, select 
 one of the following processing options from the <span style="font-weight: bold;"><B>Failover 
 Strategy</B></span> drop-down list:</p></li>
		
		<ul style="list-style: disc;"
			type=disc>
			
			<li class="kadov-p"><p>When the <span style="font-weight: bold;"><B>Ordered 
 Sticky with Failover</B></span> processing option is selected, the SecureSpan 
 Gateway will send service messages to the first IP in the list, and continue 
 to do so until the IP does not respond. The SecureSpan Gateway will then 
 proceed to the next IP in the list </p></li>
			
			<li class="kadov-p"><p>When the <span style="font-weight: bold;"><B>Random 
 Sticky with Failover</B></span> processing option is selected, the SecureSpan 
 Gateway will choose an IP randomly at the beginning of each session and 
 use it for the duration of the session. If the chosen IP address fails, 
 then the SecureSpan Gateway will select another IP at random</p></li>
			
			<li class="kadov-p"><p>When the <span style="font-weight: bold;"><B>Pure 
 Round Robin</B></span> processing option is selected, the SecureSpan Gateway 
 will rotate through the IP list on a request-by-request basis (round-robin) 
 from the first IP, to the second IP, and so on. When the end of the IP 
 list is reached, the SecureSpan Gateway will cycle back to the top and 
 start again.</p></li>
		</ul>
	</ol>
</ol>

<ol start=4
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>In the Service Authentication section of the form, 
 optionally configure one of the following authentication options for the 
 service:</p></li>
</ol>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				margin-left: 40px;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="NOTE.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="x-cell-content-align: center;
			padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>NOTE</B></span>: No credentials 
 are required for an anonymous service. </td></tr>
</table>

<h4 style="margin-left: 40px;">Identity Authentication</h4>

<p style="margin-left: 40px;">To enable HTTP Basic authentication (see 
 <a href="Configure_Edit_Access_Control_Assertions.htm">Configure and Edit 
 Access Control Assertions</a>) to a protected resource back-end: </p>

<ul style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p>Select the <span style="font-weight: bold;"><B>Identity 
 Authentication</B></span> option.</p></li>
		
		<li class="kadov-p"><p>Enter the user name into the <span style="font-weight: bold;"><B>User 
 Name</B></span> field.</p></li>
		
		<li class="kadov-p"><p>Enter the user password into the <span style="font-weight: bold;"><B>Password</B></span> 
 field.</p></li>
		
		<li class="kadov-p"><p>Enter the authentication realm into the <span 
 style="font-weight: bold;"><B>Realm</B></span> field. The realm can be a secure 
 virtual host or a directory.</p></li>
		
		<li class="kadov-p"><p>Proceed to Step #5.</p></li>
	</ol>
</ul>

<h4 style="margin-left: 40px;">TAI Identity Pass</h4>

<p style="margin-left: 40px;">Check the optional <span style="font-weight: bold;"><B>TAI 
 Identity Pass</B></span> check box to require a Trust Association Interceptor 
 (TAI) third-party authentication pass. TAI credential chaining can be 
 used with or without a static user name and password. With TAI, if the 
 SecureSpan Gateway authenticated a user, then the user name of that authenticated 
 user will be included in the IV_USER HTTP header in the outgoing request.</p>

<h4 style="margin-left: 40px;">SAML Security</h4>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				margin-left: 40px;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="NOTE.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="x-cell-content-align: center;
			padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>NOTE</B></span>: The SAML 
 Security option is only enabled for SOAP Web service policies. The SAML 
 Security option in the HTTP(S) Routing assertion differs from the SAML 
 Assertion in the Access Control category of the [Assertions] tab (see 
 <a href="Configure_Edit_Access_Control_Assertions.htm">Configure and Edit 
 Access Control Assertions</a>). In the HTTP(S) Routing assertion, the 
 SAML option is being added to the outgoing message from the SecureSpan™ 
 Gateway to the protected service. The SAML Assertion, however, requires 
 that SAML security be present in an incoming message from a client application 
 to the SecureSpan Gateway. </td></tr>
</table>

<p style="margin-left: 40px;">The HTTP(S) Routing assertion can optionally 
 attach a SAML sender-vouches ticket to each outgoing back-end request 
 that was authenticated by the SecureSpan Gateway. This ticket contains 
 the user name of the authenticated user along with an expiry time, and 
 is signed by the SecureSpan Gateway using the its SSL certificate. To 
 enable SAML authentication in the HTTP(S) Routing assertion:</p>

<ul style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p>Select the <span style="font-weight: bold;"><B>SAML 
 Security</B></span> option.</p></li>
		
		<li class="kadov-p"><p>Optional: Enter or select the time limit for 
 the SAML ticket in the <span style="font-weight: bold;"><B>Ticket Expiry 
 (in minutes)</B></span> field.</p></li>
		
		<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="color: #000000;">Proceed to Step #5.</p></li>
	</ol>
</ul>

<ol start=5
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>In the Current WSS Header Handling section of 
 the form, the <span style="font-weight: bold;"><B>Remove processed Security 
 header from request before processing</B></span> is selected by default. This 
 option instructs the SecureSpan Gateway to remove any Security header 
 that was processed by the SecureSpan Gateway before forwarding the request 
 to the protected service. Use this setting when the protected service 
 is not expecting Security headers in the forwarded SOAP requests. Optionally 
 select one of the following additional Security header processing options:</p></li>
	
	<ul>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>Select the <span style="font-weight: bold;"><B>Leave 
 current Security header in request before routing</B></span> option to instruct 
 the SecureSpan Gateway to leave the Security header in the outgoing SOAP 
 request message as-is. The Security header in the request may still have 
 been modified if the SecureSpan Gateway needed to decrypt any encrypted 
 material during message processing. Use this setting if the protected 
 service needs to do its own checking of the request's original Security 
 header, or if the protected service does not care whether its request 
 messages have a Security header. For best performance, use this setting 
 whenever possible to minimize the amount of per-request message modification</p></li>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>Select the <span style="font-weight: bold;"><B>Promote 
 other security header as default before routing</B></span> option to instruct 
 the SecureSpan Gateway to promote one of the downstream WSS recipients 
 as the next default WSS header. This option is primarily used when the 
 intended recipient of a WSS assertion does not accept or recognize Security 
 headers that contain Actor attributes. For more information about changing 
 the recipient of the available WSS (WS-Security) message-level assertions, 
 see <a href="Change_WSS_Assertion_Recipient.htm">Change the WSS Assertion 
 Recipient</a>.</p></li>
	</ul>
	
	<li class="kadov-p"><p>Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The assertion is added to the Policy Development window.</p></li>
</ol>

<h3>Edit the HTTP(S) Routing Assertion</h3>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>In the Policy Development window, right-click 
 the &quot;Route to http&quot; assertion. A drop-down menu appears. Select 
 <span style="font-weight: bold;"><B>Routing Properties</B></span></p></li>
</ul>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>The HTTP(S) Routing Properties form appears. Edit 
 the assertion properties as outlined in <a href="#Configure_the_HTTP_S__Routing_Assertion">Configure 
 the HTTP(S) Routing Assertion</a>.</p></li>
</ul>

<p>&nbsp;</p>

<h2 style="color: #000000;"><a name=SecureSpan_Bridge_Routing
								style="color: #000000;">SecureSpan Bridge 
 Routing</a></h2>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="NOTE.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="x-cell-content-align: center;
			padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>NOTE</B></span>: The SecureSpan 
 Bridge Routing assertion can only be used in a SOAP Web service security 
 policy. See <a href="#Limitations">Limitations and Considerations</a> 
 below for more information about using the SecureSpan Bridge Routing assertion 
 is a policy. For information about the SecureSpan™ Bridge, see <a href="SecureSpan_Overview.htm">SecureSpan™ 
 Overview</a>.</td></tr>
</table>

<p>The SecureSpan Bridge Routing assertion allows you to use the SecureSpan™ 
 Bridge as an embedded client that behaves similar to the HTTP(S) Routing 
 assertion (see <a href="#HTTP_S__Routing">HTTP(S) Routing</a>). Adding 
 the assertion to a policy:</p>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>Permits the SecureSpan™ Gateway to consume services 
 protected by another SecureSpan Gateway. The policy for the service will 
 be automatically discovered or imported and applied to service messages 
 by the SecureSpan Bridge</p></li>
	
	<li class="kadov-p"><p>Permits the SecureSpan Gateway to consume services 
 that require a hard-coded, or static, back-end policy. A static policy 
 can be exported from the stand-alone SecureSpan Bridge's Gateway Account 
 Properties form or exported from the SecureSpan™ Manager and then pasted 
 into the SecureSpan Bridge Routing assertion. The policy can be used to 
 decorate outgoing requests to allow access to a non-SecureSpan Gateway-protected 
 service that contains its own security requirements. </p></li>
</ul>

<p>&nbsp;</p>

<p>If multiple manually-specified operation-specific policies are required 
 in a single policy, then multiple SecureSpan Bridge Routing assertions 
 can be configured when per-operation branching is used. In other words, 
 a single SecureSpan Bridge Routing assertion can exist per branch, each 
 with its own operation-specific SecureSpan Bridge Routing policy. </p>

<p>&nbsp;</p>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="NOTE.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="x-cell-content-align: center;
			padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>NOTE</B></span>: Message 
 security requirements are automatically downloaded from the SecureSpan™ 
 Gateway during the initial consumption of a service, or manually imported 
 from another location and stored as a partial policy in the SecureSpan™ 
 Bridge. When downloaded from the SecureSpan Gateway, the stored policy 
 will contain the security requirements applicable to the user account 
 that was used to download the policy. When downloaded or imported from 
 any location as a formatted XML file, the stored policy will only contain 
 the assertions applicable to the type of message decoration that will 
 be performed by the SecureSpan Bridge. For more information about service 
 policy management in the SecureSpan Bridge, see the SecureSpan Bridge 
 documentation.</td></tr>
</table>

<p>&nbsp;</p>

<h3><a name=Limitations
		style="color: #000000;">Limitations and Considerations </a></h3>

<p>Note the following SecureSpan Bridge Routing assertion limitations and 
 considerations before using the assertion in a policy:</p>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>The SecureSpan Bridge Routing assertion is not 
 supported for XML applications or non-SOAP services</p></li>
	
	<li class="kadov-p"><p>The SecureSpan Bridge Routing assertion does not 
 support requests that include MIME or SOAP attachments, even when the 
 SOAP Request with Attachment assertion (see <a href="Configure_Edit_Message_Validation_Transformation_Assertions.htm">Configure 
 and Edit Message Validation/Transformation Assertions</a>) is included 
 in the policy</p></li>
	
	<li class="kadov-p"><p>When the SecureSpan Bridge Routing assertion is 
 set to discover a service policy automatically, SSL will be used when 
 transmitting a request for which no policy is currently known</p></li>
	
	<li class="kadov-p"><p>Unlike the stand-alone SecureSpan™ Bridge software, 
 the SecureSpan Bridge Routing assertion:</p></li>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Cannot automatically apply for a client certificate 
 from a back-end SecureSpan™ Gateway</p></li>
		
		<li class="kadov-p"><p>Cannot be configured with an imported client 
 certificate. Instead, the assertion will always use its host SecureSpan 
 Gateway's SSL certificate as its client certificate (as long as no user 
 name and password are configured; see below)</p></li>
		
		<li class="kadov-p"><p>Cannot be configured to use both user name/password 
 (via the Grant Access to Users/Groups assertion discussed in <a href="Configure_Edit_Access_Control_Assertions.htm">Configure 
 and Edit the Access Control Assertions</a>) authentication and client 
 certificate-based authentication (via the SSL with Client Certificate 
 Authentication assertion discussed in <a href="Configure_Edit_Access_Control_Assertions.htm">Configure 
 and Edit the Access Control Assertions</a>). If a user name and password 
 are configured, then the SecureSpan Bridge Routing assertion will not 
 work with any policies that require a client certificate. If a user name 
 and password are not configured, then the SecureSpan Bridge Routing assertion 
 will not work with any policies that require HTTP Basic, HTTP Digest, 
 or WSS UsernameToken Basic authentication (see <a href="Configure_Edit_Access_Control_Assertions.htm">Configure 
 and Edit the Access Control Assertions</a>)</p></li>
		
		<li class="kadov-p"><p>Cannot be configured to talk to a Federated 
 SecureSpan Gateway. For information about Federated Gateways in an identity 
 bridging-configuration, see <a HREF="Manage_Identity_Providers.htm">Manage 
 Identity Providers</a></p></li>
		
		<li class="kadov-p"><p>Cannot be configured to obtain security tokens 
 from a Trusted SecureSpan Gateway other than the one to which it is forwarding 
 request messages. For information about Trusted Gateways in an identity 
 bridging-configuration, see <a HREF="Manage_Identity_Providers.htm">Manage 
 Identity Providers</a>.</p></li>
	</ul>
	
	<li class="kadov-p"><p>Before the SecureSpan Bridge Routing assertion 
 can access a back-end SecureSpan Gateway, the back-end SecureSpan Gateway's 
 SSL certificate must be imported into the assertion host SecureSpan Gateway's 
 Trusted Certificates table. In the Specify Certificate Option screen of 
 the Add Certificate Wizard, check the Outbound SSL Connections check box. 
 See <a href="Add_Edit_Certificates.htm">Add and Edit Certificates</a> 
 for instructions.</p></li>
</ul>

<h3 style="color: #000000;"><a name=Configure_the_SecureSpan_Bridge_Routing_Assertion
								style="color: #000000;">Add and Configure 
 the SecureSpan Bridge Routing Assertion</a></h3>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="NOTE.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="x-cell-content-align: center;
			padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>NOTE</B></span>: Before 
 configuring the SecureSpan Bridge Routing assertion, note the information 
 in <a href="#Limitations">Limitations and Considerations</a>.</td></tr>
</table>

<ol style="list-style: decimal;"
	type=1>
	
	<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="color: #000000;">Add the assertion to the 
 Policy Development window by one of two methods:</p></li>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="color: #000000;">Drag and drop the 
 assertion from the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab into the Policy Development window, or &nbsp;</p></li>
		
		<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="color: #000000;">Highlight the assertion 
 in the [<span style="font-weight: bold;"><B>Assertions</B></span>] tab and click 
 the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
					width: 22px;
					height: 18px;
					margin-left: 0px;
					margin-right: 0px;
					margin-top: 0px;
					margin-bottom: -2.5px;
					float: none;
					border-style: none;
					border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar.</p></li>
	</ul>
</ol>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The &quot;Route to http using SecureSpan Bridge&quot; 
 assertion is added to the Policy Development window. Right-click the assertion. 
 A drop-down menu appears. Select <span style="font-weight: bold;"><B>Routing 
 Properties</B></span>.</p></li>
</ol>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The Bridge Routing Assertion Properties form appears. 
 Configure one of two policy specification options:</p></li>
	
	<ul>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>The <span style="font-weight: bold;"><B>Discover 
 Automatically</B></span> policy specification option is selected by default. 
 This option instructs the SecureSpan™ Bridge to automatically discover 
 the policy for the back-end service whenever it connects to the SecureSpan™ 
 Gateway. Use this option when configuring the SecureSpan Gateway to use 
 the SecureSpan Bridge as the router for consuming services protected by 
 another SecureSpan Gateway</p></li>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>Select the <span style="font-weight: bold;"><B>Manually 
 Specify Policy XML</B></span> option to specify a hard-coded policy for the 
 service. Paste the XML-based policy into the window. The policy must contain 
 references to recognizable SecureSpan Gateway assertions and contain a 
 meaningful assertion tree structure in order to be recognized and applied 
 to service request messages by the SecureSpan Bridge. The security policy 
 could be an exported SecureSpan Manager policy or a policy that was created 
 in another program. &nbsp;</p></li>
	</ul>
</ol>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				margin-left: 80px;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="TIP.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="x-cell-content-align: center;
			padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>TIP</B></span>: You can 
 also use the SecureSpan™ Bridge's Gateway Account Properties form to import 
 the policy for the service. To do so, select the Manually Specify Policy 
 XML option, but leave the policy window blank.</td></tr>
</table>

<ol start=4
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Optionally click [<span style="font-weight: bold;"><B>HTTP 
 Properties</B></span>] to define additional routing properties for the SecureSpan 
 Bridge Routing assertion. The HTTP(S) Routing Properties form appears. 
 See <a href="#HTTP_S__Routing">HTTP(S) Routing</a> for configuration instructions.</p></li>
</ol>


<table x-use-null-cells
		style="left: 0px;
				top: 316px;
				background-color: #ffffdf;
				x-cell-content-align: Center;
				width: 600px;
				margin-top: 5px;
				margin-bottom: 5px;
				margin-left: 40px;
				border-spacing: 0px;
				border-spacing: 0px;"
		cellspacing=0
		width=600
		bgcolor=#FFFFDF>
<col style="width: 5%;">
<col>

<tr style="x-cell-content-align: top;"
	valign=top>
<td style="width: 5%;
			padding-left: 5px;
			padding-top: 5px;
			padding-right: 5px;
			padding-bottom: 5px;"
	width=5%>
<p><img src="Warning.gif" x-maintain-ratio="TRUE" style="border-left-style: none;
				border-top-style: none;
				border-right-style: none;
				border-bottom-style: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 0px;
				margin-bottom: 0px;
				width: 32px;
				height: 32px;
				float: none;
				border-style: none;
				border-style: none;" width="32" height="32" border="0"></td>
<td style="x-cell-content-align: center;
			padding-right: 5px;
			padding-top: 5px;
			padding-bottom: 5px;"
	valign=middle>
<p class="tipsnotes"><span style="font-weight: bold;"><B>WARNING</B></span>: Do 
 not check the TAI Identity Pass check box in the SecureSpan Bridge Routing 
 assertion HTTP(S) Routing Properties form. If TAI is enabled, then the 
 SecureSpan Bridge Routing assertion will reject all service requests.</td></tr>
</table>

<ol start=5
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 Assertion changes take effect immediately.</p></li>
</ol>

<h3>Edit the SecureSpan Bridge Routing Assertion</h3>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>In the Policy Development window, right-click 
 the &quot;Route to http using SecureSpan Bridge&quot; assertion. A drop-down 
 menu appears. Select <span style="font-weight: bold;"><B>Routing Properties</B></span></p></li>
</ul>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>The SecureSpan Bridge Routing Properties form 
 appears. Edit the assertion properties as outlined in <a href="#Configure_the_HTTP_S__Routing_Assertion">Add 
 and Configure the SecureSpan Bridge Routing Assertion</a>.</p></li>
</ul>

<p>&nbsp;</p>

<h4>Next Topic: </h4>

<p><a href="Configure_Edit_Service_Availability_Assertions.htm">Configure 
 and Edit Service Availability Assertions</a></p>

<p>&nbsp;</p>

</body>

</html>
