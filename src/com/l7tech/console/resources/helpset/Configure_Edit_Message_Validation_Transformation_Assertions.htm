<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>





<head>

<title>Configure/Edit Message Validation/Transformation Assertions</title>



 <meta http-equiv=content-type content="text/html; charset=windows-1252">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=11700>
<meta name=layout-width content=786>
<meta name=x-ignored-words content="Workflow;WSDL;TLS;Uptime;uptime;Unix;SecureSpan;cert;francis;LDAP;firewall;policy.templates;admin;popup;user(s;CTRL;Login;SSL;WS;username;Username;Xml-based;DMZ;non-invasively;Linux;Solaris;internetworking;SOAPAction;Beatty;ext;GUI-based;GUI;scalable;PKI-based;offloads;toolset;WS-Security;Services@https;servername;namespace;Gateway(s;XPath;SAML;NotOnOrAfter;saml;requestor;tempuri.org;Name.wsdl;Namespace;yourcompany.com;MyWebService.wsdl.;schemas.xmlsoap.org;wsdl;URIs;GetQuoteResponse;stockSymbol;StockInfo;getQuote;getQuoteRequest;getQuoteResponse;operation(s;StockServiceSOAPBinding;StockQuote;localhost;ws;TCP;GenericLDAP;MSAD;IIPs;TivoliLDAP;assertion(s;criteria--username;headers--for;SHA;form--for;cleartext;folder(s;SSL-TLS;yuk;HTTP(S;workflow;detail(s;AES;node(s;Avg;IP;min;CDE;Kunststoff;Timeout;login;timeout;SSGAdmin;hostname;Admin;substring;DN;myLDAP;ldap;ldapserver;dc=com;myMSAD;ou=Layer;dc=LOCAL;hostname.domain;mygateway;mycompany.com;mygateway.mycompany.com.;IIS;mail.abc.com;ou=ABC;dc=ABC;mybrowse;mypassword;LdapErr;vece;findAllHeaders;myName;myPassword;myCompany;SLA;ReType;Inc;cred;certs;Xml;HttpClientCert;n.m;xxxx;System.NullReferenceException;C;IPAddress;MyGateway;MyGateway.MyCompany.com.;MyGateway.MyCompany.com;servername.company.com.;SLL;Wsdl;screenshots;ui;searchability;JGoodies;XP;connection(s;JMS;Expiry;PDF;www.zvon.org;xxl;XPathTutorial;www.purpletech.com;xpe;index.jsp;xpath;pls;Stylesheet;XSLT;eXtensible;elementName;attributeName;local-name(;xpath#function-local-name;examples.html;WSDL-based;namespaces;boolean(s;CID">




 <link rel="StyleSheet" href="JavaHelp.css">



 <META NAME="generator" CONTENT="RoboHelp by eHelp Corporation www.ehelp.com">
</head>




<body>

<h1>Configure and Edit Message Validation/Transformation Assertions</h1>

<p style="margin-bottom: 9pt;">In the SecureSpan™ Manager, the following 
 assertions are available in the Message Validation/Transformation category 
 of the [Assertions] tab:</p>

<h6>&nbsp;</h6>

<p><img src="XMLVAssens.gif" x-maintain-ratio="TRUE" style="border: none;
				width: 254px;
				height: 288px;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 10px;
				margin-bottom: 2px;
				float: none;
				border-style: none;
				border-style: none;" width="254" height="288" border="0"></p>

<h6 style="color: #7c7c7c;
			margin-top: 2pt;
			margin-bottom: 10pt;">The Message Validation/Transformation 
 Category of the [Assertions] Tab</h6>

<h6>&nbsp;</h6>

<h4>Quick Links:</h4>

<p class="quicklinks"><a href="#Evaluate_Request_XPath">Evaluate Request 
 XPath</a></p>

<p class="quicklinks"><a href="#Evaluate_Response_XPath">Evaluate Response 
 XPath</a></p>

<p class="quicklinks"><a href="#Validate_XML_Schema">Validate XML Schema</a></p>

<p class="quicklinks"><a href="#XSL_Transformation">XSL Transformation</a></p>

<p class="quicklinks"><a href="#SOAP_Request_with_Attachment">SOAP Request 
 with Attachment</a></p>

<h2 style="color: #000000;"><a name=Evaluate_Request_XPath>Evaluate Request 
 XPath</a></h2>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 The Evaluate Request XPath assertion supports the XPath 1.0 standard. 
 Ensure that you are familiar with XPath patterns and specifications before 
 you configure the Evaluate Request XPath assertion. The Evaluate Request 
 XPath assertion must be placed anywhere before the routing assertion in 
 a security policy. For information about routing assertions, see <a href="Configure_Edit_Message_Routing_Assertions.htm">Configure 
 and Edit Message Routing Assertions</a>. For information on the policy 
 and assertion rules used in the SecureSpan™ Manager, see <a href="Security_Policy_Organization_and_Rules.htm">Security 
 Policy Organization and Rules</a>.</p>
</div>

<p>The Evaluate Request XPath assertion allows you to configure a specific 
 XPath query pattern for incoming XML request messages. The XPath query 
 targets specific parts of the message, evaluating its document structure 
 and/or XML data. When the assertion executes, it runs the XPath pattern 
 against the request. If the XPath is a boolean expression, the assertion 
 succeeds only if the boolean expression evaluates to true. If the XPath 
 selects nodes, the assertion succeeds only if the list of matching nodes 
 is non-empty. In any other case, including an XPath error, the assertion 
 fails.</p>

<h6>&nbsp;</h6>

<p>The Evaluate Request XPath assertion can be used, for example, to break 
 a security policy into different paths for different types of operations 
 and/or to provide preferential routing to special customers or high dollar 
 value transactions. </p>

<h6>&nbsp;</h6>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 View XPath query results in the Gateway Log. See <a href="View_Gateway_Log.htm">View 
 Gateway Log</a> for information.</p>
</div>

<h3 style="color: #000000;"><a name=Add_and_Configure_the_Evaluate_Request_XPath_Assertion
								style="color: #000000;">Add and Configure 
 the Evaluate Request XPath Assertion</a></h3>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Add the assertion to the Policy Development window 
 by one of two methods:</p></li>
</ol>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Drag and drop the assertion from the [<span 
 style="font-weight: bold;"><B>Assertions</B></span>] tab into the Policy Development 
 window, or &nbsp;</p></li>
		
		<li class="kadov-p"><p>Highlight the assertion in the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab and click the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
								width: 22px;
								height: 18px;
								margin-left: 0px;
								margin-right: 0px;
								margin-top: 0px;
								margin-bottom: -2.5px;
								float: none;
								border-style: none;
								border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar. </p></li>
	</ul>
</ol>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The &quot;Request must match XPath&quot; assertion 
 is added to the Policy Development window. Right-click the assertion. 
 A drop-down menu appears. Select <span style="font-weight: bold;"><B>Evaluate 
 Request XPath Properties</B></span>.</p></li>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 You can also double-click the assertion in the Policy Development window 
 to open the Evaluate Request XPath Properties form. &nbsp;&nbsp;</p>
</div>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>A different Evaluate Request XPath Properties 
 form appears for Web services and XML applications:</p></li>
</ol>

<h4 style="margin-left: 40px;">Web Service Security Policy</h4>

<p style="margin-left: 40px;">When using the Evaluate Request XPath assertion 
 in a Web service security policy:</p>

<h6>&nbsp;</h6>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p><span style="margin-left: 0px;">Select the 
 operation that contains the request path that you want evaluated from 
 the Web Service Operations window.</span></p></li>
	</ol>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 The operations are loaded from the Web service WSDL code. For information 
 about the WSDL that defines a Web service, see <a href="Manage_SOAP_Web_Services.htm">Manage 
 SOAP Web Services</a>.</p>
</div>

<ol style="list-style: decimal;"
	type=1>
	
	<ol start=2
		style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">The XML code for 
 the operation appears as expanded nodes in the Code window. Click the 
 target request path.</p></li>
	</ol>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 Clicking, or highlighting, a path selects it (and any child code) for 
 the evaluation. To collapse the expanded nodes, click &nbsp;<img src="CollapseNode.gif" x-maintain-ratio="TRUE" style="border: none;
			float: none;
			width: 20px;
			height: 20px;
			border-style: none;
			border-style: none;" width="20" height="20" border="0">. To re-expand the nodes, click &nbsp;<img src="ExpandNode.gif" x-maintain-ratio="TRUE" style="border: none;
			float: none;
			width: 20px;
			height: 20px;
			border-style: none;
			border-style: none;" width="20" height="20" border="0">. </p>
</div>

<p style="margin-left: 80px;"><img src="EvalReqXpath.gif" x-maintain-ratio="TRUE" style="border: none;
											width: 578px;
											height: 296px;
											margin-left: 0px;
											margin-right: 0px;
											margin-top: 4px;
											margin-bottom: 10px;
											float: none;
											border-style: none;
											border-style: none;" width="578" height="296" border="0"></p>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 The SecureSpan™ Manager will only build an XPath assertion to a node.
 If you want to put in additional boolean expressions for an element, then 
 select the target element and manually add the boolean(s) into the XPath 
 field.</p>
</div>

<ol>
	
	<ol start=3>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The modified assertion is added to the Policy Development window. Repeat 
 to evaluate additional request paths. </p></li>
	</ol>
</ol>

<h4 style="margin-left: 40px;">XML Application Security Policy</h4>

<p style="margin-left: 40px;">When using the Evaluate Request XPath assertion 
 in an XML application security policy:</p>

<h6>&nbsp;</h6>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Enter the XPath 
 expression corresponding to the target request element in the field. </p></li>
		
		<li class="kadov-p"><p>Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The modified assertion is added to the Policy Development window. Repeat 
 to evaluate additional request paths. </p></li>
	</ol>
</ol>

<h3>Edit the Evaluate Request XPath Assertion</h3>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>In the Policy Development window, right-click 
 the &quot;Request must match XPath&quot; assertion. A drop-down menu appears. 
 Select <span style="font-weight: bold;"><B>Evaluate Request XPath Properties</B></span></p></li>
</ul>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 You can also double-click the assertion in the Policy Development window 
 to open the Evaluate Request XPath Properties form. &nbsp;&nbsp;</p>
</div>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p style="font-weight: normal;">The Evaluate Request 
 XPath Properties form appears. Edit the assertion as required. See Step 
 #3 in <a href="#Add_and_Configure_the_Evaluate_Request_XPath_Assertion">Add 
 and Configure the Evaluate Request XPath Assertion</a> for Web service 
 or XML application-specific instructions.</p></li>
</ul>

<h2 style="color: #000000;"><a name=Evaluate_Response_XPath
								style="color: #000000;">Evaluate Response 
 XPath</a></h2>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 The Evaluate Response XPath assertion supports the XPath 1.0 standard. 
 Ensure that you are familiar with XPath patterns and specifications before 
 you configure the Evaluate Response XPath assertion. The Evaluate Response 
 XPath assertion must be placed anywhere after the routing assertion in 
 a security policy. For information about routing assertions, see <a href="Configure_Edit_Message_Routing_Assertions.htm">Configure 
 and Edit Message Routing Assertions</a>. For information on the policy 
 and assertion rules used in the SecureSpan™ Manager, see <a href="Security_Policy_Organization_and_Rules.htm">Security 
 Policy Organization and Rules</a>.</p>
</div>

<p>The Evaluate Response XPath assertion allows you to configure a specific 
 XPath query pattern for outgoing XML response messages. The XPath query 
 targets specific parts of the message, evaluating its document structure 
 and/or XML data. When the assertion executes, it runs the XPath pattern 
 against the response. If the XPath is a boolean expression, the assertion 
 succeeds only if the boolean expression evaluates to true. If the XPath 
 selects nodes, the assertion succeeds only if the list of matching nodes 
 is non-empty. In any other case, including an XPath error, the assertion 
 fails. </p>

<h6>&nbsp;</h6>

<p>The Evaluate Response XPath assertion can be used, for example, to break 
 a security policy into different paths for different types of operations 
 and/or to provide preferential routing to special customers or high dollar 
 value transactions. </p>

<h6>&nbsp;</h6>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 View XPath query results in the Gateway Log. See <a href="View_Gateway_Log.htm">View 
 Gateway Log</a> for information.</p>
</div>

<h3 style="color: #000000;"><a name=Add_and_Configure_the_Evaluate_Response_XPath_Assertion
								style="color: #000000;">Add and Configure 
 the Evaluate Response XPath Assertion</a></h3>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Add the assertion to the Policy Development window 
 by one of two methods:</p></li>
</ol>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Drag and drop the assertion from the [<span 
 style="font-weight: bold;"><B>Assertions</B></span>] tab into the Policy Development 
 window, or &nbsp;</p></li>
		
		<li class="kadov-p"><p>Highlight the assertion in the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab and click the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
								width: 22px;
								height: 18px;
								margin-left: 0px;
								margin-right: 0px;
								margin-top: 0px;
								margin-bottom: -2.5px;
								float: none;
								border-style: none;
								border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar. </p></li>
	</ul>
</ol>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The &quot;Response must match XPath&quot; assertion 
 is added to the Policy Development window. Right-click the assertion. 
 A drop-down menu appears. Select <span style="font-weight: bold;"><B>Evaluate 
 Response XPath Properties</B></span>.</p></li>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 You can also double-click the assertion in the Policy Development window 
 to open the Evaluate Response XPath Properties form. &nbsp;&nbsp;</p>
</div>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>A different Evaluate Response XPath Properties 
 form appears for Web services and XML applications:</p></li>
</ol>

<h4 style="margin-left: 40px;">Web Service Security Policy</h4>

<p style="margin-left: 40px;">When using the Evaluate Response XPath assertion 
 in a Web service security policy:</p>

<h6>&nbsp;</h6>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p><span style="margin-left: 0px;">Select the 
 operation that contains the response path that you want evaluated from 
 the Web Service Operations window.</span></p></li>
	</ol>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 The operations are loaded from the Web service WSDL code. For information 
 about the WSDL that defines a Web service, see <a href="Manage_SOAP_Web_Services.htm">Manage 
 SOAP Web Services</a>.</p>
</div>

<ol style="list-style: decimal;"
	type=1>
	
	<ol start=2
		style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">The XML code for 
 the operation appears as expanded nodes in the Code window. Click the 
 target response path.</p></li>
	</ol>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 Clicking, or highlighting, a path selects it (and any child code) for 
 evaluation. To collapse the expanded nodes, click &nbsp;<img src="CollapseNode.gif" x-maintain-ratio="TRUE" style="border: none;
			float: none;
			width: 20px;
			height: 20px;
			border-style: none;
			border-style: none;" width="20" height="20" border="0">. To re-expand the nodes, click &nbsp;<img src="ExpandNode.gif" x-maintain-ratio="TRUE" style="border: none;
			float: none;
			width: 20px;
			height: 20px;
			border-style: none;
			border-style: none;" width="20" height="20" border="0">. The SecureSpan™ Manager will only build an XPath assertion
 to a node. If you want to put in additional boolean expressions for an 
 element, then select the target element and manually add the boolean(s) 
 into the XPath field.</p>
</div>

<ol>
	
	<ol start=3>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The modified assertion is added to the Policy Development window. Repeat 
 to evaluate additional response paths. </p></li>
	</ol>
</ol>

<h4 style="margin-left: 40px;">XML Application Security Policy</h4>

<p style="margin-left: 40px;">When using the Evaluate Response XPath assertion 
 in an XML application security policy:</p>

<h6>&nbsp;</h6>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Enter the XPath 
 expression corresponding to the target response element in the field. 
 </p></li>
		
		<li class="kadov-p"><p>Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The modified assertion is added to the Policy Development window. Repeat 
 to evaluate additional response paths. </p></li>
	</ol>
</ol>

<h3>Edit the Evaluate Response XPath Assertion</h3>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>In the Policy Development window, right-click 
 the &quot;Response must match XPath&quot; assertion. A drop-down menu 
 appears. Select <span style="font-weight: bold;"><B>Evaluate Response XPath 
 Properties</B></span></p></li>
</ul>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 You can also double-click the assertion in the Policy Development window 
 to open the Evaluate Response XPath Properties form. &nbsp;&nbsp;</p>
</div>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p style="font-weight: normal;">The Evaluate Response 
 XPath Properties form appears. Edit the assertion as required. See Step 
 #3 in <a href="#Add_and_Configure_the_Evaluate_Response_XPath_Assertion">Add 
 and Configure the Evaluate Response XPath Assertion</a> for instructions 
 for Web service or XML application-specific instructions.</p></li>
</ul>

<h2 style="color: #000000;"><a name=Validate_XML_Schema
								style="color: #000000;">Validate XML Schema</a></h2>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 A security policy can contain a Validate XML Schema assertion for both 
 request and response messages. The application of the schema to a particular 
 type of message is determined by the assertion's placement either before 
 (request messages) or after (response messages) the routing assertion. 
 If available, specific request message or response message elements can 
 also be extracted from a Web service's WSDL code. For information about 
 routing assertions, see <a href="Configure_Edit_Message_Routing_Assertions.htm">Configure 
 and Edit Message Routing Assertions</a>. For information on the policy 
 and assertion rules used in the SecureSpan™ Manager, see <a href="Security_Policy_Organization_and_Rules.htm">Security 
 Policies Overview and Rules</a>.</p>
</div>

<p>The Validate XML Schema assertion allows you to specify a schema for 
 validating a Web service or XML application request or response message. 
 The XML Schema used in the security policy can be extracted from the Web 
 service WSDL (if applicable) or loaded from a URL or local file. </p>

<h3 style="color: #000000;"><a name=Add_and_Configure_the_Validate_XML_Schema_Assertion
								style="color: #000000;">Add and Configure 
 the Validate XML Schema Assertion</a></h3>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Add the assertion to the Policy Development window 
 by one of two methods:</p></li>
</ol>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Drag and drop the assertion from the [<span 
 style="font-weight: bold;"><B>Assertions</B></span>] tab into the Policy Development 
 window, or &nbsp;</p></li>
		
		<li class="kadov-p"><p>Highlight the assertion in the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab and click the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
								width: 22px;
								height: 18px;
								margin-left: 0px;
								margin-right: 0px;
								margin-top: 0px;
								margin-bottom: -2.5px;
								float: none;
								border-style: none;
								border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar. </p></li>
	</ul>
</ol>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The Schema Validation Properties form appears. 
 Select a schema for the assertion by one of three methods:</p></li>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 You can also cut and paste an XML schema into the Validation Schema window 
 in the Schema Validation Properties form.</p>
</div>

<h3 style="margin-left: 40px;"><a name=Extract_Schema_from_Web_Service_WSDL>Extract 
 Schema from Web Service WSDL</a></h3>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 A WSDL-based schema is typically only included in document-style Web services. 
 Use this method to optionally apply request or response message-specific 
 schema elements to the respective request or response messages.</p>
</div>

<p style="margin-left: 40px;">To extract the schema from the Web service 
 WSDL document:</p>

<h6>&nbsp;</h6>

<ul style="list-style: disc;"
	type=disc>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">In the Schema Validation 
 Properties form, click [<span style="font-weight: bold;"><B>Extract Schema 
 from WSDL</B></span>]. The Extract Schema from WSDL form appears. </p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Do one of the following:</p></li>
		
		<ul style="list-style: disc;"
			type=disc>
			
			<li class="kadov-p"><p style="margin-left: 0px;">If the WSDL 
 document contains one schema, then the SecureSpan™ Manager automatically 
 loads the schema name in the <span style="font-weight: bold;"><B>Select the 
 WSDL Schema to Extract</B></span> drop-down list with the corresponding schema 
 code in the Code window. Proceed to Step #3 below</p></li>
			
			<li class="kadov-p"><p style="margin-left: 0px;">If the WSDL 
 document contains more than one schema, select the target schema from 
 the <span style="font-weight: bold;"><B>Select the WSDL Schema to Extract</B></span> 
 drop-down list. The schema code appears in the Code window. Proceed to 
 Step #3 below.</p></li>
		</ul>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Select one of the 
 following:</p></li>
	</ol>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<ul style="list-style: disc;"
			type=disc>
			
			<li class="kadov-p"><p style="margin-left: 0px;">To extract the 
 entire schema, select the <span style="font-weight: bold;"><B>Import Entire 
 Schema</B></span> option</p></li>
			
			<li class="kadov-p"><p style="margin-left: 0px;">To extract the 
 schema elements particular to request messages, select the <span style="font-weight: bold;"><B>Import 
 Request-Specific Elements Only</B></span> option</p></li>
			
			<li class="kadov-p"><p style="margin-left: 0px;">To extract the 
 schema elements particular to response messages, select the <span style="font-weight: bold;"><B>Import 
 Response-Specific Elements Only</B></span> option.</p></li>
		</ul>
	</ol>
	
	<ol start=4
		style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The schema appears in the Validation Schema window in the Schema Validation 
 Properties form. <span style="margin-left: 40px;">Proceed to Step #3.</span></p></li>
	</ol>
</ul>

<h3 style="margin-left: 40px;">Load the Schema from a URL</h3>

<p style="margin-left: 40px;">To load the schema from a URL:</p>

<ul style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p style="margin-left: 0px;">In the Schema Validation 
 Properties form, enter the URL into the <span style="font-weight: bold;"><B>Load 
 Schema from URL</B></span> field</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Click [<span style="font-weight: bold;"><B>Load</B></span>]. 
 The schema appears in the Validation Schema window. Proceed to Step #3.</p></li>
	</ul>
</ul>

<h3 style="margin-left: 40px;">Load the Schema from a File</h3>

<p style="margin-left: 40px;">To load the schema from a local file:</p>

<ul style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p style="margin-left: 0px;">In the Schema Validation 
 Properties form, click [<span style="font-weight: bold;"><B>Load Schema from 
 File</B></span>]. The Open form appears</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Navigate to the 
 location of the target schema. Select the file, and then click [<span 
 style="font-weight: bold;"><B>Open</B></span>]</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">The schema appears 
 in the Validation Schema window. Proceed to Step #3.</p></li>
	</ul>
</ul>

<h6>&nbsp;</h6>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p style="margin-left: 0px;">In the Schema Validation 
 Properties form, click [<span style="font-weight: bold;"><B>OK</B></span>]. The 
 configured assertion is added to the Policy Development window. Do one 
 of the following:</p></li>
</ol>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ul>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p style="margin-left: 0px;">To apply the schema 
 to request messages, place the &quot;Validate Message's Schema&quot; assertion 
 anywhere before the routing assertion in the Policy Development window</p></li>
	</ul>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 If you extracted request message-specific schema elements using the <a 
 href="#Extract_Schema_from_Web_Service_WSDL">Extract Schema from Web Service 
 WSDL</a> method above, then organize the Validate XML Schema assertion 
 before the security policy's routing assertion. For information about 
 routing assertions, see <a href="Configure_Edit_Message_Routing_Assertions.htm">Configure 
 and Edit Message Routing Assertions</a>.</p>
</div>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ul>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p style="margin-left: 0px;">To apply the schema 
 to response messages, place the &quot;Validate Message's Schema&quot; 
 assertion anywhere after the routing assertion in the Policy Development 
 window.</p></li>
	</ul>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 If you extracted response message-specific schema elements using the <a 
 href="#Extract_Schema_from_Web_Service_WSDL">Extract Schema from Web Service 
 WSDL</a> method above, then organize the Validate XML Schema assertion 
 after the security policy's routing assertion. For information about routing 
 assertions, see <a href="Configure_Edit_Message_Routing_Assertions.htm">Configure 
 and Edit Message Routing Assertions</a>.</p>
</div>

<ol start=4
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p style="margin-left: 0px;">If required, repeat 
 Steps #1-3 to configure another Validate XML Schema assertion.</p></li>
</ol>

<h3>Edit the Validate XML Schema Assertion</h3>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>In the Policy Development window, right-click 
 the &quot;Validate Message's Schema&quot; assertion. A drop-down menu 
 appears. Select <span style="font-weight: bold;"><B>Schema Validation Properties</B></span></p></li>
</ul>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 You can also double-click the assertion in the Policy Development window 
 to open the Schema Validation Properties form. &nbsp;&nbsp;</p>
</div>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>The Schema Validation Properties form appears. 
 Extract or load a new XML schema as outlined in Steps #2-4 in <a href="#XSL_Transformation">Add 
 and Configure the Validate XML Schema Assertion</a>.</p></li>
</ul>

<h2 style="color: #000000;"><a name=XSL_Transformation
								style="color: #000000;">XSL Transformation</a></h2>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 The XSL Transformation assertion supports the XSLT 1.0 standard. A security 
 policy can contain an XSL Transformation assertion for both request and 
 response messages. The application of the schema to a particular type 
 of message is determined by the option selected in the XSL Transformation 
 Properties form and the assertion's placement either before (request messages) 
 or after (response messages) the routing assertion. For information about 
 routing assertions, see <a href="Configure_Edit_Message_Routing_Assertions.htm">Configure 
 and Edit Message Routing Assertions</a>. For information on the policy 
 and assertion rules used in the SecureSpan™ Manager, see <a href="Security_Policy_Organization_and_Rules.htm">Security 
 Policies Overview and Rules</a>.</p>
</div>

<p>The XSL Transformation assertion allows you to compose XSL (Extensible 
 Stylesheet Language) using XSLT (eXtensible Stylesheet Language: Transformations) 
 to transform the structure of an XML request and/or response message into 
 an XML document with a different structure or content. The XSL style sheet 
 specified in the assertion is executed on the message data during the 
 execution of a security policy. The post-transformation message becomes 
 the message that is processed by subsequent policy assertions and eventually 
 forwarded to the requestor (response) or service (request). The XSL transformation 
 used in the security policy can be edited manually or loaded from a URL 
 or file.</p>

<h6>&nbsp;</h6>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 A security policy can contain more than one XSL Transformation assertion 
 — one for the request message and one for the response message — and each 
 assertion can specify a different transformation. </p>
</div>

<h3 style="color: #000000;"><a name=Add_and_Configure_the_XSL_Transformation_Assertion
								style="color: #000000;">Add and Configure 
 the XSL Transformation Assertion</a></h3>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Add the assertion to the Policy Development window 
 by one of two methods:</p></li>
</ol>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Drag and drop the assertion from the [<span 
 style="font-weight: bold;"><B>Assertions</B></span>] tab into the Policy Development 
 window, or &nbsp;</p></li>
		
		<li class="kadov-p"><p>Highlight the assertion in the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab and click the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
								width: 22px;
								height: 18px;
								margin-left: 0px;
								margin-right: 0px;
								margin-top: 0px;
								margin-bottom: -2.5px;
								float: none;
								border-style: none;
								border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar. </p></li>
	</ul>
</ol>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The XSL Transformation Properties form appears. 
 From the <span style="font-weight: bold;"><B>Transformation Target</B></span> 
 drop-down list, select the target message to transform.</p></li>
</ol>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>In the <span style="font-weight: bold;"><B>Name</B></span> 
 field, enter an optional name for the transformation.</p></li>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 The name entered in the Name field will be added to the assertion name 
 in the Policy Development window.</p>
</div>

<ol start=4
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Provide the transformation by one of three methods:</p></li>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 You can also cut and paste the transformation into the XSL Transformation 
 window.</p>
</div>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Enter the XSLT manually into the XSL Transformation 
 window. Proceed to Step #4</p></li>
		
		<li class="kadov-p"><p>To load the transformation from a URL, enter 
 the URL into the <span style="font-weight: bold;"><B>Load XSL from URL</B></span> 
 field. Click [<span style="font-weight: bold;"><B>Load</B></span>]. Proceed to 
 Step #4</p></li>
		
		<li class="kadov-p"><p>To load the transformation from a local file, 
 click [<span style="font-weight: bold;"><B>Load XSL from File</B></span>]. Search 
 and add the transformation. Proceed to Step #4.</p></li>
	</ul>
</ol>

<ol start=5
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p style="margin-left: 0px;">The transformation appears 
 in the XSL Transformation window. Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The configured assertion is added to the Policy Development window. Do 
 one of the following:</p></li>
	
	<ol start=3
		style="list-style: decimal;"
		type=1>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p style="margin-left: 0px;">If you selected 
 &quot;Request&quot; from the <span style="font-weight: bold;"><B>Transformation 
 Target</B></span> drop-down list, then place the &quot;XSL transform request 
 messages&quot; assertion anywhere before the routing assertion in the 
 Policy Development window</p></li>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p style="margin-left: 0px;">If you selected 
 &quot;Response&quot; from the <span style="font-weight: bold;"><B>Transformation 
 Target</B></span> drop-down list, then place the &quot;XSL transform response 
 messages&quot; assertion anywhere after the routing assertion in the Policy 
 Development window.</p></li>
	</ol>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 For information about routing assertions, see <a href="Configure_Edit_Message_Routing_Assertions.htm">Configure 
 and Edit Message Routing Assertions</a>.</p>
</div>

<ol start=6
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p style="margin-left: 0px;">If required, repeat 
 Steps #1-5 to configure another XSL Transformation assertion.</p></li>
</ol>

<h3>Edit the XSL Transformation Assertion</h3>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>In the Policy Development window, right-click 
 the target &quot;XSL transform request messages&quot; or &quot;XSL transform 
 response messages&quot; assertion. A drop-down menu appears. Select <span 
 style="font-weight: bold;"><B>XSL Transformation Properties</B></span></p></li>
</ul>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 You can also double-click the assertion in the Policy Development window 
 to open the XSL Transformation Properties form. &nbsp;&nbsp;</p>
</div>

<ul>
	
	<li style="list-style: disc;" type="disc" class="kadov-p"><p>The XSL Transformation Properties form appears. 
 Specify a new XSL transformation as outlined in Steps #2-5 in <a href="#XSL_Transformation">Add 
 and Configure the XSL Transformation Assertion</a>.</p></li>
</ul>

<h2 style="color: #000000;"><a name=SOAP_Request_with_Attachment
								style="color: #000000;">SOAP Request with 
 Attachment</a></h2>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 The SOAP Request with Attachment assertion supports the W3C SOAP Messages 
 with Attachment standard. Referencing attachments using CID is supported. 
 Referencing attachments using Content-Location is not supported in the 
 current release. The assertion can only be used in a Web service security 
 policy. The assertion must be placed anywhere before the routing assertion. 
 For information about routing assertions, see <a href="Configure_Edit_Message_Routing_Assertions.htm">Configure 
 and Edit Message Routing Assertions</a>. For information on the policy 
 and assertion rules used in the SecureSpan™ Manager, see <a href="Security_Policy_Organization_and_Rules.htm">Security 
 Policy Organization and Rules</a>.</p>
</div>

<p style="color: #000000;">The SOAP Request with Attachment assertion allows 
 you to validate the size and MIME type of incoming SOAP attachments. The 
 assertion will fail if the request message does not contain an attachment 
 or contains an attachment that was not declared in the WSDL, is too large, 
 or is declared an MIME content-type different from the expected type.</p>

<h6>&nbsp;</h6>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 You cannot use the SOAP Request with Attachment assertion with the HTTP 
 Digest authentication assertion. For more information about the HTTP Digest 
 assertion, see <a href="Configure_Edit_Authentication_Assertions.htm">Configure 
 and Edit Authentication Assertions</a>.</p>
</div>

<h3 style="color: #000000;"><a name=Add_and_Configure_the_SOAP_Request_with_Attachment_Assertion
								style="color: #000000;">Add and Configure 
 the SOAP Request with Attachment Assertion</a></h3>

<ol style="list-style: decimal;"
	type=1>
	
	<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="color: #000000;">Add the assertion to the 
 Policy Development window by one of two methods:</p></li>
</ol>

<ul style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="color: #000000;">Drag and drop the 
 assertion from the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab into the Policy Development window, or &nbsp;</p></li>
		
		<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="color: #000000;">Highlight the assertion 
 in the [<span style="font-weight: bold;"><B>Assertions</B></span>] tab and click 
 the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
					width: 22px;
					height: 18px;
					margin-left: 0px;
					margin-right: 0px;
					margin-top: 0px;
					margin-bottom: -2.5px;
					float: none;
					border-style: none;
					border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar. </p></li>
	</ul>
</ul>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="color: #000000;">The &quot;SOAP Request 
 with Attachment&quot; assertion is added to the Policy Development window. 
 Right-click the assertion. A drop-down menu appears. Select <span style="font-weight: bold;"><B>SOAP 
 Attachment Properties</B></span>.</p></li>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes" style="color: #000000;"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
			width: 16px;
			height: 14px;
			float: none;
			border-style: none;
			border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 You can also double-click the assertion in the Policy Development window 
 to open the SOAP Attachment Properties form. &nbsp;&nbsp;</p>
</div>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The SOAP Attachment Properties form appears. The 
 Binding, Operations, and Input Parameters corresponding to one or more 
 attachments are automatically populated from the Web service WSDL document. 
 Select the binding that contains the attachment from the <span style="font-weight: bold;"><B>Binding</B></span> 
 drop-down list.</p></li>
</ol>

<ol start=4
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The operation(s) belonging to the binding appear 
 in the Operations window. Select the operation that contains the attachment(s) 
 from the Operations window. </p></li>
	
	<li class="kadov-p"><p>The input parameters for each attachment appear 
 in the Input Parameters window. In each row corresponding to an attachment 
 parameter, the values of the MIME Part Content Type column are populated 
 from the WSDL document, while the values of the MIME Part Length Max column 
 are set to a default size of 1000 kilobytes (KB) by the SecureSpan™ Gateway. 
 In each row corresponding to an attachment parameter, modify the maximum 
 size value in the <span style="font-weight: bold;"><B>MIME Part Length Max</B></span> 
 column as necessary.</p></li>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 15px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="15" border="0"> &nbsp;NOTE:</B></span> 
 Multiple attachments per input parameter are also supported. In this case, 
 the total size of the attachments being referred to by the input parameter 
 cannot exceed the value of the MIME Part Length Max column value corresponding 
 to the input parameter.</p>
</div>

<ol start=6
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Repeat Steps #3-5 to configure additional attachment 
 parameters. When completed, click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The modified assertion is added to the Policy Development window.</p></li>
</ol>

<h3>Edit the SOAP Request with Attachment Assertion</h3>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>In the Policy Development window, right-click 
 the &quot;SOAP Request with Attachment&quot; assertion. A drop-down menu 
 appears. Select <span style="font-weight: bold;"><B>SOAP Attachment Properties</B></span></p></li>
</ul>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 You can also double-click the assertion in the Policy Development window 
 to open the SOAP Attachment Properties form. &nbsp;&nbsp;</p>
</div>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>The SOAP Attachment Properties form appears. Configure 
 or edit attachment parameters as outlined in Steps #3-5 in <a href="#Add_and_Configure_the_SOAP_Request_with_Attachment_Assertion">Add 
 and Configure the SOAP Request with Attachment Assertion</a>.</p></li>
</ul>

<h6>&nbsp;</h6>

<h4>Next Topic: </h4>

<p><a href="Configure_Edit_Message_Routing_Assertions.htm">Configure and 
 Edit Message Routing Assertions</a></p>

<h6>&nbsp;</h6>

</body>

</html>
