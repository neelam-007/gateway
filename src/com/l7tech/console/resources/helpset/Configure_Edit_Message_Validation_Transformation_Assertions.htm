<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>





<head>

<title>Configure/Edit Message Validation/Transformation Assertions</title>



 <meta http-equiv=content-type content="text/html; charset=windows-1252">
<meta name=topic-status content="In Progress">
<meta name=topic-check-list content="Ran Smart Index">
<meta name=topic-priority content=0>
<meta name=topic-time-estimate content=0>
<meta name=topic-comment content>
<meta name=topic-id content="Configure/Edit XML Transformation/Validation Assertions">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=25314>
<meta name=layout-width content=767>
<meta name=x-ignored-words content="SecureSpan;Workflow;LDAP;IIP;WSS;TLS;SiteMinder;Symantec;JMS;SAML;FIP;CIDR;Namespace;EIPs;XPath;GenericLDAP;Timeout;IP;MSAD;SSL;Login;Tivoli;TivoliLDAP;Uptime;WS;WSDL;XSLT;HTTP(S;screenshots;ui;asc;desc;int;BFILENAME;FROM_TZ;NUMTODSINTERVAL;NUMTOYMINTERVAL;TO_TIMESTAMP_TZ;TZ_OFFSET;timestamp;add-ons;Netegrity;NotOnOrAfter;saml;requestor;soapenv;timestamps;uptime;Unix;cert;francis;firewall;policy.templates;exp;provider(s;assertion(s;encapsules;admin;popup;user(s;CTRL;username;Username;Xml-based;DMZ;non-invasively;Linux;Solaris;internetworking;SOAPAction;Beatty;ext;GUI-based;GUI;scalable;PKI-based;offloads;toolset;WS-Security;Services@https;servername;namespace;Gateway(s;tempuri.org;Name.wsdl;yourcompany.com;MyWebService.wsdl.;schemas.xmlsoap.org;wsdl;URIs;GetQuoteResponse;stockSymbol;StockInfo;getQuote;getQuoteRequest;getQuoteResponse;operation(s;StockServiceSOAPBinding;StockQuote;localhost;ws;TCP;IIPs;criteria--username;headers--for;SHA;form--for;cleartext;folder(s;SSL-TLS;yuk;workflow;detail(s;AES;node(s;Avg;min;CDE;Kunststoff;login;timeout;SSGAdmin;hostname;Admin;substring;DN;myLDAP;ldap;ldapserver;dc=com;myMSAD;ou=Layer;dc=LOCAL;hostname.domain;mygateway;mycompany.com;mygateway.mycompany.com.;IIS;mail.abc.com;ou=ABC;dc=ABC;mybrowse;mypassword;LdapErr;vece;findAllHeaders;myName;myPassword;myCompany;SLA;ReType;Inc;SNMP;ssg;conf;serverconfig_override.properties;Hostname;IANA;OID;UsernameToken;PEM;cred;certs;Xml;HttpClientCert;n.m;xxxx;System.NullReferenceException;C;IPAddress;MyGateway;MyGateway.MyCompany.com.;MyGateway.MyCompany.com;servername.company.com.;SLL;Wsdl;searchability;JGoodies;XP;connection(s;WebSphere;MQ;JNDI;requestors;JMS-to-JMS;iJMS;oJMS;Requestor;requestor-designated;JMS-to-HTTP;HTTP-to-JMS;cn=GatewayQueue;GatewayQueue;servername.company.com;dc=companydomain;QueueConnectionFactory;cn=QueueConnectionFactoryJNDIName;QueueConnectionFactoryJNDIName;com.sun.jndi.ldap.LdapCtxFactory.;unregister;Expiry;PDF;www.zvon.org;xxl;XPathTutorial;www.purpletech.com;xpe;index.jsp;xpath;pls;Stylesheet;eXtensible;elementName;attributeName;local-name(;xpath#function-local-name;examples.html;WSDL-based;namespaces;boolean(s;CID;Namespaces;attachment(s;KB;POSTed;Multipart;xml">




 <link rel="StyleSheet" href="SecureSpan.css">



 <META NAME="generator" CONTENT="RoboHelp by eHelp Corporation www.ehelp.com">
</head>




<body>

<h1>Configure and Edit Message Validation/Transformation Assertions</h1>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 The Symantec Virus Scanning assertion, if present, is an optional SecureSpan™ 
 add-on assertion. See <a href="Optional_Add-On_Assertion_Overview.htm">Optional 
 Add-On Assertions Overview</a> for more information.</p>
</div>

<p style="margin-bottom: 9pt;">In the SecureSpan™ Manager, the following 
 assertions are available in the Message Validation/Transformation category 
 of the [Assertions] tab:</p>

<p class="space">&nbsp;</p>

<p><img src="4.gif" x-maintain-ratio="TRUE" style="border: none;
				margin-left: 0px;
				margin-right: 0px;
				margin-top: 10px;
				margin-bottom: 2px;
				width: 306px;
				height: 385px;
				float: none;
				border-style: none;
				border-style: none;" width="306" height="385" border="0"></p>

<h6 style="margin-top: 2pt;
			margin-bottom: 10pt;
			color: #c0c0c0;">The Message Validation/Transformation Category 
 of the [Assertions] Tab</h6>

<p>&nbsp;</p>

<h4>Quick Links:</h4>

<p class="quicklinks"><a href="#Evaluate_Request_XPath">Evaluate Request 
 XPath</a></p>

<p class="quicklinks"><a href="#Evaluate_Response_XPath">Evaluate Response 
 XPath</a></p>

<p class="quicklinks"><a href="#Validate_XML_Schema">Validate XML Schema</a></p>

<p class="quicklinks"><a href="#XSL_Transformation">XSL Transformation</a></p>

<p class="quicklinks"><a href="#SOAP_Request_with_Attachment">SOAP Request 
 with Attachment</a></p>

<p class="quicklinks"><a href="#Regular_Expression">Regular Expression</a></p>

<p class="quicklinks"><a href="#Translate_HTTP_Form_to_MIME">Translate HTTP 
 Form to MIME</a></p>

<p class="quicklinks"><a href="#Translate_MIME_to_HTTP_Form">Translate MIME 
 to HTTP Form</a></p>

<p class="quicklinks">&nbsp;</p>

<h2 style="color: #000000;"><a name=Evaluate_Request_XPath
								style="color: #000000;">Evaluate Request 
 XPath</a></h2>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 The Evaluate Request XPath assertion supports the XPath 1.0 standard. 
 Ensure that you are familiar with XPath patterns and specifications before 
 you configure the Evaluate Request XPath assertion. The Evaluate Request 
 XPath assertion must be placed anywhere before the routing assertion in 
 a policy. For information about routing assertions, see <a href="Configure_Edit_Message_Routing_Assertions.htm">Configure 
 and Edit Message Routing Assertions</a>. For information on the policy 
 and assertion rules used in the SecureSpan™ Manager, see <a href="Policy_Organization_and_Rules.htm">Policy 
 Organization and Rules</a>.</p>
</div>

<p style="color: #000000;">The Evaluate Request XPath assertion allows 
 you to configure a specific XPath query pattern for incoming XML request 
 messages. The XPath query targets specific parts of the message, evaluating 
 its document structure and/or XML data. When the assertion executes, it 
 runs the XPath pattern against the request. If the XPath is a boolean 
 expression, the assertion succeeds only if the boolean expression evaluates 
 to true. If the XPath selects nodes, the assertion succeeds only if the 
 list of matching nodes is non-empty. In any other case, including an XPath 
 error, the assertion fails. </p>

<p style="color: #000000;">&nbsp;</p>

<p style="color: #000000;">The Evaluate Request XPath assertion can be 
 used, for example, to break a policy into different paths for different 
 types of operations and/or to provide preferential routing to special 
 customers or high dollar value transactions. </p>

<p style="color: #000000;">&nbsp;</p>

<p style="color: #000000;">Using the custom mapping feature, a namespace 
 map can be defined and saved in the XPath assertion. For XML applications, 
 custom namespace mapping is essential for defining the XPath query pattern 
 for incoming XML request messages. For SOAP Web services, the namespace 
 list is automatically populated with the namespaces declared in the WSDL. 
 New namespaces can be added and removed from the default namespace list, 
 but the default namespaces themselves cannot be removed or changed.</p>

<p>&nbsp;</p>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 View XPath query results in the Gateway Audit Event window. See <a HREF="View_Gateway_Audit_Events.htm">View 
 Gateway Audit Events</a> for information.</p>
</div>

<p>&nbsp;</p>

<h3 style="color: #000000;"><a name=Add_and_Configure_the_Evaluate_Request_XPath_Assertion
								style="color: #000000;">Add and Configure 
 the Evaluate Request XPath Assertion</a></h3>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Add the assertion to the Policy Development window 
 by one of two methods:</p></li>
</ol>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Drag and drop the assertion from the [<span 
 style="font-weight: bold;"><B>Assertions</B></span>] tab into the Policy Development 
 window, or &nbsp;</p></li>
		
		<li class="kadov-p"><p>Highlight the assertion in the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab and click the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
								width: 22px;
								height: 18px;
								margin-left: 0px;
								margin-right: 0px;
								margin-top: 0px;
								margin-bottom: -2.5px;
								float: none;
								border-style: none;
								border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar. </p></li>
	</ul>
</ol>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The &quot;Request must match XPath&quot; assertion 
 is added to the Policy Development window. Right-click the assertion. 
 A drop-down menu appears. Select <span style="font-weight: bold;"><B>Evaluate 
 Request XPath Properties</B></span>.</p></li>
</ol>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>A different Evaluate Request XPath Properties 
 form appears for Web services and XML applications:</p></li>
</ol>

<h4 style="margin-left: 40px;">Web Service Policy</h4>

<p style="margin-left: 40px;">When using the Evaluate Request XPath assertion 
 in a Web service policy:</p>

<h6>&nbsp;</h6>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p><span style="margin-left: 0px;">Select the 
 operation that contains the request path that you want evaluated from 
 the Web Service Operations window.</span></p></li>
	</ol>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 The operations are loaded from the Web service WSDL code. For information 
 about the WSDL that defines a Web service, see <a href="Manage_SOAP_Web_Services.htm">Manage 
 SOAP Web Services</a>.</p>
</div>

<ol style="list-style: decimal;"
	type=1>
	
	<ol start=2
		style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">The XML code for 
 the operation appears as expanded nodes in the Code window. Click the 
 target request path.</p></li>
	</ol>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 Clicking, or highlighting, a path selects it (and any child code) for 
 the evaluation. To collapse the expanded nodes, click &nbsp;<img src="CollapseNode.gif" x-maintain-ratio="TRUE" style="border: none;
			float: none;
			width: 20px;
			height: 20px;
			border-style: none;
			border-style: none;" width="20" height="20" border="0">. To re-expand the nodes, click &nbsp;<img src="ExpandNode.gif" x-maintain-ratio="TRUE" style="border: none;
			float: none;
			width: 20px;
			height: 20px;
			border-style: none;
			border-style: none;" width="20" height="20" border="0">. </p>
</div>

<p style="margin-left: 80px;"><img src="EvalReqXpath.gif" x-maintain-ratio="TRUE" style="border: none;
											margin-left: 0px;
											margin-right: 0px;
											margin-top: 4px;
											margin-bottom: 10px;
											width: 625px;
											height: 365px;
											float: none;
											border-style: none;
											border-style: none;" width="625" height="365" border="0"></p>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 The SecureSpan™ Manager will only build an XPath statement to a node. 
 If you want to put in additional boolean expressions for an element, then 
 select the target element and manually add the boolean(s) into the XPath 
 field.</p>
</div>

<ol>
	
	<ol start=3>
		
		<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Optionally 
 add namespaces to the default namespaces gleaned from the Web service 
 WSDL as follows:</p></li>
	</ol>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 You cannot change or remove the namespaces originating from the WSDL document. 
 You can, however, add and remove any namespaces added with the [Namespaces] 
 button in the Evaluate Request XPath Properties form.</p>
</div>

<ol style="list-style: disc;"
	type=disc>
	
	<ol style="list-style: disc;"
		type=disc>
		
		<ol style="list-style: decimal;"
			type=1>
			
			<li style="color: #0000ff; /*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Click 
 [<span style="font-weight: bold;"><B>Namespaces</B></span>]. The Edit Namespaces 
 and Prefixes form appears with the default WSDL namespaces and prefixes.</p></li>
			
			<li style="color: #0000ff; /*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Click 
 [<span style="font-weight: bold;"><B>Add</B></span>]. The XML Namespace form 
 appears.</p></li>
			
			<li style="color: #0000ff; /*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Enter 
 the prefix for the new namespace into the <span style="font-weight: bold;"><B>Prefix</B></span> 
 field.</p></li>
			
			<li style="color: #0000ff; /*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Enter 
 the new namespace into the <span style="font-weight: bold;"><B>Namespace 
 URL</B></span> field.</p></li>
			
			<li style="color: #0000ff; /*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Repeat 
 to enter additional namespaces. When completed, click [<span style="font-weight: bold;"><B>OK</B></span>].</p></li>
		</ol>
	</ol>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 To remove a namespace from the Edit Namespaces and Prefixes form, select 
 the target namespace from the table and click [Remove].</p>
</div>

<ol>
	
	<ol start=4>
		
		<li class="kadov-p"><p style="margin-left: 0px;">In the Evaluate 
 Request XPath Properties form, click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The modified assertion is added to the Policy Development window. Repeat 
 to evaluate additional request paths. </p></li>
	</ol>
</ol>

<h4 style="margin-left: 40px;">XML Application Policy</h4>

<p style="margin-left: 40px;">When using the Evaluate Request XPath assertion 
 in an XML application policy:</p>

<p style="margin-left: 40px;">&nbsp;</p>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Enter 
 an XPath expression corresponding to the target request element in the 
 field. </p></li>
	</ol>
</ol>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ol start=2
		style="list-style: decimal;"
		type=1>
		
		<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Add, 
 edit, or remove one or more namespaces for the request XPath as follows:</p></li>
	</ol>
</ol>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ol start=2
		style="list-style: decimal;"
		type=1>
		
		<ol style="list-style: decimal;"
			type=1>
			
			<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Click 
 [<span style="font-weight: bold;"><B>Namespaces</B></span>]. The Edit Namespaces 
 and Prefixes form appears.</p></li>
			
			<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Click 
 [<span style="font-weight: bold;"><B>Add</B></span>]. The XML Namespace form 
 appears.</p></li>
			
			<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Enter 
 the prefix for the new namespace into the <span style="font-weight: bold;"><B>Prefix</B></span> 
 field.</p></li>
			
			<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Enter 
 the new namespace into the <span style="font-weight: bold;"><B>Namespace 
 URL</B></span> field.</p></li>
			
			<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Repeat 
 to enter additional namespaces. When completed, click [<span style="font-weight: bold;"><B>OK</B></span>].</p></li>
		</ol>
	</ol>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 To remove a namespace from the Edit Namespaces and Prefixes form, select 
 the target namespace from the table and click [Remove].</p>
</div>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ol start=3
		style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p>Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The modified assertion is added to the Policy Development window. Repeat 
 to evaluate additional request paths. </p></li>
	</ol>
</ol>

<h3>Edit the Evaluate Request XPath Assertion</h3>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>In the Policy Development window, right-click 
 the &quot;Request must match XPath&quot; assertion. A drop-down menu appears. 
 Select <span style="font-weight: bold;"><B>Evaluate Request XPath Properties</B></span></p></li>
</ul>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p style="font-weight: normal;">The Evaluate Request 
 XPath Properties form appears. Edit the assertion as required. See <a 
 href="#Add_and_Configure_the_Evaluate_Request_XPath_Assertion">Add and 
 Configure the Evaluate Request XPath Assertion</a> for Web service or 
 XML application-specific instructions.</p></li>
</ul>

<p style="font-weight: normal;">&nbsp;</p>

<h2 style="color: #000000;"><a name=Evaluate_Response_XPath
								style="color: #000000;">Evaluate Response 
 XPath</a></h2>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 The Evaluate Response XPath assertion supports the XPath 1.0 standard. 
 Ensure that you are familiar with XPath patterns and specifications before 
 you configure the Evaluate Response XPath assertion. The Evaluate Response 
 XPath assertion must be placed anywhere after the routing assertion in 
 a policy. For information about routing assertions, see <a href="Configure_Edit_Message_Routing_Assertions.htm">Configure 
 and Edit Message Routing Assertions</a>. For information on the policy 
 and assertion rules used in the SecureSpan™ Manager, see <a href="Policy_Organization_and_Rules.htm">Policy 
 Organization and Rules</a>.</p>
</div>

<p style="color: #000000;">The Evaluate Response XPath assertion allows 
 you to configure a specific XPath query pattern for outgoing XML response 
 messages. The XPath query targets specific parts of the message, evaluating 
 its document structure and/or XML data. When the assertion executes, it 
 runs the XPath pattern against the response. If the XPath is a boolean 
 expression, the assertion succeeds only if the boolean expression evaluates 
 to true. If the XPath selects nodes, the assertion succeeds only if the 
 list of matching nodes is non-empty. In any other case, including an XPath 
 error, the assertion fails. </p>

<h6 style="color: #000000;">&nbsp;</h6>

<p>The Evaluate Response XPath assertion can be used, for example, to break 
 a policy into different paths for different types of operations and/or 
 to provide preferential routing to special customers or high dollar value 
 transactions. </p>

<p>&nbsp;</p>

<p style="color: #000000;">Using the custom mapping feature, a namespace 
 map can be defined and saved in the XPath assertion. For XML applications, 
 custom namespace mapping is essential for defining the XPath query pattern 
 for outgoing XML response messages. For SOAP Web services, the namespace 
 list is automatically populated with the namespaces declared in the WSDL. 
 New namespaces can be added and removed from the default namespace list, 
 but the default namespaces themselves cannot be removed or changed.</p>

<p style="color: #000000;">&nbsp;</p>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 View XPath query results in the Gateway Audit Event window. See <a href="View_Gateway_Audit_Events.htm">View 
 Gateway Audit Events</a> for information.</p>
</div>

<p>&nbsp;</p>

<h3 style="color: #000000;"><a name=Add_and_Configure_the_Evaluate_Response_XPath_Assertion
								style="color: #000000;">Add and Configure 
 the Evaluate Response XPath Assertion</a></h3>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Add the assertion to the Policy Development window 
 by one of two methods:</p></li>
</ol>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Drag and drop the assertion from the [<span 
 style="font-weight: bold;"><B>Assertions</B></span>] tab into the Policy Development 
 window, or &nbsp;</p></li>
		
		<li class="kadov-p"><p>Highlight the assertion in the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab and click the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
								width: 22px;
								height: 18px;
								margin-left: 0px;
								margin-right: 0px;
								margin-top: 0px;
								margin-bottom: -2.5px;
								float: none;
								border-style: none;
								border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar. </p></li>
	</ul>
</ol>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The &quot;Response must match XPath&quot; assertion 
 is added to the Policy Development window. Right-click the assertion. 
 A drop-down menu appears. Select <span style="font-weight: bold;"><B>Evaluate 
 Response XPath Properties</B></span>.</p></li>
</ol>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>A different Evaluate Response XPath Properties 
 form appears for Web services and XML applications:</p></li>
</ol>

<h4 style="margin-left: 40px;">Web Service Policy</h4>

<p style="margin-left: 40px;">When using the Evaluate Response XPath assertion 
 in a Web service policy:</p>

<h6>&nbsp;</h6>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p><span style="margin-left: 0px;">Select the 
 operation that contains the response path that you want evaluated from 
 the Web Service Operations window.</span></p></li>
	</ol>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 The operations are loaded from the Web service WSDL code. For information 
 about the WSDL that defines a Web service, see <a href="Manage_SOAP_Web_Services.htm">Manage 
 SOAP Web Services</a>.</p>
</div>

<ol style="list-style: decimal;"
	type=1>
	
	<ol start=2
		style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">The XML code for 
 the operation appears as expanded nodes in the Code window. Click the 
 target response path.</p></li>
	</ol>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 Clicking, or highlighting, a path selects it (and any child code) for 
 evaluation. To collapse the expanded nodes, click &nbsp;<img src="CollapseNode.gif" x-maintain-ratio="TRUE" style="border: none;
			float: none;
			width: 20px;
			height: 20px;
			border-style: none;
			border-style: none;" width="20" height="20" border="0">. To re-expand the nodes, click &nbsp;<img src="ExpandNode.gif" x-maintain-ratio="TRUE" style="border: none;
			float: none;
			width: 20px;
			height: 20px;
			border-style: none;
			border-style: none;" width="20" height="20" border="0">. The SecureSpan™ Manager will only build an XPath statement 
 to a node. If you want to put in additional boolean expressions for an 
 element, then select the target element and manually add the boolean(s) 
 into the XPath field.</p>
</div>

<ol>
	
	<ol start=3>
		
		<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Optionally 
 add namespaces to the default namespaces gleaned from the Web service 
 WSDL as follows:</p></li>
	</ol>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 You cannot change or remove the namespaces originating from the WSDL document. 
 You can, however, add and remove any namespaces added with the [Namespaces] 
 button in the Evaluate Response XPath Properties form.</p>
</div>

<ol style="list-style: disc;"
	type=disc>
	
	<ol style="list-style: disc;"
		type=disc>
		
		<ol style="list-style: decimal;"
			type=1>
			
			<li style="color: #0000ff; /*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Click 
 [<span style="font-weight: bold;"><B>Namespaces</B></span>]. The Edit Namespaces 
 and Prefixes form appears with the default WSDL namespaces and prefixes.</p></li>
			
			<li style="color: #0000ff; /*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Click 
 [<span style="font-weight: bold;"><B>Add</B></span>]. The XML Namespace form 
 appears.</p></li>
			
			<li style="color: #0000ff; /*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Enter 
 the prefix for the new namespace into the <span style="font-weight: bold;"><B>Prefix</B></span> 
 field.</p></li>
			
			<li style="color: #0000ff; /*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Enter 
 the new namespace into the <span style="font-weight: bold;"><B>Namespace 
 URL</B></span> field.</p></li>
			
			<li style="color: #0000ff; /*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Repeat 
 to enter additional namespaces. When completed, click [<span style="font-weight: bold;"><B>OK</B></span>].</p></li>
		</ol>
	</ol>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 To remove a namespace from the Edit Namespaces and Prefixes form, select 
 the target namespace from the table and click [Remove].</p>
</div>

<ol>
	
	<ol start=4>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The modified assertion is added to the Policy Development window. Repeat 
 to evaluate additional response paths. </p></li>
	</ol>
</ol>

<h4 style="margin-left: 40px;">XML Application Policy</h4>

<p style="margin-left: 40px;">When using the Evaluate Response XPath assertion 
 in an XML application policy:</p>

<p style="margin-left: 40px;">&nbsp;</p>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Enter 
 an XPath expression corresponding to the target response element in the 
 field. </p></li>
	</ol>
</ol>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ol start=2
		style="list-style: decimal;"
		type=1>
		
		<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Add, 
 edit, or remove one or more namespaces for the response XPath as follows:</p></li>
	</ol>
</ol>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ol start=2
		style="list-style: decimal;"
		type=1>
		
		<ol style="list-style: decimal;"
			type=1>
			
			<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Click 
 [<span style="font-weight: bold;"><B>Namespaces</B></span>]. The Edit Namespaces 
 and Prefixes form appears.</p></li>
			
			<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Click 
 [<span style="font-weight: bold;"><B>Add</B></span>]. The XML Namespace form 
 appears.</p></li>
			
			<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Enter 
 the prefix for the new namespace into the <span style="font-weight: bold;"><B>Prefix</B></span> 
 field.</p></li>
			
			<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Enter 
 the new namespace into the <span style="font-weight: bold;"><B>Namespace 
 URL</B></span> field.</p></li>
			
			<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="margin-left: 0px; color: #000000;">Repeat 
 to enter additional namespaces. When completed, click [<span style="font-weight: bold;"><B>OK</B></span>].</p></li>
		</ol>
	</ol>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 To remove a namespace from the Edit Namespaces and Prefixes form, select 
 the target namespace from the table and click [Remove].</p>
</div>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ol start=3
		style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p>Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The modified assertion is added to the Policy Development window. Repeat 
 to evaluate additional response paths. </p></li>
	</ol>
</ol>

<h3>Edit the Evaluate Response XPath Assertion</h3>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>In the Policy Development window, right-click 
 the &quot;Response must match XPath&quot; assertion. A drop-down menu 
 appears. Select <span style="font-weight: bold;"><B>Evaluate Response XPath 
 Properties</B></span></p></li>
</ul>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p style="font-weight: normal;">The Evaluate Response 
 XPath Properties form appears. Edit the assertion as required. See <a 
 href="#Add_and_Configure_the_Evaluate_Response_XPath_Assertion">Add and 
 Configure the Evaluate Response XPath Assertion</a> for instructions for 
 Web service or XML application-specific instructions.</p></li>
</ul>

<p style="font-weight: normal;">&nbsp;</p>

<h2 style="color: #000000;"><a name=Validate_XML_Schema
								style="color: #000000;">Validate XML Schema</a></h2>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 A policy can contain a Validate XML Schema assertion for both request 
 and response messages. The application of the schema to a particular type 
 of message is determined by the assertion's placement either before (request 
 messages) or after (response messages) the routing assertion. If available, 
 specific request message or response message schema elements can also 
 be extracted from a Web service's WSDL document. For information about 
 routing assertions, see <a href="Configure_Edit_Message_Routing_Assertions.htm">Configure 
 and Edit Message Routing Assertions</a>. For information on the policy 
 and assertion rules used in the SecureSpan™ Manager, see <a href="Policy_Organization_and_Rules.htm">Policies 
 Overview and Rules</a>.</p>
</div>

<p>The Validate XML Schema assertion allows you to specify a schema for 
 validating a Web service or XML application request or response message. 
 The XML Schema used in the policy can be extracted from the Web service 
 WSDL (if available), loaded from a URL or local file, or captured manually 
 in the SecureSpan™ Manager. </p>

<p>&nbsp;</p>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 XML schemas can be defined to protect against some common Web service 
 threats. See the Layer 7 Technologies document &quot;Web Service and XML 
 Threat Protection Strategies using SecureSpan™ for more information.</p>
</div>

<p>&nbsp;</p>

<h3 style="color: #000000;"><a name=Add_and_Configure_the_Validate_XML_Schema_Assertion
								style="color: #000000;">Add and Configure 
 the Validate XML Schema Assertion</a></h3>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Add the assertion to the Policy Development window 
 by one of two methods:</p></li>
</ol>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Drag and drop the assertion from the [<span 
 style="font-weight: bold;"><B>Assertions</B></span>] tab into the Policy Development 
 window, or &nbsp;</p></li>
		
		<li class="kadov-p"><p>Highlight the assertion in the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab and click the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
								width: 22px;
								height: 18px;
								margin-left: 0px;
								margin-right: 0px;
								margin-top: 0px;
								margin-bottom: -2.5px;
								float: none;
								border-style: none;
								border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar. </p></li>
	</ul>
</ol>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The Schema Validation Properties form appears. 
 Select a schema for the assertion by one of three methods:</p></li>
</ol>

<h3 style="margin-left: 40px; color: #000000;"><a name=Extract_Schema_from_Web_Service_WSDL
													style="color: #000000;">Extract 
 Schema from Web Service WSDL</a></h3>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 A WSDL-based schema is typically only included in document-style Web services.</p>
</div>

<p style="margin-left: 40px;">To extract the schema from the Web service 
 WSDL document:</p>

<h6>&nbsp;</h6>

<ul style="list-style: disc;"
	type=disc>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">In the Schema Validation 
 Properties form, click [<span style="font-weight: bold;"><B>Extract Schema 
 from WSDL</B></span>]. The Extract Schema from WSDL form appears. </p></li>
	</ol>
	
	<ol start=2
		style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Do one of the following:</p></li>
		
		<ul style="list-style: disc;"
			type=disc>
			
			<li class="kadov-p"><p style="margin-left: 0px;">If the WSDL 
 document contains one schema, then the SecureSpan™ Manager automatically 
 loads the schema name in the <span style="font-weight: bold;"><B>Select the 
 WSDL Schema to Extract</B></span> drop-down list with the corresponding schema 
 code in the Code window. Proceed to Step #3 below</p></li>
			
			<li class="kadov-p"><p style="margin-left: 0px;">If the WSDL 
 document contains more than one schema, select the target schema from 
 the <span style="font-weight: bold;"><B>Select the WSDL Schema to Extract</B></span> 
 drop-down list. The schema code appears in the Code window. Proceed to 
 Step #3 below.</p></li>
		</ul>
	</ol>
	
	<ol start=3
		style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Select one of the 
 following:</p></li>
	</ol>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<ul style="list-style: disc;"
			type=disc>
			
			<li class="kadov-p"><p style="margin-left: 0px;">To extract the 
 entire schema, select the <span style="font-weight: bold;"><B>Import Entire 
 Schema</B></span> option</p></li>
			
			<li class="kadov-p"><p style="margin-left: 0px;">To extract the 
 schema elements particular to request messages, select the <span style="font-weight: bold;"><B>Import 
 Request-Specific Elements Only</B></span> option</p></li>
			
			<li class="kadov-p"><p style="margin-left: 0px;">To extract the 
 schema elements particular to response messages, select the <span style="font-weight: bold;"><B>Import 
 Response-Specific Elements Only</B></span> option.</p></li>
		</ul>
	</ol>
	
	<ol start=4
		style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The schema appears in the Validation Schema window in the Schema Validation 
 Properties form. <span style="margin-left: 40px;">Proceed to Step #3 below.</span></p></li>
	</ol>
</ul>

<h3 style="margin-left: 40px; color: #000000;">Load the Schema from a URL</h3>

<p style="margin-left: 40px;">To load the schema from a URL:</p>

<ul style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p style="margin-left: 0px;">In the Schema Validation 
 Properties form, enter the URL into the <span style="font-weight: bold;"><B>Load 
 Schema from URL</B></span> field</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Click [<span style="font-weight: bold;"><B>Load</B></span>]. 
 The schema appears in the Validation Schema window. Proceed to Step #3<span 
 style="margin-left: 40px;"> below.</span></p></li>
	</ul>
</ul>

<h3 style="margin-left: 40px;">Load the Schema from a File</h3>

<p style="margin-left: 40px;">To load the schema from a local file:</p>

<ul style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p style="margin-left: 0px;">In the Schema Validation 
 Properties form, click [<span style="font-weight: bold;"><B>Load Schema from 
 File</B></span>]. The Open form appears</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Navigate to the 
 location of the target schema. Select the file, and then click [<span 
 style="font-weight: bold;"><B>Open</B></span>]</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">The schema appears 
 in the Validation Schema window. Proceed to Step #3<span style="margin-left: 40px;"> 
 below.</span></p></li>
	</ul>
</ul>

<h6>&nbsp;</h6>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p style="margin-left: 0px;">SOAP messages only: 
 In the Schema Applies To section of the form, specify the portion of the 
 message that will be validated by the schema:</p></li>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Select the <span 
 style="font-weight: bold;"><B>Entire Message Body</B></span> option to apply 
 the schema to each element under the soap:Body element in a message</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Select the <span 
 style="font-weight: bold;"><B>Message Arguments</B></span> option to apply the 
 schema to the children elements under the first child element under the 
 soap:Body. This is typically used in RPC/literal-style Web services where 
 the argument elements themselves are not declared in the schema.</p></li>
	</ul>
	
	<li class="kadov-p"><p style="margin-left: 0px;">Optionally insert a 
 file, edit, search, parse, format, or comment the schema as follows:</p></li>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 Any change made via the right-click Validation Schema window menu can 
 be undone. To undo the last change, select Undo from the drop-down menu. 
 The redo an undone change, select Redo from the drop-down menu.</p>
</div>

<h4 style="margin-left: 40px;">Quick Links:</h4>

<p class="quicklinks" style="margin-left: 40px;"><a href="#Insert_a_File_into_the_Schema">Insert 
 a File into the Schema</a></p>

<p class="quicklinks" style="margin-left: 40px;"><a href="#Edit_the_Schema">Edit the Schema</a></p>

<p class="quicklinks" style="margin-left: 40px;"><a href="#Search_the_Schema_Nodes">Search 
 the Schema Nodes</a></p>

<p class="quicklinks" style="margin-left: 40px;"><a href="#Parse_the_Schema">Parse the Schema</a></p>

<p class="quicklinks" style="margin-left: 40px;"><a href="#Parse_the_Schema">Format the Schema</a></p>

<p class="quicklinks" style="margin-left: 40px;"><a href="#Comment_the_Schema">Comment the 
 Schema</a></p>

<h3 style="margin-left: 40px; color: #000000;"><a name=Insert_a_File_into_the_Schema
													style="color: #000000;">Insert 
 a File into the Schema</a></h3>

<p style="margin-left: 40px;">To insert an XML file into the schema:</p>

<ul style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Place the cursor 
 at the desired insert location in the Validation Schema window.</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Right-click inside 
 the Validation Schema window. A drop-down menu appears. </p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Select <span style="font-weight: bold;"><B>Document</B></span> 
 &gt; <span style="font-weight: bold;"><B>Insert File</B></span>. The Open form 
 appears.</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Navigate to and 
 select the target XML file. Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The XML content is inserted into the schema.</p></li>
	</ol>
</ul>

<h3 style="margin-left: 40px; color: #000000;"><a name=Edit_the_Schema
													style="color: #000000;">Edit 
 the Schema</a></h3>

<p style="margin-left: 40px;">To cut, copy, and/or paste schema content, 
 right-click inside the Validation Schema window. A drop-down menu appears:</p>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p style="margin-left: 0px;">To cut or copy content, 
 select the target content and click <span style="font-weight: bold;"><B>Cut</B></span> 
 or <span style="font-weight: bold;"><B>Copy</B></span></p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">To paste content, 
 select a target location and click <span style="font-weight: bold;"><B>Paste</B></span>.</p></li>
	</ul>
</ol>

<h3 style="margin-left: 40px; color: #000000;"><a name=Search_the_Schema_Nodes
													style="color: #000000;">Search 
 the Schema Nodes</a></h3>

<p style="margin-left: 40px;">To search the nodes in the schema:</p>

<ul style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Right-click inside 
 the Validation Schema window. A drop-down menu appears. </p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Select <span style="font-weight: bold;"><B>Search 
 a Node</B></span>. The Search form appears containing an expandable list of 
 the nodes within the schema. <span style="margin-left: 80px;">To view 
 the schema location of a node in the Search form, click the node. The 
 node's corresponding location in the Validation Schema window is highlighted.</span></p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;"><span style="margin-left: 0px;">Click 
 [</span><span style="margin-left: 0px; font-weight: bold;"><B>OK</B></span><span 
 style="margin-left: 0px;">] to close the Search form. </span></p></li>
	</ol>
</ul>

<h3 style="margin-left: 40px; color: #000000;"><a name=Parse_the_Schema
													style="color: #000000;">Parse 
 the Schema</a></h3>

<p style="margin-left: 40px;">To parse the schema XML:</p>

<ul style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Right-click inside 
 the Validation Schema window. A drop-down menu appears. </p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Select <span style="font-weight: bold;"><B>XML 
 </B></span>&gt; <span style="font-weight: bold;"><B>Parse</B></span>. A pop-up status 
 message appears. </p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Note the errors, 
 if any. Click [<span style="font-weight: bold;"><B>OK</B></span>] to close the 
 message. </p></li>
	</ol>
</ul>

<h3 style="margin-left: 40px; color: #000000;"><a name=Format_the_Schema
													style="color: #000000;">Format 
 the Schema</a></h3>

<p style="margin-left: 40px;">To format the schema XML<span style="margin-left: 40px;">, 
 right-click inside the Validation Schema window. A drop-down menu appears. 
 Select </span><span style="margin-left: 40px; font-weight: bold;"><B>XML 
 </B></span><span style="margin-left: 40px;">&gt; </span><span style="margin-left: 40px; font-weight: bold;"><B>Format</B></span><span 
 style="margin-left: 40px;">.</span></p>

<h3 style="margin-left: 40px; color: #000000;"><a name=Comment_the_Schema
													style="color: #000000;">Comment 
 the Schema</a></h3>

<p style="margin-left: 40px;">To insert a comment into the schema: </p>

<ul style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Place the cursor 
 at the desired insert location in the Validation Schema window.</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Right-click inside 
 the Validation Schema window. A drop-down menu appears. </p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Select <span style="font-weight: bold;"><B>XML</B></span> 
 &gt; <span style="font-weight: bold;"><B>Comment</B></span>. The Comment form 
 appears.</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Enter comment text 
 into the window. Multiple lines are allowed.</p></li>
	</ol>
</ul>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 The text does not require comment characters. The SecureSpan™ Manager 
 automatically formats the text as a comment in the Validation Schema window.</p>
</div>

<ul style="list-style: decimal;"
	type=1>
	
	<ol start=5
		style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The comment is inserted into the schema.</p></li>
	</ol>
</ul>

<p style="margin-left: 40px;">&nbsp;</p>

<ol start=5
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p style="margin-left: 0px;">In the Schema Validation 
 Properties form, click [<span style="font-weight: bold;"><B>OK</B></span>]. The 
 configured assertion is added to the Policy Development window. Do one 
 of the following:</p></li>
	
	<ul>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p style="margin-left: 0px;">To apply the schema 
 to request messages, place the &quot;Validate Message's Schema&quot; assertion 
 anywhere before the routing assertion in the Policy Development window</p></li>
	</ul>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 If you extracted request message-specific schema elements using the <a 
 href="#Extract_Schema_from_Web_Service_WSDL">Extract Schema from Web Service 
 WSDL</a> method above, then organize the Validate XML Schema assertion 
 before the policy's routing assertion. For information about routing assertions, 
 see <a href="Configure_Edit_Message_Routing_Assertions.htm">Configure 
 and Edit Message Routing Assertions</a>.</p>
</div>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ul>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p style="margin-left: 0px;">To apply the schema 
 to response messages, place the &quot;Validate Message's Schema&quot; 
 assertion anywhere after the routing assertion in the Policy Development 
 window.</p></li>
	</ul>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 If you extracted response message-specific schema elements using the <a 
 href="#Extract_Schema_from_Web_Service_WSDL">Extract Schema from Web Service 
 WSDL</a> method above, then organize the Validate XML Schema assertion 
 after the policy's routing assertion. For information about routing assertions, 
 see <a href="Configure_Edit_Message_Routing_Assertions.htm">Configure 
 and Edit Message Routing Assertions</a>.</p>
</div>

<ol start=6
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p style="margin-left: 0px;">If required, repeat 
 Steps #1-5 to configure another Validate XML Schema assertion.</p></li>
</ol>

<h3>Edit the Validate XML Schema Assertion</h3>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>In the Policy Development window, right-click 
 the &quot;Validate Message's Schema&quot; assertion. A drop-down menu 
 appears. Select <span style="font-weight: bold;"><B>Schema Validation Properties</B></span>.</p></li>
</ol>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The Schema Validation Properties form appears:</p></li>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Extract or load a new XML schema as outlined 
 in Steps #2-5 in <a href="#XSL_Transformation">Add and Configure the Validate 
 XML Schema Assertion</a></p></li>
		
		<li class="kadov-p"><p>To edit the existing schema, following the 
 instructions in Step #4 in <a href="#XSL_Transformation">Add and Configure 
 the Validate XML Schema Assertion</a></p></li>
		
		<li class="kadov-p"><p>To edit an inserted comment, directly click 
 and replace the comment text in the Validation Schema window as required. 
 To add a new comment, follow the instructions in Step #4 in <a href="#XSL_Transformation">Add 
 and Configure the Validate XML Schema Assertion</a>.</p></li>
	</ul>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 Removing the comment characters when directly editing comment text in 
 the Validation Schema window may invalidate the schema. Ensure that the 
 revised comment text has the &quot;&lt;!--comment text'--&gt;&quot; format.</p>
</div>

<p>&nbsp;</p>

<h2 style="color: #000000;"><a name=XSL_Transformation
								style="color: #000000;">XSL Transformation</a></h2>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 The XSL Transformation assertion supports the XSLT 1.0 standard. A policy 
 can contain an XSL Transformation assertion for both request and response 
 messages. The application of the schema to a particular type of message 
 is determined by the option selected in the XSL Transformation Properties 
 form and the assertion's placement either before (request messages) or 
 after (response messages) the routing assertion. For information about 
 routing assertions, see <a href="Configure_Edit_Message_Routing_Assertions.htm">Configure 
 and Edit Message Routing Assertions</a>. For information on the policy 
 and assertion rules used in the SecureSpan™ Manager, see <a href="Policy_Organization_and_Rules.htm">Policies 
 Overview and Rules</a>.</p>
</div>

<p>The XSL Transformation assertion allows you to compose XSL (Extensible 
 Stylesheet Language) using XSLT (eXtensible Stylesheet Language: Transformations) 
 to transform the structure of an XML request and/or response message into 
 an XML document with a different structure or content. The XSL style sheet 
 specified in the assertion is executed on the message data during the 
 execution of a policy. The post-transformation message becomes the message 
 that is processed by subsequent policy assertions and eventually forwarded 
 to the requestor (response) or service (request). The XSL transformation 
 used in the policy can be edited manually or loaded from a URL or file.</p>

<p>&nbsp;</p>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 A policy can contain more than one XSL Transformation assertion one for 
 the request message and one for the response message and each assertion 
 can specify a different transformation. </p>
</div>

<p>&nbsp;</p>

<h3 style="color: #000000;"><a name=Add_and_Configure_the_XSL_Transformation_Assertion
								style="color: #000000;">Add and Configure 
 the XSL Transformation Assertion</a></h3>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Add the assertion to the Policy Development window 
 by one of two methods:</p></li>
</ol>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Drag and drop the assertion from the [<span 
 style="font-weight: bold;"><B>Assertions</B></span>] tab into the Policy Development 
 window, or &nbsp;</p></li>
		
		<li class="kadov-p"><p>Highlight the assertion in the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab and click the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
								width: 22px;
								height: 18px;
								margin-left: 0px;
								margin-right: 0px;
								margin-top: 0px;
								margin-bottom: -2.5px;
								float: none;
								border-style: none;
								border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar. </p></li>
	</ul>
</ol>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The XSL Transformation Properties form appears. 
 From the <span style="font-weight: bold;"><B>Transformation Target</B></span> 
 drop-down list, select the target message to transform.</p></li>
</ol>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Provide the transformation by one of three methods:</p></li>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 You can also cut and paste the transformation into the XSL Transformation 
 window.</p>
</div>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Enter the XSLT manually into the XSL Transformation 
 window. Proceed to Step #4 below</p></li>
		
		<li class="kadov-p"><p>To load the transformation from a URL, enter 
 the URL into the <span style="font-weight: bold;"><B>Load XSL from URL</B></span> 
 field. Click [<span style="font-weight: bold;"><B>Load</B></span>]. Proceed to 
 Step #4 below</p></li>
		
		<li class="kadov-p"><p>To load the transformation from a local file, 
 click [<span style="font-weight: bold;"><B>Load XSL from File</B></span>]. Search 
 and add the transformation. Proceed to Step #4 below.</p></li>
	</ul>
</ol>

<ol start=4
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The transformation appears in the XSL Transformation 
 window. In the <span style="font-weight: bold;"><B>Name</B></span> field, enter 
 an optional name for the transformation.</p></li>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 The name entered in the Name field will be added to the assertion name 
 in the Policy Development window.</p>
</div>

<ol start=5
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p style="margin-left: 0px;">Optionally insert a 
 file, edit, search, parse, format, or comment the transformation as follows:</p></li>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 Any change made via the right-click XSL Transformation window menu can 
 be undone. To undo the last change, select Undo from the drop-down menu. 
 The redo an undone change, select Redo from the drop-down menu.</p>
</div>

<h4 style="margin-left: 40px;">Quick Links:</h4>

<p class="quicklinks" style="margin-left: 40px;"><a href="#Insert_a_File_into_the_Transformation">Insert 
 a File into the Transformation</a></p>

<p class="quicklinks" style="margin-left: 40px;"><a href="#Edit_the_Transformation">Edit 
 the Transformation</a></p>

<p class="quicklinks" style="margin-left: 40px;"><a href="#Search_the_Transformation_Nodes">Search 
 the Transformation Nodes</a></p>

<p class="quicklinks" style="margin-left: 40px;"><a href="#Parse_the_Transformation">Parse 
 the Transformation</a></p>

<p class="quicklinks" style="margin-left: 40px;"><a href="#Format_the_Transformation">Format 
 the Transformation</a></p>

<p class="quicklinks" style="margin-left: 40px;"><a href="#Comment_the_Transformation">Comment 
 the Transformation</a></p>

<h3 style="margin-left: 40px; color: #000000;"><a name=Insert_a_File_into_the_Transformation
													style="color: #000000;">Insert 
 a File into the Transformation</a></h3>

<p style="margin-left: 40px;">To insert an XML file into the transformation:</p>

<ul style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Place the cursor 
 at the desired insert location in the XSL Transformation window.</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Right-click inside 
 the XSL Transformation window. A drop-down menu appears. </p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Select <span style="font-weight: bold;"><B>Document</B></span> 
 &gt; <span style="font-weight: bold;"><B>Insert File</B></span>. The Open form 
 appears.</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Navigate to and 
 select the target XML file. Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The XML content is inserted into the transformation.</p></li>
	</ol>
</ul>

<h3 style="margin-left: 40px; color: #000000;"><a name=Edit_the_Transformation
													style="color: #000000;">Edit 
 the Transformation</a></h3>

<p style="margin-left: 40px;">To cut, copy, and/or paste transformation 
 content, right-click inside the XSL Transformation window. A drop-down 
 menu appears:</p>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p style="margin-left: 0px;">To cut or copy content, 
 select the target content and click <span style="font-weight: bold;"><B>Cut</B></span> 
 or <span style="font-weight: bold;"><B>Copy</B></span></p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">To paste content, 
 select a target location and click <span style="font-weight: bold;"><B>Paste</B></span>.</p></li>
	</ul>
</ol>

<h3 style="margin-left: 40px; color: #000000;"><a name=Search_the_Transformation_Nodes
													style="color: #000000;">Search 
 the Transformation Nodes</a></h3>

<p style="margin-left: 40px;">To search the nodes in the transformation:</p>

<ul style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Right-click inside 
 the XSL Transformation window. A drop-down menu appears. </p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Select <span style="font-weight: bold;"><B>Search 
 a Node</B></span>. The Search form appears containing an expandable list of 
 the nodes within the transformation. <span style="margin-left: 80px;">To 
 view the transformation location of a node in the Search form, click the 
 node. The node's corresponding location in the XSL Transformation window 
 is highlighted.</span></p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;"><span style="margin-left: 0px;">Click 
 [</span><span style="margin-left: 0px; font-weight: bold;"><B>OK</B></span><span 
 style="margin-left: 0px;">] to close the Search form. </span></p></li>
	</ol>
</ul>

<h3 style="margin-left: 40px; color: #000000;"><a name=Parse_the_Transformation
													style="color: #000000;">Parse 
 the Transformation</a></h3>

<p style="margin-left: 40px;">To parse the transformation XML:</p>

<ul style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Right-click inside 
 the XSL Transformation window. A drop-down menu appears.</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Select <span style="font-weight: bold;"><B>XML 
 </B></span>&gt; <span style="font-weight: bold;"><B>Parse</B></span>. A pop-up status 
 message appears. </p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Note the errors, 
 if any. Click [<span style="font-weight: bold;"><B>OK</B></span>] to close the 
 message. </p></li>
	</ol>
</ul>

<h3 style="margin-left: 40px; color: #000000;"><a name=Format_the_Transformation
													style="color: #000000;">Format 
 the Transformation</a></h3>

<p style="margin-left: 40px;">To format the transformation, right-click 
 inside the XSL Transformation window. A drop-down menu appears. Select 
 <span style="font-weight: bold;"><B>XML </B></span>&gt; <span style="font-weight: bold;"><B>Format</B></span>. 
 </p>

<h3 style="margin-left: 40px; color: #000000;"><a name=Comment_the_Transformation
													style="color: #000000;">Comment 
 the Transformation</a></h3>

<p style="margin-left: 40px;">To insert a comment into the transformation: 
 </p>

<ul style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Place the cursor 
 at the desired insert location in the XSL Transformation window.</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Right-click inside 
 the XSL Transformation window. A drop-down menu appears. </p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Select <span style="font-weight: bold;"><B>XML</B></span> 
 &gt; <span style="font-weight: bold;"><B>Comment</B></span>. The Comment form 
 appears.</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Enter comment text 
 into the window. Multiple lines are allowed.</p></li>
	</ol>
</ul>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 The text does not require comment characters. The SecureSpan™ Manager 
 automatically formats the text as a comment in the XSL Transformation 
 window.</p>
</div>

<ul style="list-style: decimal;"
	type=1>
	
	<ol start=5
		style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The comment is inserted into the transformation.</p></li>
	</ol>
</ul>

<p style="margin-left: 0px;">&nbsp;</p>

<ol start=6
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p style="margin-left: 0px;">Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The configured assertion is added to the Policy Development window. Do 
 one of the following:</p></li>
	
	<ol start=3
		style="list-style: decimal;"
		type=1>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p style="margin-left: 0px;">If you selected 
 &quot;Request&quot; from the <span style="font-weight: bold;"><B>Transformation 
 Target</B></span> drop-down list, then place the &quot;XSL transform request 
 messages&quot; assertion anywhere before the routing assertion in the 
 Policy Development window</p></li>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p style="margin-left: 0px;">If you selected 
 &quot;Response&quot; from the <span style="font-weight: bold;"><B>Transformation 
 Target</B></span> drop-down list, then place the &quot;XSL transform response 
 messages&quot; assertion anywhere after the routing assertion in the Policy 
 Development window.</p></li>
	</ol>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 For information about routing assertions, see <a href="Configure_Edit_Message_Routing_Assertions.htm">Configure 
 and Edit Message Routing Assertions</a>.</p>
</div>

<ol start=7
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p style="margin-left: 0px;">If required, repeat 
 Steps #1-6 to configure another XSL Transformation assertion.</p></li>
</ol>

<h3>Edit the XSL Transformation Assertion</h3>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>In the Policy Development window, right-click 
 the target &quot;XSL transform request messages&quot; or &quot;XSL transform 
 response messages&quot; assertion. A drop-down menu appears. Select <span 
 style="font-weight: bold;"><B>XSL Transformation Properties</B></span>.</p></li>
</ol>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The XSL Transformation Properties form appears:</p></li>
</ol>

<ul style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Specify a new XSL transformation as outlined 
 in Steps #2-6 in <a href="#XSL_Transformation">Add and Configure the XSL 
 Transformation Assertion</a></p></li>
		
		<li class="kadov-p"><p>To edit the existing transformation, following 
 the instructions in Step #5 in <a href="#XSL_Transformation">Add and Configure 
 the XSL Transformation Assertion</a></p></li>
		
		<li class="kadov-p"><p>To edit an inserted comment, directly click 
 and replace the comment text in the XSL Transformation window as required. 
 To add a new comment, follow the instructions in Step #5 in <a href="#XSL_Transformation">Add 
 and Configure the XSL Transformation Assertion</a>.</p></li>
	</ul>
</ul>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 Removing the comment characters when directly editing comment text in 
 the XSL Transformation window may invalidate the transformation. Ensure 
 that the revised comment text has the &quot;&lt;!--comment text'--&gt;&quot; 
 format.</p>
</div>

<p>&nbsp;</p>

<h2 style="color: #000000;"><a name=SOAP_Request_with_Attachment
								style="color: #000000;">SOAP Request with 
 Attachment</a></h2>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 The SOAP Request with Attachment assertion supports the W3C SOAP Messages 
 with Attachment standard. Referencing attachments using CID is supported. 
 Referencing attachments using Content-Location is not supported in the 
 current release. The assertion can only be used in a Web service policy. 
 The assertion must be placed anywhere before the routing assertion. For 
 information about routing assertions, see <a href="Configure_Edit_Message_Routing_Assertions.htm">Configure 
 and Edit Message Routing Assertions</a>. For information on the policy 
 and assertion rules used in the SecureSpan™ Manager, see <a href="Policy_Organization_and_Rules.htm">Policy 
 Organization and Rules</a>.</p>
</div>

<p style="color: #000000;">The SOAP Request with Attachment assertion allows 
 you to validate the size and MIME type of incoming SOAP attachments. The 
 assertion will fail if the request message does not contain an attachment 
 or contains an attachment that was not declared in the WSDL, is too large, 
 or is declared an MIME content-type different from the expected type.</p>

<p>&nbsp;</p>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 You cannot use the SOAP Request with Attachment assertion with the HTTP 
 Digest authentication assertion. For more information about the HTTP Digest 
 assertion, see <a href="Configure_Edit_Access_Control_Assertions.htm">Configure 
 and Edit Authentication Assertions</a>.</p>
</div>

<p>&nbsp;</p>

<h3 style="color: #000000;"><a name=Add_and_Configure_the_SOAP_Request_with_Attachment_Assertion
								style="color: #000000;">Add and Configure 
 the SOAP Request with Attachment Assertion</a></h3>

<ol style="list-style: decimal;"
	type=1>
	
	<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="color: #000000;">Add the assertion to the 
 Policy Development window by one of two methods:</p></li>
</ol>

<ul style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="color: #000000;">Drag and drop the 
 assertion from the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab into the Policy Development window, or &nbsp;</p></li>
		
		<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="color: #000000;">Highlight the assertion 
 in the [<span style="font-weight: bold;"><B>Assertions</B></span>] tab and click 
 the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
					width: 22px;
					height: 18px;
					margin-left: 0px;
					margin-right: 0px;
					margin-top: 0px;
					margin-bottom: -2.5px;
					float: none;
					border-style: none;
					border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar. </p></li>
	</ul>
</ul>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li style="/*begin!kadov{{*/ color: #000000; /*}}end!kadov*/ " class="kadov-p"><p style="color: #000000;">The &quot;SOAP Request 
 with Attachment&quot; assertion is added to the Policy Development window. 
 Right-click the assertion. A drop-down menu appears. Select <span style="font-weight: bold;"><B>SOAP 
 Attachment Properties</B></span>.</p></li>
</ol>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The SOAP Attachment Properties form appears. The 
 Binding, Operations, and Input Parameters corresponding to one or more 
 attachments are automatically populated from the Web service WSDL document. 
 Select the binding that contains the attachment from the <span style="font-weight: bold;"><B>Binding</B></span> 
 drop-down list.</p></li>
</ol>

<ol start=4
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The operation(s) belonging to the binding appear 
 in the Operations window. Select the operation that contains the attachment(s) 
 from the Operations window. </p></li>
	
	<li class="kadov-p"><p>The input parameters for each attachment appear 
 in the Input Parameters window. In each row corresponding to an attachment 
 parameter, the values of the MIME Part Content Type column are populated 
 from the WSDL document, while the values of the MIME Part Length Max column 
 are set to a default size of 1000 kilobytes (KB) by the SecureSpan™ Gateway. 
 In each row corresponding to an attachment parameter, modify the maximum 
 size value in the <span style="font-weight: bold;"><B>MIME Part Length Max</B></span> 
 column as necessary.</p></li>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 Multiple attachments per input parameter are also supported. In this case, 
 the total size of the attachments being referred to by the input parameter 
 cannot exceed the value of the MIME Part Length Max column value corresponding 
 to the input parameter.</p>
</div>

<ol start=6
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Repeat Steps #3-5 to configure additional attachment 
 parameters. When completed, click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The modified assertion is added to the Policy Development window.</p></li>
</ol>

<h3>Edit the SOAP Request with Attachment Assertion</h3>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>In the Policy Development window, right-click 
 the &quot;SOAP Request with Attachment&quot; assertion. A drop-down menu 
 appears. Select <span style="font-weight: bold;"><B>SOAP Attachment Properties</B></span></p></li>
</ul>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>The SOAP Attachment Properties form appears. Configure 
 or edit attachment parameters as outlined in <a href="#Add_and_Configure_the_SOAP_Request_with_Attachment_Assertion">Add 
 and Configure the SOAP Request with Attachment Assertion</a>.</p></li>
</ul>

<p>&nbsp;</p>

<h2 style="color: #000000;"><a name=Regular_Expression
								style="color: #000000;">Regular Expression</a></h2>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 Multiple Regular Expression assertions can exist in a security policy. 
 The Regular Expression assertion or assertions can be placed anywhere 
 before or after the routing assertion in a service policy. For information 
 about the routing assertions, see <a href="Configure_Edit_Message_Routing_Assertions.htm">Configure 
 and Edit Message Routing Assertions</a>. &nbsp;</p>
</div>

<p>The Regular Expression assertion is a powerful tool for detecting, filtering, 
 and/or changing service messages. The assertion allows you to define one 
 or more values that, when present in an incoming request message, will 
 yield a specific processing outcome, change the content of the matched 
 message, or detect particular patterns. </p>

<p>&nbsp;</p>

<p>The Regular Expression assertion has a wide range of uses. For example, 
 it can be configured to enforce a particular date format in request and 
 response messages. The assertion will scan messages for the proper date 
 format. If a message contains a date format that does not conform to the 
 format specified in the assertion, then the assertion will alter the date 
 format prior to processing the message. The Regular Expression assertion 
 can also be used for message mediation. Using its match and replace functionality, 
 the assertion can convert small item changes, such as changing all caps 
 to lower case, or add in a special tag after a particular keyword is detected.</p>

<p>&nbsp;</p>

<p>Pattern matching and replacement are also useful for protecting service 
 applications from various Web service and XML application threats. For 
 specific threat protection strategies using the Regular Expression assertion, 
 see the Layer 7 Technologies document &quot;Web Service and XML Threat 
 Protection Strategies using SecureSpan™.&quot;</p>

<p>&nbsp;</p>

<h3 style="color: #000000;"><a name=Add_and_Configure_the_Regular_Expression_Assertion
								style="color: #000000;">Add and Configure 
 the Regular Expression Assertion</a></h3>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Add the assertion to the Policy Development window 
 by one of two methods:</p></li>
</ol>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Drag and drop the assertion from the [<span 
 style="font-weight: bold;"><B>Assertions</B></span>] tab into the Policy Development 
 window, or &nbsp;</p></li>
		
		<li class="kadov-p"><p>Highlight the assertion in the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab and click the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
								width: 22px;
								height: 18px;
								margin-left: 0px;
								margin-right: 0px;
								margin-top: 0px;
								margin-bottom: -2.5px;
								float: none;
								border-style: none;
								border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar. </p></li>
	</ul>
</ol>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The Regular Expression Assertion form appears. 
 Configure one of the following processing options:</p></li>
</ol>

<h4 style="margin-left: 40px;">Message Will Proceed Upon Match</h4>

<p style="margin-left: 40px;">To configure a pattern match that must exist 
 for a request message to be forwarded to the destined service application:</p>

<ul style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Select the <span 
 style="font-weight: bold;"><B>Proceed if pattern matches</B></span> option.</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">In the Regular Expression 
 window, enter a value.</p></li>
	</ol>
</ul>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 80px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 In version 3.1 of the SecureSpan™ Manager, the Regular Expression assertion 
 can only contain a single value. You can, however, configure multiple 
 Regular Expression assertions for a policy. To ignore the case of any 
 matching values in the incoming request messages, check the Ignore Case 
 check box. </p>
</div>

<ul style="list-style: decimal;"
	type=1>
	
	<ol start=3
		style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The assertion is added to the Policy Development window. </p></li>
	</ol>
</ul>

<h4 style="margin-left: 40px;">Message Will Fail Upon Match</h4>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 The &quot;Do not proceed if pattern matches&quot; processing option is 
 particularly useful for configuring the SecureSpan™ Gateway to protect 
 against specific service threats. See the Layer 7 Technologies document 
 &quot;Web Service and XML Threat Protection Strategies using SecureSpan™&quot; 
 for more information.</p>
</div>

<p style="margin-left: 40px;">To configure one or more values that, upon 
 match, will fail a request message:</p>

<ul style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Select the <span 
 style="font-weight: bold;"><B>Do not proceed if pattern matches</B></span> option.</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">In the Regular Expression 
 window, enter a value.</p></li>
	</ol>
</ul>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 80px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 In version 3.1 of the SecureSpan™ Manager, the Regular Expression assertion 
 can only contain a single value. You can, however, configure multiple 
 Regular Expression assertions for a policy. To ignore the case of any 
 matching values in the incoming request messages, check the Ignore Case 
 check box. </p>
</div>

<ul style="list-style: decimal;"
	type=1>
	
	<ol start=3
		style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The assertion is added to the Policy Development window. </p></li>
	</ol>
</ul>

<h4 style="margin-left: 40px;">Match and Replace Specific Message Values, 
 Then Proceed</h4>

<p style="margin-left: 40px;">To configure a replacement pair that, when 
 present, will cause the replacement of a value or change in format in 
 the message before it is forwarded to the destined service application:</p>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 40px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 You can only configure a single replacement pair for each Regular Expression 
 assertion in a policy. A replacement pair consists of a single match value 
 or format that is replaced by a single replacement value or format before 
 the message is forwarded to the destined service application. </p>
</div>

<ul style="list-style: decimal;"
	type=1>
	
	<ol style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Select the <span 
 style="font-weight: bold;"><B>Match and Replace</B></span> option.</p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">In the Regular Expression 
 window, enter a value or format that must be matched in the incoming request 
 messages.</p></li>
	</ol>
</ul>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 80px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 To ignore the case of any matching values in the incoming request messages, 
 check the Ignore Case check box. </p>
</div>

<ol style="list-style: disc;"
	type=disc>
	
	<ol start=3
		style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">In the Replacement 
 window, enter the replacement value or format that will replace the value 
 or format specified in the Regular Expression window. </p></li>
		
		<li class="kadov-p"><p style="margin-left: 0px;">In the Test Expressions 
 section of the Regular Expression Assertion form, optionally test the 
 replacement pair as follows:</p></li>
	</ol>
	
	<ul style="list-style: decimal;"
		type=1>
		
		<ul style="list-style: disc;"
			type=disc>
			
			<li class="kadov-p"><p style="margin-left: 0px;">Enter some sample 
 text that includes the value or format configured in the Regular Expression 
 window into the Test Input window</p></li>
			
			<li class="kadov-p"><p style="margin-left: 0px;">Click [<span 
 style="font-weight: bold;"><B>Test</B></span>]. The replaced text is highlighted 
 in the Result window.</p></li>
		</ul>
	</ul>
	
	<ol start=5
		style="list-style: decimal;"
		type=1>
		
		<li class="kadov-p"><p style="margin-left: 0px;">Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The assertion is added to the Policy Development window. </p></li>
	</ol>
</ol>

<h3>Edit the Regular Expression Assertion</h3>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>In the Policy Development window, right-click 
 the &quot;Regular Expression&quot; assertion. A drop-down menu appears. 
 Select <span style="font-weight: bold;"><B>Regular Expression Properties</B></span></p></li>
</ul>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p>The Regular Expression Properties form appears. 
 Configure or edit the assertion as outlined in <a href="#Add_and_Configure_the_Regular_Expression_Assertion">Add 
 and Configure the Regular Expression Assertion</a>.</p></li>
</ul>

<p>&nbsp;</p>

<h2 style="color: #000000;"><a name=Translate_HTTP_Form_to_MIME
								style="color: #000000;">Translate HTTP 
 Form to MIME</a></h2>

<p>The Translate HTTP Form to MIME assertion allows you to parse the content 
 submitted in HTTP form format by a browser-like client and turn it into 
 a more standards-compliant multi-part MIME message. The SecureSpan™ Gateway 
 converts incoming content to MIME in accordance with an ordered list of 
 configured field names and content types. If an incoming message does 
 not contain a field configured for conversion in the Translate HTTP Form 
 to MIME assertion, then the assertion will fail. </p>

<p>&nbsp;</p>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 See the <a href="#Translate_MIME_to_HTTP_Form">Translate MIME to HTTP 
 Form</a> assertion for information on parsing and converting a standard 
 multi-part MIME message into HTTP form submission format. </p>
</div>

<p>&nbsp;</p>

<h3 style="color: #000000;"><a name=Add_and_Configure_the_Translate_HTTP_Form_to_MIME_Assertion
								style="color: #000000;">Add and Configure 
 the Translate HTTP Form to MIME Assertion</a></h3>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Add the assertion to the Policy Development window 
 by one of two methods:</p></li>
</ol>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Drag and drop the assertion from the [<span 
 style="font-weight: bold;"><B>Assertions</B></span>] tab into the Policy Development 
 window, or &nbsp;</p></li>
		
		<li class="kadov-p"><p>Highlight the assertion in the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab and click the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
								width: 22px;
								height: 18px;
								margin-left: 0px;
								margin-right: 0px;
								margin-top: 0px;
								margin-bottom: -2.5px;
								float: none;
								border-style: none;
								border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar. </p></li>
	</ul>
</ol>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The HTTP Form to MIME Translation Properties form 
 appears. Click [<span style="font-weight: bold;"><B>Add</B></span>]. The Configure 
 Field Information form appears.</p></li>
	
	<li class="kadov-p"><p>Enter the HTTP form field name into the <span 
 style="font-weight: bold;"><B>Field Name</B></span> field. The field name must 
 exactly match the name and case of the element in the incoming message. 
 For example, &quot;xml.&quot; </p></li>
	
	<li class="kadov-p"><p>Enter the MIME type for the form field, including 
 a character set if the field contains textual data, into the <span style="font-weight: bold;"><B>MIME 
 Content-Type</B></span> field. For example, &quot;text/xml; charset='utf-8'.&quot;</p></li>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 40px;">
<p class="tipsnotes"><span style="font-weight: bold;"><B><img src="TIPSfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 14px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="14" border="0"> &nbsp;TIP:</B></span> 
 In accordance with the SOAP with Attachments standard, the first MIME 
 part should always be the SOAP message. </p>
</div>

<ol start=5
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The form field entry is added to the bottom of the HTTP Form Fields table 
 in the HTTP Form to MIME Translation Properties form and sequentially 
 numbered according to the number of entries in the table. The order of 
 the form fields in the table must reflect the order of the MIME parts 
 in the resulting MIME message. <span style="margin-left: 40px;">To change 
 the order of the entries in the table, select an entry to be moved and 
 click the [</span><span style="margin-left: 40px; font-weight: bold;"><B>Move 
 Up</B></span><span style="margin-left: 40px;">] or [</span><span style="margin-left: 40px; font-weight: bold;"><B>Move 
 Down</B></span><span style="margin-left: 40px;">] button. The entry will move 
 one space up or down, accordingly. For example, to move entry #3 to the 
 #1 position in the table, select the entry, click [Move Up], select the 
 entry again, and click [Move Up] again.</span></p></li>
	
	<li class="kadov-p"><p>Repeat Steps #2-5 to configure additional form 
 field entries. When completed, click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The assertion is added to the Policy Development window. </p></li>
</ol>

<h3 style="color: #000000;">Edit the Translate HTTP Form to MIME Assertion</h3>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>In the Policy Development window, right-click 
 the &quot;HTTP Form to MIME Translation&quot; assertion. A drop-down menu 
 appears. Select <span style="font-weight: bold;"><B>HTTP Form to MIME Translation 
 Properties</B></span>.</p></li>
	
	<li class="kadov-p"><p>The HTTP Form to MIME Translation Properties form 
 appears. Edit the assertion as follows:</p></li>
	
	<ul>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>Configure new form field entries or modify 
 the order of entries in the HTTP Form Fields table as outlined in <a href="#Add_and_Configure_the_Translate_HTTP_Form_to_MIME_Assertion">Add 
 and Configure the Translate HTTP Form to MIME Assertion</a></p></li>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>To remove an entry, select the entry in the 
 HTTP Form Fields table and click [<span style="font-weight: bold;"><B>Remove</B></span>]</p></li>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>To edit an entry, select the entry in the 
 HTTP Form Fields table and click [<span style="font-weight: bold;"><B>Modify</B></span>]. 
 The Configure Field Information form appears. See Steps #3-6 in <a href="#Add_and_Configure_the_Translate_HTTP_Form_to_MIME_Assertion">Add 
 and Configure the Translate HTTP Form to MIME Assertion</a> for configuration 
 instructions.</p></li>
	</ul>
</ol>

<p>&nbsp;</p>

<h2 style="color: #000000;"><a name=Translate_MIME_to_HTTP_Form
								style="color: #000000;">Translate MIME 
 to HTTP Form</a></h2>

<p>The Translate MIME to HTTP Form assertion allows you to parse and convert 
 an incoming multi-part MIME message into an HTTP form submission such 
 as would be submitted by a browser-like client. The SecureSpan™ Gateway 
 converts incoming MIME content to HTTP form format in accordance with 
 an ordered list of configured field names. If an incoming message does 
 not contain sufficient MIME parts for the field names configured for conversion 
 in the Translate MIME to HTTP Form assertion, then the assertion will 
 fail. </p>

<p>&nbsp;</p>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 18px;
	height: 18px;
	float: none;
	border-style: none;
	border-style: none;" width="18" height="18" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 See the <a href="#Translate_HTTP_Form_to_MIME">Translate HTTP Form to 
 MIME</a> assertion for information on parsing and converting incoming 
 HTML form content into a multi-part MIME message. </p>
</div>

<p>&nbsp;</p>

<h3 style="color: #000000;"><a name=Add_and_Configure_the_Translate_MIME_to_HTTP_Form_Assertion
								style="color: #000000;">Add and Configure 
 the Translate MIME to HTTP Form Assertion</a></h3>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Add the assertion to the Policy Development window 
 by one of two methods:</p></li>
</ol>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Drag and drop the assertion from the [<span 
 style="font-weight: bold;"><B>Assertions</B></span>] tab into the Policy Development 
 window, or &nbsp;</p></li>
		
		<li class="kadov-p"><p>Highlight the assertion in the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab and click the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
								width: 22px;
								height: 18px;
								margin-left: 0px;
								margin-right: 0px;
								margin-top: 0px;
								margin-bottom: -2.5px;
								float: none;
								border-style: none;
								border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar. </p></li>
	</ul>
</ol>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The MIME to HTTP Form Translation Properties form 
 appears. Click [<span style="font-weight: bold;"><B>Add</B></span>]. The Configure 
 Field Name form appears.</p></li>
	
	<li class="kadov-p"><p>Enter an HTTP form field name into the <span style="font-weight: bold;"><B>Field 
 Name</B></span> field. Click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 When the MIME message is transformed into an HTTP form post, the MIME 
 part matching this field name's position will be rendered as &quot;fieldname=&lt;data&gt;...&quot;.</p></li>
	
	<li class="kadov-p"><p>The field name is added to the bottom of the HTTP 
 Form Field Names table in the MIME to HTTP Form Translation Properties 
 form and sequentially numbered according to the number of entries in the 
 table. Since the SecureSpan™ Gateway converts the parts of each MIME message 
 sequentially, the order of the form fields in the HTTP Form Field Names 
 table must reflect the order of the MIME parts in the message. <span style="margin-left: 40px;">To 
 change the order of the entries in the table, select an entry to be moved 
 and click the [</span><span style="margin-left: 40px; font-weight: bold;"><B>Move 
 Up</B></span><span style="margin-left: 40px;">] or [</span><span style="margin-left: 40px; font-weight: bold;"><B>Move 
 Down</B></span><span style="margin-left: 40px;">] button. The entry will move 
 one space up or down, accordingly. For example, to move entry #3 to the 
 #1 position in the table, select the entry, click [Move Up], select the 
 entry again, and click [Move Up] again.</span></p></li>
	
	<li class="kadov-p"><p>Repeat Steps #2-5 to configure additional form 
 field entries. When completed, click [<span style="font-weight: bold;"><B>OK</B></span>]. 
 The assertion is added to the Policy Development window. </p></li>
</ol>

<h3 style="color: #000000;">Edit the Translate MIME to HTTP Form Assertion</h3>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>In the Policy Development window, right-click 
 the &quot;MIME to HTTP Form Translation&quot; assertion. A drop-down menu 
 appears. Select <span style="font-weight: bold;"><B>MIME to HTTP Form Translation 
 Properties</B></span>.</p></li>
	
	<li class="kadov-p"><p>The MIME to HTTP Form Translation Properties form 
 appears. Edit the assertion as follows:</p></li>
	
	<ul>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>Configure new form field entries or modify 
 the order of entries in the HTTP Form Field Names table as outlined in 
 <a href="#Add_and_Configure_the_Translate_MIME_to_HTTP_Form_Assertion">Add 
 and Configure the Translate MIME to HTTP Form Assertion</a></p></li>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>To remove an entry, select the entry in the 
 HTTP Form Field Names table and click [<span style="font-weight: bold;"><B>Remove</B></span>]</p></li>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>To edit an entry, select the entry from the 
 HTTP Form Field Names table and click [<span style="font-weight: bold;"><B>Modify</B></span>]. 
 The Configure Field Name form appears. See Steps # 3-6 in <a href="#Add_and_Configure_the_Translate_MIME_to_HTTP_Form_Assertion">Add 
 and Configure the Translate MIME to HTTP Form Assertion</a> for configuration 
 instructions.</p></li>
	</ul>
</ol>

<p>&nbsp;</p>

<h4>Next Topic: </h4>

<p><a href="Configure_Edit_Message_Routing_Assertions.htm">Configure and 
 Edit Message Routing Assertions</a></p>

<p>&nbsp;</p>

</body>

</html>
