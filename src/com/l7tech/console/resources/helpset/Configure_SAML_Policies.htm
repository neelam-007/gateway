<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>





<head>

<title>Configure SAML Policies</title>



 <meta http-equiv=content-type content="text/html; charset=windows-1252">
<meta name=topic-status content="In Progress">
<meta name=topic-priority content=0>
<meta name=topic-time-estimate content=0>
<meta name=topic-comment content>
<meta name=topic-id content="Identity Bridging Policy Overview">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=1923>
<meta name=layout-width content=849>
<meta name=x-ignored-words content="SecureSpan;Workflow;LDAP;IIP;WSS;TLS;SiteMinder;Symantec;JMS;SAML;FIP;CIDR;Namespace;EIPs;XPath;GenericLDAP;Timeout;IP;MSAD;SSL;Login;Tivoli;TivoliLDAP;Uptime;WS;WSDL;XSLT;HTTP(S;screenshots;ui;asc;desc;int;BFILENAME;FROM_TZ;NUMTODSINTERVAL;NUMTOYMINTERVAL;TO_TIMESTAMP_TZ;TZ_OFFSET;timestamp;add-ons;Netegrity;NotOnOrAfter;saml;requestor;soapenv;timestamps;uptime;Unix;cert;francis;firewall;policy.templates;exp;provider(s;assertion(s;encapsules;admin;popup;user(s;CTRL;username;Username;Xml-based;DMZ;non-invasively;Linux;Solaris;internetworking;SOAPAction;Beatty;ext;GUI-based;GUI;scalable;PKI-based;offloads;toolset;WS-Security;Services@https;servername;namespace;Gateway(s;tempuri.org;Name.wsdl;yourcompany.com;MyWebService.wsdl.;schemas.xmlsoap.org;wsdl;URIs;GetQuoteResponse;stockSymbol;StockInfo;getQuote;getQuoteRequest;getQuoteResponse;operation(s;StockServiceSOAPBinding;StockQuote;localhost;ws;TCP;IIPs;criteria--username;headers--for;SHA;form--for;cleartext;folder(s;SSL-TLS;yuk;workflow;detail(s;AES;node(s;Avg;min;CDE;Kunststoff;login;timeout;SSGAdmin;hostname;Admin;substring;DN;myLDAP;ldap;ldapserver;dc=com;myMSAD;ou=Layer;dc=LOCAL;hostname.domain;mygateway;mycompany.com;mygateway.mycompany.com.;IIS;mail.abc.com;ou=ABC;dc=ABC;mybrowse;mypassword;LdapErr;vece;findAllHeaders;myName;myPassword;myCompany;SLA;ReType;Inc;SNMP;ssg;conf;serverconfig_override.properties;Hostname;IANA;OID;UsernameToken;PEM;cred;certs;Xml;HttpClientCert;n.m;xxxx;System.NullReferenceException;C;IPAddress;MyGateway;MyGateway.MyCompany.com.;MyGateway.MyCompany.com;servername.company.com.;SLL;Wsdl;searchability;JGoodies;XP;connection(s;WebSphere;MQ;JNDI;requestors;JMS-to-JMS;iJMS;oJMS;Requestor;requestor-designated;JMS-to-HTTP;HTTP-to-JMS;cn=GatewayQueue;GatewayQueue;servername.company.com;dc=companydomain;QueueConnectionFactory;cn=QueueConnectionFactoryJNDIName;QueueConnectionFactoryJNDIName;com.sun.jndi.ldap.LdapCtxFactory.;unregister;Expiry;PDF;www.zvon.org;xxl;XPathTutorial;www.purpletech.com;xpe;index.jsp;xpath;pls;Stylesheet;eXtensible;elementName;attributeName;local-name(;xpath#function-local-name;examples.html;WSDL-based;namespaces;boolean(s;CID;Namespaces;attachment(s;KB;URL(s;machinename.domain.com;machinename.domain.com.;URLs;LIPs;expiry;Uncheck;Ctrl;group(s;SSL-secured;metadata;ACL;init;workflows;CN=;NameIdentifier;Format=;windowsDomain;emailAddress;DNs;O=ACME;OU=Anvils;CN=*;CN=Name;CN=user;BinarySecurityToken;AttributeStatement;CAs;DNS;IPs;failover;balancer;Failover;IV_USER;non-SecureSpan;usernametoken;Kerberos;SRP;PGP;SPKI;XKMS;SecurityContextToken;WS-SecureConversation;SAML-specified;SAML-supported;www.oasis-open.org;Manager.sh;Extranet;SandraV;SandraLV;SandraLV's;MilanV;interoperable;PKCS;WS-Trust;WS-Metadata;WS-Policy;WSRP;WS-I;BSP;XServer;XBlade;XScreen;XSpeed;firewalling;ASIC;eServer;BladeCenter;ASIC-accelerated;EAI;ESB;decouples;PKI;SSO;QoS;URI;xml;trustedmachinename.domain.com;federatedmachinename.domain.com;keystore;certificate(s;FIPs;F;untrusted;HOK;NameQualifier">




 <link rel="StyleSheet" href="JavaHelp.css">



 <META NAME="generator" CONTENT="RoboHelp by eHelp Corporation www.ehelp.com">
</head>




<body>

<h1>Configure SAML Policies</h1>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-left: 4px;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 16px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="16" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 The generic &quot;Trusted Gateway A&quot; and &quot;Federated Gateway 
 B&quot; references are used in the identity bridging examples, workflows, 
 and instructions. The Trusted Gateway A is the certificate authority (CA) 
 that issues and manages security credentials and that is responsible for 
 authentication. The Federated Gateway B is the Web service provider that 
 is responsible for authorization.</p>
</div>

<p>As part of the required SAML credential source workflow (see <a href="Workflow_Using_SAML.htm">Workflow 
 Using SAML</a>), a SecureSpan™ Manager policy must be configured for the 
 shared Web service with:</p>

<ul style="list-style: disc;"
	type=disc>
	
	<li class="kadov-p"><p style="margin-top: 4.5pt;">The SAML Assertion 
 from the Access Control category of the [Assertions] tab (see <a href="Configure_Edit_Access_Control_Assertions.htm">Configure 
 and Edit Access Control Assertions</a>)</p></li>
	
	<li class="kadov-p"><p style="margin-bottom: 4.5pt;">The federated identities 
 (users, groups, and/or virtual groups) containing credentials shared by 
 the Trusted Gateway A and Federated Gateway B.</p></li>
</ul>

<p>&nbsp;</p>

<p>The SecureSpan™ Manager Policy Development window is the repository 
 for the assertions used to develop a policy for a published Web service 
 (see <a href="Manage_SOAP_Web_Services.htm">Manage SOAP Web Services</a>). 
 Most assertions require configuration either before or after being added 
 to the Policy Development window. After adding the SAML Assertion and 
 federated users, groups, and/or virtual groups to the policy, configure 
 additional policy assertions for the Web service as outlined in <a HREF="About_Policy_Assertions.htm">About 
 Policy Assertions</a> and <a href="Configure_Edit_Policies.htm">Configure 
 and Edit Policies</a>.</p>

<p>&nbsp;</p>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 4px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="TIPfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 16px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="16" border="0"></b> 
 &nbsp;TIP:</B></span> 
 Before constructing a policy, ensure that the Policy Validation Messages 
 window is enabled. To enable the window, select [View] &gt; Policy Messages 
 from the Main Menu (check box checked). The Policy Validation Messages 
 window provides you with policy and assertion-level confirmation, warning, 
 or error messages that you can use during the configuration process. See 
 the &quot;Validate a Policy&quot; section in <a href="Configure_Edit_Policies.htm">Configure 
 and Edit Policies</a> for more information.</p>
</div>

<p>&nbsp;</p>

<ol style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Access the Policy Development window for the target 
 Web service by one of two methods:</p></li>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="TIPfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 16px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="16" border="0"></b> 
 &nbsp;TIP: </B></span>Disable 
 a service while constructing its policy to prevent unsecured and unauthorized 
 access. A disabled service contains a red &quot;X&quot; through its left-side 
 icon. See <a href="Manage_Published_Services.htm">Manage Published Web 
 Services</a> for more information. </p>
</div>

<ol style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Right-click the service name in the [<span 
 style="font-weight: bold;"><B>Services</B></span>] tab. A drop-down menu appears. 
 Select <span style="font-weight: bold;"><B>Policy Assertions</B></span>. Or,</p></li>
		
		<li class="kadov-p"><p>Double-click the service in the [<span style="font-weight: bold;"><B>Services</B></span>] 
 tab.</p></li>
	</ul>
</ol>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The Policy Development window appears. Add the 
 SAML Assertion to the policy by one of two methods:</p></li>
</ol>

<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Drag and drop the SAML Assertion from the 
 Access Control category of the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab into the Policy Development window, or &nbsp;</p></li>
		
		<li class="kadov-p"><p>Highlight the SAML Assertion in the [<span 
 style="font-weight: bold;"><B>Assertions</B></span>] tab and click the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
			width: 22px;
			height: 18px;
			margin-left: 0px;
			margin-right: 0px;
			margin-top: 0px;
			margin-bottom: -2.5px;
			float: none;
			border-style: none;
			border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar. </p></li>
	</ul>
</ol>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The SAML Constraints Wizard appears. Configure 
 the SAML Assertion with the following constraints:</p></li>
	
	<ul start=6
		style="list-style: decimal;"
		type=1>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>In the SAML Statement Type screen of the SAML 
 Constraints Wizard, select the <span style="font-weight: bold;"><B>Authentication 
 Statement</B></span> option</p></li>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>In the Subject Confirmation screen, check 
 the <span style="font-weight: bold;"><B>Holder-of-Key</B></span> and/or <span 
 style="font-weight: bold;"><B>Sender Vouches</B></span> check boxes</p></li>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>In the Name Identifier screen:</p></li>
		
		<ol>
			
			<li style="list-style: decimal;" type="1" class="kadov-p"><p>If incoming messages must contain a particular 
 NameQualifier value, enter the value into the <span style="font-weight: bold;"><B>Name 
 Qualifier</B></span> field.</p></li>
			
			<li style="list-style: decimal;" type="1" class="kadov-p"><p>Check the <span style="font-weight: bold;"><B>X.509 
 Subject Name</B></span>,<span style="font-weight: bold;"><B> Email Address</B></span>, 
 and/or<span style="font-weight: bold;"><B> Windows Qualified Domain Name</B></span> 
 check boxes.</p></li>
		</ol>
	</ul>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 124px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 16px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="16" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 If configuring one or more virtual groups for the Federated Identity Provider, 
 then you must check the X.509 Subject Name check box.</p>
</div>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<ul style="list-style: decimal;"
		type=1>
		
		<li style="list-style: disc;" type="disc" class="kadov-p"><p>Complete the SAML Assertion configuration 
 process as outlined in <a href="Configure_Edit_Access_Control_Assertions.htm">Configure 
 and Edit the Access Control Assertions</a>.</p></li>
	</ul>
</ol>

<ol start=4
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Add a Grant Access to Users/Groups assertion to 
 the policy by one of two methods:</p></li>
</ol>

<ul style="list-style: disc;"
	type=disc>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Drag and drop the Grant Access to Users/Groups 
 assertion from the Access Control category of the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab into the Policy Development window, or &nbsp;</p></li>
		
		<li class="kadov-p"><p>Highlight the Grant Access to Users/Groups 
 assertion in the [<span style="font-weight: bold;"><B>Assertions</B></span>] 
 tab and click the <img src="MoveAssertionOver.gif" x-maintain-ratio="TRUE" style="border: none;
								width: 22px;
								height: 18px;
								margin-left: 0px;
								margin-right: 0px;
								margin-top: 0px;
								margin-bottom: -2.5px;
								float: none;
								border-style: none;
								border-style: none;" width="22" height="18" border="0"> &nbsp;(Add 
 Assertion) button in the Assertion Tool Bar. </p></li>
	</ul>
</ul>

<ol start=5
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>The Search Identity Provider form appears. Add 
 the shared federated user configured in <a href="Workflow_Using_SAML.htm">Workflow 
 Using SAML</a> to the policy as follows:</p></li>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Select the Federated Identity Provider name 
 from the <span style="font-weight: bold;"><B>Search</B></span> drop-down list</p></li>
		
		<li class="kadov-p"><p>Select the &quot;Users&quot; search target 
 from the <span style="font-weight: bold;"><B>Type</B></span> drop-down list</p></li>
		
		<li class="kadov-p"><p>If necessary, specify any search criteria 
 using the <span style="font-weight: bold;"><B>Name</B></span> drop-down list 
 and field</p></li>
	</ul>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 84px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="TIPfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 16px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="16" border="0"></b> 
 &nbsp;TIP:</B></span> 
 The Search Identity Provider form supports the following wild card characters 
 in the Name field:</p>

<ul style="list-style: disc;"
	type=disc>
	
	<li style="margin-left: -20px;" class="kadov-p-ctipsnotes"><p class="tipsnotes">The asterisk truncation 
 operator (*) retrieves terms with a common initial spelling. It substitutes 
 a string of zero or more characters when searching Federated Identity 
 Providers.</p></li>
</ul>
</div>

<ul start=4
	style="list-style: decimal;"
	type=1>
	
	<ol start=2
		style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Click [<span style="font-weight: bold;"><B>Search</B></span>].</p></li>
	</ol>
</ul>

<ol start=6>
	
	<li class="kadov-p"><p>Search results appear in the Search Results window. 
 Select the target federated user, such as &quot;user A,&quot; from the 
 Search Results window by one of two methods:</p></li>
	
	<ul style="list-style: disc;"
		type=disc>
		
		<li class="kadov-p"><p>Double-click the target federated user name, 
 or </p></li>
		
		<li class="kadov-p"><p>Select the target federated user name and 
 click [<span style="font-weight: bold;"><B>Select</B></span>].</p></li>
	</ul>
</ol>

<ol start=7
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Repeat to add additional federated users, groups, 
 and/or virtual groups as required.</p></li>
</ol>

<div style="padding: 5px;
			background-color: #f8fbdd;
			margin-right: 4px;
			margin-top: 4px;
			margin-bottom: 4px;
			float: none;
			width: 550px;
			margin-left: 44px;">
<p class="tipsnotes"><b><span style="font-weight: bold;"><B><img src="NOTEfinal.gif" x-maintain-ratio="TRUE" style="border: none;
	width: 16px;
	height: 16px;
	float: none;
	border-style: none;
	border-style: none;" width="16" height="16" border="0"></b> 
 &nbsp;NOTE:</B></span> 
 A policy with more than one Grant Access to Users/Groups assertion must 
 organize the identities into &quot;At least one assertion must evaluate 
 to true&quot; assertion folders. To add a folder to the Policy Development 
 window, right-click any assertion and select &quot;Add 'One or More' Assertion&quot; 
 from the drop-down menu. Drag and drop federated users, groups, and/or 
 virtual groups into the individual folders as required. For more information, 
 see <a href="Policy_Organization.htm">Policy Organization </a>and <a href="Policy_Organization.htm">Configure 
 and Edit Policies</a>. </p>
</div>

<ol start=8
	style="list-style: decimal;"
	type=1>
	
	<li class="kadov-p"><p>Configure additional policy assertions for the 
 Web service. When completed, click [<span style="font-weight: bold;"><B>Save</B></span>] 
 in the Policy Tool Bar. Note any error or warning messages in the Policy 
 Validation Messages window. If necessary, correct policy errors as outlined 
 in the <span style="margin-left: 0px;">&quot;Validate a Policy&quot; section 
 in <a href="Configure_Edit_Policies.htm">Configure and Edit Policies</a>. 
 </span></p></li>
</ol>

<p style="margin-left: 0px;">&nbsp;</p>

<p style="margin-left: 0px;">Proceed to configure the required Gateway 
 Accounts in the SecureSpan™ Bridge. See <a HREF="Configure_SecureSpan_Bridge.htm">Configure 
 SecureSpan Bridge</a> for more information.</p>

<p>&nbsp;</p>

</body>

</html>
