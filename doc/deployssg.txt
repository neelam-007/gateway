Layer 7 Technologies, inc.
User: flascelles
Date: Jul 07, 2003

SSG deployment steps for a clean linux box

Preconditions
linux is installed including postgresql
know the root password

PREPARING THE SERVER
=========================================
[ROOT]	create user gateway, choose a password for this user, remember it
[ROOT]	check /etc/hosts. make sure first line reads 127.0.0.1 localhost localhost.localdomain
[GATEWAY] download and install jdk 1.4.1 it should go in /usr/java/j2sdk1.4.1
[GATEWAY] download and uncompress tomcat custom version it should go in /usr/java/tomcat-4.1.27-l7p2

[ROOT]	user postgres should already exist, set its password "passwd postgres"

[POSTGRES] initdb --pgdata=/var/lib/pgsql/data
[POSTGRES] change /var/lib/pgsql/data/postgresql.conf to allow network access (required for jdbc access) look for tcpip_socket = false, set to true

[ROOT] start psql server service postgresql start
[ROOT] make sure mysqld starts at boot chkconfig postgresql on

[POSTGRES]	createdb ssg
[POSTGRES]	psql ssg -f ssg.sql
[POSTGRES]	CREATE USER gateway WITH PASSWORD 'same_as_linux_passwd';
[POSTGRES]	GRANT ALL ON table_name to gateway; (for every tables)
[POSTGRES]  ADD ENTRYS IN PGSQL Auth file /var/lib/pgsql/data/pg_hba.conf
            host  ssg  gateway  127.0.0.1  255.255.255.255  password


DEPLOYING THE SSG
=========================================
[GATEWAY] get the ssg distribution tar
[ROOT] copy UneasyRooster/etc/ssgruntimedefs.sh to /etc/profile.d make sure JAVA_HOME and TOMCAT_HOME are correct
[GATEWAY] run deploy.sh
[GATEWAY] startssg (start the server)

SSG SERVER NOW UP AND RUNNING
