<?xml version="1.0" encoding="UTF-8"?>
<!-- Ant build file for all modules. -->
<project name="modules" default="package">

    <description>
        Builds all modules.
    </description>

    <target name="OFFICIAL-package-init-version" unless="build.version">
        <!-- Prompt for version number if not already supplied by a calling build file. -->
        <input message="Enter a version number:" addproperty="build.version"/>
    </target>

    <target name="OFFICIAL-package"
            description="Creates the distributables after prompting for a version number."
            depends="OFFICIAL-package-init-version">
        <subant target="OFFICIAL-package" inheritAll="false" verbose="true">
            <property name="build.version" value="${build.version}"/>
            <fileset dir="."  includes="*/build.xml"/>
        </subant>
    </target>

    <target name="package" description="Creates the distributables.">
        <subant genericantfile="build.xml" target="package" inheritAll="false" verbose="true">
            <property name="build.version" value="${build.version}"/>
            <fileset dir="." includes="*/build.xml"/>
        </subant>
    </target>

    <target name="clean" description="Deletes all generated files.">
        <subant target="clean" inheritAll="false" verbose="true">
            <fileset dir="." includes="*/build.xml"/>
        </subant>
    </target>

</project>