<?xml version="1.0" encoding="UTF-8"?>
<wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy">
  <wsp:All wsp:Usage="Required">
    <L7p:AuditAssertion>
      <L7p:SaveRequest booleanValue="true"/>
      <L7p:SaveResponse booleanValue="true"/>
    </L7p:AuditAssertion>
    <wsp:OneOrMore wsp:Usage="Required">
      <wsp:All wsp:Usage="Required">
        <L7p:SslAssertion>
          <L7p:RequireClientAuthentication booleanValue="true"/>
        </L7p:SslAssertion>
        <L7p:AuditDetailAssertion>
          <L7p:Detail stringValue="username: ${request.username}"/>
        </L7p:AuditDetailAssertion>
        <L7p:Authentication>
          <L7p:IdentityProviderOid goidValue="0000000000000000fffffffffffffffe"/>
        </L7p:Authentication>
        <L7p:assertionComment>
          <L7p:Properties mapValue="included">
            <L7p:entry>
              <L7p:key stringValue="RIGHT.COMMENT"/>
              <L7p:value stringValue="//Mutual Auth"/>
            </L7p:entry>
          </L7p:Properties>
        </L7p:assertionComment>
      </wsp:All>
      <wsp:All wsp:Usage="Required">
        <L7p:SslAssertion/>
        <L7p:HttpBasic/>
        <L7p:AuditDetailAssertion>
          <L7p:Detail stringValue="username: ${request.username}"/>
        </L7p:AuditDetailAssertion>
        <L7p:Authentication>
          <L7p:IdentityProviderOid goidValue="0000000000000000fffffffffffffffe"/>
        </L7p:Authentication>
        <L7p:assertionComment>
          <L7p:Properties mapValue="included">
            <L7p:entry>
              <L7p:key stringValue="RIGHT.COMMENT"/>
              <L7p:value stringValue="//Basic Auth"/>
            </L7p:entry>
          </L7p:Properties>
        </L7p:assertionComment>
      </wsp:All>
    </wsp:OneOrMore>
    <L7p:AuditDetailAssertion>
      <L7p:Detail stringValue="auth_user: ${request.authenticateduser}"/>
    </L7p:AuditDetailAssertion>
    <L7p:CommentAssertion>
      <L7p:Comment stringValue="API Portal Config Policy Cake as of 2015-03-17 11:00 //RR,JB,ALEE,AC,KPAK"/>
    </L7p:CommentAssertion>
    <L7p:SetVariable>
      <L7p:Base64Expression stringValue="MS4w"/>
      <L7p:VariableToSet stringValue="VERSION"/>
    </L7p:SetVariable>
    <L7p:SetVariable>
      <L7p:Base64Expression stringValue="MA=="/>
      <L7p:VariableToSet stringValue="errorCode"/>
    </L7p:SetVariable>
    <L7p:SetVariable>
      <L7p:Base64Expression stringValue="MjAw"/>
      <L7p:VariableToSet stringValue="httpStatusCode"/>
    </L7p:SetVariable>
    <L7p:SetVariable>
      <L7p:Base64Expression stringValue=""/>
      <L7p:VariableToSet stringValue="errorMsg"/>
    </L7p:SetVariable>
    <L7p:SetVariable>
      <L7p:AssertionComment assertionComment="included">
        <L7p:Properties mapValue="included">
          <L7p:entry>
            <L7p:key stringValue="LEFT.COMMENT"/>
            <L7p:value stringValue="prefix"/>
          </L7p:entry>
        </L7p:Properties>
      </L7p:AssertionComment>
      <L7p:Base64Expression stringValue=""/>
      <L7p:VariableToSet stringValue="prefix"/>
    </L7p:SetVariable>
    <L7p:SetVariable>
      <L7p:AssertionComment assertionComment="included">
        <L7p:Properties mapValue="included">
          <L7p:entry>
            <L7p:key stringValue="LEFT.COMMENT"/>
            <L7p:value stringValue="Backup original request"/>
          </L7p:entry>
          <L7p:entry>
            <L7p:key stringValue="RIGHT.COMMENT"/>
            <L7p:value stringValue="//this makes sure we always have the original request"/>
          </L7p:entry>
        </L7p:Properties>
      </L7p:AssertionComment>
      <L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lm1haW5wYXJ0fQ=="/>
      <L7p:ContentType stringValue="text/xml; charset=utf-8"/>
      <L7p:DataType variableDataType="message"/>
      <L7p:VariableToSet stringValue="requestOriginal"/>
    </L7p:SetVariable>
    <wsp:OneOrMore wsp:Usage="Required">
      <wsp:All wsp:Usage="Required">
        <L7p:RateLimit>
          <L7p:AssertionComment assertionComment="included">
            <L7p:Properties mapValue="included">
              <L7p:entry>
                <L7p:key stringValue="RIGHT.COMMENT"/>
                <L7p:value stringValue="//Update this assertion if you need a higher throughput or limit"/>
              </L7p:entry>
            </L7p:Properties>
          </L7p:AssertionComment>
          <L7p:CounterName stringValue="PRESET(ac0a793a036466be)${request.clientid}"/>
          <L7p:MaxRequestsPerSecond stringValue="50"/>
          <L7p:ShapeRequests booleanValue="true"/>
        </L7p:RateLimit>
        <wsp:All wsp:Usage="Required">
          <L7p:SetVariable>
            <L7p:AssertionComment assertionComment="included">
              <L7p:Properties mapValue="included">
                <L7p:entry>
                  <L7p:key stringValue="LEFT.COMMENT"/>
                  <L7p:value stringValue="getRestOperation()"/>
                </L7p:entry>
              </L7p:Properties>
            </L7p:AssertionComment>
            <L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAubWV0aG9kfQ=="/>
            <L7p:VariableToSet stringValue="operation"/>
          </L7p:SetVariable>
          <L7p:SetVariable>
            <L7p:AssertionComment assertionComment="included">
              <L7p:Properties mapValue="included">
                <L7p:entry>
                  <L7p:key stringValue="LEFT.COMMENT"/>
                  <L7p:value stringValue="getFormat"/>
                </L7p:entry>
              </L7p:Properties>
            </L7p:AssertionComment>
            <L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLiRmb3JtYXR9"/>
            <L7p:VariableToSet stringValue="format"/>
          </L7p:SetVariable>
          <L7p:SetVariable>
            <L7p:AssertionComment assertionComment="included">
              <L7p:Properties mapValue="included">
                <L7p:entry>
                  <L7p:key stringValue="LEFT.COMMENT"/>
                  <L7p:value stringValue="getTenantId"/>
                </L7p:entry>
              </L7p:Properties>
            </L7p:AssertionComment>
            <L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnRlbmFudElkfQ=="/>
            <L7p:VariableToSet stringValue="tenantId"/>
          </L7p:SetVariable>
          <L7p:SetVariable>
            <L7p:AssertionComment assertionComment="included">
              <L7p:Properties mapValue="included">
                <L7p:entry>
                  <L7p:key stringValue="LEFT.COMMENT"/>
                  <L7p:value stringValue="getLdapProviderId"/>
                </L7p:entry>
              </L7p:Properties>
            </L7p:AssertionComment>
            <L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLmxkYXBQcm92aWRlcklkfQ=="/>
            <L7p:VariableToSet stringValue="ldapProviderId"/>
          </L7p:SetVariable>
          <L7p:SetVariable>
            <L7p:AssertionComment assertionComment="included">
              <L7p:Properties mapValue="included">
                <L7p:entry>
                  <L7p:key stringValue="LEFT.COMMENT"/>
                  <L7p:value stringValue="getJdbcConnectionName"/>
                </L7p:entry>
              </L7p:Properties>
            </L7p:AssertionComment>
            <L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLmpkYmNDb25uZWN0aW9uTmFtZX0="/>
            <L7p:VariableToSet stringValue="jdbcConnectionName"/>
          </L7p:SetVariable>
          <L7p:SetVariable>
            <L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAudXJpfQ=="/>
            <L7p:VariableToSet stringValue="sourceUri"/>
          </L7p:SetVariable>
          <L7p:SetVariable>
            <L7p:Base64Expression stringValue=""/>
            <L7p:VariableToSet stringValue="newSourceUri"/>
          </L7p:SetVariable>
          <wsp:OneOrMore wsp:Usage="Required">
            <wsp:All wsp:Usage="Required">
              <L7p:Split>
                <L7p:InputVariable stringValue="sourceUri"/>
                <L7p:OutputVariable stringValue="splitUri"/>
                <L7p:SplitPattern stringValue="/"/>
              </L7p:Split>
              <L7p:ForEachLoop L7p:Usage="Required"
                               loopVariable="splitUri" variablePrefix="uri">
                <wsp:OneOrMore wsp:Usage="Required">
                  <wsp:All wsp:Usage="Required">
                    <wsp:OneOrMore wsp:Usage="Required">
                      <wsp:All wsp:Usage="Required">
                        <L7p:ComparisonAssertion>
                          <L7p:Expression1 stringValue="${uri.iterations}"/>
                          <L7p:Expression2 stringValue="1"/>
                          <L7p:Predicates predicates="included">
                            <L7p:item binary="included">

                              <L7p:RightValue stringValue="1"/>
                            </L7p:item>
                          </L7p:Predicates>
                        </L7p:ComparisonAssertion>
                        <L7p:ComparisonAssertion>
                          <L7p:Expression1 stringValue="${uri.current}"/>
                          <L7p:Expression2 stringValue="${prefix}"/>
                          <L7p:Predicates predicates="included">
                            <L7p:item binary="included">

                              <L7p:RightValue stringValue="${prefix}"/>
                            </L7p:item>
                          </L7p:Predicates>
                        </L7p:ComparisonAssertion>
                      </wsp:All>
                      <wsp:All wsp:Usage="Required">
                        <L7p:ComparisonAssertion>
                          <L7p:Expression1 stringValue="${uri.current}"/>
                          <L7p:Expression2 stringValue=""/>
                          <L7p:Negate booleanValue="true"/>
                          <L7p:Operator operator="EMPTY"/>
                          <L7p:Predicates predicates="included">
                            <L7p:item binary="included">
                              <L7p:Negated booleanValue="true"/>

                              <L7p:Operator operator="EMPTY"/>

                              <L7p:RightValue stringValue=""/>
                            </L7p:item>
                          </L7p:Predicates>
                        </L7p:ComparisonAssertion>
                        <L7p:SetVariable>

                          <L7p:Base64Expression stringValue="JHtuZXdTb3VyY2VVcml9LyR7dXJpLmN1cnJlbnR9"/>
                          <L7p:VariableToSet stringValue="newSourceUri"/>
                        </L7p:SetVariable>
                      </wsp:All>
                    </wsp:OneOrMore>
                  </wsp:All>
                  <L7p:TrueAssertion/>
                </wsp:OneOrMore>
              </L7p:ForEachLoop>
              <L7p:Split>
                <L7p:InputVariable stringValue="newSourceUri"/>
                <L7p:OutputVariable stringValue="splitUri"/>
                <L7p:SplitPattern stringValue="/"/>
              </L7p:Split>
              <L7p:SetVariable>
                <L7p:Base64Expression stringValue="JHtzcGxpdFVyaVsyXX0="/>
                <L7p:VariableToSet stringValue="mode"/>
              </L7p:SetVariable>
              <L7p:SetVariable>
                <L7p:Base64Expression stringValue="JHtzcGxpdFVyaVszXX0="/>
                <L7p:VariableToSet stringValue="entity_type"/>
              </L7p:SetVariable>
              <L7p:SetVariable>
                <L7p:Base64Expression stringValue="JHtzcGxpdFVyaVs0XX0="/>
                <L7p:VariableToSet stringValue="entity_id"/>
              </L7p:SetVariable>
              <L7p:EncodeDecode>
                <L7p:SourceVariableName stringValue="entity_id"/>
                <L7p:TargetDataType variableDataType="string"/>
                <L7p:TargetVariableName stringValue="entity_id"/>
                <L7p:TransformType transformType="URL_DECODE"/>
              </L7p:EncodeDecode>
            </wsp:All>
            <L7p:TrueAssertion/>
          </wsp:OneOrMore>
          <L7p:AuditDetailAssertion>
            <L7p:Detail stringValue="operation=${operation},mode=${mode},entity_type=${entity_type},entity_id=${entity_id}"/>
          </L7p:AuditDetailAssertion>
          <L7p:AuditDetailAssertion>
            <L7p:Detail stringValue="tenantId=${tenantId},ldapProviderId=${ldapProviderId},jdbcConnectionName=${jdbcConnectionName}"/>
          </L7p:AuditDetailAssertion>
          <L7p:assertionComment>
            <L7p:Properties mapValue="included">
              <L7p:entry>
                <L7p:key stringValue="LEFT.COMMENT"/>
                <L7p:value stringValue="parsing()"/>
              </L7p:entry>
            </L7p:Properties>
          </L7p:assertionComment>
        </wsp:All>
        <wsp:OneOrMore wsp:Usage="Required">
          <wsp:All wsp:Usage="Required">
            <L7p:ComparisonAssertion>
              <L7p:AssertionComment assertionComment="included">
                <L7p:Properties mapValue="included">
                  <L7p:entry>
                    <L7p:key stringValue="RIGHT.COMMENT"/>
                    <L7p:value stringValue="//skip if there's alreay an error"/>
                  </L7p:entry>
                </L7p:Properties>
              </L7p:AssertionComment>
              <L7p:CaseSensitive booleanValue="false"/>
              <L7p:Expression1 stringValue="${errorCode}"/>
              <L7p:Operator operatorNull="null"/>
              <L7p:Predicates predicates="included">
                <L7p:item dataType="included">
                  <L7p:Type variableDataType="string"/>
                </L7p:item>
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="0"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:ComparisonAssertion>
              <L7p:Expression1 stringValue="${mode}"/>
              <L7p:Expression2 stringValue="forms"/>
              <L7p:Operator operator="EMPTY"/>
              <L7p:Predicates predicates="included">
                <L7p:item binary="included">
                  <L7p:Operator operator="EMPTY"/>
                  <L7p:RightValue stringValue="forms"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:ComparisonAssertion>
              <L7p:Expression1 stringValue="${entity_type}"/>
              <L7p:Expression2 stringValue="authenticate"/>
              <L7p:Operator operator="EMPTY"/>
              <L7p:Predicates predicates="included">
                <L7p:item binary="included">
                  <L7p:Operator operator="EMPTY"/>
                  <L7p:RightValue stringValue="authenticate"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <wsp:OneOrMore wsp:Usage="Required">
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:Expression1 stringValue="${format}"/>
                  <L7p:Expression2 stringValue="json"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item binary="included">
                      <L7p:RightValue stringValue="json"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04"/>
                  <L7p:VariableToSet stringValue="content_type"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="ew0KImQiIDogew0KIkVudGl0eVNldHMiIDogWw0KIlRlbmFudHMiLCAiUG9ydGFsQXV0aHMiLCAiUG9ydGFsTWdtdHMiLCJQb3J0YWxNZXRyaWNzIiwgIklkZW50aXR5UHJvdmlkZXJzIiwgIkpkYmNDb25uZWN0aW9ucyIsICJJbnRlcm5hbEdyb3VwcyINCl0NCn0NCn0="/>
                  <L7p:VariableToSet stringValue="output"/>
                </L7p:SetVariable>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="RIGHT.COMMENT"/>
                      <L7p:value stringValue="//is format=json?"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
              <wsp:All wsp:Usage="Required">
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="YXBwbGljYXRpb24veG1sO2NoYXJzZXQ9dXRmLTg="/>
                  <L7p:VariableToSet stringValue="content_type"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="PHNlcnZpY2UgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDcvYXBwIiB4bWxuczphdG9tPSJodHRwOi8vd3d3LnczLm9yZy8yMDA1L0F0b20iIHhtbG5zOmFwcD0iaHR0cDovL3d3dy53My5vcmcvMjAwNy9hcHAiIHhtbDpiYXNlPSJodHRwczovLyR7Z2F0ZXdheS5jbHVzdGVyLmhvc3RuYW1lfTo4NDQzL3BvcnRhbENvbmZpZy8iPg0KPHdvcmtzcGFjZT4NCjxhdG9tOnRpdGxlPkRlZmF1bHQ8L2F0b206dGl0bGU+DQo8Y29sbGVjdGlvbiBocmVmPSJUZW5hbnRzIj4NCjxhdG9tOnRpdGxlPlRlbmFudHM8L2F0b206dGl0bGU+DQo8L2NvbGxlY3Rpb24+DQo8Y29sbGVjdGlvbiBocmVmPSJQb3J0YWxBdXRocyI+DQo8YXRvbTp0aXRsZT5Qb3J0YWxBdXRoczwvYXRvbTp0aXRsZT4NCjwvY29sbGVjdGlvbj4NCjxjb2xsZWN0aW9uIGhyZWY9IlBvcnRhbE1nbXRzIj4NCjxhdG9tOnRpdGxlPlBvcnRhbE1nbXRzPC9hdG9tOnRpdGxlPg0KPC9jb2xsZWN0aW9uPg0KPGNvbGxlY3Rpb24gaHJlZj0iUG9ydGFsTWV0cmljcyI+DQo8YXRvbTp0aXRsZT5Qb3J0YWxNZXRyaWNzPC9hdG9tOnRpdGxlPg0KPC9jb2xsZWN0aW9uPg0KPGNvbGxlY3Rpb24gaHJlZj0iSWRlbnRpdHlQcm92aWRlcnMiPg0KPGF0b206dGl0bGU+SWRlbnRpdHlQcm92aWRlcnM8L2F0b206dGl0bGU+DQo8L2NvbGxlY3Rpb24+DQo8Y29sbGVjdGlvbiBocmVmPSJKZGJjQ29ubmVjdGlvbnMiPg0KPGF0b206dGl0bGU+SmRiY0Nvbm5lY3Rpb25zPC9hdG9tOnRpdGxlPg0KPC9jb2xsZWN0aW9uPg0KPGNvbGxlY3Rpb24gaHJlZj0iSW50ZXJuYWxHcm91cHMiPg0KPGF0b206dGl0bGU+SW50ZXJuYWxHcm91cHM8L2F0b206dGl0bGU+DQo8L2NvbGxlY3Rpb24+DQo8L3dvcmtzcGFjZT4NCjwvc2VydmljZT4="/>
                  <L7p:VariableToSet stringValue="output"/>
                </L7p:SetVariable>
              </wsp:All>
            </wsp:OneOrMore>
            <L7p:assertionComment>
              <L7p:Properties mapValue="included">
                <L7p:entry>
                  <L7p:key stringValue="LEFT.COMMENT"/>
                  <L7p:value stringValue="Index()"/>
                </L7p:entry>
                <L7p:entry>
                  <L7p:key stringValue="RIGHT.COMMENT"/>
                  <L7p:value stringValue="//ServiceDocuments"/>
                </L7p:entry>
              </L7p:Properties>
            </L7p:assertionComment>
          </wsp:All>
          <wsp:All wsp:Usage="Required">
            <L7p:ComparisonAssertion>
              <L7p:AssertionComment assertionComment="included">
                <L7p:Properties mapValue="included">
                  <L7p:entry>
                    <L7p:key stringValue="RIGHT.COMMENT"/>
                    <L7p:value stringValue="//skip if there's alreay an error"/>
                  </L7p:entry>
                </L7p:Properties>
              </L7p:AssertionComment>
              <L7p:CaseSensitive booleanValue="false"/>
              <L7p:Expression1 stringValue="${errorCode}"/>
              <L7p:Operator operatorNull="null"/>
              <L7p:Predicates predicates="included">
                <L7p:item dataType="included">
                  <L7p:Type variableDataType="string"/>
                </L7p:item>
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="0"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:ComparisonAssertion>
              <L7p:Expression1 stringValue="${mode}"/>
              <L7p:Expression2 stringValue="$metadata"/>
              <L7p:Predicates predicates="included">
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="$metadata"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:ComparisonAssertion>
              <L7p:Expression1 stringValue="${entity_type}"/>
              <L7p:Expression2 stringValue="authenticate"/>
              <L7p:Operator operator="EMPTY"/>
              <L7p:Predicates predicates="included">
                <L7p:item binary="included">
                  <L7p:Operator operator="EMPTY"/>
                  <L7p:RightValue stringValue="authenticate"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:SetVariable>
              <L7p:Base64Expression stringValue="YXBwbGljYXRpb24veG1sO2NoYXJzZXQ9dXRmLTg="/>
              <L7p:VariableToSet stringValue="content_type"/>
            </L7p:SetVariable>
            <L7p:SetVariable>
              <L7p:Base64Expression stringValue="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxlZG14OkVkbXggVmVyc2lvbj0iMS4wIiB4bWxuczplZG14PSJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL2Fkby8yMDA3LzA2L2VkbXgiPg0KCTxlZG14OkRhdGFTZXJ2aWNlcyBtOkRhdGFTZXJ2aWNlVmVyc2lvbj0iMi4wIiB4bWxuczptPSJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL2Fkby8yMDA3LzA4L2RhdGFzZXJ2aWNlcy9tZXRhZGF0YSI+DQoJCTxTY2hlbWEgTmFtZXNwYWNlPSJQb3J0YWxDb25maWdNb2RlbCIgeG1sbnM9Imh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vYWRvLzIwMDgvMDkvZWRtIj4NCgkJCTxFbnRpdHlUeXBlIE5hbWU9IlRlbmFudCI+DQoJCQkJPEtleT4NCgkJCQkJPFByb3BlcnR5UmVmIE5hbWU9IlRlbmFudElkIj48L1Byb3BlcnR5UmVmPg0KCQkJCTwvS2V5Pg0KCQkJCTxQcm9wZXJ0eSBOYW1lPSJUZW5hbnRJZCIgVHlwZT0iRWRtLlN0cmluZyIgTnVsbGFibGU9ImZhbHNlIiBNYXhMZW5ndGg9IjgwIj48L1Byb3BlcnR5Pg0KCQkJPC9FbnRpdHlUeXBlPg0KCQkJPEVudGl0eVR5cGUgTmFtZT0iUG9ydGFsQXV0aCI+DQoJCQkJPEtleT4NCgkJCQkJPFByb3BlcnR5UmVmIE5hbWU9IlRlbmFudElkIj48L1Byb3BlcnR5UmVmPg0KCQkJCTwvS2V5Pg0KCQkJCTxQcm9wZXJ0eSBOYW1lPSJUZW5hbnRJZCIgVHlwZT0iRWRtLlN0cmluZyIgTnVsbGFibGU9ImZhbHNlIiBNYXhMZW5ndGg9IjgwIj48L1Byb3BlcnR5Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJvcGVydHkgTmFtZT0iQXV0aFR5cGUiIFR5cGU9IkVkbS5TdHJpbmciIE51bGxhYmxlPSJmYWxzZSIgTWF4TGVuZ3RoPSI4MCI+PC9Qcm9wZXJ0eT4NCgkJCQk8UHJvcGVydHkgTmFtZT0iSWRlbnRpdHlQcm92aWRlcklkIiBUeXBlPSJFZG0uU3RyaW5nIiBOdWxsYWJsZT0iZmFsc2UiIE1heExlbmd0aD0iMjU1Ij48L1Byb3BlcnR5Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJvcGVydHkgTmFtZT0iU2VhcmNoQmFzZSIgVHlwZT0iRWRtLlN0cmluZyIgTnVsbGFibGU9ImZhbHNlIiBNYXhMZW5ndGg9IjI1NSI+PC9Qcm9wZXJ0eT4NCgkJCQk8UHJvcGVydHkgTmFtZT0iSmRiY0Nvbm5lY3Rpb25OYW1lIiBUeXBlPSJFZG0uU3RyaW5nIiBOdWxsYWJsZT0iZmFsc2UiIE1heExlbmd0aD0iMjU1Ij48L1Byb3BlcnR5Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJvcGVydHkgTmFtZT0iR3JvdXBJZCIgVHlwZT0iRWRtLlN0cmluZyIgTnVsbGFibGU9ImZhbHNlIiBNYXhMZW5ndGg9IjI1NSI+PC9Qcm9wZXJ0eT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFByb3BlcnR5IE5hbWU9Ikdyb3VwTmFtZSIgVHlwZT0iRWRtLlN0cmluZyIgTnVsbGFibGU9ImZhbHNlIiBNYXhMZW5ndGg9IjI1NSI+PC9Qcm9wZXJ0eT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFByb3BlcnR5IE5hbWU9IlRva2VuVGltZW91dCIgVHlwZT0iRWRtLkludDE2IiBOdWxsYWJsZT0iZmFsc2UiPjwvUHJvcGVydHk+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQcm9wZXJ0eSBOYW1lPSJDYWNoZVRpbW91dCIgVHlwZT0iRWRtLkludDE2IiBOdWxsYWJsZT0iZmFsc2UiPjwvUHJvcGVydHk+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQcm9wZXJ0eSBOYW1lPSJQYXNzd29yZFBvbGljeSIgVHlwZT0iRWRtLlN0cmluZyIgTnVsbGFibGU9ImZhbHNlIiBNYXhMZW5ndGg9IjI1NSI+PC9Qcm9wZXJ0eT4NCgkJCTwvRW50aXR5VHlwZT4NCgkJCTxFbnRpdHlUeXBlIE5hbWU9IlBvcnRhbE1nbXQiPg0KCQkJCTxLZXk+DQoJCQkJCTxQcm9wZXJ0eVJlZiBOYW1lPSJUZW5hbnRJZCI+PC9Qcm9wZXJ0eVJlZj4NCgkJCQk8L0tleT4NCgkJCQk8UHJvcGVydHkgTmFtZT0iVGVuYW50SWQiIFR5cGU9IkVkbS5TdHJpbmciIE51bGxhYmxlPSJmYWxzZSIgTWF4TGVuZ3RoPSI4MCI+PC9Qcm9wZXJ0eT4NCgkJCQk8UHJvcGVydHkgTmFtZT0iSmRiY0Nvbm5lY3Rpb25OYW1lIiBUeXBlPSJFZG0uU3RyaW5nIiBOdWxsYWJsZT0iZmFsc2UiIE1heExlbmd0aD0iMjU1Ij48L1Byb3BlcnR5Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJvcGVydHkgTmFtZT0iR3JvdXBJZCIgVHlwZT0iRWRtLlN0cmluZyIgTnVsbGFibGU9ImZhbHNlIiBNYXhMZW5ndGg9IjI1NSI+PC9Qcm9wZXJ0eT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFByb3BlcnR5IE5hbWU9Ikdyb3VwTmFtZSIgVHlwZT0iRWRtLlN0cmluZyIgTnVsbGFibGU9ImZhbHNlIiBNYXhMZW5ndGg9IjI1NSI+PC9Qcm9wZXJ0eT4NCgkJCTwvRW50aXR5VHlwZT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxFbnRpdHlUeXBlIE5hbWU9IlBvcnRhbE1ldHJpYyI+DQoJCQkJPEtleT4NCgkJCQkJPFByb3BlcnR5UmVmIE5hbWU9IlRlbmFudElkIj48L1Byb3BlcnR5UmVmPg0KCQkJCTwvS2V5Pg0KCQkJCTxQcm9wZXJ0eSBOYW1lPSJUZW5hbnRJZCIgVHlwZT0iRWRtLlN0cmluZyIgTnVsbGFibGU9ImZhbHNlIiBNYXhMZW5ndGg9IjgwIj48L1Byb3BlcnR5Pg0KCQkJCTxQcm9wZXJ0eSBOYW1lPSJKZGJjQ29ubmVjdGlvbk5hbWUiIFR5cGU9IkVkbS5TdHJpbmciIE51bGxhYmxlPSJmYWxzZSIgTWF4TGVuZ3RoPSIyNTUiPjwvUHJvcGVydHk+DQoJCQk8L0VudGl0eVR5cGU+DQoJCQk8RW50aXR5VHlwZSBOYW1lPSJJZGVudGl0eVByb3ZpZGVyIj4NCgkJCQk8S2V5Pg0KCQkJCQk8UHJvcGVydHlSZWYgTmFtZT0iSWRlbnRpdHlQcm92aWRlcklkIj48L1Byb3BlcnR5UmVmPg0KCQkJCTwvS2V5Pg0KCQkJCTxQcm9wZXJ0eSBOYW1lPSJJZGVudGl0eVByb3ZpZGVySWQiIFR5cGU9IkVkbS5TdHJpbmciIE51bGxhYmxlPSJmYWxzZSIgTWF4TGVuZ3RoPSIyNTUiPjwvUHJvcGVydHk+DQoJCQkJPFByb3BlcnR5IE5hbWU9Ik5hbWUiIFR5cGU9IkVkbS5TdHJpbmciIE51bGxhYmxlPSJmYWxzZSIgTWF4TGVuZ3RoPSIyNTUiPjwvUHJvcGVydHk+DQoJCQkJPFByb3BlcnR5IE5hbWU9IlNlYXJjaEJhc2UiIFR5cGU9IkVkbS5TdHJpbmciIE51bGxhYmxlPSJmYWxzZSIgTWF4TGVuZ3RoPSIyNTUiPjwvUHJvcGVydHk+DQoJCQk8L0VudGl0eVR5cGU+DQoJCQk8RW50aXR5VHlwZSBOYW1lPSJKZGJjQ29ubmVjdGlvbiI+DQoJCQkJPEtleT4NCgkJCQkJPFByb3BlcnR5UmVmIE5hbWU9IkpkYmNDb25uZWN0aW9uSWQiPjwvUHJvcGVydHlSZWY+DQoJCQkJPC9LZXk+DQoJCQkJPFByb3BlcnR5IE5hbWU9IkpkYmNDb25uZWN0aW9uSWQiIFR5cGU9IkVkbS5TdHJpbmciIE51bGxhYmxlPSJmYWxzZSIgTWF4TGVuZ3RoPSIyNTUiPjwvUHJvcGVydHk+DQoJCQkJPFByb3BlcnR5IE5hbWU9Ik5hbWUiIFR5cGU9IkVkbS5TdHJpbmciIE51bGxhYmxlPSJmYWxzZSIgTWF4TGVuZ3RoPSIyNTUiPjwvUHJvcGVydHk+DQoJCQk8L0VudGl0eVR5cGU+DQoJCQk8RW50aXR5VHlwZSBOYW1lPSJJbnRlcm5hbEdyb3VwIj4NCgkJCQk8S2V5Pg0KCQkJCQk8UHJvcGVydHlSZWYgTmFtZT0iT2JqZWN0aWQiLz4NCgkJCQk8L0tleT4NCgkJCQk8UHJvcGVydHkgTmFtZT0iT2JqZWN0aWQiIFR5cGU9IkVkbS5JbnQ2NCIgTnVsbGFibGU9ImZhbHNlIiBNYXhMZW5ndGg9IjE5Ii8+DQoJCQkJPFByb3BlcnR5IE5hbWU9IlZlcnNpb24iIFR5cGU9IkVkbS5JbnQzMiIgTnVsbGFibGU9ImZhbHNlIiBNYXhMZW5ndGg9IjEwIi8+DQoJCQkJPFByb3BlcnR5IE5hbWU9Ik5hbWUiIFR5cGU9IkVkbS5TdHJpbmciIE51bGxhYmxlPSJmYWxzZSIgTWF4TGVuZ3RoPSIxMjgiLz4NCgkJCQk8UHJvcGVydHkgTmFtZT0iRGVzY3JpcHRpb24iIFR5cGU9IkVkbS5TdHJpbmciIE51bGxhYmxlPSJ0cnVlIiBNYXhMZW5ndGg9IjE2Nzc3MjE1Ii8+DQoJCQkJPFByb3BlcnR5IE5hbWU9IkVuYWJsZWQiIFR5cGU9IkVkbS5JbnQxNiIgTnVsbGFibGU9InRydWUiLz4NCgkJCTwvRW50aXR5VHlwZT4NCgkJPC9TY2hlbWE+DQoJCTxTY2hlbWEgTmFtZXNwYWNlPSJFbnRpdGllcy5Qb3J0YWxDb25maWciIHhtbG5zPSJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL2Fkby8yMDA4LzA5L2VkbSI+DQoJCQk8RW50aXR5Q29udGFpbmVyIE5hbWU9IlBvcnRhbENvbmZpZyIgbTpJc0RlZmF1bHRFbnRpdHlDb250YWluZXI9InRydWUiPg0KCQkJCTxFbnRpdHlTZXQgTmFtZT0iVGVuYW50cyIgRW50aXR5VHlwZT0iUG9ydGFsQ29uZmlnTW9kZWwuVGVuYW50Ij48L0VudGl0eVNldD4NCgkJCQk8RW50aXR5U2V0IE5hbWU9IlBvcnRhbEF1dGhzIiBFbnRpdHlUeXBlPSJQb3J0YWxDb25maWdNb2RlbC5Qb3J0YWxBdXRoIj48L0VudGl0eVNldD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEVudGl0eVNldCBOYW1lPSJQb3J0YWxNZ210cyIgRW50aXR5VHlwZT0iUG9ydGFsQ29uZmlnTW9kZWwuUG9ydGFsTWdtdCI+PC9FbnRpdHlTZXQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFbnRpdHlTZXQgTmFtZT0iUG9ydGFsTWV0cmljcyIgRW50aXR5VHlwZT0iUG9ydGFsQ29uZmlnTW9kZWwuUG9ydGFsTWV0cmljIj48L0VudGl0eVNldD4NCgkJCQk8RW50aXR5U2V0IE5hbWU9IklkZW50aXR5UHJvdmlkZXJzIiBFbnRpdHlUeXBlPSJQb3J0YWxDb25maWdNb2RlbC5JZGVudGl0eVByb3ZpZGVyIj48L0VudGl0eVNldD4NCgkJCQk8RW50aXR5U2V0IE5hbWU9IkpkYmNDb25uZWN0aW9ucyIgRW50aXR5VHlwZT0iUG9ydGFsQ29uZmlnTW9kZWwuSmRiY0Nvbm5lY3Rpb24iPjwvRW50aXR5U2V0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RW50aXR5U2V0IE5hbWU9IkludGVybmFsR3JvdXBzIiBFbnRpdHlUeXBlPSJQb3J0YWxDb25maWdNb2RlbC5JbnRlcm5hbEdyb3VwIj48L0VudGl0eVNldD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEVudGl0eVNldCBOYW1lPSJDbGllbnRDZXJ0cyIgRW50aXR5VHlwZT0iUG9ydGFsQ29uZmlnTW9kZWwuQ2xpZW50Q2VydCI+PC9FbnRpdHlTZXQ+DQoJCQk8L0VudGl0eUNvbnRhaW5lcj4NCgkJPC9TY2hlbWE+DQoJPC9lZG14OkRhdGFTZXJ2aWNlcz4NCjwvZWRteDpFZG14Pg=="/>
              <L7p:VariableToSet stringValue="output"/>
            </L7p:SetVariable>
            <L7p:assertionComment>
              <L7p:Properties mapValue="included">
                <L7p:entry>
                  <L7p:key stringValue="LEFT.COMMENT"/>
                  <L7p:value stringValue="$metadata"/>
                </L7p:entry>
              </L7p:Properties>
            </L7p:assertionComment>
          </wsp:All>
          <wsp:All wsp:Usage="Required">
            <L7p:ComparisonAssertion>
              <L7p:AssertionComment assertionComment="included">
                <L7p:Properties mapValue="included">
                  <L7p:entry>
                    <L7p:key stringValue="RIGHT.COMMENT"/>
                    <L7p:value stringValue="//skip if there's alreay an error"/>
                  </L7p:entry>
                </L7p:Properties>
              </L7p:AssertionComment>
              <L7p:CaseSensitive booleanValue="false"/>
              <L7p:Expression1 stringValue="${errorCode}"/>
              <L7p:Operator operatorNull="null"/>
              <L7p:Predicates predicates="included">
                <L7p:item dataType="included">
                  <L7p:Type variableDataType="string"/>
                </L7p:item>
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="0"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:ComparisonAssertion>
              <L7p:Expression1 stringValue="${mode}"/>
              <L7p:Expression2 stringValue="IdentityProviders"/>
              <L7p:Predicates predicates="included">
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="IdentityProviders"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <wsp:OneOrMore wsp:Usage="Required">
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:Expression1 stringValue="${operation}"/>
                  <L7p:Expression2 stringValue="GET"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item binary="included">
                      <L7p:RightValue stringValue="GET"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <wsp:OneOrMore wsp:Usage="Required">
                  <wsp:All wsp:Usage="Required">
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="PGVudjpFbnZlbG9wZSB4bWxuczplbnY9Imh0dHA6Ly93d3cudzMub3JnLzIwMDMvMDUvc29hcC1lbnZlbG9wZSINCiAgICB4bWxuczp3c2E9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvYWRkcmVzc2luZyINCiAgICB4bWxuczp3c2U9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvZXZlbnRpbmciDQogICAgeG1sbnM6d3Nlbj0iaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNC8wOS9lbnVtZXJhdGlvbiINCiAgICB4bWxuczp3c21hbj0iaHR0cDovL3NjaGVtYXMuZG10Zi5vcmcvd2JlbS93c21hbi8xL3dzbWFuLnhzZCINCiAgICB4bWxuczp3eGY9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDkvdHJhbnNmZXIiDQogICAgeG1sbnM6bDc9Imh0dHA6Ly9ucy5sN3RlY2guY29tLzIwMTAvMDQvZ2F0ZXdheS1tYW5hZ2VtZW50IiB4bWxuczp4cz0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiPg0KICAgIDxlbnY6SGVhZGVyPg0KICAgICAgICA8d3NhOkFjdGlvbiBlbnY6bXVzdFVuZGVyc3RhbmQ9InRydWUiPmh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDkvZW51bWVyYXRpb24vRW51bWVyYXRlPC93c2E6QWN0aW9uPg0KICAgICAgICA8d3NhOlJlcGx5VG8+DQogICAgICAgICAgICA8d3NhOkFkZHJlc3MgZW52Om11c3RVbmRlcnN0YW5kPSJ0cnVlIj5odHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA0LzA4L2FkZHJlc3Npbmcvcm9sZS9hbm9ueW1vdXM8L3dzYTpBZGRyZXNzPg0KICAgICAgICA8L3dzYTpSZXBseVRvPg0KICAgICAgICA8d3NhOk1lc3NhZ2VJRCBlbnY6bXVzdFVuZGVyc3RhbmQ9InRydWUiPndzbS1nZXQtaWQtMDAwMDAxMzcwOTkxMTJkNy1mOWM8L3dzYTpNZXNzYWdlSUQ+DQogICAgICAgIDx3c2E6VG8gZW52Om11c3RVbmRlcnN0YW5kPSJ0cnVlIj5odHRwczovL2xvY2FsaG9zdDo4NDQzL3dzbWFuPC93c2E6VG8+DQogICAgICAgIDx3c21hbjpSZXNvdXJjZVVSST5odHRwOi8vbnMubDd0ZWNoLmNvbS8yMDEwLzA0L2dhdGV3YXktbWFuYWdlbWVudC9pZGVudGl0eVByb3ZpZGVyczwvd3NtYW46UmVzb3VyY2VVUkk+DQogICAgICAgIDx3c21hbjpSZXF1ZXN0VG90YWxJdGVtc0NvdW50RXN0aW1hdGUvPg0KICAgIDwvZW52OkhlYWRlcj4NCiAgICA8ZW52OkJvZHk+DQogICAgICAgIDx3c2VuOkVudW1lcmF0ZT4NCiAgICAgICAgICAgIDx3c21hbjpPcHRpbWl6ZUVudW1lcmF0aW9uLz4NCiAgICAgICAgICAgIDx3c21hbjpNYXhFbGVtZW50cz4xMDAwMDA8L3dzbWFuOk1heEVsZW1lbnRzPg0KICAgICAgICA8L3dzZW46RW51bWVyYXRlPg0KICAgIDwvZW52OkJvZHk+DQo8L2VudjpFbnZlbG9wZT4="/>
                      <L7p:ContentType stringValue="application/soap+xml; charset=utf-8"/>
                      <L7p:DataType variableDataType="message"/>
                      <L7p:VariableToSet stringValue="request"/>
                    </L7p:SetVariable>
                    <L7p:GatewayManagement>
                      <L7p:VariablePrefix stringValue="wsman"/>
                    </L7p:GatewayManagement>
                    <L7p:XslTransformation>
                      <L7p:Direction intValue="2"/>
                      <L7p:ResourceInfo staticResourceInfo="included">
                        <L7p:Document stringValue="&lt;?xml version=&quot;1.0&quot;?>&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:env=&quot;http://www.w3.org/2003/05/soap-envelope&quot; xmlns:wsen=&quot;http://schemas.xmlsoap.org/ws/2004/09/enumeration&quot; xmlns:wsman=&quot;http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd&quot;                xmlns:l7=&quot;http://ns.l7tech.com/2010/04/gateway-management&quot; exclude-result-prefixes=&quot;l7 wsman env wsen&quot;>&#x9;&lt;xsl:output indent=&quot;yes&quot; method=&quot;xml&quot; omit-xml-declaration=&quot;yes&quot;/>&#x9;&lt;xsl:strip-space elements=&quot;*&quot;/>&lt;xsl:param name=&quot;request.url.protocol&quot; select=&quot;'http'&quot;/>&#x9;&lt;xsl:param name=&quot;request.url.host&quot; select=&quot;'localhost'&quot;/>&#x9;&#x9;&lt;xsl:param name=&quot;request.url.port&quot; select=&quot;'8080'&quot;/>&#x9;&lt;xsl:param name=&quot;request.url.path&quot; select=&quot;'/OData.svc/IdentityProvider'&quot;/>&#x9;&lt;xsl:template match=&quot;env:Envelope/env:Header&quot;>&lt;/xsl:template>&#x9;&lt;xsl:template match=&quot;env:Envelope/env:Body/wsen:EnumerateResponse/wsen:Expires&quot;>&lt;/xsl:template>&#x9;&lt;xsl:template match=&quot;env:Envelope/env:Body/wsen:EnumerateResponse/wsen:EnumerationContext&quot;>&lt;/xsl:template>&#x9;&lt;xsl:template match=&quot;/&quot;>&#x9;&#x9;&lt;d>&#x9;&#x9;&#x9;&lt;xsl:apply-templates/>&#x9;&#x9;&lt;/d>&#x9;&lt;/xsl:template>&#x9;&lt;xsl:template match=&quot;l7:IdentityProvider&quot;>&#x9;&#x9;&lt;xsl:if test=&quot;./l7:Extension/l7:LdapIdentityProviderDetail/l7:SourceType = 'GenericLDAP'&quot;>&#x9;&#x9;&#x9;&lt;results>&#x9;&#x9;&#x9;&#x9;&lt;__metadata>&#x9;&#x9;&#x9;&#x9;&#x9;&lt;uri>&lt;xsl:value-of select=&quot;$request.url.protocol&quot;/>://&lt;xsl:value-of select=&quot;$request.url.host&quot;/>:&lt;xsl:value-of select=&quot;$request.url.port&quot;/>&lt;xsl:value-of select=&quot;$request.url.path&quot;/>(&lt;xsl:value-of select=&quot;@id&quot;/>)&lt;/uri>&#x9;&#x9;&#x9;&#x9;&#x9;&lt;type>PortalConfigModel.IdentityProvider&lt;/type>&#x9;&#x9;&#x9;&#x9;&lt;/__metadata>&#x9;&#x9;&#x9;&#x9;&lt;Id>&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;@id&quot;/>&#x9;&#x9;&#x9;&#x9;&lt;/Id>&#x9;&#x9;&#x9;&#x9;&lt;Name>&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;./l7:Name/text()&quot;/>&#x9;&#x9;&#x9;&#x9;&lt;/Name>&#x9;&#x9;&#x9;&#x9;&lt;SearchBase>&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;./l7:Extension/l7:LdapIdentityProviderDetail/l7:SearchBase/text()&quot;/>&#x9;&#x9;&#x9;&#x9;&lt;/SearchBase>&#x9;&#x9;&#x9;&lt;/results>&#x9;&#x9;&lt;/xsl:if>&#x9;&lt;/xsl:template>&lt;/xsl:stylesheet>"/>
                      </L7p:ResourceInfo>
                      <L7p:Target target="RESPONSE"/>
                      <L7p:TransformName stringValue=""/>
                      <L7p:XsltVersion stringValue="1.0"/>
                    </L7p:XslTransformation>
                    <wsp:OneOrMore wsp:Usage="Required">
                      <wsp:All wsp:Usage="Required">
                        <L7p:ComparisonAssertion>
                          <L7p:Expression1 stringValue="${format}"/>
                          <L7p:Expression2 stringValue="json"/>
                          <L7p:Predicates predicates="included">
                            <L7p:item binary="included">

                              <L7p:RightValue stringValue="json"/>
                            </L7p:item>
                          </L7p:Predicates>
                        </L7p:ComparisonAssertion>
                        <L7p:JsonTransformation>
                          <L7p:RootTagString stringValue=""/>
                        </L7p:JsonTransformation>
                        <L7p:SetVariable>

                          <L7p:Base64Expression stringValue="JHtyZXNwb25zZS5tYWlucGFydH0="/>
                          <L7p:VariableToSet stringValue="output"/>
                        </L7p:SetVariable>
                        <L7p:SetVariable>

                          <L7p:Base64Expression stringValue="YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04"/>
                          <L7p:VariableToSet stringValue="content_type"/>
                        </L7p:SetVariable>
                        <L7p:assertionComment>
                          <L7p:Properties mapValue="included">
                            <L7p:entry>
                              <L7p:key stringValue="RIGHT.COMMENT"/>
                              <L7p:value stringValue="//is format=json?"/>
                            </L7p:entry>
                          </L7p:Properties>
                        </L7p:assertionComment>
                      </wsp:All>
                      <wsp:All wsp:Usage="Required">
                        <L7p:SetVariable>

                          <L7p:Base64Expression stringValue="YXBwbGljYXRpb24veG1sO2NoYXJzZXQ9dXRmLTg="/>
                          <L7p:VariableToSet stringValue="content_type"/>
                        </L7p:SetVariable>
                        <L7p:SetVariable>

                          <L7p:Base64Expression stringValue="JHtyZXNwb25zZS5tYWlucGFydH0="/>
                          <L7p:VariableToSet stringValue="output"/>
                        </L7p:SetVariable>
                      </wsp:All>
                    </wsp:OneOrMore>
                  </wsp:All>
                  <wsp:All wsp:Usage="Required">
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="VGhlcmUgd2FzIGEgcHJvYmxlbSByZXRyaWV2aW5nIGRhdGE="/>
                      <L7p:VariableToSet stringValue="errorMsg"/>
                    </L7p:SetVariable>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="NTAw"/>
                      <L7p:VariableToSet stringValue="errorCode"/>
                    </L7p:SetVariable>
                  </wsp:All>
                </wsp:OneOrMore>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="LEFT.COMMENT"/>
                      <L7p:value stringValue="GET"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
              <wsp:All wsp:Usage="Required">
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="TWV0aG9kTm90U3VwcG9ydGVk"/>
                  <L7p:VariableToSet stringValue="errorMsg"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="NTAw"/>
                  <L7p:VariableToSet stringValue="errorCode"/>
                </L7p:SetVariable>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="LEFT.COMMENT"/>
                      <L7p:value stringValue="else"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
            </wsp:OneOrMore>
            <L7p:assertionComment>
              <L7p:Properties mapValue="included">
                <L7p:entry>
                  <L7p:key stringValue="LEFT.COMMENT"/>
                  <L7p:value stringValue="IdentityProvider()"/>
                </L7p:entry>
              </L7p:Properties>
            </L7p:assertionComment>
          </wsp:All>
          <wsp:All wsp:Usage="Required">
            <L7p:ComparisonAssertion>
              <L7p:AssertionComment assertionComment="included">
                <L7p:Properties mapValue="included">
                  <L7p:entry>
                    <L7p:key stringValue="RIGHT.COMMENT"/>
                    <L7p:value stringValue="//skip if there's alreay an error"/>
                  </L7p:entry>
                </L7p:Properties>
              </L7p:AssertionComment>
              <L7p:CaseSensitive booleanValue="false"/>
              <L7p:Expression1 stringValue="${errorCode}"/>
              <L7p:Operator operatorNull="null"/>
              <L7p:Predicates predicates="included">
                <L7p:item dataType="included">
                  <L7p:Type variableDataType="string"/>
                </L7p:item>
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="0"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:ComparisonAssertion>
              <L7p:Expression1 stringValue="${mode}"/>
              <L7p:Expression2 stringValue="JdbcConnections"/>
              <L7p:Predicates predicates="included">
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="JdbcConnections"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <wsp:OneOrMore wsp:Usage="Required">
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:Expression1 stringValue="${operation}"/>
                  <L7p:Expression2 stringValue="GET"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item binary="included">
                      <L7p:RightValue stringValue="GET"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <wsp:OneOrMore wsp:Usage="Required">
                  <wsp:All wsp:Usage="Required">
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="PGVudjpFbnZlbG9wZSB4bWxuczplbnY9Imh0dHA6Ly93d3cudzMub3JnLzIwMDMvMDUvc29hcC1lbnZlbG9wZSINCiAgICB4bWxuczp3c2E9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvYWRkcmVzc2luZyINCiAgICB4bWxuczp3c2U9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvZXZlbnRpbmciDQogICAgeG1sbnM6d3Nlbj0iaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNC8wOS9lbnVtZXJhdGlvbiINCiAgICB4bWxuczp3c21hbj0iaHR0cDovL3NjaGVtYXMuZG10Zi5vcmcvd2JlbS93c21hbi8xL3dzbWFuLnhzZCINCiAgICB4bWxuczp3eGY9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDkvdHJhbnNmZXIiDQogICAgeG1sbnM6bDc9Imh0dHA6Ly9ucy5sN3RlY2guY29tLzIwMTAvMDQvZ2F0ZXdheS1tYW5hZ2VtZW50IiB4bWxuczp4cz0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiPg0KICAgIDxlbnY6SGVhZGVyPg0KICAgICAgICA8d3NhOkFjdGlvbiBlbnY6bXVzdFVuZGVyc3RhbmQ9InRydWUiPmh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDkvZW51bWVyYXRpb24vRW51bWVyYXRlPC93c2E6QWN0aW9uPg0KICAgICAgICA8d3NhOlJlcGx5VG8+DQogICAgICAgICAgICA8d3NhOkFkZHJlc3MgZW52Om11c3RVbmRlcnN0YW5kPSJ0cnVlIj5odHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA0LzA4L2FkZHJlc3Npbmcvcm9sZS9hbm9ueW1vdXM8L3dzYTpBZGRyZXNzPg0KICAgICAgICA8L3dzYTpSZXBseVRvPg0KICAgICAgICA8d3NhOk1lc3NhZ2VJRCBlbnY6bXVzdFVuZGVyc3RhbmQ9InRydWUiPndzbS1nZXQtaWQtMDAwMDAxMzcwOTkxMTJkNy1mOWM8L3dzYTpNZXNzYWdlSUQ+DQogICAgICAgIDx3c2E6VG8gZW52Om11c3RVbmRlcnN0YW5kPSJ0cnVlIj5odHRwczovL2xvY2FsaG9zdDo4NDQzL3dzbWFuPC93c2E6VG8+DQogICAgICAgIDx3c21hbjpSZXNvdXJjZVVSST5odHRwOi8vbnMubDd0ZWNoLmNvbS8yMDEwLzA0L2dhdGV3YXktbWFuYWdlbWVudC9qZGJjQ29ubmVjdGlvbnM8L3dzbWFuOlJlc291cmNlVVJJPg0KICAgICAgICA8d3NtYW46UmVxdWVzdFRvdGFsSXRlbXNDb3VudEVzdGltYXRlLz4NCiAgICA8L2VudjpIZWFkZXI+DQogICAgPGVudjpCb2R5Pg0KICAgICAgICA8d3NlbjpFbnVtZXJhdGU+DQogICAgICAgICAgICA8d3NtYW46T3B0aW1pemVFbnVtZXJhdGlvbi8+DQogICAgICAgICAgICA8d3NtYW46TWF4RWxlbWVudHM+MTAwMDAwPC93c21hbjpNYXhFbGVtZW50cz4NCiAgICAgICAgPC93c2VuOkVudW1lcmF0ZT4NCiAgICA8L2VudjpCb2R5Pg0KPC9lbnY6RW52ZWxvcGU+"/>
                      <L7p:ContentType stringValue="application/soap+xml; charset=utf-8"/>
                      <L7p:DataType variableDataType="message"/>
                      <L7p:VariableToSet stringValue="request"/>
                    </L7p:SetVariable>
                    <L7p:GatewayManagement>
                      <L7p:VariablePrefix stringValue="wsman"/>
                    </L7p:GatewayManagement>
                    <L7p:XslTransformation>
                      <L7p:Direction intValue="2"/>
                      <L7p:ResourceInfo staticResourceInfo="included">
                        <L7p:Document stringValue="&lt;xsl:stylesheet exclude-result-prefixes=&quot;l7 wsman env wsen&quot; version=&quot;1.0&quot; xmlns:env=&quot;http://www.w3.org/2003/05/soap-envelope&quot; xmlns:l7=&quot;http://ns.l7tech.com/2010/04/gateway-management&quot; xmlns:wsen=&quot;http://schemas.xmlsoap.org/ws/2004/09/enumeration&quot;                xmlns:wsman=&quot;http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;>&#x9;&lt;xsl:output indent=&quot;yes&quot; method=&quot;xml&quot; omit-xml-declaration=&quot;yes&quot;/>&#x9;&lt;xsl:strip-space elements=&quot;*&quot;/>&#x9;&lt;xsl:param name=&quot;request.url.protocol&quot; select=&quot;'http'&quot;/>&#x9;&lt;xsl:param name=&quot;request.url.host&quot; select=&quot;'localhost'&quot;/>&#x9;&lt;xsl:param name=&quot;request.url.port&quot; select=&quot;'8080'&quot;/>&#x9;&lt;xsl:param name=&quot;request.url.path&quot; select=&quot;'/OData.svc/IdentityProvider'&quot;/>&#x9;&lt;xsl:template match=&quot;env:Envelope/env:Header&quot;/>&#x9;&lt;xsl:template match=&quot;env:Envelope/env:Body/wsen:EnumerateResponse/wsen:Expires&quot;/>&#x9;&lt;xsl:template match=&quot;env:Envelope/env:Body/wsen:EnumerateResponse/wsen:EnumerationContext&quot;/>&#x9;&lt;xsl:template match=&quot;/&quot;>&#x9;&#x9;&lt;d>&#x9;&#x9;&#x9;&lt;xsl:apply-templates/>&#x9;&#x9;&lt;/d>&#x9;&lt;/xsl:template>&#x9;&lt;xsl:template match=&quot;l7:JDBCConnection&quot;>&#x9;&#x9;&lt;results>&#x9;&#x9;&#x9;&lt;__metadata>&#x9;&#x9;&#x9;&#x9;&lt;uri>&#x9;&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;$request.url.protocol&quot;/>://&lt;xsl:value-of select=&quot;$request.url.host&quot;/>:&lt;xsl:value-of select=&quot;$request.url.port&quot;/>&lt;xsl:value-of select=&quot;$request.url.path&quot;/>(&lt;xsl:value-of select=&quot;@id&quot;/>)&lt;/uri>&#x9;&#x9;&#x9;&#x9;&lt;type>PortalConfigModel.JdbcConnection&lt;/type>&#x9;&#x9;&#x9;&lt;/__metadata>&#x9;&#x9;&#x9;&lt;Id>&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;@id&quot;/>&#x9;&#x9;&#x9;&lt;/Id>&#x9;&#x9;&#x9;&lt;Name>&#x9;&#x9;&#x9;&#x9;&lt;xsl:value-of select=&quot;./l7:Name/text()&quot;/>&#x9;&#x9;&#x9;&lt;/Name>&#x9;&#x9;&lt;/results>&#x9;&lt;/xsl:template>&lt;/xsl:stylesheet>"/>
                      </L7p:ResourceInfo>
                      <L7p:Target target="RESPONSE"/>
                      <L7p:TransformName stringValue=""/>
                      <L7p:XsltVersion stringValue="1.0"/>
                    </L7p:XslTransformation>
                    <wsp:OneOrMore wsp:Usage="Required">
                      <wsp:All wsp:Usage="Required">
                        <L7p:ComparisonAssertion>
                          <L7p:Expression1 stringValue="${format}"/>
                          <L7p:Expression2 stringValue="json"/>
                          <L7p:Predicates predicates="included">
                            <L7p:item binary="included">

                              <L7p:RightValue stringValue="json"/>
                            </L7p:item>
                          </L7p:Predicates>
                        </L7p:ComparisonAssertion>
                        <L7p:JsonTransformation>
                          <L7p:RootTagString stringValue=""/>
                        </L7p:JsonTransformation>
                        <L7p:SetVariable>

                          <L7p:Base64Expression stringValue="JHtyZXNwb25zZS5tYWlucGFydH0="/>
                          <L7p:VariableToSet stringValue="output"/>
                        </L7p:SetVariable>
                        <L7p:SetVariable>

                          <L7p:Base64Expression stringValue="YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04"/>
                          <L7p:VariableToSet stringValue="content_type"/>
                        </L7p:SetVariable>
                        <L7p:assertionComment>
                          <L7p:Properties mapValue="included">
                            <L7p:entry>
                              <L7p:key stringValue="RIGHT.COMMENT"/>
                              <L7p:value stringValue="//is format=json?"/>
                            </L7p:entry>
                          </L7p:Properties>
                        </L7p:assertionComment>
                      </wsp:All>
                      <wsp:All wsp:Usage="Required">
                        <L7p:SetVariable>

                          <L7p:Base64Expression stringValue="YXBwbGljYXRpb24veG1sO2NoYXJzZXQ9dXRmLTg="/>
                          <L7p:VariableToSet stringValue="content_type"/>
                        </L7p:SetVariable>
                        <L7p:SetVariable>

                          <L7p:Base64Expression stringValue="JHtyZXNwb25zZS5tYWlucGFydH0="/>
                          <L7p:VariableToSet stringValue="output"/>
                        </L7p:SetVariable>
                      </wsp:All>
                    </wsp:OneOrMore>
                  </wsp:All>
                  <wsp:All wsp:Usage="Required">
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="VGhlcmUgd2FzIGEgcHJvYmxlbSByZXRyaWV2aW5nIGRhdGE="/>
                      <L7p:VariableToSet stringValue="errorMsg"/>
                    </L7p:SetVariable>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="NTAw"/>
                      <L7p:VariableToSet stringValue="errorCode"/>
                    </L7p:SetVariable>
                  </wsp:All>
                </wsp:OneOrMore>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="LEFT.COMMENT"/>
                      <L7p:value stringValue="GET"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
              <wsp:All wsp:Usage="Required">
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="TWV0aG9kTm90U3VwcG9ydGVk"/>
                  <L7p:VariableToSet stringValue="errorMsg"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="NTAw"/>
                  <L7p:VariableToSet stringValue="errorCode"/>
                </L7p:SetVariable>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="LEFT.COMMENT"/>
                      <L7p:value stringValue="else"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
            </wsp:OneOrMore>
            <L7p:assertionComment>
              <L7p:Properties mapValue="included">
                <L7p:entry>
                  <L7p:key stringValue="LEFT.COMMENT"/>
                  <L7p:value stringValue="JdbcConnection()"/>
                </L7p:entry>
              </L7p:Properties>
            </L7p:assertionComment>
          </wsp:All>
          <wsp:All wsp:Usage="Required">
            <L7p:ComparisonAssertion>
              <L7p:AssertionComment assertionComment="included">
                <L7p:Properties mapValue="included">
                  <L7p:entry>
                    <L7p:key stringValue="RIGHT.COMMENT"/>
                    <L7p:value stringValue="//skip if there's alreay an error"/>
                  </L7p:entry>
                </L7p:Properties>
              </L7p:AssertionComment>
              <L7p:CaseSensitive booleanValue="false"/>
              <L7p:Expression1 stringValue="${errorCode}"/>
              <L7p:Operator operatorNull="null"/>
              <L7p:Predicates predicates="included">
                <L7p:item dataType="included">
                  <L7p:Type variableDataType="string"/>
                </L7p:item>
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="0"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:ComparisonAssertion>
              <L7p:Expression1 stringValue="${mode}"/>
              <L7p:Expression2 stringValue="InternalGroups"/>
              <L7p:Predicates predicates="included">
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="InternalGroups"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <wsp:OneOrMore wsp:Usage="Required">
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:Expression1 stringValue="${operation}"/>
                  <L7p:Expression2 stringValue="GET"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item binary="included">
                      <L7p:RightValue stringValue="GET"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <wsp:OneOrMore wsp:Usage="Required">
                  <wsp:All wsp:Usage="Required">
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="SW50ZXJuYWxHcm91cHM="/>
                      <L7p:VariableToSet stringValue="odata.resourcePath"/>
                    </L7p:SetVariable>
                    <L7p:ODataProducer>
                      <L7p:ConnectionName stringValue="Gateway IDP Groups"/>
                    </L7p:ODataProducer>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="JHtyZXNwb25zZS5tYWlucGFydH0="/>
                      <L7p:VariableToSet stringValue="output"/>
                    </L7p:SetVariable>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04"/>
                      <L7p:VariableToSet stringValue="content_type"/>
                    </L7p:SetVariable>
                  </wsp:All>
                  <wsp:All wsp:Usage="Required">
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="VGhlcmUgd2FzIGEgcHJvYmxlbSByZXRyaWV2aW5nIGRhdGE="/>
                      <L7p:VariableToSet stringValue="errorMsg"/>
                    </L7p:SetVariable>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="NTAw"/>
                      <L7p:VariableToSet stringValue="errorCode"/>
                    </L7p:SetVariable>
                  </wsp:All>
                </wsp:OneOrMore>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="LEFT.COMMENT"/>
                      <L7p:value stringValue="GET"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
              <wsp:All wsp:Usage="Required">
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="TWV0aG9kTm90U3VwcG9ydGVk"/>
                  <L7p:VariableToSet stringValue="errorMsg"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="NTAw"/>
                  <L7p:VariableToSet stringValue="errorCode"/>
                </L7p:SetVariable>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="LEFT.COMMENT"/>
                      <L7p:value stringValue="else"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
            </wsp:OneOrMore>
            <L7p:assertionComment>
              <L7p:Properties mapValue="included">
                <L7p:entry>
                  <L7p:key stringValue="LEFT.COMMENT"/>
                  <L7p:value stringValue="Groups()"/>
                </L7p:entry>
              </L7p:Properties>
            </L7p:assertionComment>
          </wsp:All>
          <wsp:All wsp:Usage="Required">
            <L7p:ComparisonAssertion>
              <L7p:AssertionComment assertionComment="included">
                <L7p:Properties mapValue="included">
                  <L7p:entry>
                    <L7p:key stringValue="RIGHT.COMMENT"/>
                    <L7p:value stringValue="//skip if there's alreay an error"/>
                  </L7p:entry>
                </L7p:Properties>
              </L7p:AssertionComment>
              <L7p:CaseSensitive booleanValue="false"/>
              <L7p:Expression1 stringValue="${errorCode}"/>
              <L7p:Operator operatorNull="null"/>
              <L7p:Predicates predicates="included">
                <L7p:item dataType="included">
                  <L7p:Type variableDataType="string"/>
                </L7p:item>
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="0"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:ComparisonAssertion>
              <L7p:Expression1 stringValue="${mode}"/>
              <L7p:Expression2 stringValue="ClientCerts"/>
              <L7p:Predicates predicates="included">
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="ClientCerts"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <wsp:OneOrMore wsp:Usage="Required">
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:Expression1 stringValue="${operation}"/>
                  <L7p:Expression2 stringValue="GET"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item binary="included">
                      <L7p:RightValue stringValue="GET"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <wsp:OneOrMore wsp:Usage="Required">
                  <wsp:All wsp:Usage="Required">
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="Q2xpZW50Q2VydHM="/>
                      <L7p:VariableToSet stringValue="odata.resourcePath"/>
                    </L7p:SetVariable>
                    <L7p:ODataProducer>
                      <L7p:ConnectionName stringValue="Gateway IDP Groups"/>
                    </L7p:ODataProducer>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="JHtyZXNwb25zZS5tYWlucGFydH0="/>
                      <L7p:VariableToSet stringValue="output"/>
                    </L7p:SetVariable>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04"/>
                      <L7p:VariableToSet stringValue="content_type"/>
                    </L7p:SetVariable>
                  </wsp:All>
                  <wsp:All wsp:Usage="Required">
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="VGhlcmUgd2FzIGEgcHJvYmxlbSByZXRyaWV2aW5nIGRhdGE="/>
                      <L7p:VariableToSet stringValue="errorMsg"/>
                    </L7p:SetVariable>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="NTAw"/>
                      <L7p:VariableToSet stringValue="errorCode"/>
                    </L7p:SetVariable>
                  </wsp:All>
                </wsp:OneOrMore>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="LEFT.COMMENT"/>
                      <L7p:value stringValue="GET"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
              <wsp:All wsp:Usage="Required">
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="TWV0aG9kTm90U3VwcG9ydGVk"/>
                  <L7p:VariableToSet stringValue="errorMsg"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="NTAw"/>
                  <L7p:VariableToSet stringValue="errorCode"/>
                </L7p:SetVariable>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="LEFT.COMMENT"/>
                      <L7p:value stringValue="else"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
            </wsp:OneOrMore>
            <L7p:assertionComment>
              <L7p:Properties mapValue="included">
                <L7p:entry>
                  <L7p:key stringValue="LEFT.COMMENT"/>
                  <L7p:value stringValue="ClientCert()"/>
                </L7p:entry>
              </L7p:Properties>
            </L7p:assertionComment>
          </wsp:All>
          <wsp:All wsp:Usage="Required">
            <L7p:ComparisonAssertion>
              <L7p:AssertionComment assertionComment="included">
                <L7p:Properties mapValue="included">
                  <L7p:entry>
                    <L7p:key stringValue="RIGHT.COMMENT"/>
                    <L7p:value stringValue="//skip if there's alreay an error"/>
                  </L7p:entry>
                </L7p:Properties>
              </L7p:AssertionComment>
              <L7p:CaseSensitive booleanValue="false"/>
              <L7p:Expression1 stringValue="${errorCode}"/>
              <L7p:Operator operatorNull="null"/>
              <L7p:Predicates predicates="included">
                <L7p:item dataType="included">
                  <L7p:Type variableDataType="string"/>
                </L7p:item>
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="0"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:ComparisonAssertion>
              <L7p:Expression1 stringValue="${mode}"/>
              <L7p:Expression2 stringValue="PortalAuths"/>
              <L7p:Predicates predicates="included">
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="PortalAuths"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <wsp:OneOrMore wsp:Usage="Required">
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:Expression1 stringValue="${operation}"/>
                  <L7p:Expression2 stringValue="POST"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item binary="included">
                      <L7p:RightValue stringValue="POST"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <wsp:OneOrMore wsp:Usage="Required">
                  <wsp:All wsp:Usage="Required">
                    <wsp:OneOrMore wsp:Usage="Required">
                      <wsp:All wsp:Usage="Required">
                        <L7p:RequestXpathAssertion>
                          <L7p:VariablePrefix stringValue=""/>
                          <L7p:XpathExpression xpathExpressionValue="included">
                            <L7p:Expression stringValue="/ns:entry/ns:content/m:properties"/>
                            <L7p:Namespaces mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="ns"/>

                                <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                              </L7p:entry>
                              <L7p:entry>
                                <L7p:key stringValue="d"/>

                                <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                              </L7p:entry>
                              <L7p:entry>
                                <L7p:key stringValue="s"/>

                                <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                              </L7p:entry>
                              <L7p:entry>
                                <L7p:key stringValue="m"/>

                                <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                              </L7p:entry>
                            </L7p:Namespaces>

                            <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                          </L7p:XpathExpression>
                        </L7p:RequestXpathAssertion>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:TenantId/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.TenantId"/>
                            </L7p:SetVariable>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtwYXJhbS5UZW5hbnRJZH0vcG9ydGFsQXV0aC8="/>

                              <L7p:VariableToSet stringValue="urlPattern"/>
                            </L7p:SetVariable>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLm92ZXJ3cml0ZX0="/>

                              <L7p:VariableToSet stringValue="overwriteService"/>
                            </L7p:SetVariable>
                            <wsp:All wsp:Usage="Required">
                              <L7p:ComparisonAssertion>

                                <L7p:AssertionComment assertionComment="included">

                                  <L7p:Properties mapValue="included">
                                    <L7p:entry>

                                      <L7p:key stringValue="RIGHT.COMMENT"/>

                                      <L7p:value stringValue="//skip if there is already an error"/>
                                    </L7p:entry>
                                  </L7p:Properties>
                                </L7p:AssertionComment>

                                <L7p:CaseSensitive booleanValue="false"/>

                                <L7p:Expression1 stringValue="${errorCode}"/>

                                <L7p:Operator operatorNull="null"/>

                                <L7p:Predicates predicates="included">

                                  <L7p:item dataType="included">

                                    <L7p:Type variableDataType="string"/>
                                  </L7p:item>

                                  <L7p:item binary="included">

                                    <L7p:RightValue stringValue="0"/>
                                  </L7p:item>
                                </L7p:Predicates>
                              </L7p:ComparisonAssertion>
                              <L7p:SetVariable>

                                <L7p:Base64Expression stringValue="PGVudjpFbnZlbG9wZSB4bWxuczplbnY9Imh0dHA6Ly93d3cudzMub3JnLzIwMDMvMDUvc29hcC1lbnZlbG9wZSINCnhtbG5zOmw3PSJodHRwOi8vbnMubDd0ZWNoLmNvbS8yMDEwLzA0L2dhdGV3YXktbWFuYWdlbWVudCINCiAgICB4bWxuczp3c2E9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvYWRkcmVzc2luZyINCiAgICB4bWxuczp3c2U9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvZXZlbnRpbmciDQogICAgeG1sbnM6d3Nlbj0iaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNC8wOS9lbnVtZXJhdGlvbiINCiAgICB4bWxuczp3c21hbj0iaHR0cDovL3NjaGVtYXMuZG10Zi5vcmcvd2JlbS93c21hbi8xL3dzbWFuLnhzZCINCiAgICB4bWxuczp3eGY9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDkvdHJhbnNmZXIiIHhtbG5zOnhzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSI+DQogICAgPGVudjpIZWFkZXI+DQogICAgICAgIDx3c2E6QWN0aW9uIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+aHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNC8wOS9lbnVtZXJhdGlvbi9FbnVtZXJhdGU8L3dzYTpBY3Rpb24+DQogICAgICAgIDx3c2E6UmVwbHlUbz4NCiAgICAgICAgICAgIDx3c2E6QWRkcmVzcyBlbnY6bXVzdFVuZGVyc3RhbmQ9InRydWUiPmh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvYWRkcmVzc2luZy9yb2xlL2Fub255bW91czwvd3NhOkFkZHJlc3M+DQogICAgICAgIDwvd3NhOlJlcGx5VG8+DQogICAgICAgIDx3c2E6TWVzc2FnZUlEIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+JHtyZXF1ZXN0SWR9PC93c2E6TWVzc2FnZUlEPg0KICAgICAgICA8d3NhOlRvIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+aHR0cHM6Ly8ke2dhdGV3YXkuY2x1c3Rlci5ob3N0bmFtZX06ODQ0My93c21hbjwvd3NhOlRvPg0KICAgICAgICA8d3NtYW46UmVzb3VyY2VVUkk+aHR0cDovL25zLmw3dGVjaC5jb20vMjAxMC8wNC9nYXRld2F5LW1hbmFnZW1lbnQvc2VydmljZXM8L3dzbWFuOlJlc291cmNlVVJJPg0KICAgICAgICA8d3NtYW46UmVxdWVzdFRvdGFsSXRlbXNDb3VudEVzdGltYXRlLz4NCiAgICA8L2VudjpIZWFkZXI+DQogICAgPGVudjpCb2R5Pg0KICAgICAgICA8d3NlbjpFbnVtZXJhdGU+DQogICAgICAgICAgICA8d3NtYW46T3B0aW1pemVFbnVtZXJhdGlvbi8+DQogICAgICAgICAgICA8d3NtYW46TWF4RWxlbWVudHM+MTwvd3NtYW46TWF4RWxlbWVudHM+DQogICAgICAgICAgICA8d3NtYW46RmlsdGVyPg0KL2w3OlNlcnZpY2VbbDc6U2VydmljZURldGFpbC9sNzpTZXJ2aWNlTWFwcGluZ3MvbDc6SHR0cE1hcHBpbmcvbDc6VXJsUGF0dGVyblt0ZXh0KCk9Jy8ke3VybFBhdHRlcm59Kicgb3IgdGV4dCgpPScke3VybFBhdHRlcm59KiddXQ0KPC93c21hbjpGaWx0ZXI+DQogICAgICAgIDwvd3NlbjpFbnVtZXJhdGU+DQogICAgPC9lbnY6Qm9keT4NCjwvZW52OkVudmVsb3BlPg=="/>

                                <L7p:ContentType stringValue="application/soap+xml;charset=UTF-8;action=&quot;http://schemas.xmlsoap.org/ws/2004/09/enumeration/Enumerate&quot;"/>

                                <L7p:DataType variableDataType="message"/>

                                <L7p:VariableToSet stringValue="request"/>
                              </L7p:SetVariable>
                              <L7p:GatewayManagement/>

                              <wsp:OneOrMore wsp:Usage="Required">
                                <wsp:All wsp:Usage="Required">
                                  <L7p:ResponseXpathAssertion>

                                    <L7p:VariablePrefix stringValue=""/>

                                    <L7p:XpathExpression xpathExpressionValue="included">

                                      <L7p:Expression stringValue="/env:Envelope/env:Body/wsen:EnumerateResponse/wsman:Items/l7:Service/l7:ServiceDetail/l7:ServiceMappings/l7:HttpMapping/l7:UrlPattern"/>

                                      <L7p:Namespaces mapValue="included">
                                        <L7p:entry>

                                          <L7p:key stringValue="wsa"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/addressing"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="mdo"/>

                                          <L7p:value stringValue="http://schemas.wiseman.dev.java.net/metadata/messagetypes"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="s"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="l7"/>

                                          <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="wxf"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/transfer"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="xs"/>

                                          <L7p:value stringValue="http://www.w3.org/2001/XMLSchema"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="env"/>

                                          <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="wsen"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/enumeration"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="wsman"/>

                                          <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="mex"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/mex"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="wse"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/eventing"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="wsmeta"/>

                                          <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman/version1.0.0.a/default-addressing-model.xsd"/>
                                        </L7p:entry>
                                      </L7p:Namespaces>

                                      <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                                    </L7p:XpathExpression>
                                  </L7p:ResponseXpathAssertion>

                                  <wsp:OneOrMore wsp:Usage="Required">

                                    <wsp:All wsp:Usage="Required">
                                      <L7p:ComparisonAssertion>

                                        <L7p:CaseSensitive booleanValue="false"/>

                                        <L7p:Expression1 stringValue="${overwriteService}"/>

                                        <L7p:Operator operatorNull="null"/>

                                        <L7p:Predicates predicates="included">

                                          <L7p:item dataType="included">

                                            <L7p:Type variableDataType="string"/>
                                          </L7p:item>

                                          <L7p:item binary="included">

                                            <L7p:CaseSensitive booleanValue="false"/>

                                            <L7p:RightValue stringValue="true"/>
                                          </L7p:item>
                                        </L7p:Predicates>
                                      </L7p:ComparisonAssertion>
                                      <L7p:ResponseXpathAssertion>

                                        <L7p:VariablePrefix stringValue="serviceId"/>

                                        <L7p:XpathExpression xpathExpressionValue="included">

                                          <L7p:Expression stringValue="/env:Envelope/env:Body/wsen:EnumerateResponse/wsman:Items/l7:Service/@id"/>

                                          <L7p:Namespaces mapValue="included">
                                            <L7p:entry>

                                              <L7p:key stringValue="wsa"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/addressing"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="mdo"/>

                                              <L7p:value stringValue="http://schemas.wiseman.dev.java.net/metadata/messagetypes"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="s"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="l7"/>

                                              <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="wxf"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/transfer"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="xs"/>

                                              <L7p:value stringValue="http://www.w3.org/2001/XMLSchema"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="env"/>

                                              <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="wsen"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/enumeration"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="wsman"/>

                                              <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="mex"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/mex"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="wse"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/eventing"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="wsmeta"/>

                                              <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman/version1.0.0.a/default-addressing-model.xsd"/>
                                            </L7p:entry>
                                          </L7p:Namespaces>

                                          <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                                        </L7p:XpathExpression>
                                      </L7p:ResponseXpathAssertion>
                                      <L7p:SetVariable>

                                        <L7p:Base64Expression stringValue="JHtzZXJ2aWNlSWQuZWxlbWVudH0="/>

                                        <L7p:VariableToSet stringValue="serviceId"/>
                                      </L7p:SetVariable>
                                      <L7p:SetVariable>

                                        <L7p:Base64Expression stringValue="PGVudjpFbnZlbG9wZSB4bWxuczplbnY9Imh0dHA6Ly93d3cudzMub3JnLzIwMDMvMDUvc29hcC1lbnZlbG9wZSINCnhtbG5zOmw3PSJodHRwOi8vbnMubDd0ZWNoLmNvbS8yMDEwLzA0L2dhdGV3YXktbWFuYWdlbWVudCINCiAgICB4bWxuczp3c2E9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvYWRkcmVzc2luZyINCiAgICB4bWxuczp3c2U9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvZXZlbnRpbmciDQogICAgeG1sbnM6d3Nlbj0iaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNC8wOS9lbnVtZXJhdGlvbiINCiAgICB4bWxuczp3c21hbj0iaHR0cDovL3NjaGVtYXMuZG10Zi5vcmcvd2JlbS93c21hbi8xL3dzbWFuLnhzZCINCiAgICB4bWxuczp3eGY9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDkvdHJhbnNmZXIiIHhtbG5zOnhzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSI+DQogICAgPGVudjpIZWFkZXI+DQogICAgICAgIDx3c2E6QWN0aW9uIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+aHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNC8wOS90cmFuc2Zlci9EZWxldGU8L3dzYTpBY3Rpb24+DQogICAgICAgIDx3c2E6UmVwbHlUbz4NCiAgICAgICAgICAgIDx3c2E6QWRkcmVzcyBlbnY6bXVzdFVuZGVyc3RhbmQ9InRydWUiPmh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvYWRkcmVzc2luZy9yb2xlL2Fub255bW91czwvd3NhOkFkZHJlc3M+DQogICAgICAgIDwvd3NhOlJlcGx5VG8+DQogICAgICAgIDx3c2E6TWVzc2FnZUlEIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+JHtyZXF1ZXN0SWR9PC93c2E6TWVzc2FnZUlEPg0KICAgICAgICA8d3NhOlRvIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+aHR0cHM6Ly8ke2dhdGV3YXkuY2x1c3Rlci5ob3N0bmFtZX06ODQ0My93c21hbjwvd3NhOlRvPg0KICAgICAgICA8d3NtYW46UmVzb3VyY2VVUkk+aHR0cDovL25zLmw3dGVjaC5jb20vMjAxMC8wNC9nYXRld2F5LW1hbmFnZW1lbnQvc2VydmljZXM8L3dzbWFuOlJlc291cmNlVVJJPg0KICAgICAgICA8d3NtYW46UmVxdWVzdFRvdGFsSXRlbXNDb3VudEVzdGltYXRlLz4NCiAgICAgICAgPHdzbWFuOlNlbGVjdG9yU2V0Pg0KICAgICAgICAgICAgPHdzbWFuOlNlbGVjdG9yIE5hbWU9ImlkIj4ke3NlcnZpY2VJZH08L3dzbWFuOlNlbGVjdG9yPg0KICAgICAgICA8L3dzbWFuOlNlbGVjdG9yU2V0Pg0KICAgIDwvZW52OkhlYWRlcj4NCiAgICA8ZW52OkJvZHkvPg0KPC9lbnY6RW52ZWxvcGU+"/>

                                        <L7p:ContentType stringValue="application/soap+xml;charset=UTF-8;action=&quot;http://schemas.xmlsoap.org/ws/2004/09/transfer/Delete&quot;"/>

                                        <L7p:DataType variableDataType="message"/>

                                        <L7p:VariableToSet stringValue="request"/>
                                      </L7p:SetVariable>
                                      <L7p:GatewayManagement/>
                                      <L7p:SetVariable>

                                        <L7p:Base64Expression stringValue="JHtyZXNwb25zZS5tYWlucGFydH0="/>

                                        <L7p:ContentType stringValue="text/xml; charset=utf-8"/>

                                        <L7p:DataType variableDataType="message"/>

                                        <L7p:VariableToSet stringValue="RESP_createOp"/>
                                      </L7p:SetVariable>

                                      <wsp:OneOrMore wsp:Usage="Required">

                                        <wsp:All wsp:Usage="Required">
                                          <L7p:ResponseXpathAssertion>

                                            <L7p:VariablePrefix stringValue="serviceId"/>

                                            <L7p:XmlMsgSrc stringValue="RESP_createOp"/>

                                            <L7p:XpathExpression xpathExpressionValue="included">

                                              <L7p:Expression stringValue="/env:Envelope/env:Header/wsa:Action[text()='http://schemas.xmlsoap.org/ws/2004/09/transfer/DeleteResponse']"/>

                                              <L7p:Namespaces mapValue="included">
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsa"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/addressing"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="mdo"/>

                                                  <L7p:value stringValue="http://schemas.wiseman.dev.java.net/metadata/messagetypes"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="s"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="l7"/>

                                                  <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wxf"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/transfer"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="xs"/>

                                                  <L7p:value stringValue="http://www.w3.org/2001/XMLSchema"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="env"/>

                                                  <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsen"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/enumeration"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsman"/>

                                                  <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="mex"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/mex"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wse"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/eventing"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsmeta"/>

                                                  <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman/version1.0.0.a/default-addressing-model.xsd"/>
                                                </L7p:entry>
                                              </L7p:Namespaces>

                                              <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                                            </L7p:XpathExpression>
                                          </L7p:ResponseXpathAssertion>
                                        </wsp:All>

                                        <wsp:All wsp:Usage="Required">
                                          <L7p:ResponseXpathAssertion>

                                            <L7p:VariablePrefix stringValue="fault"/>

                                            <L7p:XmlMsgSrc stringValue="RESP_createOp"/>

                                            <L7p:XpathExpression xpathExpressionValue="included">

                                              <L7p:Expression stringValue="/env:Envelope/env:Body/env:Fault"/>

                                              <L7p:Namespaces mapValue="included">
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsa"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/addressing"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="mdo"/>

                                                  <L7p:value stringValue="http://schemas.wiseman.dev.java.net/metadata/messagetypes"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="s"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="l7"/>

                                                  <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wxf"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/transfer"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="xs"/>

                                                  <L7p:value stringValue="http://www.w3.org/2001/XMLSchema"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="env"/>

                                                  <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsen"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/enumeration"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsman"/>

                                                  <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="mex"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/mex"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wse"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/eventing"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsmeta"/>

                                                  <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman/version1.0.0.a/default-addressing-model.xsd"/>
                                                </L7p:entry>
                                              </L7p:Namespaces>
                                            </L7p:XpathExpression>
                                          </L7p:ResponseXpathAssertion>
                                          <L7p:SetVariable>

                                            <L7p:Base64Expression stringValue="JHtmYXVsdC5lbGVtZW50fQ=="/>

                                            <L7p:ContentType stringValue="text/xml; charset=utf-8"/>

                                            <L7p:DataType variableDataType="message"/>

                                            <L7p:VariableToSet stringValue="RESP_fault"/>
                                          </L7p:SetVariable>

                                          <wsp:OneOrMore wsp:Usage="Required">

                                            <wsp:All wsp:Usage="Required">
                                              <L7p:ResponseXpathAssertion>

                                                <L7p:VariablePrefix stringValue="reason"/>

                                                <L7p:XmlMsgSrc stringValue="RESP_fault"/>

                                                <L7p:XpathExpression xpathExpressionValue="included">

                                                  <L7p:Expression stringValue="//env:Reason/env:Text/text()"/>

                                                  <L7p:Namespaces mapValue="included">
                                                    <L7p:entry>

                                                      <L7p:key stringValue="l7"/>

                                                      <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                                    </L7p:entry>
                                                    <L7p:entry>

                                                      <L7p:key stringValue="env"/>

                                                      <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                                    </L7p:entry>
                                                  </L7p:Namespaces>

                                                  <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                                                </L7p:XpathExpression>
                                              </L7p:ResponseXpathAssertion>
                                              <L7p:ResponseXpathAssertion>

                                                <L7p:VariablePrefix stringValue="detail"/>

                                                <L7p:XmlMsgSrc stringValue="RESP_fault"/>

                                                <L7p:XpathExpression xpathExpressionValue="included">

                                                  <L7p:Expression stringValue="//env:Detail/env:Text/text()"/>

                                                  <L7p:Namespaces mapValue="included">
                                                    <L7p:entry>

                                                      <L7p:key stringValue="l7"/>

                                                      <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                                    </L7p:entry>
                                                    <L7p:entry>

                                                      <L7p:key stringValue="env"/>

                                                      <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                                    </L7p:entry>
                                                  </L7p:Namespaces>

                                                  <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                                                </L7p:XpathExpression>
                                              </L7p:ResponseXpathAssertion>
                                            </wsp:All>
                                            <L7p:TrueAssertion/>
                                          </wsp:OneOrMore>
                                          <L7p:AuditDetailAssertion>

                                            <L7p:Detail stringValue="Fault Reason: ${reason.result}Fault Detail: ${detail.result}"/>

                                            <L7p:LoggingOnly booleanValue="true"/>
                                          </L7p:AuditDetailAssertion>

                                          <wsp:All wsp:Usage="Required">
                                            <L7p:SetVariable>

                                              <L7p:Base64Expression stringValue="NTAw"/>

                                              <L7p:VariableToSet stringValue="errorCode"/>
                                            </L7p:SetVariable>
                                            <L7p:SetVariable>

                                              <L7p:Base64Expression stringValue="RmFpbGVkIGRlbGV0aW5nIHNlcnZpY2UgKHVybFBhdHRlcm46ICR7dXJsUGF0dGVybn0sIHNlcnZpY2VJZDogJHtzZXJ2aWNlSWR9KSBkdXJpbmcgb3ZlcndyaXRlLg=="/>

                                              <L7p:VariableToSet stringValue="errorMsg"/>
                                            </L7p:SetVariable>
                                          </wsp:All>
                                          <L7p:assertionComment>

                                            <L7p:Properties mapValue="included">
                                              <L7p:entry>

                                                <L7p:key stringValue="RIGHT.COMMENT"/>

                                                <L7p:value stringValue="// error check"/>
                                              </L7p:entry>
                                            </L7p:Properties>
                                          </L7p:assertionComment>
                                        </wsp:All>
                                        <L7p:TrueAssertion/>
                                      </wsp:OneOrMore>
                                    </wsp:All>

                                    <wsp:All wsp:Usage="Required">
                                      <L7p:SetVariable>

                                        <L7p:Base64Expression stringValue="NTAw"/>

                                        <L7p:VariableToSet stringValue="errorCode"/>
                                      </L7p:SetVariable>
                                      <L7p:SetVariable>

                                        <L7p:Base64Expression stringValue="VXJsUGF0dGVybiAnJHt1cmxQYXR0ZXJufScgYWxyZWFkeSBleGlzdA=="/>

                                        <L7p:VariableToSet stringValue="errorMsg"/>
                                      </L7p:SetVariable>
                                    </wsp:All>
                                  </wsp:OneOrMore>
                                  <L7p:assertionComment>

                                    <L7p:Properties mapValue="included">
                                      <L7p:entry>

                                        <L7p:key stringValue="RIGHT.COMMENT"/>

                                        <L7p:value stringValue="// If service exists set error"/>
                                      </L7p:entry>
                                    </L7p:Properties>
                                  </L7p:assertionComment>
                                </wsp:All>
                                <L7p:TrueAssertion/>
                              </wsp:OneOrMore>
                              <L7p:assertionComment>

                                <L7p:Properties mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="RIGHT.COMMENT"/>

                                    <L7p:value stringValue="// validate urlPattern if already exist"/>
                                  </L7p:entry>
                                </L7p:Properties>
                              </L7p:assertionComment>
                            </wsp:All>
                          </wsp:All>
                          <wsp:All wsp:Usage="Required">
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="NTAw"/>

                              <L7p:VariableToSet stringValue="errorCode"/>
                            </L7p:SetVariable>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="VGVuYW50SWQgaXMgcmVxdWlyZWQ="/>

                              <L7p:VariableToSet stringValue="errorMsg"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="TenantId"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:SetVariable>

                              <L7p:AssertionComment assertionComment="included">

                                <L7p:Properties mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="Restore original request"/>
                                  </L7p:entry>
                                </L7p:Properties>
                              </L7p:AssertionComment>

                              <L7p:Base64Expression stringValue="JHtyZXF1ZXN0T3JpZ2luYWwubWFpbnBhcnR9"/>

                              <L7p:ContentType stringValue="text/xml; charset=utf-8"/>

                              <L7p:DataType variableDataType="message"/>

                              <L7p:VariableToSet stringValue="request"/>
                            </L7p:SetVariable>
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:IdentityProviderId/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.IdentityProviderId"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="IdentityProviderId"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:SearchBase/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.SearchBase"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="SearchBase"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:JdbcConnectionName/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.JdbcConnectionName"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="JdbcConnectionName"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore
                                L7p:Enabled="false" wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:GroupId/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.GroupId"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="GroupId"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore
                                L7p:Enabled="false" wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:GroupName/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.GroupName"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="GroupName"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:TokenTimeout/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.TokenTimeout"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="TokenTimeout"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:CacheTimeout/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.CacheTimeout"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="CacheTimout"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="NQ=="/>

                              <L7p:VariableToSet stringValue="param.MaxInvalidLoginAttempt"/>
                            </L7p:SetVariable>
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:MaxInvalidLoginAttempt/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.MaxInvalidLoginAttempt"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="MaxInvalidLoginAttempt"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:AuthType/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.AuthType"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="AuthType"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:PasswordPolicy/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.PasswordPolicy"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="PasswordPolicy"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                      </wsp:All>
                      <wsp:All wsp:Usage="Required">
                        <L7p:SetVariable>

                          <L7p:Base64Expression stringValue="NTAw"/>
                          <L7p:VariableToSet stringValue="errorCode"/>
                        </L7p:SetVariable>
                        <L7p:SetVariable>

                          <L7p:Base64Expression stringValue="SW52YWxpZCBYTUwgUmVxdWVzdA=="/>
                          <L7p:VariableToSet stringValue="errorMsg"/>
                        </L7p:SetVariable>
                      </wsp:All>
                      <L7p:assertionComment>
                        <L7p:Properties mapValue="included">
                          <L7p:entry>
                            <L7p:key stringValue="LEFT.COMMENT"/>
                            <L7p:value stringValue="make sure it is a valid xml request"/>
                          </L7p:entry>
                          <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="//required"/>
                          </L7p:entry>
                        </L7p:Properties>
                      </L7p:assertionComment>
                    </wsp:OneOrMore>
                    <L7p:ComparisonAssertion>
                      <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                          <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="//skip if there's alreay an error"/>
                          </L7p:entry>
                        </L7p:Properties>
                      </L7p:AssertionComment>
                      <L7p:CaseSensitive booleanValue="false"/>
                      <L7p:Expression1 stringValue="${errorCode}"/>
                      <L7p:Operator operatorNull="null"/>
                      <L7p:Predicates predicates="included">
                        <L7p:item dataType="included">
                          <L7p:Type variableDataType="string"/>
                        </L7p:item>
                        <L7p:item binary="included">
                          <L7p:RightValue stringValue="0"/>
                        </L7p:item>
                      </L7p:Predicates>
                    </L7p:ComparisonAssertion>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="PHhtbC8+"/>
                      <L7p:ContentType stringValue="application/soap+xml;charset=UTF-8;action=&quot;http://schemas.xmlsoap.org/ws/2004/09/transfer/Create&quot;"/>
                      <L7p:DataType variableDataType="message"/>
                      <L7p:VariableToSet stringValue="request"/>
                    </L7p:SetVariable>
                    <L7p:XslTransformation>
                      <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                          <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="//portalAuth"/>
                          </L7p:entry>
                        </L7p:Properties>
                      </L7p:AssertionComment>
                      <L7p:ResourceInfo staticResourceInfo="included">
                        <L7p:Document stringValueReference="inline"><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" version="1.0">
<xsl:param name="requestId" select="'now'" />
<xsl:param name="gateway.cluster.hostname" select="'localhost'" />
<xsl:param name="serviceName" select="'API Portal Tenant Authentication'" />
<xsl:param name="urlPattern" select="'templateX/portalAuth/'" />
<xsl:param name="gateway.time" select="'now'" />
<xsl:param name="param.TenantId" select="'tenant3x'" />
<xsl:param name="param.IdentityProviderId" select="'67890'" />
<xsl:param name="param.SearchBase" select="'ou=tenant3x'" />
<xsl:param name="param.JdbcConnectionName" select="'jdbc_conn_name'" />
<xsl:param name="param.GroupId" select="'12345'" />
<xsl:param name="param.GroupName" select="'tenant1_group'" />
<xsl:param name="param.TokenTimeout" select="'900'" />
<xsl:param name="param.CacheTimeout" select="'120'" />
<xsl:param name="param.AuthType" select="'DB_ONLY'" />
<xsl:param name="param.PasswordPolicy" select="'^(?=.{8,60})(?=.*[A-Z])(?=.*[0-9])(?=.*\W)(?!.*(.)\1{1}).+$'" />
<xsl:param name="param.MaxInvalidLoginAttempt" select="'5'" />
<xsl:output encoding="UTF-8" indent="yes" method="xml" omit-xml-declaration="yes" version="1.0"/>
<xsl:template match="/">
<env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope" xmlns:wsa="http://schemas.xmlsoap.org/ws/2004/08/addressing" xmlns:wse="http://schemas.xmlsoap.org/ws/2004/08/eventing" xmlns:wsen="http://schemas.xmlsoap.org/ws/2004/09/enumeration" xmlns:wsman="http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd" xmlns:wxf="http://schemas.xmlsoap.org/ws/2004/09/transfer" xmlns:xs="http://www.w3.org/2001/XMLSchema">
   <env:Header>
       <wsa:Action env:mustUnderstand="true">http://schemas.xmlsoap.org/ws/2004/09/transfer/Create</wsa:Action>
       <wsa:ReplyTo>
           <wsa:Address env:mustUnderstand="true">http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous</wsa:Address>
       </wsa:ReplyTo>
       <wsa:MessageID env:mustUnderstand="true"><xsl:value-of select="$requestId"/></wsa:MessageID>
       <wsa:To env:mustUnderstand="true">https://<xsl:value-of select="$gateway.cluster.hostname"/>:8443/wsman</wsa:To>
       <wsman:ResourceURI>http://ns.l7tech.com/2010/04/gateway-management/services</wsman:ResourceURI>
       <wsman:OperationTimeout>P0Y0M0DT0H5M0.000S</wsman:OperationTimeout>
   </env:Header>
   <env:Body>
<Service xmlns="http://ns.l7tech.com/2010/04/gateway-management">
   <ServiceDetail>
       <Name><xsl:value-of select="$serviceName"/></Name>
       <Enabled>true</Enabled>
       <ServiceMappings>
           <HttpMapping>
               <UrlPattern>/<xsl:value-of select="$urlPattern"/>*</UrlPattern>
               <Verbs>
                   <Verb>GET</Verb>
                   <Verb>POST</Verb>
                   <Verb>PUT</Verb>
                   <Verb>DELETE</Verb>
               </Verbs>
           </HttpMapping>
       </ServiceMappings>
       <Properties>
           <Property key="wssProcessingEnabled">
               <BooleanValue>false</BooleanValue>
           </Property>
           <Property key="soap">
               <BooleanValue>false</BooleanValue>
           </Property>
           <Property key="internal">
               <BooleanValue>false</BooleanValue>
           </Property>
       </Properties>
   </ServiceDetail>
   <Resources>
       <ResourceSet tag="policy">
         <!-- copy paste wsman get service response here [start]-->
         <Resource type="policy">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;wsp:Policy xmlns:L7p=&quot;http://www.layer7tech.com/ws/policy&quot; xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2002/12/policy&quot;&gt;
  &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
    &lt;L7p:AuditAssertion&gt;
      &lt;L7p:SaveRequest booleanValue=&quot;true&quot;/&gt;
            &lt;L7p:SaveResponse booleanValue=&quot;false&quot;/&gt;
    &lt;/L7p:AuditAssertion&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;getSessionId&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:AssertionComment&gt;
      &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnNlc3Npb25JZH0=&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;sessionId&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;getTransactionId&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:AssertionComment&gt;
      &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnRyYW5zYWN0aW9uSWR9&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;transactionId&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:AuditDetailAssertion&gt;
      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;auth-trace-start&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Detail stringValue=&quot;auth-trace-start,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
      &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
      &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
    &lt;/L7p:AuditDetailAssertion&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:Base64Expression stringValue=&quot;JHtzc2dub2RlLmlkfS1pbnN0YW5jZUlk&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;instanceId.token.key&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:Base64Expression stringValue=&quot;NzIwMA==&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;instanceId.token.max-age&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:AuditDetailAssertion&gt;
      &lt;L7p:Detail stringValue=&quot;instanceId.token.key:&#36;{instanceId.token.key}&quot;/&gt;
    &lt;/L7p:AuditDetailAssertion&gt;
    &lt;L7p:AuditDetailAssertion&gt;
      &lt;L7p:Detail stringValue=&quot;instanceId.token.max-age:&#36;{instanceId.token.max-age}&quot;/&gt;
    &lt;/L7p:AuditDetailAssertion&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:Base64Expression stringValue=&quot;MjAwMA==&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;instanceId.token.http.timeout&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
        &lt;L7p:CacheLookup&gt;
          &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{instanceId.token.key}&quot;/&gt;
          &lt;L7p:ContentTypeOverride stringValue=&quot;&quot;/&gt;
          &lt;L7p:MaxEntryAgeSeconds stringValue=&quot;&#36;{instanceId.token.max-age}&quot;/&gt;
          &lt;L7p:OtherTargetMessageVariable stringValue=&quot;instanceIdValue&quot;/&gt;
          &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
        &lt;/L7p:CacheLookup&gt;
        &lt;L7p:AuditDetailAssertion&gt;
          &lt;L7p:Detail stringValue=&quot;instance id cache value: &#36;{instanceIdValue.mainpart}&quot;/&gt;
        &lt;/L7p:AuditDetailAssertion&gt;
        &lt;L7p:SetVariable&gt;
          &lt;L7p:Base64Expression stringValue=&quot;JHtpbnN0YW5jZUlkVmFsdWUubWFpbnBhcnR9&quot;/&gt;
          &lt;L7p:VariableToSet stringValue=&quot;instanceId&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
      &lt;/wsp:All&gt;
      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
        &lt;L7p:AuditDetailAssertion&gt;
          &lt;L7p:Detail stringValue=&quot;trying route&quot;/&gt;
        &lt;/L7p:AuditDetailAssertion&gt;
        &lt;L7p:HttpRoutingAssertion&gt;
          &lt;L7p:ConnectionTimeout stringValue=&quot;&#36;{instanceId.token.http.timeout}&quot;/&gt;
          &lt;L7p:MaxRetries intValue=&quot;1&quot;/&gt;
          &lt;L7p:ProtectedServiceUrl stringValue=&quot;http://169.254.169.254/latest/meta-data/instance-id&quot;/&gt;
          &lt;L7p:ProxyPassword stringValueNull=&quot;null&quot;/&gt;
          &lt;L7p:ProxyUsername stringValueNull=&quot;null&quot;/&gt;
          &lt;L7p:RequestHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
            &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
              &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                &lt;L7p:Name stringValue=&quot;Cookie&quot;/&gt;
              &lt;/L7p:item&gt;
              &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                &lt;L7p:Name stringValue=&quot;SOAPAction&quot;/&gt;
              &lt;/L7p:item&gt;
            &lt;/L7p:Rules&gt;
          &lt;/L7p:RequestHeaderRules&gt;
          &lt;L7p:RequestParamRules httpPassthroughRuleSet=&quot;included&quot;&gt;
            &lt;L7p:ForwardAll booleanValue=&quot;true&quot;/&gt;
            &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;/&gt;
          &lt;/L7p:RequestParamRules&gt;
          &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
            &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
              &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                &lt;L7p:Name stringValue=&quot;Set-Cookie&quot;/&gt;
              &lt;/L7p:item&gt;
            &lt;/L7p:Rules&gt;
          &lt;/L7p:ResponseHeaderRules&gt;
          &lt;L7p:ResponseMsgDest stringValue=&quot;awsMetadata&quot;/&gt;
          &lt;L7p:SamlAssertionVersion intValue=&quot;2&quot;/&gt;
          &lt;L7p:Timeout stringValue=&quot;&#36;{instanceId.token.http.timeout}&quot;/&gt;
        &lt;/L7p:HttpRoutingAssertion&gt;
        &lt;L7p:SetVariable&gt;
          &lt;L7p:Base64Expression stringValue=&quot;JHthd3NNZXRhZGF0YS5tYWlucGFydH0=&quot;/&gt;
          &lt;L7p:VariableToSet stringValue=&quot;instanceId&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:CacheStorage&gt;
          &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{instanceId.token.key}&quot;/&gt;
          &lt;L7p:MaxEntryAgeSeconds stringValue=&quot;&#36;{instanceId.token.max-age}&quot;/&gt;
          &lt;L7p:OtherTargetMessageVariable stringValue=&quot;instanceId&quot;/&gt;
          &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
        &lt;/L7p:CacheStorage&gt;
        &lt;L7p:assertionComment&gt;
          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
            &lt;L7p:entry&gt;
              &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
              &lt;L7p:value stringValue=&quot;aws&quot;/&gt;
            &lt;/L7p:entry&gt;
          &lt;/L7p:Properties&gt;
        &lt;/L7p:assertionComment&gt;
      &lt;/wsp:All&gt;
      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
        &lt;L7p:AuditDetailAssertion&gt;
          &lt;L7p:Detail stringValue=&quot;fallback&quot;/&gt;
        &lt;/L7p:AuditDetailAssertion&gt;
        &lt;L7p:SetVariable&gt;
          &lt;L7p:Base64Expression stringValue=&quot;JHtzc2dub2RlLmhvc3RuYW1lfQ==&quot;/&gt;
          &lt;L7p:VariableToSet stringValue=&quot;instanceId&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:CacheStorage&gt;
          &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{instanceId.token.key}&quot;/&gt;
          &lt;L7p:MaxEntryAgeSeconds stringValue=&quot;&#36;{instanceId.token.max-age}&quot;/&gt;
          &lt;L7p:OtherTargetMessageVariable stringValue=&quot;instanceId&quot;/&gt;
          &lt;L7p:StoreSoapFaults booleanValue=&quot;true&quot;/&gt;
          &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
        &lt;/L7p:CacheStorage&gt;
        &lt;L7p:assertionComment&gt;
          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
            &lt;L7p:entry&gt;
              &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
              &lt;L7p:value stringValue=&quot;fallback&quot;/&gt;
            &lt;/L7p:entry&gt;
          &lt;/L7p:Properties&gt;
        &lt;/L7p:assertionComment&gt;
      &lt;/wsp:All&gt;
      &lt;L7p:TrueAssertion&gt;
        &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
            &lt;L7p:entry&gt;
              &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
              &lt;L7p:value stringValue=&quot;//this block should never fail&quot;/&gt;
            &lt;/L7p:entry&gt;
          &lt;/L7p:Properties&gt;
        &lt;/L7p:AssertionComment&gt;
      &lt;/L7p:TrueAssertion&gt;
      &lt;L7p:assertionComment&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;getInstanceId()&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:assertionComment&gt;
    &lt;/wsp:OneOrMore&gt;
    &lt;L7p:AuditDetailAssertion&gt;
            &lt;L7p:Detail stringValue=&quot;instanceId:&#36;{instanceId},transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId}&quot;/&gt;
    &lt;/L7p:AuditDetailAssertion&gt;
    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
      &lt;wsp:All L7p:Enabled=&quot;false&quot; wsp:Usage=&quot;Required&quot;&gt;
        &lt;L7p:SslAssertion&gt;
          &lt;L7p:RequireClientAuthentication booleanValue=&quot;true&quot;/&gt;
        &lt;/L7p:SslAssertion&gt;
        &lt;L7p:AuditDetailAssertion&gt;
          &lt;L7p:Detail stringValue=&quot;username: &#36;{request.username}&quot;/&gt;
        &lt;/L7p:AuditDetailAssertion&gt;
        &lt;L7p:Authentication&gt;
          &lt;L7p:IdentityProviderOid goidValue=&quot;0000000000000000fffffffffffffffe&quot;/&gt;
        &lt;/L7p:Authentication&gt;
        &lt;L7p:MemberOfGroup&gt;
          &lt;L7p:GroupId stringValue=&quot;acbccc6c219e972ec6793e63f2b57a49&quot;/&gt;
          &lt;L7p:GroupName stringValue=&quot;tenant1&quot;/&gt;
          &lt;L7p:IdentityProviderOid goidValue=&quot;0000000000000000fffffffffffffffe&quot;/&gt;
        &lt;/L7p:MemberOfGroup&gt;
        &lt;L7p:assertionComment&gt;
          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
            &lt;L7p:entry&gt;
              &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
              &lt;L7p:value stringValue=&quot;//mutual auth - tenant specific&quot;/&gt;
            &lt;/L7p:entry&gt;
          &lt;/L7p:Properties&gt;
        &lt;/L7p:assertionComment&gt;
      &lt;/wsp:All&gt;
      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
        &lt;L7p:SslAssertion&gt;
          &lt;L7p:RequireClientAuthentication booleanValue=&quot;true&quot;/&gt;
        &lt;/L7p:SslAssertion&gt;
        &lt;L7p:AuditDetailAssertion&gt;
          &lt;L7p:Detail stringValue=&quot;username: &#36;{request.username}&quot;/&gt;
        &lt;/L7p:AuditDetailAssertion&gt;
        &lt;L7p:Authentication&gt;
          &lt;L7p:IdentityProviderOid goidValue=&quot;0000000000000000fffffffffffffffe&quot;/&gt;
        &lt;/L7p:Authentication&gt;
        &lt;L7p:assertionComment&gt;
          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
            &lt;L7p:entry&gt;
              &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
              &lt;L7p:value stringValue=&quot;//mutual auth&quot;/&gt;
            &lt;/L7p:entry&gt;
          &lt;/L7p:Properties&gt;
        &lt;/L7p:assertionComment&gt;
      &lt;/wsp:All&gt;
      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
        &lt;L7p:SslAssertion/&gt;
        &lt;L7p:HttpBasic/&gt;
        &lt;L7p:AuditDetailAssertion&gt;
          &lt;L7p:Detail stringValue=&quot;username: &#36;{request.username}&quot;/&gt;
        &lt;/L7p:AuditDetailAssertion&gt;
        &lt;L7p:Authentication&gt;
          &lt;L7p:IdentityProviderOid goidValue=&quot;0000000000000000fffffffffffffffe&quot;/&gt;
        &lt;/L7p:Authentication&gt;
        &lt;L7p:assertionComment&gt;
          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
            &lt;L7p:entry&gt;
              &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
              &lt;L7p:value stringValue=&quot;//basic auth&quot;/&gt;
            &lt;/L7p:entry&gt;
          &lt;/L7p:Properties&gt;
        &lt;/L7p:assertionComment&gt;
      &lt;/wsp:All&gt;
      &lt;L7p:assertionComment&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;authenticate()&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:assertionComment&gt;
    &lt;/wsp:OneOrMore&gt;
    &lt;L7p:AuditDetailAssertion&gt;
      &lt;L7p:Detail stringValue=&quot;auth_user: &#36;{request.authenticateduser}&quot;/&gt;
    &lt;/L7p:AuditDetailAssertion&gt;
    &lt;L7p:CommentAssertion&gt;
      &lt;L7p:Comment stringValue=&quot;API Portal Authentication &amp;amp; Management Policy Cake as of 2015-03-25 18:00 //RR,JB,ALEE,IM&quot;/&gt;
    &lt;/L7p:CommentAssertion&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:Base64Expression stringValue=&quot;My4w&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;VERSION&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;//the created_by and modified_by value for Gateway related DB updates&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:AssertionComment&gt;
      &lt;L7p:Base64Expression stringValue=&quot;U1lTVEVN&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;SYSTEM_DB_USER&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:Base64Expression stringValue=&quot;MA==&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;prefix&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:AssertionComment&gt;
      &lt;L7p:Expression stringValue=&quot;<xsl:value-of select="$param.TenantId"/>&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;prefix&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//timeout in seconds&quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;token.timeout&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:AssertionComment&gt;
      &lt;L7p:Expression stringValue=&quot;<xsl:value-of select="$param.TokenTimeout"/>&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;token.timeout&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//timeout in seconds&quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;cache.timeout&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:AssertionComment&gt;
      &lt;L7p:Expression stringValue=&quot;<xsl:value-of select="$param.CacheTimeout"/>&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;cache.timeout&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//expiry in days&quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;registration.token.expiry&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:AssertionComment&gt;
      &lt;L7p:Base64Expression stringValue=&quot;Nw==&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;registration.token.expiry&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//JDBC Connection Name&quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;db.token.store.name&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:AssertionComment&gt;
      &lt;L7p:Expression stringValue=&quot;<xsl:value-of select="$param.JdbcConnectionName"/>&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;db.token.store.name&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;ldap.searchBase&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Expression stringValue=&quot;<xsl:value-of select="$param.SearchBase"/>&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;ldap.search.base&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;ldap.group.search_filter&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:AssertionComment&gt;
      &lt;L7p:Base64Expression stringValue=&quot;KHVuaXF1ZU1lbWJlcj11aWQ9fiwke2xkYXAuc2VhcmNoLmJhc2V9KQ==&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;ldap.group.search.filter&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//USE_LDAP for ldap, or anything else for DB auth&quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;auth.setting.db.only&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:AssertionComment&gt;
      &lt;L7p:Expression stringValue=&quot;<xsl:value-of select="$param.AuthType"/>&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;auth.setting.db.only&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//this is just for reference, regex pattern directly goes to the RegexAssertion &quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;password.policy&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Expression stringValue=&quot;<xsl:value-of select="$param.PasswordPolicy"/>&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;password.policy&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//always delete expired token when someone logout&quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;bulk.cleanup.expired.token&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:AssertionComment&gt;
      &lt;L7p:Base64Expression stringValue=&quot;dHJ1ZQ==&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;bulk.cleanup.expired.token&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//-1 to disable&quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;password.invalid.tries&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:AssertionComment&gt;
      &lt;L7p:Expression stringValue=&quot;<xsl:value-of select="$param.MaxInvalidLoginAttempt"/>&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;password.invalid.tries&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:CommentAssertion&gt;
      &lt;L7p:Comment stringValue=&quot;=== generate password config ===&quot;/&gt;
    &lt;/L7p:CommentAssertion&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:Base64Expression stringValue=&quot;Mg==&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;generate.password.uppercase&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:Base64Expression stringValue=&quot;Mg==&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;generate.password.lowercase&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:Base64Expression stringValue=&quot;Mg==&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;generate.password.specialChar&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:Base64Expression stringValue=&quot;Mg==&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;generate.password.number&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:CommentAssertion&gt;
      &lt;L7p:Comment stringValue=&quot;=== generate password config ===&quot;/&gt;
    &lt;/L7p:CommentAssertion&gt;
    &lt;L7p:CommentAssertion&gt;
      &lt;L7p:Comment stringValue=&quot;=== generate token config ===&quot;/&gt;
    &lt;/L7p:CommentAssertion&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:Base64Expression stringValue=&quot;Mg==&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;generate.token.uppercase&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:Base64Expression stringValue=&quot;Mg==&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;generate.token.lowercase&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:Base64Expression stringValue=&quot;Mg==&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;generate.token.number&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:Base64Expression stringValue=&quot;Mg==&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;generate.token.specialChar&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;L7p:CommentAssertion&gt;
      &lt;L7p:Comment stringValue=&quot;=== generate token config ===&quot;/&gt;
    &lt;/L7p:CommentAssertion&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//this makes sure we always have the original request&quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;Backup original request&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:AssertionComment&gt;
      &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lm1haW5wYXJ0fQ==&quot;/&gt;
      &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
      &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;requestOriginal&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
        &lt;L7p:RateLimit&gt;
          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
              &lt;L7p:entry&gt;
                &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                &lt;L7p:value stringValue=&quot;//Update this assertion if you need a higher throughput or limit&quot;/&gt;
              &lt;/L7p:entry&gt;
            &lt;/L7p:Properties&gt;
          &lt;/L7p:AssertionComment&gt;
          &lt;L7p:CounterName stringValue=&quot;PRESET(ac0a793a036466be)&#36;{request.clientid}&quot;/&gt;
          &lt;L7p:MaxRequestsPerSecond stringValue=&quot;50&quot;/&gt;
          &lt;L7p:ShapeRequests booleanValue=&quot;true&quot;/&gt;
        &lt;/L7p:RateLimit&gt;
        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;getRestOperation()&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAubWV0aG9kfQ==&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;operation&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;getProvider&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnByb3ZpZGVyfQ==&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;provider&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;L7p:CommentAssertion&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;//token related var- start&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Comment stringValue=&quot;==================&quot;/&gt;
          &lt;/L7p:CommentAssertion&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;getDomain&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLmRvbWFpbn0=&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;domain&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;getClientIpAddress&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLmNsaWVudElwQWRkcmVzc30=&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;clientIpAddress&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;getUserAgent&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnVzZXItYWdlbnR9&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;user-agent&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;L7p:CommentAssertion&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;//token related vars - end&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Comment stringValue=&quot;==================&quot;/&gt;
          &lt;/L7p:CommentAssertion&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAudXJpfQ==&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;sourceUri&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;newSourceUri&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLm9yZ0FkbWlufQ==&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;orgAdmin&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
              &lt;L7p:Split&gt;
                &lt;L7p:InputVariable stringValue=&quot;sourceUri&quot;/&gt;
                &lt;L7p:OutputVariable stringValue=&quot;splitUri&quot;/&gt;
                &lt;L7p:SplitPattern stringValue=&quot;/&quot;/&gt;
              &lt;/L7p:Split&gt;
              &lt;L7p:ForEachLoop L7p:Usage=&quot;Required&quot;
                               loopVariable=&quot;splitUri&quot; variablePrefix=&quot;uri&quot;&gt;
                &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                  &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                          &lt;L7p:Expression1 stringValue=&quot;&#36;{uri.iterations}&quot;/&gt;
                          &lt;L7p:Expression2 stringValue=&quot;1&quot;/&gt;
                          &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                            &lt;L7p:item binary=&quot;included&quot;&gt;

                              &lt;L7p:RightValue stringValue=&quot;1&quot;/&gt;
                            &lt;/L7p:item&gt;
                          &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                          &lt;L7p:Expression1 stringValue=&quot;&#36;{uri.current}&quot;/&gt;
                          &lt;L7p:Expression2 stringValue=&quot;&#36;{prefix}&quot;/&gt;
                          &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                            &lt;L7p:item binary=&quot;included&quot;&gt;

                              &lt;L7p:RightValue stringValue=&quot;&#36;{prefix}&quot;/&gt;
                            &lt;/L7p:item&gt;
                          &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                      &lt;/wsp:All&gt;
                      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                          &lt;L7p:Expression1 stringValue=&quot;&#36;{uri.current}&quot;/&gt;
                          &lt;L7p:Expression2 stringValue=&quot;&quot;/&gt;
                          &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;
                          &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                          &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                            &lt;L7p:item binary=&quot;included&quot;&gt;
                              &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;

                              &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                              &lt;L7p:RightValue stringValue=&quot;&quot;/&gt;
                            &lt;/L7p:item&gt;
                          &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                        &lt;L7p:SetVariable&gt;

                          &lt;L7p:Base64Expression stringValue=&quot;JHtuZXdTb3VyY2VVcml9LyR7dXJpLmN1cnJlbnR9&quot;/&gt;
                          &lt;L7p:VariableToSet stringValue=&quot;newSourceUri&quot;/&gt;
                        &lt;/L7p:SetVariable&gt;
                      &lt;/wsp:All&gt;
                    &lt;/wsp:OneOrMore&gt;
                  &lt;/wsp:All&gt;
                  &lt;L7p:TrueAssertion/&gt;
                &lt;/wsp:OneOrMore&gt;
              &lt;/L7p:ForEachLoop&gt;
              &lt;L7p:Split&gt;
                &lt;L7p:InputVariable stringValue=&quot;newSourceUri&quot;/&gt;
                &lt;L7p:OutputVariable stringValue=&quot;splitUri&quot;/&gt;
                &lt;L7p:SplitPattern stringValue=&quot;/&quot;/&gt;
              &lt;/L7p:Split&gt;
              &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue=&quot;JHtzcGxpdFVyaVsyXX0=&quot;/&gt;
                &lt;L7p:VariableToSet stringValue=&quot;mode&quot;/&gt;
              &lt;/L7p:SetVariable&gt;
              &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue=&quot;JHtzcGxpdFVyaVszXX0=&quot;/&gt;
                &lt;L7p:VariableToSet stringValue=&quot;entity_type&quot;/&gt;
              &lt;/L7p:SetVariable&gt;
              &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue=&quot;JHtzcGxpdFVyaVs0XX0=&quot;/&gt;
                &lt;L7p:VariableToSet stringValue=&quot;entity_id&quot;/&gt;
              &lt;/L7p:SetVariable&gt;
              &lt;L7p:EncodeDecode&gt;
                &lt;L7p:SourceVariableName stringValue=&quot;entity_id&quot;/&gt;
                &lt;L7p:TargetDataType variableDataType=&quot;string&quot;/&gt;
                &lt;L7p:TargetVariableName stringValue=&quot;entity_id&quot;/&gt;
                &lt;L7p:TransformType transformType=&quot;URL_DECODE&quot;/&gt;
              &lt;/L7p:EncodeDecode&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:TrueAssertion/&gt;
          &lt;/wsp:OneOrMore&gt;
          &lt;L7p:AuditDetailAssertion&gt;
            &lt;L7p:Detail stringValue=&quot;&#36;{request.url}&quot;/&gt;
            &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
          &lt;/L7p:AuditDetailAssertion&gt;
          &lt;L7p:AuditDetailAssertion&gt;
                        &lt;L7p:Detail stringValue=&quot;operation=&#36;{operation},mode=&#36;{mode},entity_type=&#36;{entity_type},entity_id=&#36;{entity_id}&quot;/&gt;
          &lt;/L7p:AuditDetailAssertion&gt;
          &lt;L7p:AuditDetailAssertion&gt;
            &lt;L7p:Detail stringValue=&quot;provider:&#36;{provider},orgAdmin:&#36;{orgAdmin}&quot;/&gt;
          &lt;/L7p:AuditDetailAssertion&gt;
          &lt;L7p:AuditDetailAssertion&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;auth-trace-operation&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
                        &lt;L7p:Detail stringValue=&quot;auth-trace-operation,operation=&#36;{operation},mode=&#36;{mode},entity_type=&#36;{entity_type},entity_id=&#36;{entity_id}&quot;/&gt;
            &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
            &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
          &lt;/L7p:AuditDetailAssertion&gt;
          &lt;L7p:assertionComment&gt;
            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
              &lt;L7p:entry&gt;
                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                &lt;L7p:value stringValue=&quot;parsing()&quot;/&gt;
              &lt;/L7p:entry&gt;
            &lt;/L7p:Properties&gt;
          &lt;/L7p:assertionComment&gt;
        &lt;/wsp:All&gt;
        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
          &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue=&quot;===================================&quot;/&gt;
          &lt;/L7p:CommentAssertion&gt;
          &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue=&quot;*** [Start] AUTH/Authentication related LDAP values ***&quot;/&gt;
          &lt;/L7p:CommentAssertion&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//if customer doesn&apos;t have an attribute for organization and you need a pre-determine 1 organization for all ldap users will belong&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;default_org&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;//initialize, should be empty,  DO NOT MODIFY!&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;dn&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;//initialize, should be empty,  DO NOT MODIFY!&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;organization&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//if true, the authorization will be done against all the auth providers irregardless of the provider requested&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;dHJ1ZQ==&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;fallback_flag&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue=&quot;*** [End] AUTH/Authentication related LDAP values ***&quot;/&gt;
          &lt;/L7p:CommentAssertion&gt;
          &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue=&quot;===================================&quot;/&gt;
          &lt;/L7p:CommentAssertion&gt;
          &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue=&quot;*** [Start] MGMT/Management related LDAP values ***&quot;/&gt;
          &lt;/L7p:CommentAssertion&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//we only support only ONE LDAP provider for Management&quot;/&gt;
                                &lt;/L7p:entry&gt;
                                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;ssg_ldap_provider_name&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;YmlnbGRhcA==&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;ssg_ldap_provider_name&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;management&quot;/&gt;
              &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:RightValue stringValue=&quot;management&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
              &lt;L7p:SetVariable&gt;
                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;base_dn&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:Base64Expression stringValue=&quot;T1U9cG9ydGFsVXNlcnMsZGM9bDd0ZWNoLGRjPWNvbQ==&quot;/&gt;
                &lt;L7p:VariableToSet stringValue=&quot;base_dn&quot;/&gt;
              &lt;/L7p:SetVariable&gt;
              &lt;L7p:SetVariable&gt;
                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;userAccountControl&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
                &lt;L7p:VariableToSet stringValue=&quot;userAccountControl&quot;/&gt;
              &lt;/L7p:SetVariable&gt;
              &lt;L7p:SetVariable&gt;
                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//Org admin&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;groupNameForOrgAdmin&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:Base64Expression stringValue=&quot;b3JnYWRtaW5ncm91cA==&quot;/&gt;
                &lt;L7p:VariableToSet stringValue=&quot;groupNameForOrgAdmin&quot;/&gt;
              &lt;/L7p:SetVariable&gt;
              &lt;L7p:SetVariable&gt;
                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;groupName&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:Base64Expression stringValue=&quot;aW52aXRlZGRldmdyb3Vw&quot;/&gt;
                &lt;L7p:VariableToSet stringValue=&quot;groupName&quot;/&gt;
              &lt;/L7p:SetVariable&gt;
              &lt;L7p:SetVariable&gt;
                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;user_dn_create_format&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:Base64Expression stringValue=&quot;Y249fiwke2Jhc2VfZG59&quot;/&gt;
                &lt;L7p:VariableToSet stringValue=&quot;user_dn_create_format&quot;/&gt;
              &lt;/L7p:SetVariable&gt;
              &lt;L7p:SetVariable&gt;
                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;user_dn_member_format&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:Base64Expression stringValue=&quot;dWlkPX4sJHtiYXNlX2RufQ==&quot;/&gt;
                &lt;L7p:VariableToSet stringValue=&quot;user_dn_member_format&quot;/&gt;
              &lt;/L7p:SetVariable&gt;
              &lt;L7p:SetVariable&gt;
                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;group_dn&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:Base64Expression stringValue=&quot;JHtiYXNlX2RufQ==&quot;/&gt;
                &lt;L7p:VariableToSet stringValue=&quot;group_dn&quot;/&gt;
              &lt;/L7p:SetVariable&gt;
              &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                  &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                    &lt;L7p:Expression1 stringValue=&quot;&#36;{orgAdmin}&quot;/&gt;
                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                      &lt;L7p:item dataType=&quot;included&quot;&gt;
                        &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                      &lt;/L7p:item&gt;
                      &lt;L7p:item binary=&quot;included&quot;&gt;
                        &lt;L7p:RightValue stringValue=&quot;true&quot;/&gt;
                      &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                  &lt;/L7p:ComparisonAssertion&gt;
                  &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;Y249JHtncm91cE5hbWVGb3JPcmdBZG1pbn0sJHtncm91cF9kbn0=&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;group_dn&quot;/&gt;
                  &lt;/L7p:SetVariable&gt;
                &lt;/wsp:All&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;Y249JHtncm91cE5hbWV9LCR7Z3JvdXBfZG59&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;group_dn&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
              &lt;/wsp:OneOrMore&gt;
              &lt;L7p:SetVariable&gt;
                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;user_search_filter&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:Base64Expression stringValue=&quot;KHVpZD1+KQ==&quot;/&gt;
                &lt;L7p:VariableToSet stringValue=&quot;user_search_filter&quot;/&gt;
              &lt;/L7p:SetVariable&gt;
              &lt;L7p:SetVariable&gt;
                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//for MS AD - normal group attribute is &amp;quot;member&amp;quot; for OpenLDAP  its &amp;quot;uniqueMember&amp;quot;&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;group_attribute&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:Base64Expression stringValue=&quot;dW5pcXVlTWVtYmVy&quot;/&gt;
                &lt;L7p:VariableToSet stringValue=&quot;group_attribute&quot;/&gt;
              &lt;/L7p:SetVariable&gt;
              &lt;L7p:SetVariable&gt;
                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//for MS AD - normal username attribute is &amp;quot;sAMAccountName&amp;quot; for OpenLDAP  its &amp;quot;cn&amp;quot;&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;username_attribute&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:Base64Expression stringValue=&quot;Y24=&quot;/&gt;
                &lt;L7p:VariableToSet stringValue=&quot;username_attribute&quot;/&gt;
              &lt;/L7p:SetVariable&gt;
              &lt;L7p:SetVariable&gt;
                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//for MS AD - normal password attribute is &amp;quot;unicodePwd&amp;quot; for OpenLDAP  its &amp;quot;userPassword&amp;quot;&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;password_attribute&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:Base64Expression stringValue=&quot;dXNlclBhc3N3b3Jk&quot;/&gt;
                &lt;L7p:VariableToSet stringValue=&quot;password_attribute&quot;/&gt;
              &lt;/L7p:SetVariable&gt;
              &lt;L7p:SetVariable&gt;
                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;objectClassList&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:Base64Expression stringValue=&quot;dG9wLHBlcnNvbixpbmV0T3JnUGVyc29uLG9yZ2FuaXphdGlvbmFsUGVyc29u&quot;/&gt;
                &lt;L7p:VariableToSet stringValue=&quot;objectClassList&quot;/&gt;
              &lt;/L7p:SetVariable&gt;
              &lt;L7p:SetVariable&gt;
                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//always false of MSAD, always true for openLDAP&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;has_uid_attribute&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:Base64Expression stringValue=&quot;dHJ1ZQ==&quot;/&gt;
                &lt;L7p:VariableToSet stringValue=&quot;has_uid_attribute&quot;/&gt;
              &lt;/L7p:SetVariable&gt;
            &lt;/wsp:All&gt;
          &lt;/wsp:OneOrMore&gt;
          &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue=&quot;*** [End] MGMT/Management related LDAP values ***&quot;/&gt;
          &lt;/L7p:CommentAssertion&gt;
          &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue=&quot;===================================&quot;/&gt;
          &lt;/L7p:CommentAssertion&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;//default Response Content-Type, DO NOT MODIFY!&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;dGV4dC94bWw7IGNoYXJzZXQ9VVRGLTg=&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;content_type&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;//if true, dumps the XML LDAP Operation and other info for troubleshooting&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;ZmFsc2U=&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;debug&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;dHJ1ZQ==&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;ldapman.ldapInjectionProtection&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
            &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
            &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;userLDAPOperation&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
            &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
            &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;groupLDAPOperation&quot;/&gt;
          &lt;/L7p:SetVariable&gt;
          &lt;L7p:assertionComment&gt;
            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                &lt;L7p:value stringValue=&quot;//user defined settings&quot;/&gt;
                            &lt;/L7p:entry&gt;
                            &lt;L7p:entry&gt;
                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                &lt;L7p:value stringValue=&quot;variables()&quot;/&gt;
              &lt;/L7p:entry&gt;
            &lt;/L7p:Properties&gt;
          &lt;/L7p:assertionComment&gt;
        &lt;/wsp:All&gt;
        &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;POST&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;POST&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;authenticate&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;authenticate&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{request.http.parameter.username}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;&quot;/&gt;
              &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;
              &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                  &lt;L7p:RightValue stringValue=&quot;&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnVzZXJuYW1lfQ==&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;username&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnBhc3N3b3JkfQ==&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;password&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:UUIDGenerator&gt;
              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;Generate the token&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:AssertionComment&gt;
              &lt;L7p:TargetVariable stringValue=&quot;token&quot;/&gt;
            &lt;/L7p:UUIDGenerator&gt;
            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:ComparisonAssertion&gt;
                  &lt;L7p:Expression1 stringValue=&quot;&#36;{auth.setting.db.only}&quot;/&gt;
                  &lt;L7p:Expression2 stringValue=&quot;USE_LDAP&quot;/&gt;
                  &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                    &lt;L7p:item binary=&quot;included&quot;&gt;
                      &lt;L7p:RightValue stringValue=&quot;USE_LDAP&quot;/&gt;
                    &lt;/L7p:item&gt;
                  &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;username&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&amp;amp;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;amp;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;username&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&amp;lt;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;lt;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;username&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&gt;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;gt;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;username&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&amp;quot;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;quot;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;username&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&apos;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;apos;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;password&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&amp;amp;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;amp;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;password&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&amp;lt;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;lt;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;password&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&gt;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;gt;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;password&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&amp;quot;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;quot;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;password&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&apos;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;apos;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;PENyZWRlbnRpYWxzPg0KPFVzZXJuYW1lPiR7dXNlcm5hbWV9PC9Vc2VybmFtZT4NCjxQYXNzd29yZD4ke3Bhc3N3b3JkfTwvUGFzc3dvcmQ+DQo8L0NyZWRlbnRpYWxzPg==&quot;/&gt;
                  &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
                  &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;request&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnVzZXJuYW1lfQ==&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;username&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnBhc3N3b3JkfQ==&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;password&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:XpathCredentialSource&gt;
                  &lt;L7p:PasswordExpression xpathExpressionValue=&quot;included&quot;&gt;
                    &lt;L7p:Expression stringValue=&quot;//Password&quot;/&gt;
                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                      &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;s&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                      &lt;/L7p:entry&gt;
                    &lt;/L7p:Namespaces&gt;
                  &lt;/L7p:PasswordExpression&gt;
                  &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;
                    &lt;L7p:Expression stringValue=&quot;//Username&quot;/&gt;
                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                      &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;s&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                      &lt;/L7p:entry&gt;
                    &lt;/L7p:Namespaces&gt;
                  &lt;/L7p:XpathExpression&gt;
                &lt;/L7p:XpathCredentialSource&gt;
                &lt;L7p:AuditDetailAssertion&gt;
                  &lt;L7p:Detail stringValue=&quot;authenticating user:&#36;{request.username}&quot;/&gt;
                &lt;/L7p:AuditDetailAssertion&gt;
                &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                  &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                      &lt;L7p:ComparisonAssertion&gt;
                        &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                        &lt;L7p:Expression1 stringValue=&quot;&#36;{fallback_flag}&quot;/&gt;
                        &lt;L7p:Expression2 stringValue=&quot;true&quot;/&gt;
                        &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                          &lt;L7p:item binary=&quot;included&quot;&gt;

                            &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                            &lt;L7p:RightValue stringValue=&quot;true&quot;/&gt;
                          &lt;/L7p:item&gt;
                        &lt;/L7p:Predicates&gt;
                      &lt;/L7p:ComparisonAssertion&gt;
                      &lt;L7p:ComparisonAssertion&gt;
                        &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                        &lt;L7p:Expression1 stringValue=&quot;&#36;{provider}&quot;/&gt;
                        &lt;L7p:Expression2 stringValue=&quot;openldap1&quot;/&gt;
                        &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                          &lt;L7p:item binary=&quot;included&quot;&gt;

                            &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                            &lt;L7p:RightValue stringValue=&quot;openldap1&quot;/&gt;
                          &lt;/L7p:item&gt;
                        &lt;/L7p:Predicates&gt;
                      &lt;/L7p:ComparisonAssertion&gt;
                    &lt;/wsp:OneOrMore&gt;
                    &lt;L7p:Authentication&gt;
                                    &lt;L7p:IdentityProviderOid goidValue=&quot;<xsl:value-of select="$param.IdentityProviderId"/>&quot;/&gt;
                    &lt;/L7p:Authentication&gt;
                    &lt;L7p:UUIDGenerator&gt;
                      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;Generate the token&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:AssertionComment&gt;
                      &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                      &lt;L7p:TargetVariable stringValue=&quot;token&quot;/&gt;
                    &lt;/L7p:UUIDGenerator&gt;
                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                      &lt;L7p:SetVariable&gt;
                        &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
                        &lt;L7p:VariableToSet stringValue=&quot;userUUID&quot;/&gt;
                      &lt;/L7p:SetVariable&gt;
                      &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                          &lt;L7p:JdbcQuery&gt;

                            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;find-USER&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;

                            &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                            &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                            &lt;L7p:MaxRecords intValue=&quot;1&quot;/&gt;
                            &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;EMAIL&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;EMAIL&quot;/&gt;
                              &lt;/L7p:entry&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;FIRST_NAME&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;FIRST_NAME&quot;/&gt;
                              &lt;/L7p:entry&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LAST_NAME&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;LAST_NAME&quot;/&gt;
                              &lt;/L7p:entry&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LOCALE&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;LOCALE&quot;/&gt;
                              &lt;/L7p:entry&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;ORGANIZATION_UUID&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;ORG_UUID&quot;/&gt;
                              &lt;/L7p:entry&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;select UUID,LAST_NAME,FIRST_NAME,EMAIL,LOCALE,ORGANIZATION_UUID from USER where USERNAME = &#36;{username}&quot;/&gt;

                            &lt;L7p:VariablePrefix stringValue=&quot;userQuery&quot;/&gt;
                          &lt;/L7p:JdbcQuery&gt;
                          &lt;L7p:SetVariable&gt;

                            &lt;L7p:Base64Expression stringValue=&quot;JHt1c2VyUXVlcnkuVVVJRH0=&quot;/&gt;

                            &lt;L7p:VariableToSet stringValue=&quot;userUUID&quot;/&gt;
                          &lt;/L7p:SetVariable&gt;
                        &lt;/wsp:All&gt;
                        &lt;L7p:TrueAssertion/&gt;
                      &lt;/wsp:OneOrMore&gt;
                      &lt;L7p:assertionComment&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;//check if user exist in DB&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:assertionComment&gt;
                    &lt;/wsp:All&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;auth-trace-query-1&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;auth-trace-query-1,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                      &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                      &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                      &lt;L7p:SetVariable&gt;
                        &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;open_ldap_user_search_filter&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:AssertionComment&gt;
                        &lt;L7p:Base64Expression stringValue=&quot;KHVpZD1+KQ==&quot;/&gt;
                        &lt;L7p:VariableToSet stringValue=&quot;open_ldap_user_search_filter&quot;/&gt;
                      &lt;/L7p:SetVariable&gt;
                      &lt;L7p:SetVariable&gt;
                        &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;open_ldap_group_search_filter&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:AssertionComment&gt;
                        &lt;L7p:Base64Expression stringValue=&quot;JHtsZGFwLmdyb3VwLnNlYXJjaC5maWx0ZXJ9&quot;/&gt;
                        &lt;L7p:VariableToSet stringValue=&quot;open_ldap_group_search_filter&quot;/&gt;
                      &lt;/L7p:SetVariable&gt;
                      &lt;L7p:AuditDetailAssertion&gt;
                        &lt;L7p:Detail stringValue=&quot;userUUID:&#36;{userUUID}&quot;/&gt;
                      &lt;/L7p:AuditDetailAssertion&gt;
                      &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                          &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:Expression1 stringValue=&quot;&#36;{userUUID}&quot;/&gt;
                            &lt;L7p:Expression2 stringValue=&quot;&quot;/&gt;
                            &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                            &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                              &lt;L7p:item binary=&quot;included&quot;&gt;

                                &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                &lt;L7p:RightValue stringValue=&quot;&quot;/&gt;
                              &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                          &lt;/L7p:ComparisonAssertion&gt;
                          &lt;L7p:SetVariable&gt;

                            &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;

                            &lt;L7p:VariableToSet stringValue=&quot;xml.objectclasses&quot;/&gt;
                          &lt;/L7p:SetVariable&gt;
                          &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                              &lt;L7p:Regex&gt;

                                &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                &lt;L7p:OtherTargetMessageVariable stringValue=&quot;open_ldap_user_search_filter&quot;/&gt;

                                &lt;L7p:Regex stringValue=&quot;~&quot;/&gt;

                                &lt;L7p:RegexName stringValue=&quot;build search filter&quot;/&gt;

                                &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;

                                &lt;L7p:Replacement stringValue=&quot;&#36;{username}&quot;/&gt;

                                &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                              &lt;/L7p:Regex&gt;
                              &lt;L7p:LDAPQuery&gt;

                                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                      &lt;L7p:value stringValue=&quot;query_ldap_auth1&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                  &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;

                                &lt;L7p:AttrNames stringArrayValue=&quot;included&quot;&gt;

                                  &lt;L7p:item stringValue=&quot;mail&quot;/&gt;

                                  &lt;L7p:item stringValue=&quot;givenName&quot;/&gt;

                                  &lt;L7p:item stringValue=&quot;sn&quot;/&gt;

                                  &lt;L7p:item stringValue=&quot;objectclass&quot;/&gt;

                                  &lt;L7p:item stringValue=&quot;cn&quot;/&gt;

                                  &lt;L7p:item stringValue=&quot;organization&quot;/&gt;

                                  &lt;L7p:item stringValue=&quot;postalAddress&quot;/&gt;

                                  &lt;L7p:item stringValue=&quot;description&quot;/&gt;
                                &lt;/L7p:AttrNames&gt;

                                &lt;L7p:CacheSize intValue=&quot;100&quot;/&gt;

                                &lt;L7p:EnableCache booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:LdapProviderOid goidValue=&quot;<xsl:value-of select="$param.IdentityProviderId"/>&quot;/&gt;

                                &lt;L7p:QueryMappings queryAttributeMappings=&quot;included&quot;&gt;

                                  &lt;L7p:item mapping=&quot;included&quot;&gt;

                                    &lt;L7p:AttributeName stringValue=&quot;mail&quot;/&gt;

                                    &lt;L7p:JoinMultivalued booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:MatchingContextVariableName stringValue=&quot;mail&quot;/&gt;
                                  &lt;/L7p:item&gt;

                                  &lt;L7p:item mapping=&quot;included&quot;&gt;

                                    &lt;L7p:AttributeName stringValue=&quot;givenName&quot;/&gt;

                                    &lt;L7p:JoinMultivalued booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:MatchingContextVariableName stringValue=&quot;givenName&quot;/&gt;
                                  &lt;/L7p:item&gt;

                                  &lt;L7p:item mapping=&quot;included&quot;&gt;

                                    &lt;L7p:AttributeName stringValue=&quot;sn&quot;/&gt;

                                    &lt;L7p:JoinMultivalued booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:MatchingContextVariableName stringValue=&quot;sn&quot;/&gt;
                                  &lt;/L7p:item&gt;

                                  &lt;L7p:item mapping=&quot;included&quot;&gt;

                                    &lt;L7p:AttributeName stringValue=&quot;objectclass&quot;/&gt;

                                    &lt;L7p:JoinMultivalued booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:MatchingContextVariableName stringValue=&quot;objectclass&quot;/&gt;

                                    &lt;L7p:Multivalued booleanValue=&quot;true&quot;/&gt;
                                  &lt;/L7p:item&gt;

                                  &lt;L7p:item mapping=&quot;included&quot;&gt;

                                    &lt;L7p:AttributeName stringValue=&quot;cn&quot;/&gt;

                                    &lt;L7p:JoinMultivalued booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:MatchingContextVariableName stringValue=&quot;cn&quot;/&gt;

                                    &lt;L7p:Multivalued booleanValue=&quot;true&quot;/&gt;
                                  &lt;/L7p:item&gt;

                                  &lt;L7p:item mapping=&quot;included&quot;&gt;

                                    &lt;L7p:AttributeName stringValue=&quot;organization&quot;/&gt;

                                    &lt;L7p:JoinMultivalued booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:MatchingContextVariableName stringValue=&quot;organization&quot;/&gt;
                                  &lt;/L7p:item&gt;

                                  &lt;L7p:item mapping=&quot;included&quot;&gt;

                                    &lt;L7p:AttributeName stringValue=&quot;postalAddress&quot;/&gt;

                                    &lt;L7p:JoinMultivalued booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:MatchingContextVariableName stringValue=&quot;language&quot;/&gt;
                                  &lt;/L7p:item&gt;

                                  &lt;L7p:item mapping=&quot;included&quot;&gt;

                                    &lt;L7p:AttributeName stringValue=&quot;description&quot;/&gt;

                                    &lt;L7p:JoinMultivalued booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:MatchingContextVariableName stringValue=&quot;avatar&quot;/&gt;
                                  &lt;/L7p:item&gt;
                                &lt;/L7p:QueryMappings&gt;

                                &lt;L7p:SearchFilter stringValue=&quot;&#36;{open_ldap_user_search_filter}&quot;/&gt;
                              &lt;/L7p:LDAPQuery&gt;
                            &lt;/wsp:All&gt;
                            &lt;L7p:TrueAssertion/&gt;
                            &lt;L7p:assertionComment&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;//user info&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                          &lt;/wsp:OneOrMore&gt;
                          &lt;L7p:AuditDetailAssertion&gt;

                            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;auth-trace-ldap-user&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;auth-trace-ldap-user,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                            &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                            &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                          &lt;/L7p:AuditDetailAssertion&gt;
                          &lt;L7p:ForEachLoop
                                  L7p:Usage=&quot;Required&quot;
                                  loopVariable=&quot;objectclass&quot; variablePrefix=&quot;o&quot;&gt;
                            &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHt4bWwub2JqZWN0Y2xhc3Nlc30NCjxMN2dpbXM6YXR0cj4NCiAgICA8TDdnaW1zOmF0dHItbmFtZT5vYmplY3RDbGFzczwvTDdnaW1zOmF0dHItbmFtZT4NCiAgICA8TDdnaW1zOmF0dHItdmFsdWU+PCFbQ0RBVEFbJHtvLmN1cnJlbnR9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCjwvTDdnaW1zOmF0dHI+&quot;/&gt;

                              &lt;L7p:VariableToSet stringValue=&quot;xml.objectclasses&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                          &lt;/L7p:ForEachLoop&gt;
                          &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                              &lt;L7p:ComparisonAssertion&gt;

                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                &lt;L7p:Expression1 stringValue=&quot;&#36;{organization}&quot;/&gt;

                                &lt;L7p:Expression2 stringValue=&quot;openldap&quot;/&gt;

                                &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                  &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;openldap&quot;/&gt;
                                  &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                              &lt;/L7p:ComparisonAssertion&gt;
                              &lt;L7p:ComparisonAssertion&gt;

                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                &lt;L7p:Expression1 stringValue=&quot;&#36;{default_org}&quot;/&gt;

                                &lt;L7p:Expression2 stringValue=&quot;openldap&quot;/&gt;

                                &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;

                                &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                  &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;openldap&quot;/&gt;
                                  &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                              &lt;/L7p:ComparisonAssertion&gt;
                              &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;PEw3Z2ltczphdHRyPg0KCSAgIDxMN2dpbXM6YXR0ci1uYW1lPm9yZ2FuaXphdGlvbjwvTDdnaW1zOmF0dHItbmFtZT4NCgkgICA8TDdnaW1zOmF0dHItdmFsdWU+PCFbQ0RBVEFbJHtkZWZhdWx0X29yZ31dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KPC9MN2dpbXM6YXR0cj4=&quot;/&gt;

                                &lt;L7p:VariableToSet stringValue=&quot;organization&quot;/&gt;
                              &lt;/L7p:SetVariable&gt;
                              &lt;L7p:assertionComment&gt;

                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//if &#36;{default_org} is set and org not found on ldap&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                              &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:All&gt;
                            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                              &lt;L7p:ComparisonAssertion&gt;

                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                &lt;L7p:Expression1 stringValue=&quot;&#36;{organization}&quot;/&gt;

                                &lt;L7p:Expression2 stringValue=&quot;openldap&quot;/&gt;

                                &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;

                                &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                  &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;openldap&quot;/&gt;
                                  &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                              &lt;/L7p:ComparisonAssertion&gt;
                              &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;PEw3Z2ltczphdHRyPg0KCSAgIDxMN2dpbXM6YXR0ci1uYW1lPm9yZ2FuaXphdGlvbjwvTDdnaW1zOmF0dHItbmFtZT4NCgkgICA8TDdnaW1zOmF0dHItdmFsdWU+PCFbQ0RBVEFbJHtvcmdhbml6YXRpb259XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCjwvTDdnaW1zOmF0dHI+&quot;/&gt;

                                &lt;L7p:VariableToSet stringValue=&quot;organization&quot;/&gt;
                              &lt;/L7p:SetVariable&gt;
                            &lt;/wsp:All&gt;
                            &lt;L7p:TrueAssertion/&gt;
                            &lt;L7p:assertionComment&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;//process org&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                          &lt;/wsp:OneOrMore&gt;
                          &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                              &lt;L7p:ComparisonAssertion&gt;

                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                &lt;L7p:Expression1 stringValue=&quot;&#36;{dn}&quot;/&gt;

                                &lt;L7p:Expression2 stringValue=&quot;openldap&quot;/&gt;

                                &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                  &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;openldap&quot;/&gt;
                                  &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                              &lt;/L7p:ComparisonAssertion&gt;
                              &lt;L7p:SetVariable&gt;

                                &lt;L7p:Base64Expression stringValue=&quot;Y249JHt1c2VybmFtZX0=&quot;/&gt;

                                &lt;L7p:VariableToSet stringValue=&quot;dn&quot;/&gt;
                              &lt;/L7p:SetVariable&gt;
                              &lt;L7p:assertionComment&gt;

                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//fallback to simple dn, if ldap doesn&apos;t have an explicit attribute for dn&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                              &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:All&gt;
                            &lt;L7p:TrueAssertion/&gt;
                            &lt;L7p:assertionComment&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;/process dn&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                          &lt;/wsp:OneOrMore&gt;
                        &lt;/wsp:All&gt;
                        &lt;L7p:TrueAssertion/&gt;
                        &lt;L7p:assertionComment&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//query LDAP user info for default values only if the user is not yet on the DB&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                      &lt;/wsp:OneOrMore&gt;
                      &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                          &lt;L7p:Regex&gt;
                            &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                            &lt;L7p:OtherTargetMessageVariable stringValue=&quot;open_ldap_group_search_filter&quot;/&gt;
                            &lt;L7p:Regex stringValue=&quot;~&quot;/&gt;
                            &lt;L7p:RegexName stringValue=&quot;build search filter&quot;/&gt;
                            &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                            &lt;L7p:Replacement stringValue=&quot;&#36;{username}&quot;/&gt;
                            &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                          &lt;/L7p:Regex&gt;
                          &lt;L7p:LDAPQuery&gt;

                            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;query_ldap_auth2&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                            &lt;L7p:AttrNames stringArrayValue=&quot;included&quot;&gt;
                              &lt;L7p:item stringValue=&quot;cn&quot;/&gt;
                            &lt;/L7p:AttrNames&gt;
                            &lt;L7p:CacheSize intValue=&quot;100&quot;/&gt;

                                    &lt;L7p:LdapProviderOid goidValue=&quot;<xsl:value-of select="$param.IdentityProviderId"/>&quot;/&gt;

                            &lt;L7p:QueryMappings queryAttributeMappings=&quot;included&quot;&gt;
                              &lt;L7p:item mapping=&quot;included&quot;&gt;

                                &lt;L7p:AttributeName stringValue=&quot;cn&quot;/&gt;

                                &lt;L7p:JoinMultivalued booleanValue=&quot;false&quot;/&gt;

                                &lt;L7p:MatchingContextVariableName stringValue=&quot;group&quot;/&gt;

                                &lt;L7p:Multivalued booleanValue=&quot;true&quot;/&gt;
                              &lt;/L7p:item&gt;
                            &lt;/L7p:QueryMappings&gt;

                            &lt;L7p:SearchFilter stringValue=&quot;&#36;{open_ldap_group_search_filter}&quot;/&gt;
                          &lt;/L7p:LDAPQuery&gt;
                        &lt;/wsp:All&gt;
                        &lt;L7p:TrueAssertion/&gt;
                        &lt;L7p:assertionComment&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;//group info query&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                      &lt;/wsp:OneOrMore&gt;
                      &lt;L7p:AuditDetailAssertion&gt;
                        &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;auth-trace-ldap-group&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;auth-trace-ldap-group,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                        &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                        &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                      &lt;/L7p:AuditDetailAssertion&gt;
                      &lt;L7p:SetVariable&gt;
                        &lt;L7p:Base64Expression stringValue=&quot;JHtncm91cH0=&quot;/&gt;
                        &lt;L7p:VariableToSet stringValue=&quot;ldapGroup&quot;/&gt;
                      &lt;/L7p:SetVariable&gt;
                      &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:MapValue&gt;

                          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;customize this if connecting to a customer ldap with different group, we can only do 1-1 mapping&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:AssertionComment&gt;
                          &lt;L7p:InputExpr stringValue=&quot;&#36;{group}&quot;/&gt;
                          &lt;L7p:Mappings nameValuePairArray=&quot;included&quot;&gt;
                            &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                              &lt;L7p:Key stringValue=&quot;portaladministrators&quot;/&gt;
                              &lt;L7p:Value stringValue=&quot;portaladministrators&quot;/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                              &lt;L7p:Key stringValue=&quot;acctmanagers&quot;/&gt;
                              &lt;L7p:Value stringValue=&quot;acctmanagers&quot;/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                              &lt;L7p:Key stringValue=&quot;busmanagers&quot;/&gt;
                              &lt;L7p:Value stringValue=&quot;busmanagers&quot;/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                              &lt;L7p:Key stringValue=&quot;apiowners&quot;/&gt;
                              &lt;L7p:Value stringValue=&quot;apiowners&quot;/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                              &lt;L7p:Key stringValue=&quot;devorgadministrators&quot;/&gt;
                              &lt;L7p:Value stringValue=&quot;devorgadministrators&quot;/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                              &lt;L7p:Key stringValue=&quot;developers&quot;/&gt;
                              &lt;L7p:Value stringValue=&quot;developers&quot;/&gt;
                            &lt;/L7p:item&gt;
                          &lt;/L7p:Mappings&gt;
                          &lt;L7p:OutputVar stringValue=&quot;group&quot;/&gt;
                        &lt;/L7p:MapValue&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                          &lt;L7p:SetVariable&gt;

                            &lt;L7p:Base64Expression stringValue=&quot;VW5zdXBwb3J0ZWQgTERBUCBncm91cCAtICR7bGRhcEdyb3VwfQ==&quot;/&gt;

                            &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                          &lt;/L7p:SetVariable&gt;
                          &lt;L7p:SetVariable&gt;

                            &lt;L7p:Base64Expression stringValue=&quot;NTAw&quot;/&gt;

                            &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                          &lt;/L7p:SetVariable&gt;
                        &lt;/wsp:All&gt;
                        &lt;L7p:assertionComment&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;LDAP Group Mapping&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                      &lt;/wsp:OneOrMore&gt;
                      &lt;L7p:ComparisonAssertion&gt;
                        &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:AssertionComment&gt;
                        &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                        &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                        &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                        &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                          &lt;L7p:item dataType=&quot;included&quot;&gt;
                            &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                          &lt;/L7p:item&gt;
                          &lt;L7p:item binary=&quot;included&quot;&gt;
                            &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                          &lt;/L7p:item&gt;
                        &lt;/L7p:Predicates&gt;
                      &lt;/L7p:ComparisonAssertion&gt;
                      &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                          &lt;L7p:ComparisonAssertion&gt;

                            &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                            &lt;L7p:Expression1 stringValue=&quot;&#36;{group}&quot;/&gt;
                            &lt;L7p:Expression2 stringValue=&quot;CN=&quot;/&gt;
                            &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;
                            &lt;L7p:Operator operator=&quot;CONTAINS&quot;/&gt;
                            &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                              &lt;L7p:item binary=&quot;included&quot;&gt;

                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;

                                &lt;L7p:Operator operator=&quot;CONTAINS&quot;/&gt;

                                &lt;L7p:RightValue stringValue=&quot;CN=&quot;/&gt;
                              &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                          &lt;/L7p:ComparisonAssertion&gt;
                          &lt;L7p:SetVariable&gt;

                            &lt;L7p:Base64Expression stringValue=&quot;Q049JHtncm91cH0=&quot;/&gt;

                            &lt;L7p:VariableToSet stringValue=&quot;group&quot;/&gt;
                          &lt;/L7p:SetVariable&gt;
                          &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;//if group doesnt have cn, put one&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;L7p:TrueAssertion/&gt;
                        &lt;L7p:assertionComment&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;/process group&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                      &lt;/wsp:OneOrMore&gt;
                      &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;USER (UUID, USERNAME, LAST_NAME, FIRST_NAME, EMAIL, LOCALE, CREATE_TS, MODIFY_TS, CREATED_BY, MODIFIED_BY) VALUES (&#36;{userUUID},&#36;{username},&#36;{userQuery.LAST_NAME},&#36;{userQuery.FIRST_NAME},&#36;{userQuery.EMAIL},&#36;{userQuery.LOCALE},0,0,&apos;SYSTEM&apos;,&apos;&apos;)&quot;/&gt;
                      &lt;/L7p:AuditDetailAssertion&gt;
                      &lt;L7p:SetVariable&gt;
                        &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
                        &lt;L7p:VariableToSet stringValue=&quot;isNewUser&quot;/&gt;
                      &lt;/L7p:SetVariable&gt;
                      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:ComparisonAssertion&gt;

                              &lt;L7p:Expression1 stringValue=&quot;&#36;{userUUID}&quot;/&gt;

                              &lt;L7p:Expression2 stringValue=&quot;&quot;/&gt;

                              &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                &lt;L7p:item binary=&quot;included&quot;&gt;

                                  &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                  &lt;L7p:RightValue stringValue=&quot;&quot;/&gt;
                                &lt;/L7p:item&gt;
                              &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:UUIDGenerator&gt;

                              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;Generate User UUID&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                              &lt;/L7p:AssertionComment&gt;

                              &lt;L7p:TargetVariable stringValue=&quot;userUUID&quot;/&gt;
                            &lt;/L7p:UUIDGenerator&gt;
                            &lt;L7p:SetVariable&gt;

                              &lt;L7p:Base64Expression stringValue=&quot;dHJ1ZQ==&quot;/&gt;

                              &lt;L7p:VariableToSet stringValue=&quot;isNewUser&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                          &lt;/wsp:All&gt;
                          &lt;L7p:TrueAssertion/&gt;
                        &lt;/wsp:OneOrMore&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                          &lt;L7p:CommentAssertion&gt;
                            &lt;L7p:Comment stringValue=&quot;re-create user group mapping&quot;/&gt;
                          &lt;/L7p:CommentAssertion&gt;
                          &lt;L7p:JdbcQuery&gt;

                            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;find-USER_ROLE_XREF&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;

                            &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                            &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                            &lt;L7p:MaxRecords intValue=&quot;1&quot;/&gt;
                            &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                              &lt;/L7p:entry&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:NamingMap&gt;
                            &lt;L7p:SqlQuery stringValue=&quot;select UUID,NAME from USER_ROLE where NAME=&#36;{ldapGroup}&quot;/&gt;

                            &lt;L7p:VariablePrefix stringValue=&quot;groupQuery&quot;/&gt;
                          &lt;/L7p:JdbcQuery&gt;
                          &lt;L7p:AuditDetailAssertion&gt;

                            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;auth-trace-query-find-role&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;auth-trace-query-find-role,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                            &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                            &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                          &lt;/L7p:AuditDetailAssertion&gt;
                          &lt;L7p:JdbcQuery&gt;

                            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;clear-USER_ROLE_XREF&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;

                            &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;

                            &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                            &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                            &lt;L7p:MaxRecords intValue=&quot;1&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;delete from USER_ROLE_XREF where USER_UUID=&#36;{userUUID} AND ROLE_UUID != &#36;{groupQuery.UUID}&quot;/&gt;
                          &lt;/L7p:JdbcQuery&gt;
                          &lt;L7p:AuditDetailAssertion&gt;

                            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;auth-trace-query-clear-role&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;auth-trace-query-clear-roleXref,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                            &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                            &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                          &lt;/L7p:AuditDetailAssertion&gt;
                          &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:JdbcQuery&gt;

                              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;find-USER_ROLE_XREF&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                              &lt;/L7p:AssertionComment&gt;

                              &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                              &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                              &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;

                              &lt;L7p:MaxRecords intValue=&quot;1&quot;/&gt;

                              &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                                &lt;/L7p:entry&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:NamingMap&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;SELECT ROLE_UUID FROM USER_ROLE_XREF WHERE ROLE_UUID = &#36;{groupQuery.UUID}&quot;/&gt;
                            &lt;/L7p:JdbcQuery&gt;
                            &lt;L7p:JdbcQuery&gt;

                              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;create-USER_ROLE_XREF&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                              &lt;/L7p:AssertionComment&gt;

                              &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;

                              &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                              &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                              &lt;L7p:MaxRecords intValue=&quot;1&quot;/&gt;

                              &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                                &lt;/L7p:entry&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:NamingMap&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;insert INTO USER_ROLE_XREF (UUID, USER_UUID,ROLE_UUID,CREATE_TS,MODIFY_TS,CREATED_BY,MODIFIED_BY) VALUES(UUID(),&#36;{userUUID},&#36;{groupQuery.UUID},&#36;{gateway.time.millis},0,&#36;{SYSTEM_DB_USER},&apos;&apos;)&quot;/&gt;
                            &lt;/L7p:JdbcQuery&gt;
                            &lt;L7p:TrueAssertion/&gt;
                          &lt;/wsp:OneOrMore&gt;
                          &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;group role&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:ComparisonAssertion&gt;

                              &lt;L7p:Expression1 stringValue=&quot;&#36;{isNewUser}&quot;/&gt;

                              &lt;L7p:Expression2 stringValue=&quot;&quot;/&gt;

                              &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                &lt;L7p:item binary=&quot;included&quot;&gt;

                                  &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                  &lt;L7p:RightValue stringValue=&quot;&quot;/&gt;
                                &lt;/L7p:item&gt;
                              &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:CommentAssertion&gt;
                              &lt;L7p:Comment stringValue=&quot;Nothing to do here&quot;/&gt;
                            &lt;/L7p:CommentAssertion&gt;
                            &lt;L7p:assertionComment&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;existing user&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                          &lt;/wsp:All&gt;
                          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:ComparisonAssertion&gt;

                              &lt;L7p:Expression1 stringValue=&quot;&#36;{isNewUser}&quot;/&gt;

                              &lt;L7p:Expression2 stringValue=&quot;true&quot;/&gt;

                              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                &lt;L7p:item binary=&quot;included&quot;&gt;

                                  &lt;L7p:RightValue stringValue=&quot;true&quot;/&gt;
                                &lt;/L7p:item&gt;
                              &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:SetVariable&gt;

                              &lt;L7p:Base64Expression stringValue=&quot;JHtnaXZlbk5hbWV9&quot;/&gt;

                              &lt;L7p:VariableToSet stringValue=&quot;userQuery.FIRST_NAME&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:SetVariable&gt;

                              &lt;L7p:Base64Expression stringValue=&quot;JHtzbn0=&quot;/&gt;

                              &lt;L7p:VariableToSet stringValue=&quot;userQuery.LAST_NAME&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:SetVariable&gt;

                              &lt;L7p:Base64Expression stringValue=&quot;JHttYWlsfQ==&quot;/&gt;

                              &lt;L7p:VariableToSet stringValue=&quot;userQuery.EMAIL&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:SetVariable&gt;

                              &lt;L7p:Base64Expression stringValue=&quot;JHtsYW5ndWFnZX0=&quot;/&gt;

                              &lt;L7p:VariableToSet stringValue=&quot;userQuery.LOCALE&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:JdbcQuery&gt;

                              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;create-user&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                              &lt;/L7p:AssertionComment&gt;

                              &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                              &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                              &lt;L7p:MaxRecords intValue=&quot;1&quot;/&gt;

                              &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;uuid&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;uuid&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:NamingMap&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;insert into USER (UUID, USERNAME, PASSWORD_SALT, PASSWORD_HASH, LAST_NAME, FIRST_NAME, EMAIL, LOCALE, CREATE_TS, MODIFY_TS, CREATED_BY, MODIFIED_BY) values (&#36;{userUUID},&#36;{username},&apos;&apos;,&apos;&apos;,&#36;{userQuery.LAST_NAME},&#36;{userQuery.FIRST_NAME},&#36;{userQuery.EMAIL},&#36;{userQuery.LOCALE},&#36;{gateway.time.millis},0,&#36;{SYSTEM_DB_USER},&apos;&apos;)&quot;/&gt;

                              &lt;L7p:VariablePrefix stringValue=&quot;userQuery&quot;/&gt;
                            &lt;/L7p:JdbcQuery&gt;
                            &lt;L7p:AuditDetailAssertion&gt;

                              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;auth-trace-query-create&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                              &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;auth-trace-query-create,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                              &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;

                              &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                            &lt;/L7p:AuditDetailAssertion&gt;
                            &lt;L7p:assertionComment&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;non existing user&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                          &lt;/wsp:All&gt;
                          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:SetVariable&gt;

                              &lt;L7p:Base64Expression stringValue=&quot;U2VydmVyIEVycm9yIHByb2Nlc3NpbmcgdXNlciBpbmZv&quot;/&gt;

                              &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:SetVariable&gt;

                              &lt;L7p:Base64Expression stringValue=&quot;NTAw&quot;/&gt;

                              &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:assertionComment&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;error&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                          &lt;/wsp:All&gt;
                          &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;user related&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:OneOrMore&gt;
                        &lt;L7p:assertionComment&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;shadow in db&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                      &lt;/wsp:All&gt;
                      &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxMN2dpbXM6c2VydmljZSAgeG1sbnM6TDdnaW1zPSJodHRwOi8vd3d3LmxheWVyN3RlY2guY29tLzIwMTIvMTIvZ2ltcyI+DQo8TDdnaW1zOnVzZXI+DQogICA8TDdnaW1zOnZlcnNpb24+JHtWRVJTSU9OfTwvTDdnaW1zOnZlcnNpb24+DQogICA8TDdnaW1zOmRuPjwhW0NEQVRBWyR7dXNlcm5hbWV9XV0+PC9MN2dpbXM6ZG4+DQogICAke3htbC5vYmplY3RjbGFzc2VzfSAgDQogICA8TDdnaW1zOmF0dHI+DQoJPEw3Z2ltczphdHRyLW5hbWU+bG9naW48L0w3Z2ltczphdHRyLW5hbWU+DQoJPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7dXNlcm5hbWV9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+Z2l2ZW5OYW1lPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3VzZXJRdWVyeS5GSVJTVF9OQU1FfV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KICAgPEw3Z2ltczphdHRyPg0KCSAgIDxMN2dpbXM6YXR0ci1uYW1lPnNuPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3VzZXJRdWVyeS5MQVNUX05BTUV9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+bWFpbDwvTDdnaW1zOmF0dHItbmFtZT4NCgkgICA8TDdnaW1zOmF0dHItdmFsdWU+PCFbQ0RBVEFbJHt1c2VyUXVlcnkuRU1BSUx9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+bGFuZ3VhZ2U8L0w3Z2ltczphdHRyLW5hbWU+DQoJICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7dXNlclF1ZXJ5LkxPQ0FMRX1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgPC9MN2dpbXM6YXR0cj4NCiAgIDxMN2dpbXM6YXR0cj4NCgkgICA8TDdnaW1zOmF0dHItbmFtZT5hdmF0YXI8L0w3Z2ltczphdHRyLW5hbWU+DQoJICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7YXZhdGFyfV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KICAgPEw3Z2ltczphdHRyPg0KCSAgIDxMN2dpbXM6YXR0ci1uYW1lPnRva2VuPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3Rva2VufV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KICAgPEw3Z2ltczphdHRyPg0KCSAgIDxMN2dpbXM6YXR0ci1uYW1lPm1lbWJlck9mPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske2dyb3VwfV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPiANCiAgIDxMN2dpbXM6YXR0cj4NCgkgICA8TDdnaW1zOmF0dHItbmFtZT50aW1lb3V0PC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3Rva2VuLnRpbWVvdXR9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+dXVpZDwvTDdnaW1zOmF0dHItbmFtZT4NCgkgICA8TDdnaW1zOmF0dHItdmFsdWU+PCFbQ0RBVEFbJHt1c2VyVVVJRH1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgPC9MN2dpbXM6YXR0cj4NCiAgIDxMN2dpbXM6YXR0cj4NCgkgICA8TDdnaW1zOmF0dHItbmFtZT5vcmdhbml6YXRpb25VdWlkPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3VzZXJRdWVyeS5PUkdfVVVJRH1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgPC9MN2dpbXM6YXR0cj4gIA0KICAgJHtvcmdhbml6YXRpb259DQo8L0w3Z2ltczp1c2VyPg0KPC9MN2dpbXM6c2VydmljZT4=&quot;/&gt;
                        &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                      &lt;/L7p:SetVariable&gt;
                      &lt;L7p:assertionComment&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;queryLDAP&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:assertionComment&gt;
                    &lt;/wsp:All&gt;
                    &lt;wsp:OneOrMore
                            L7p:Enabled=&quot;false&quot; wsp:Usage=&quot;Required&quot;&gt;
                      &lt;L7p:ComparisonAssertion&gt;
                        &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:AssertionComment&gt;
                        &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                        &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                        &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                        &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                          &lt;L7p:item dataType=&quot;included&quot;&gt;
                            &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                          &lt;/L7p:item&gt;
                          &lt;L7p:item binary=&quot;included&quot;&gt;
                            &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                            &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                          &lt;/L7p:item&gt;
                        &lt;/L7p:Predicates&gt;
                      &lt;/L7p:ComparisonAssertion&gt;
                      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                          &lt;L7p:JdbcQuery&gt;

                            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//insert into token table&quot;/&gt;
                                &lt;/L7p:entry&gt;
                                &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;insert&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;

                            &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;

                            &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                            &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;insert into TOKEN (username,token,date_created,token_expiry,ip_address,domain,user_agent,request_id,session_id) values (&#36;{username},&#36;{token},&#36;{gateway.time.millis},&#36;{gateway.time.millis} + (&#36;{token.timeout} * 1000),&#36;{clientIpAddress},&#36;{domain},&#36;{user-agent},&#36;{requestId},&#36;{sessionId})&quot;/&gt;

                            &lt;L7p:VariablePrefix stringValue=&quot;token.jdbcQuery&quot;/&gt;
                          &lt;/L7p:JdbcQuery&gt;
                          &lt;L7p:AuditDetailAssertion&gt;

                            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;auth-trace-token-create&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;auth-trace-token-create,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                            &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                            &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                          &lt;/L7p:AuditDetailAssertion&gt;
                          &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;//setup up db tokens&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                          &lt;L7p:CacheStorage&gt;

                            &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{prefix}&#36;{token}&quot;/&gt;
                            &lt;L7p:CacheId stringValue=&quot;tokenStore&quot;/&gt;

                            &lt;L7p:MaxEntryAgeSeconds stringValue=&quot;&#36;{cache.timeout}&quot;/&gt;

                            &lt;L7p:OtherTargetMessageVariable stringValue=&quot;output&quot;/&gt;
                            &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                          &lt;/L7p:CacheStorage&gt;
                          &lt;L7p:AuditDetailAssertion&gt;
                            &lt;L7p:Detail stringValue=&quot;&#36;{token} associated to &#36;{username}&quot;/&gt;
                          &lt;/L7p:AuditDetailAssertion&gt;
                          &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;//setup local caching&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                      &lt;/wsp:All&gt;
                      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:SetVariable&gt;

                          &lt;L7p:Base64Expression stringValue=&quot;U2VydmVyIEVycm9yIHNldHRpbmcgdXAgdG9rZW4=&quot;/&gt;
                          &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:SetVariable&gt;

                          &lt;L7p:Base64Expression stringValue=&quot;NTAw&quot;/&gt;
                          &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                        &lt;/L7p:SetVariable&gt;
                      &lt;/wsp:All&gt;
                      &lt;L7p:assertionComment&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;Token Related&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:assertionComment&gt;
                    &lt;/wsp:OneOrMore&gt;
                    &lt;L7p:assertionComment&gt;
                      &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;OpenLDAP&quot;/&gt;
                        &lt;/L7p:entry&gt;
                      &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                  &lt;/wsp:All&gt;
                  &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;L7p:ComparisonAssertion&gt;
                      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:AssertionComment&gt;
                      &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                      &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                      &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                      &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                        &lt;L7p:item dataType=&quot;included&quot;&gt;
                          &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary=&quot;included&quot;&gt;
                          &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                        &lt;/L7p:item&gt;
                      &lt;/L7p:Predicates&gt;
                    &lt;/L7p:ComparisonAssertion&gt;
                    &lt;L7p:SetVariable&gt;
                      &lt;L7p:Base64Expression stringValue=&quot;QXV0aG9yaXphdGlvbiBGYWlsZWQ=&quot;/&gt;
                      &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:SetVariable&gt;
                      &lt;L7p:Base64Expression stringValue=&quot;NDAx&quot;/&gt;
                      &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:assertionComment&gt;
                      &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;Authentication Error&quot;/&gt;
                        &lt;/L7p:entry&gt;
                      &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                  &lt;/wsp:All&gt;
                  &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                      &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;Authentication Provider(s)&quot;/&gt;
                      &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                  &lt;/L7p:assertionComment&gt;
                &lt;/wsp:OneOrMore&gt;
                &lt;L7p:assertionComment&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//auth operation in LDAP&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;LDAP Authentication&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
              &lt;/wsp:All&gt;
              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:ComparisonAssertion&gt;
                  &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                      &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                      &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                  &lt;/L7p:AssertionComment&gt;
                  &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                  &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                  &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                      &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item binary=&quot;included&quot;&gt;
                      &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                    &lt;/L7p:item&gt;
                  &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:ComparisonAssertion&gt;
                  &lt;L7p:Expression1 stringValue=&quot;&#36;{auth.setting.db.only}&quot;/&gt;
                  &lt;L7p:Expression2 stringValue=&quot;USE_LDAP&quot;/&gt;
                  &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                    &lt;L7p:item binary=&quot;included&quot;&gt;
                      &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                      &lt;L7p:RightValue stringValue=&quot;USE_LDAP&quot;/&gt;
                    &lt;/L7p:item&gt;
                  &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                  &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;L7p:JdbcQuery&gt;
                      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;find-USER+HASH&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:AssertionComment&gt;
                      &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                      &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                      &lt;L7p:MaxRecords intValue=&quot;1&quot;/&gt;
                      &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;EMAIL&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;EMAIL&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;FIRST_NAME&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;FIRST_NAME&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;LAST_NAME&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;LAST_NAME&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;LOCALE&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;LOCALE&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;ORGANIZATION_UUID&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;ORG_UUID&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;PASSWORD_HASH&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;PASSWORD_HASH&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;PASSWORD_SALT&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;PASSWORD_SALT&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;STATUS&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;STATUS&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                        &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;BUSINESS_REPORTS_OBJECT_ID&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;BUSINESS_REPORTS_OBJECT_ID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                      &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;select UUID,LAST_NAME,FIRST_NAME,EMAIL,LOCALE,ORGANIZATION_UUID,PASSWORD_SALT,PASSWORD_HASH,STATUS,BUSINESS_REPORTS_OBJECT_ID from USER where USERNAME = &#36;{username}&quot;/&gt;
                      &lt;L7p:VariablePrefix stringValue=&quot;userQuery&quot;/&gt;
                    &lt;/L7p:JdbcQuery&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                      &lt;L7p:Detail stringValue=&quot;status:&#36;{userQuery.STATUS}&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                    &lt;L7p:ComparisonAssertion&gt;
                      &lt;L7p:Expression1 stringValue=&quot;&#36;{userQuery.STATUS}&quot;/&gt;
                      &lt;L7p:Expression2 stringValue=&quot;ENABLED&quot;/&gt;
                      &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                        &lt;L7p:item binary=&quot;included&quot;&gt;
                          &lt;L7p:RightValue stringValue=&quot;ENABLED&quot;/&gt;
                        &lt;/L7p:item&gt;
                      &lt;/L7p:Predicates&gt;
                    &lt;/L7p:ComparisonAssertion&gt;
                    &lt;L7p:GenerateSecurityHash&gt;
                      &lt;L7p:Algorithm stringValue=&quot;HMAC-SHA512&quot;/&gt;
                      &lt;L7p:Base64Data stringValue=&quot;JHtwYXNzd29yZH0=&quot;/&gt;
                      &lt;L7p:KeyText stringValue=&quot;&#36;{userQuery.PASSWORD_SALT}&quot;/&gt;
                      &lt;L7p:LineBreak lineBreak=&quot;CR-LF&quot;/&gt;
                      &lt;L7p:TargetOutputVariable stringValue=&quot;AUTH_PASSWORD_HASH&quot;/&gt;
                    &lt;/L7p:GenerateSecurityHash&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                      &lt;L7p:Detail stringValue=&quot;auth:&#36;{AUTH_PASSWORD_HASH},db:&#36;{userQuery.PASSWORD_HASH}&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                          &lt;L7p:Expression1 stringValue=&quot;&#36;{userQuery.PASSWORD_HASH}&quot;/&gt;
                          &lt;L7p:Expression2 stringValue=&quot;&#36;{AUTH_PASSWORD_HASH}&quot;/&gt;
                          &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                            &lt;L7p:item binary=&quot;included&quot;&gt;

                              &lt;L7p:RightValue stringValue=&quot;&#36;{AUTH_PASSWORD_HASH}&quot;/&gt;
                            &lt;/L7p:item&gt;
                          &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                        &lt;L7p:JdbcQuery&gt;

                          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;find-USER_ROLE_XREF&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:AssertionComment&gt;
                          &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                          &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                          &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                            &lt;/L7p:entry&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;select USER_ROLE.NAME from USER_ROLE LEFT JOIN USER_ROLE_XREF ON  USER_ROLE.UUID = USER_ROLE_XREF.ROLE_UUID WHERE USER_ROLE_XREF.USER_UUID = &#36;{userQuery.UUID}&quot;/&gt;
                          &lt;L7p:VariablePrefix stringValue=&quot;groupQuery&quot;/&gt;
                        &lt;/L7p:JdbcQuery&gt;
                        &lt;L7p:AuditDetailAssertion&gt;

                          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;auth-trace-query-find-role&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;auth-trace-query-find-role,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                          &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                          &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                        &lt;/L7p:AuditDetailAssertion&gt;
                        &lt;L7p:SetVariable&gt;

                          &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
                          &lt;L7p:VariableToSet stringValue=&quot;memberOf&quot;/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:ForEachLoop
                                L7p:Usage=&quot;Required&quot;
                                loopVariable=&quot;groupQuery.NAME&quot; variablePrefix=&quot;roles&quot;&gt;
                          &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                              &lt;L7p:ComparisonAssertion&gt;

                                &lt;L7p:Expression1 stringValue=&quot;&#36;{roles.current}&quot;/&gt;

                                &lt;L7p:Expression2 stringValue=&quot;&quot;/&gt;

                                &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;

                                &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                  &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;&quot;/&gt;
                                  &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                              &lt;/L7p:ComparisonAssertion&gt;
                              &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHttZW1iZXJPZn0NCjxMN2dpbXM6YXR0cj4NCjxMN2dpbXM6YXR0ci1uYW1lPm1lbWJlck9mPC9MN2dpbXM6YXR0ci1uYW1lPg0KPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBW0NOPSR7cm9sZXMuY3VycmVudH1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KPC9MN2dpbXM6YXR0cj4=&quot;/&gt;

                                &lt;L7p:VariableToSet stringValue=&quot;memberOf&quot;/&gt;
                              &lt;/L7p:SetVariable&gt;
                            &lt;/wsp:All&gt;
                            &lt;L7p:TrueAssertion/&gt;
                          &lt;/wsp:OneOrMore&gt;
                        &lt;/L7p:ForEachLoop&gt;
                        &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxMN2dpbXM6c2VydmljZSAgeG1sbnM6TDdnaW1zPSJodHRwOi8vd3d3LmxheWVyN3RlY2guY29tLzIwMTIvMTIvZ2ltcyI+DQo8TDdnaW1zOnVzZXI+DQogICA8TDdnaW1zOnZlcnNpb24+JHtWRVJTSU9OfTwvTDdnaW1zOnZlcnNpb24+DQogICA8TDdnaW1zOmRuPjwhW0NEQVRBWyR7dXNlcm5hbWV9XV0+PC9MN2dpbXM6ZG4+DQogICAke3htbC5vYmplY3RjbGFzc2VzfSAgDQogICA8TDdnaW1zOmF0dHI+DQoJPEw3Z2ltczphdHRyLW5hbWU+bG9naW48L0w3Z2ltczphdHRyLW5hbWU+DQoJPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7dXNlcm5hbWV9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+Z2l2ZW5OYW1lPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3VzZXJRdWVyeS5GSVJTVF9OQU1FfV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KICAgPEw3Z2ltczphdHRyPg0KCSAgIDxMN2dpbXM6YXR0ci1uYW1lPnNuPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3VzZXJRdWVyeS5MQVNUX05BTUV9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+bWFpbDwvTDdnaW1zOmF0dHItbmFtZT4NCgkgICA8TDdnaW1zOmF0dHItdmFsdWU+PCFbQ0RBVEFbJHt1c2VyUXVlcnkuRU1BSUx9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+bGFuZ3VhZ2U8L0w3Z2ltczphdHRyLW5hbWU+DQoJICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7dXNlclF1ZXJ5LkxPQ0FMRX1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgPC9MN2dpbXM6YXR0cj4NCiAgIDxMN2dpbXM6YXR0cj4NCgkgICA8TDdnaW1zOmF0dHItbmFtZT5hdmF0YXI8L0w3Z2ltczphdHRyLW5hbWU+DQoJICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7YXZhdGFyfV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KICAgPEw3Z2ltczphdHRyPg0KCSAgIDxMN2dpbXM6YXR0ci1uYW1lPnRva2VuPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3Rva2VufV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KJHttZW1iZXJPZn0NCiAgIDxMN2dpbXM6YXR0cj4NCgkgICA8TDdnaW1zOmF0dHItbmFtZT50aW1lb3V0PC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3Rva2VuLnRpbWVvdXR9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+dXVpZDwvTDdnaW1zOmF0dHItbmFtZT4NCgkgICA8TDdnaW1zOmF0dHItdmFsdWU+PCFbQ0RBVEFbJHt1c2VyUXVlcnkuVVVJRH1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgPC9MN2dpbXM6YXR0cj4NCiAgIDxMN2dpbXM6YXR0cj4NCgkgICA8TDdnaW1zOmF0dHItbmFtZT5vcmdhbml6YXRpb25VdWlkPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3VzZXJRdWVyeS5PUkdfVVVJRH1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgPC9MN2dpbXM6YXR0cj4gDQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+YnVzaW5lc3NSZXBvcnRzT2JqZWN0SWQ8L0w3Z2ltczphdHRyLW5hbWU+DQoJICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7dXNlclF1ZXJ5LkJVU0lORVNTX1JFUE9SVFNfT0JKRUNUX0lEfV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPiAgIA0KICAgJHtvcmdhbml6YXRpb259DQo8L0w3Z2ltczp1c2VyPg0KPC9MN2dpbXM6c2VydmljZT4=&quot;/&gt;
                          &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:JdbcQuery&gt;

                          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;//reset invalid password attemp counter&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:AssertionComment&gt;

                          &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                          &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                          &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                          &lt;L7p:MaxRecords intValue=&quot;1&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE USER SET INVALID_LOGIN_ATTEMPT=0 where USERNAME = &#36;{username}AND STATUS = &apos;ENABLED&apos;&quot;/&gt;
                          &lt;L7p:VariablePrefix stringValue=&quot;userQuery&quot;/&gt;
                        &lt;/L7p:JdbcQuery&gt;
                        &lt;L7p:assertionComment&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;valid auth&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;valid()&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                      &lt;/wsp:All&gt;
                      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                          &lt;L7p:ComparisonAssertion&gt;

                            &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                            &lt;L7p:Expression1 stringValue=&quot;&#36;{password.invalid.tries}&quot;/&gt;
                            &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                            &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                              &lt;L7p:item dataType=&quot;included&quot;&gt;

                                &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                              &lt;/L7p:item&gt;
                              &lt;L7p:item binary=&quot;included&quot;&gt;

                                &lt;L7p:RightValue stringValue=&quot;-1&quot;/&gt;
                              &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                          &lt;/L7p:ComparisonAssertion&gt;
                          &lt;L7p:JdbcQuery&gt;

                            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;increase invalid attempt&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;

                            &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                            &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                            &lt;L7p:MaxRecords intValue=&quot;1&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE USER SET INVALID_LOGIN_ATTEMPT=INVALID_LOGIN_ATTEMPT+1 where USERNAME = &#36;{username} AND INVALID_LOGIN_ATTEMPT + 1 &amp;lt;= &#36;{password.invalid.tries}-1 AND STATUS = &apos;ENABLED&apos;&quot;/&gt;

                            &lt;L7p:VariablePrefix stringValue=&quot;userQuery&quot;/&gt;
                          &lt;/L7p:JdbcQuery&gt;
                          &lt;L7p:JdbcQuery&gt;

                            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;lock the account&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;

                            &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                            &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                            &lt;L7p:MaxRecords intValue=&quot;1&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE USER SET STATUS=&apos;LOCKED&apos;,INVALID_LOGIN_ATTEMPT=0,LOCK_TS=&#36;{gateway.time.millis} where USERNAME = &#36;{username} AND INVALID_LOGIN_ATTEMPT &gt;= &#36;{password.invalid.tries}-1 AND STATUS = &apos;ENABLED&apos;&quot;/&gt;

                            &lt;L7p:VariablePrefix stringValue=&quot;userQuery&quot;/&gt;
                          &lt;/L7p:JdbcQuery&gt;
                        &lt;/wsp:OneOrMore&gt;
                        &lt;L7p:FalseAssertion/&gt;
                      &lt;/wsp:All&gt;
                    &lt;/wsp:OneOrMore&gt;
                  &lt;/wsp:All&gt;
                  &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;L7p:ComparisonAssertion&gt;
                      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:AssertionComment&gt;
                      &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                      &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                      &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                      &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                        &lt;L7p:item dataType=&quot;included&quot;&gt;
                          &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary=&quot;included&quot;&gt;
                          &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                        &lt;/L7p:item&gt;
                      &lt;/L7p:Predicates&gt;
                    &lt;/L7p:ComparisonAssertion&gt;
                    &lt;L7p:SetVariable&gt;
                      &lt;L7p:Base64Expression stringValue=&quot;QXV0aG9yaXphdGlvbiBGYWlsZWQ=&quot;/&gt;
                      &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                          &lt;L7p:Expression1 stringValue=&quot;&#36;{userQuery.STATUS}&quot;/&gt;
                          &lt;L7p:Expression2 stringValue=&quot;ENABLED&quot;/&gt;
                          &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;
                          &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                            &lt;L7p:item binary=&quot;included&quot;&gt;
                              &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;

                              &lt;L7p:RightValue stringValue=&quot;ENABLED&quot;/&gt;
                            &lt;/L7p:item&gt;
                          &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                        &lt;L7p:SetVariable&gt;

                          &lt;L7p:Base64Expression stringValue=&quot;QXV0aG9yaXphdGlvbiBGYWlsZWQgJHt1c2VyUXVlcnkuU1RBVFVTfQ==&quot;/&gt;
                          &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                        &lt;/L7p:SetVariable&gt;
                      &lt;/wsp:All&gt;
                      &lt;L7p:TrueAssertion/&gt;
                    &lt;/wsp:OneOrMore&gt;
                    &lt;L7p:SetVariable&gt;
                      &lt;L7p:Base64Expression stringValue=&quot;NDAx&quot;/&gt;
                      &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:assertionComment&gt;
                      &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;error&quot;/&gt;
                        &lt;/L7p:entry&gt;
                      &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                  &lt;/wsp:All&gt;
                &lt;/wsp:OneOrMore&gt;
                &lt;L7p:assertionComment&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//auth operation in DB&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;DB Authentication&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
              &lt;/wsp:All&gt;
              &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;handleAuth&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:assertionComment&gt;
            &lt;/wsp:OneOrMore&gt;
            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
              &lt;L7p:ComparisonAssertion&gt;
                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                  &lt;L7p:item dataType=&quot;included&quot;&gt;
                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                  &lt;/L7p:item&gt;
                  &lt;L7p:item binary=&quot;included&quot;&gt;
                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                  &lt;/L7p:item&gt;
                &lt;/L7p:Predicates&gt;
              &lt;/L7p:ComparisonAssertion&gt;
              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                  &lt;L7p:JdbcQuery&gt;
                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                      &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//insert into token table&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;insert&quot;/&gt;
                        &lt;/L7p:entry&gt;
                      &lt;/L7p:Properties&gt;
                    &lt;/L7p:AssertionComment&gt;
                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;
                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;insert into TOKEN (username,token,date_created,token_expiry,ip_address,domain,user_agent,request_id,session_id) values (&#36;{username},&#36;{token},&#36;{gateway.time.millis},&#36;{gateway.time.millis} + (&#36;{token.timeout} * 1000),&#36;{clientIpAddress},&#36;{domain},&#36;{user-agent},&#36;{requestId},&#36;{sessionId})&quot;/&gt;
                    &lt;L7p:VariablePrefix stringValue=&quot;token.jdbcQuery&quot;/&gt;
                  &lt;/L7p:JdbcQuery&gt;
                  &lt;L7p:AuditDetailAssertion&gt;
                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                      &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;auth-trace-token-create&quot;/&gt;
                        &lt;/L7p:entry&gt;
                      &lt;/L7p:Properties&gt;
                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;auth-trace-token-create,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                  &lt;/L7p:AuditDetailAssertion&gt;
                  &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                      &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//setup up db tokens&quot;/&gt;
                      &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                  &lt;/L7p:assertionComment&gt;
                &lt;/wsp:All&gt;
                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                  &lt;L7p:CacheStorage&gt;
                    &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{prefix}&#36;{token}&quot;/&gt;
                    &lt;L7p:CacheId stringValue=&quot;tokenStore&quot;/&gt;
                    &lt;L7p:MaxEntryAgeSeconds stringValue=&quot;&#36;{cache.timeout}&quot;/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;output&quot;/&gt;
                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                  &lt;/L7p:CacheStorage&gt;
                  &lt;L7p:AuditDetailAssertion&gt;
                    &lt;L7p:Detail stringValue=&quot;&#36;{token} associated to &#36;{username}&quot;/&gt;
                  &lt;/L7p:AuditDetailAssertion&gt;
                  &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                      &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//setup local caching&quot;/&gt;
                      &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                  &lt;/L7p:assertionComment&gt;
                &lt;/wsp:All&gt;
              &lt;/wsp:All&gt;
              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;U2VydmVyIEVycm9yIHNldHRpbmcgdXAgdG9rZW4=&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;NTAw&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
              &lt;/wsp:All&gt;
              &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;Token Related&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:assertionComment&gt;
            &lt;/wsp:OneOrMore&gt;
            &lt;L7p:assertionComment&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//handles authentication requests&quot;/&gt;
                                &lt;/L7p:entry&gt;
                                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;authenticate()&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
          &lt;/wsp:All&gt;
          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:AssertionComment&gt;
              &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
              &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item dataType=&quot;included&quot;&gt;
                  &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                &lt;/L7p:item&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;GET&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;GET&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;authenticate&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;authenticate&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:AuditDetailAssertion&gt;
              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;auth-trace-validate-section&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:AssertionComment&gt;
                            &lt;L7p:Detail stringValue=&quot;auth-trace-validate-section,transactionId:{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
              &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
              &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
            &lt;/L7p:AuditDetailAssertion&gt;
            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:ComparisonAssertion&gt;
                  &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                  &lt;L7p:Expression2 stringValue=&quot;authenticate&quot;/&gt;
                  &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                  &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                    &lt;L7p:item binary=&quot;included&quot;&gt;
                      &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                      &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                      &lt;L7p:RightValue stringValue=&quot;authenticate&quot;/&gt;
                    &lt;/L7p:item&gt;
                  &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                      &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;token&quot;/&gt;
                      &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                  &lt;/L7p:AssertionComment&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;JHtlbnRpdHlfdHlwZX0=&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;token&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                  &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:JdbcQuery&gt;

                          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//query token and not yet expired&quot;/&gt;
                              &lt;/L7p:entry&gt;
                              &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;query&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:AssertionComment&gt;
                          &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                          &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                          &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;username&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;username&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;SELECT username FROM TOKEN WHERE token = &#36;{token}  AND token_expiry &gt;= &#36;{gateway.time.millis}&quot;/&gt;
                          &lt;L7p:VariablePrefix stringValue=&quot;token.jdbcQuery&quot;/&gt;
                        &lt;/L7p:JdbcQuery&gt;
                        &lt;L7p:AuditDetailAssertion&gt;

                          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;auth-trace-token-create&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;auth-trace-token-query,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                          &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                          &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                        &lt;/L7p:AuditDetailAssertion&gt;
                        &lt;L7p:SetVariable&gt;

                          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;username&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:AssertionComment&gt;

                          &lt;L7p:Base64Expression stringValue=&quot;JHt0b2tlbi5qZGJjUXVlcnkudXNlcm5hbWV9&quot;/&gt;
                          &lt;L7p:VariableToSet stringValue=&quot;username&quot;/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:assertionComment&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;//db lookup&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                      &lt;/wsp:All&gt;
                      &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                          &lt;L7p:SetVariable&gt;

                            &lt;L7p:Base64Expression stringValue=&quot;JHtwcmVmaXh9JHtlbnRpdHlfdHlwZX0=&quot;/&gt;

                            &lt;L7p:VariableToSet stringValue=&quot;cache_entry&quot;/&gt;
                          &lt;/L7p:SetVariable&gt;
                          &lt;L7p:CacheLookup&gt;

                            &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{cache_entry}&quot;/&gt;
                            &lt;L7p:CacheId stringValue=&quot;tokenStore&quot;/&gt;

                            &lt;L7p:ContentTypeOverride stringValue=&quot;&quot;/&gt;

                            &lt;L7p:MaxEntryAgeSeconds stringValue=&quot;&#36;{cache.timeout}&quot;/&gt;

                            &lt;L7p:OtherTargetMessageVariable stringValue=&quot;data&quot;/&gt;
                            &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                          &lt;/L7p:CacheLookup&gt;
                          &lt;L7p:SetVariable&gt;

                            &lt;L7p:Base64Expression stringValue=&quot;JHtkYXRhLm1haW5wYXJ0fQ==&quot;/&gt;

                            &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                          &lt;/L7p:SetVariable&gt;
                          &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:Expression1 stringValue=&quot;&#36;{output}&quot;/&gt;
                            &lt;L7p:Expression2 stringValue=&quot;&quot;/&gt;
                            &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;
                            &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                            &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                              &lt;L7p:item binary=&quot;included&quot;&gt;

                                &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;

                                &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                &lt;L7p:RightValue stringValue=&quot;&quot;/&gt;
                              &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                          &lt;/L7p:ComparisonAssertion&gt;
                          &lt;L7p:AuditDetailAssertion&gt;
                            &lt;L7p:Detail stringValue=&quot;returning cached value&quot;/&gt;
                          &lt;/L7p:AuditDetailAssertion&gt;
                          &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;//load from cache if exist&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                &lt;L7p:JdbcQuery&gt;

                                  &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                      &lt;L7p:entry&gt;

                                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                        &lt;L7p:value stringValue=&quot;find-USER&quot;/&gt;
                                      &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                  &lt;/L7p:AssertionComment&gt;

                                  &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                                  &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                  &lt;L7p:MaxRecords intValue=&quot;1&quot;/&gt;

                                  &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                      &lt;L7p:key stringValue=&quot;EMAIL&quot;/&gt;

                                      &lt;L7p:value stringValue=&quot;EMAIL&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                      &lt;L7p:key stringValue=&quot;FIRST_NAME&quot;/&gt;

                                      &lt;L7p:value stringValue=&quot;FIRST_NAME&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                      &lt;L7p:key stringValue=&quot;LAST_NAME&quot;/&gt;

                                      &lt;L7p:value stringValue=&quot;LAST_NAME&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                      &lt;L7p:key stringValue=&quot;LOCALE&quot;/&gt;

                                      &lt;L7p:value stringValue=&quot;LOCALE&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                      &lt;L7p:key stringValue=&quot;ORGANIZATION_UUID&quot;/&gt;

                                      &lt;L7p:value stringValue=&quot;ORG_UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                      &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;

                                      &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;BUSINESS_REPORTS_OBJECT_ID&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;BUSINESS_REPORTS_OBJECT_ID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                  &lt;/L7p:NamingMap&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;select UUID,LAST_NAME,FIRST_NAME,EMAIL,LOCALE,ORGANIZATION_UUID,BUSINESS_REPORTS_OBJECT_ID from USER where USERNAME = &#36;{username}&quot;/&gt;

                                  &lt;L7p:VariablePrefix stringValue=&quot;userQuery&quot;/&gt;
                                &lt;/L7p:JdbcQuery&gt;
                                &lt;L7p:SetVariable&gt;

                                  &lt;L7p:Base64Expression stringValue=&quot;JHt1c2VyUXVlcnkuVVVJRH0=&quot;/&gt;

                                  &lt;L7p:VariableToSet stringValue=&quot;userUUID&quot;/&gt;
                                &lt;/L7p:SetVariable&gt;
                              &lt;/wsp:All&gt;
                              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                &lt;L7p:AuditDetailAssertion&gt;

                                  &lt;L7p:Detail stringValue=&quot;user &#36;{username} not found&quot;/&gt;
                                &lt;/L7p:AuditDetailAssertion&gt;
                                &lt;L7p:FalseAssertion&gt;

                                  &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                      &lt;L7p:entry&gt;

                                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                        &lt;L7p:value stringValue=&quot;//short circuit branch&quot;/&gt;
                                      &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                  &lt;/L7p:AssertionComment&gt;
                                &lt;/L7p:FalseAssertion&gt;
                              &lt;/wsp:All&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:assertionComment&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;buildResponse()&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                          &lt;/wsp:All&gt;
                          &lt;L7p:AuditDetailAssertion&gt;

                            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;auth-trace-user-query&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;auth-trace-user-query,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                            &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                            &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                          &lt;/L7p:AuditDetailAssertion&gt;
                          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:SetVariable&gt;

                              &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;

                              &lt;L7p:VariableToSet stringValue=&quot;memberOf&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:JdbcQuery&gt;

                              &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                              &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                              &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                                &lt;/L7p:entry&gt;
                                &lt;L7p:entry&gt;

                                  &lt;L7p:key stringValue=&quot;TYPE&quot;/&gt;

                                  &lt;L7p:value stringValue=&quot;TYPE&quot;/&gt;
                                &lt;/L7p:entry&gt;
                              &lt;/L7p:NamingMap&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;select b.NAME,b.TYPE from USER_ROLE_XREF a LEFT JOIN USER_ROLE b ON a.ROLE_UUID=b.UUID WHERE a.USER_UUID=&#36;{userUUID}&quot;/&gt;

                              &lt;L7p:VariablePrefix stringValue=&quot;roleXref&quot;/&gt;
                            &lt;/L7p:JdbcQuery&gt;
                            &lt;L7p:AuditDetailAssertion&gt;

                              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;auth-trace-group-query&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                              &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;auth-trace-group-query,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                              &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;

                              &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                            &lt;/L7p:AuditDetailAssertion&gt;
                            &lt;L7p:ForEachLoop
                                    L7p:Usage=&quot;Required&quot;
                                    loopVariable=&quot;roleXref.NAME&quot; variablePrefix=&quot;roles&quot;&gt;

                              &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                  &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{roles.current}&quot;/&gt;

                                    &lt;L7p:Expression2 stringValue=&quot;&quot;/&gt;

                                    &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                      &lt;L7p:item binary=&quot;included&quot;&gt;

                                        &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;

                                        &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                        &lt;L7p:RightValue stringValue=&quot;&quot;/&gt;
                                      &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                  &lt;/L7p:ComparisonAssertion&gt;
                                  &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHttZW1iZXJPZn0NCjxMN2dpbXM6YXR0cj4NCjxMN2dpbXM6YXR0ci1uYW1lPm1lbWJlck9mPC9MN2dpbXM6YXR0ci1uYW1lPg0KPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBW0NOPSR7cm9sZXMuY3VycmVudH1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KPC9MN2dpbXM6YXR0cj4=&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;memberOf&quot;/&gt;
                                  &lt;/L7p:SetVariable&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:TrueAssertion/&gt;
                              &lt;/wsp:OneOrMore&gt;
                            &lt;/L7p:ForEachLoop&gt;
                          &lt;/wsp:All&gt;
                          &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxMN2dpbXM6c2VydmljZSAgeG1sbnM6TDdnaW1zPSJodHRwOi8vd3d3LmxheWVyN3RlY2guY29tLzIwMTIvMTIvZ2ltcyI+DQo8TDdnaW1zOnVzZXI+DQogICA8TDdnaW1zOnZlcnNpb24+JHtWRVJTSU9OfTwvTDdnaW1zOnZlcnNpb24+DQogICA8TDdnaW1zOmRuPjwhW0NEQVRBWyR7dXNlcm5hbWV9XV0+PC9MN2dpbXM6ZG4+DQogICAke3htbC5vYmplY3RjbGFzc2VzfSAgDQogICA8TDdnaW1zOmF0dHI+DQoJPEw3Z2ltczphdHRyLW5hbWU+bG9naW48L0w3Z2ltczphdHRyLW5hbWU+DQoJPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7dXNlcm5hbWV9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+Z2l2ZW5OYW1lPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3VzZXJRdWVyeS5GSVJTVF9OQU1FfV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KICAgPEw3Z2ltczphdHRyPg0KCSAgIDxMN2dpbXM6YXR0ci1uYW1lPnNuPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3VzZXJRdWVyeS5MQVNUX05BTUV9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+bWFpbDwvTDdnaW1zOmF0dHItbmFtZT4NCgkgICA8TDdnaW1zOmF0dHItdmFsdWU+PCFbQ0RBVEFbJHt1c2VyUXVlcnkuRU1BSUx9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+bGFuZ3VhZ2U8L0w3Z2ltczphdHRyLW5hbWU+DQoJICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7dXNlclF1ZXJ5LkxPQ0FMRX1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgPC9MN2dpbXM6YXR0cj4NCiAgIDxMN2dpbXM6YXR0cj4NCgkgICA8TDdnaW1zOmF0dHItbmFtZT5hdmF0YXI8L0w3Z2ltczphdHRyLW5hbWU+DQoJICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7YXZhdGFyfV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KICAgPEw3Z2ltczphdHRyPg0KCSAgIDxMN2dpbXM6YXR0ci1uYW1lPnRva2VuPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3Rva2VufV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KICAgJHttZW1iZXJPZn0NCiAgIDxMN2dpbXM6YXR0cj4NCgkgICA8TDdnaW1zOmF0dHItbmFtZT50aW1lb3V0PC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3Rva2VuLnRpbWVvdXR9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+dXVpZDwvTDdnaW1zOmF0dHItbmFtZT4NCgkgICA8TDdnaW1zOmF0dHItdmFsdWU+PCFbQ0RBVEFbJHt1c2VyVVVJRH1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgPC9MN2dpbXM6YXR0cj4gIA0KICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+b3JnYW5pemF0aW9uVXVpZDwvTDdnaW1zOmF0dHItbmFtZT4NCgkgICA8TDdnaW1zOmF0dHItdmFsdWU+PCFbQ0RBVEFbJHt1c2VyUXVlcnkuT1JHX1VVSUR9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+YnVzaW5lc3NSZXBvcnRzT2JqZWN0SWQ8L0w3Z2ltczphdHRyLW5hbWU+DQoJICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7dXNlclF1ZXJ5LkJVU0lORVNTX1JFUE9SVFNfT0JKRUNUX0lEfV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KPC9MN2dpbXM6dXNlcj4NCjwvTDdnaW1zOnNlcnZpY2U+&quot;/&gt;

                            &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                          &lt;/L7p:SetVariable&gt;
                          &lt;L7p:CacheStorage&gt;

                            &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{prefix}&#36;{token}&quot;/&gt;
                            &lt;L7p:CacheId stringValue=&quot;tokenStore&quot;/&gt;

                            &lt;L7p:MaxEntryAgeSeconds stringValue=&quot;&#36;{cache.timeout}&quot;/&gt;

                            &lt;L7p:OtherTargetMessageVariable stringValue=&quot;output&quot;/&gt;
                            &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                          &lt;/L7p:CacheStorage&gt;
                          &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;//rebuild from ldap query&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;L7p:assertionComment&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;//buiild response&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                      &lt;/wsp:OneOrMore&gt;
                      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:JdbcQuery&gt;

                          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//extend token expiry&quot;/&gt;
                              &lt;/L7p:entry&gt;
                              &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;update&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:AssertionComment&gt;

                          &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                          &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                          &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE TOKEN SET token_expiry = &#36;{gateway.time.millis} + (&#36;{token.timeout} * 1000) WHERE token = &#36;{token}&quot;/&gt;
                          &lt;L7p:VariablePrefix stringValue=&quot;token.jdbcQuery&quot;/&gt;
                        &lt;/L7p:JdbcQuery&gt;
                        &lt;L7p:AuditDetailAssertion&gt;

                          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;auth-trace-token-extend&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;auth-trace-token-extend,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                          &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                          &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                        &lt;/L7p:AuditDetailAssertion&gt;
                        &lt;L7p:assertionComment&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;//extend token&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                      &lt;/wsp:All&gt;
                    &lt;/wsp:All&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                      &lt;L7p:Detail stringValue=&quot;&#36;{token} is valid&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                  &lt;/wsp:All&gt;
                  &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;L7p:SetVariable&gt;
                      &lt;L7p:Base64Expression stringValue=&quot;NDAx&quot;/&gt;
                      &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:SetVariable&gt;
                      &lt;L7p:Base64Expression stringValue=&quot;JHtlbnRpdHlfdHlwZX0gaXMgaW52YWxpZA==&quot;/&gt;
                      &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:JdbcQuery&gt;
                      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//delete the token if exist but came to this branch means it is expired already&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;delete&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:AssertionComment&gt;
                      &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                      &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                      &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                      &lt;L7p:SqlQuery stringValue=&quot;delete from TOKEN where token = &#36;{entity_type}&quot;/&gt;
                      &lt;L7p:VariablePrefix stringValue=&quot;token.jdbcQuery&quot;/&gt;
                    &lt;/L7p:JdbcQuery&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;auth-trace-token-delete&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;auth-trace-token-delete,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                      &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                      &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                    &lt;L7p:JdbcQuery&gt;
                      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//delete all expired tokens&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;delete&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:AssertionComment&gt;
                      &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                      &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                      &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                      &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                      &lt;L7p:SqlQuery stringValue=&quot;delete from TOKEN where token_expiry &amp;lt; &#36;{gateway.time.millis}&quot;/&gt;
                      &lt;L7p:VariablePrefix stringValue=&quot;token.jdbcQuery&quot;/&gt;
                    &lt;/L7p:JdbcQuery&gt;
                    &lt;L7p:assertionComment&gt;
                      &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;404&quot;/&gt;
                        &lt;/L7p:entry&gt;
                      &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                  &lt;/wsp:All&gt;
                &lt;/wsp:OneOrMore&gt;
              &lt;/wsp:All&gt;
            &lt;/wsp:OneOrMore&gt;
            &lt;L7p:assertionComment&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;TokenValidate()&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
          &lt;/wsp:All&gt;
          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:AssertionComment&gt;
              &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
              &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item dataType=&quot;included&quot;&gt;
                  &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                &lt;/L7p:item&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;DELETE&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;DELETE&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;authenticate&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;authenticate&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;//entitiy_type has the token parameter&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:AssertionComment&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;authenticate&quot;/&gt;
              &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;
              &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                  &lt;L7p:RightValue stringValue=&quot;authenticate&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;token&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:AssertionComment&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHtlbnRpdHlfdHlwZX0=&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;token&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:JdbcQuery&gt;
                  &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                      &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//delete specific token&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;delete&quot;/&gt;
                      &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                  &lt;/L7p:AssertionComment&gt;
                  &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;
                  &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:SqlQuery stringValue=&quot;delete from TOKEN where token = &#36;{token}&quot;/&gt;
                  &lt;L7p:VariablePrefix stringValue=&quot;token.jdbcQuery&quot;/&gt;
                &lt;/L7p:JdbcQuery&gt;
                &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                  &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;L7p:ComparisonAssertion&gt;
                      &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                      &lt;L7p:Expression1 stringValue=&quot;&#36;{bulk.cleanup.expired.token}&quot;/&gt;
                      &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                      &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                        &lt;L7p:item dataType=&quot;included&quot;&gt;
                          &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary=&quot;included&quot;&gt;
                          &lt;L7p:RightValue stringValue=&quot;true&quot;/&gt;
                        &lt;/L7p:item&gt;
                      &lt;/L7p:Predicates&gt;
                    &lt;/L7p:ComparisonAssertion&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;auth-trace-token-delete&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;auth-trace-bulk-delete-start,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                      &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                      &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                    &lt;L7p:JdbcQuery&gt;
                      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//delete all expired tokens&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;delete&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:AssertionComment&gt;
                      &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                      &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                      &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                      &lt;L7p:SqlQuery stringValue=&quot;delete from TOKEN where token_expiry &amp;lt; &#36;{gateway.time.millis}&quot;/&gt;
                      &lt;L7p:VariablePrefix stringValue=&quot;token.jdbcQuery&quot;/&gt;
                    &lt;/L7p:JdbcQuery&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;auth-trace-token-delete&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;auth-trace-bulk-delete-end,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                      &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                      &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                  &lt;/wsp:All&gt;
                  &lt;L7p:TrueAssertion/&gt;
                &lt;/wsp:OneOrMore&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:CacheStorage&gt;
                  &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                      &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//make sure to invalidate cache&quot;/&gt;
                      &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                  &lt;/L7p:AssertionComment&gt;
                  &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{prefix}&#36;{token}&quot;/&gt;
                  &lt;L7p:CacheId stringValue=&quot;tokenStore&quot;/&gt;
                  &lt;L7p:MaxEntryAgeSeconds stringValue=&quot;0&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;output&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:CacheStorage&gt;
              &lt;/wsp:All&gt;
              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;U2VydmVyIEVycm9yIHJlbW92aW5nIHRva2Vu&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;NTAw&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
              &lt;/wsp:All&gt;
            &lt;/wsp:OneOrMore&gt;
            &lt;L7p:assertionComment&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//Logout&quot;/&gt;
                                &lt;/L7p:entry&gt;
                                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;TokenDelete()&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
          &lt;/wsp:All&gt;
          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;POST&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;POST&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;validatePassword&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;validatePassword&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnVzZXJuYW1lfQ==&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;username&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLm9sZFBhc3N3b3JkfQ==&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;password&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLm5ld1Bhc3N3b3JkfQ==&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;new_password&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:ComparisonAssertion&gt;
                  &lt;L7p:Expression1 stringValue=&quot;&#36;{auth.setting.db.only}&quot;/&gt;
                  &lt;L7p:Expression2 stringValue=&quot;USE_LDAP&quot;/&gt;
                  &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                    &lt;L7p:item binary=&quot;included&quot;&gt;
                      &lt;L7p:RightValue stringValue=&quot;USE_LDAP&quot;/&gt;
                    &lt;/L7p:item&gt;
                  &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:ComparisonAssertion&gt;
                  &lt;L7p:Expression1 stringValue=&quot;&#36;{request.http.parameter.username}&quot;/&gt;
                  &lt;L7p:Expression2 stringValue=&quot;&quot;/&gt;
                  &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                  &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                    &lt;L7p:item binary=&quot;included&quot;&gt;
                      &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                      &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                      &lt;L7p:RightValue stringValue=&quot;&quot;/&gt;
                    &lt;/L7p:item&gt;
                  &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;username&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&amp;amp;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;amp;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;username&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&amp;lt;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;lt;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;username&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&gt;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;gt;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;username&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&amp;quot;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;quot;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;username&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&apos;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;apos;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;password&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&amp;amp;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;amp;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;password&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&amp;lt;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;lt;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;password&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&gt;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;gt;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;password&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&amp;quot;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;quot;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:Regex&gt;
                  &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:OtherTargetMessageVariable stringValue=&quot;password&quot;/&gt;
                  &lt;L7p:Regex stringValue=&quot;&apos;&quot;/&gt;
                  &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Replacement stringValue=&quot;&amp;amp;apos;&quot;/&gt;
                  &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;PENyZWRlbnRpYWxzPg0KPFVzZXJuYW1lPiR7dXNlcm5hbWV9PC9Vc2VybmFtZT4NCjxQYXNzd29yZD4ke3Bhc3N3b3JkfTwvUGFzc3dvcmQ+DQo8L0NyZWRlbnRpYWxzPg==&quot;/&gt;
                  &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
                  &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;request&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnVzZXJuYW1lfQ==&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;username&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnBhc3N3b3JkfQ==&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;password&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:XpathCredentialSource&gt;
                  &lt;L7p:PasswordExpression xpathExpressionValue=&quot;included&quot;&gt;
                    &lt;L7p:Expression stringValue=&quot;//Password&quot;/&gt;
                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                      &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;s&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                      &lt;/L7p:entry&gt;
                    &lt;/L7p:Namespaces&gt;
                  &lt;/L7p:PasswordExpression&gt;
                  &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;
                    &lt;L7p:Expression stringValue=&quot;//Username&quot;/&gt;
                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                      &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;s&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                      &lt;/L7p:entry&gt;
                    &lt;/L7p:Namespaces&gt;
                  &lt;/L7p:XpathExpression&gt;
                &lt;/L7p:XpathCredentialSource&gt;
                &lt;L7p:AuditDetailAssertion&gt;
                  &lt;L7p:Detail stringValue=&quot;authenticating user:&#36;{request.username}&quot;/&gt;
                &lt;/L7p:AuditDetailAssertion&gt;
                &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                  &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                      &lt;L7p:ComparisonAssertion&gt;
                        &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                        &lt;L7p:Expression1 stringValue=&quot;&#36;{fallback_flag}&quot;/&gt;
                        &lt;L7p:Expression2 stringValue=&quot;true&quot;/&gt;
                        &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                          &lt;L7p:item binary=&quot;included&quot;&gt;

                            &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                            &lt;L7p:RightValue stringValue=&quot;true&quot;/&gt;
                          &lt;/L7p:item&gt;
                        &lt;/L7p:Predicates&gt;
                      &lt;/L7p:ComparisonAssertion&gt;
                      &lt;L7p:ComparisonAssertion&gt;
                        &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                        &lt;L7p:Expression1 stringValue=&quot;&#36;{provider}&quot;/&gt;
                        &lt;L7p:Expression2 stringValue=&quot;openldap1&quot;/&gt;
                        &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                          &lt;L7p:item binary=&quot;included&quot;&gt;

                            &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                            &lt;L7p:RightValue stringValue=&quot;openldap1&quot;/&gt;
                          &lt;/L7p:item&gt;
                        &lt;/L7p:Predicates&gt;
                      &lt;/L7p:ComparisonAssertion&gt;
                    &lt;/wsp:OneOrMore&gt;
                    &lt;L7p:Authentication&gt;
                                    &lt;L7p:IdentityProviderOid goidValue=&quot;<xsl:value-of select="$param.IdentityProviderId"/>&quot;/&gt;
                    &lt;/L7p:Authentication&gt;
                    &lt;L7p:assertionComment&gt;
                      &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;OpenLDAP&quot;/&gt;
                        &lt;/L7p:entry&gt;
                      &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                  &lt;/wsp:All&gt;
                  &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;L7p:ComparisonAssertion&gt;
                      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:AssertionComment&gt;
                      &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                      &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                      &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                      &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                        &lt;L7p:item dataType=&quot;included&quot;&gt;
                          &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary=&quot;included&quot;&gt;
                          &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                        &lt;/L7p:item&gt;
                      &lt;/L7p:Predicates&gt;
                    &lt;/L7p:ComparisonAssertion&gt;
                    &lt;L7p:SetVariable&gt;
                      &lt;L7p:Base64Expression stringValue=&quot;QXV0aG9yaXphdGlvbiBGYWlsZWQ=&quot;/&gt;
                      &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:SetVariable&gt;
                      &lt;L7p:Base64Expression stringValue=&quot;NDAx&quot;/&gt;
                      &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:assertionComment&gt;
                      &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;Authentication Error&quot;/&gt;
                        &lt;/L7p:entry&gt;
                      &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                  &lt;/wsp:All&gt;
                  &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                      &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;Authentication Provider(s)&quot;/&gt;
                      &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                  &lt;/L7p:assertionComment&gt;
                &lt;/wsp:OneOrMore&gt;
                &lt;L7p:assertionComment&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//auth operation in LDAP&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;LDAP Authentication&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
              &lt;/wsp:All&gt;
              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:ComparisonAssertion&gt;
                  &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                      &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                      &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                  &lt;/L7p:AssertionComment&gt;
                  &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                  &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                  &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                      &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item binary=&quot;included&quot;&gt;
                      &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                    &lt;/L7p:item&gt;
                  &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:ComparisonAssertion&gt;
                  &lt;L7p:Expression1 stringValue=&quot;&#36;{auth.setting.db.only}&quot;/&gt;
                  &lt;L7p:Expression2 stringValue=&quot;USE_LDAP&quot;/&gt;
                  &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                    &lt;L7p:item binary=&quot;included&quot;&gt;
                      &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                      &lt;L7p:RightValue stringValue=&quot;USE_LDAP&quot;/&gt;
                    &lt;/L7p:item&gt;
                  &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                  &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;L7p:JdbcQuery&gt;
                      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;find-USER-HASH&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:AssertionComment&gt;
                      &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                      &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                      &lt;L7p:MaxRecords intValue=&quot;1&quot;/&gt;
                      &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;EMAIL&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;EMAIL&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;FIRST_NAME&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;FIRST_NAME&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;LAST_NAME&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;LAST_NAME&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;LOCALE&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;LOCALE&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;ORGANIZATION_UUID&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;ORG_UUID&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;PASSWORD_HASH&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;PASSWORD_HASH&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;PASSWORD_SALT&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;PASSWORD_SALT&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                        &lt;/L7p:entry&gt;
                      &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;select PASSWORD_SALT,PASSWORD_HASH from USER where USERNAME = &#36;{username}&quot;/&gt;
                      &lt;L7p:VariablePrefix stringValue=&quot;userQuery&quot;/&gt;
                    &lt;/L7p:JdbcQuery&gt;
                    &lt;L7p:GenerateSecurityHash&gt;
                      &lt;L7p:Algorithm stringValue=&quot;HMAC-SHA512&quot;/&gt;
                      &lt;L7p:Base64Data stringValue=&quot;JHtwYXNzd29yZH0=&quot;/&gt;
                      &lt;L7p:KeyText stringValue=&quot;&#36;{userQuery.PASSWORD_SALT}&quot;/&gt;
                      &lt;L7p:LineBreak lineBreak=&quot;CR-LF&quot;/&gt;
                      &lt;L7p:TargetOutputVariable stringValue=&quot;AUTH_PASSWORD_HASH&quot;/&gt;
                    &lt;/L7p:GenerateSecurityHash&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                      &lt;L7p:Detail stringValue=&quot;auth:&#36;{AUTH_PASSWORD_HASH},db:&#36;{userQuery.PASSWORD_HASH}&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                    &lt;L7p:ComparisonAssertion&gt;
                      &lt;L7p:Expression1 stringValue=&quot;&#36;{userQuery.PASSWORD_HASH}&quot;/&gt;
                      &lt;L7p:Expression2 stringValue=&quot;&#36;{AUTH_PASSWORD_HASH}&quot;/&gt;
                      &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                        &lt;L7p:item binary=&quot;included&quot;&gt;
                          &lt;L7p:RightValue stringValue=&quot;&#36;{AUTH_PASSWORD_HASH}&quot;/&gt;
                        &lt;/L7p:item&gt;
                      &lt;/L7p:Predicates&gt;
                    &lt;/L7p:ComparisonAssertion&gt;
                  &lt;/wsp:All&gt;
                  &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;L7p:ComparisonAssertion&gt;
                      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:AssertionComment&gt;
                      &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                      &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                      &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                      &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                        &lt;L7p:item dataType=&quot;included&quot;&gt;
                          &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary=&quot;included&quot;&gt;
                          &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                        &lt;/L7p:item&gt;
                      &lt;/L7p:Predicates&gt;
                    &lt;/L7p:ComparisonAssertion&gt;
                    &lt;L7p:SetVariable&gt;
                      &lt;L7p:Base64Expression stringValue=&quot;QXV0aG9yaXphdGlvbiBGYWlsZWQ=&quot;/&gt;
                      &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:SetVariable&gt;
                      &lt;L7p:Base64Expression stringValue=&quot;NDAx&quot;/&gt;
                      &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:assertionComment&gt;
                      &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;error&quot;/&gt;
                        &lt;/L7p:entry&gt;
                      &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                  &lt;/wsp:All&gt;
                &lt;/wsp:OneOrMore&gt;
                &lt;L7p:assertionComment&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//auth operation in DB&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;DB Authentication&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
              &lt;/wsp:All&gt;
              &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;handleAuth&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:assertionComment&gt;
            &lt;/wsp:OneOrMore&gt;
            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
              &lt;L7p:ComparisonAssertion&gt;
                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                &lt;L7p:Expression1 stringValue=&quot;&#36;{password.policy}&quot;/&gt;
                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                  &lt;L7p:item dataType=&quot;included&quot;&gt;
                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                  &lt;/L7p:item&gt;
                  &lt;L7p:item binary=&quot;included&quot;&gt;
                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                  &lt;/L7p:item&gt;
                &lt;/L7p:Predicates&gt;
              &lt;/L7p:ComparisonAssertion&gt;
              &lt;L7p:Regex&gt;
                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;//password policy&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                &lt;L7p:FindAll booleanValue=&quot;true&quot;/&gt;
                &lt;L7p:OtherTargetMessageVariable stringValue=&quot;new_password&quot;/&gt;
&lt;L7p:Regex stringValue=&quot;<xsl:value-of select="$param.PasswordPolicy"/>&quot;/&gt;
                &lt;L7p:RegexName stringValue=&quot;password_policy&quot;/&gt;
                &lt;L7p:Replacement stringValue=&quot;&quot;/&gt;
                &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
              &lt;/L7p:Regex&gt;
              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:ComparisonAssertion&gt;
                  &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                      &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                      &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                  &lt;/L7p:AssertionComment&gt;
                  &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                  &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                  &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                  &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                      &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item binary=&quot;included&quot;&gt;
                      &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                    &lt;/L7p:item&gt;
                  &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;TmV3IFBhc3N3b3JkIGRvZXMgbm90IGNvbmZvcm0gdG8gUGFzc3dvcmQgUG9saWN5&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;NDAw&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
              &lt;/wsp:All&gt;
            &lt;/wsp:OneOrMore&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:AssertionComment&gt;
              &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
              &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item dataType=&quot;included&quot;&gt;
                  &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                &lt;/L7p:item&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:UUIDGenerator&gt;
              &lt;L7p:TargetVariable stringValue=&quot;uuid&quot;/&gt;
            &lt;/L7p:UUIDGenerator&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHt1dWlkfQ==&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;password_salt&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:GenerateSecurityHash&gt;
              &lt;L7p:Algorithm stringValue=&quot;HMAC-SHA512&quot;/&gt;
              &lt;L7p:Base64Data stringValue=&quot;JHtuZXdfcGFzc3dvcmR9&quot;/&gt;
              &lt;L7p:KeyText stringValue=&quot;&#36;{password_salt}&quot;/&gt;
              &lt;L7p:LineBreak lineBreak=&quot;CR-LF&quot;/&gt;
              &lt;L7p:TargetOutputVariable stringValue=&quot;password_hash&quot;/&gt;
            &lt;/L7p:GenerateSecurityHash&gt;
            &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue=&quot;PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxMN2dpbXM6c2VydmljZSAgeG1sbnM6TDdnaW1zPSJodHRwOi8vd3d3LmxheWVyN3RlY2guY29tLzIwMTIvMTIvZ2ltcyI+DQo8TDdnaW1zOnVzZXI+DQogICA8TDdnaW1zOnZlcnNpb24+JHtWRVJTSU9OfTwvTDdnaW1zOnZlcnNpb24+DQogICA8TDdnaW1zOmRuPjwhW0NEQVRBWyR7dXNlcm5hbWV9XV0+PC9MN2dpbXM6ZG4+ICAgDQogICA8TDdnaW1zOmF0dHI+DQoJPEw3Z2ltczphdHRyLW5hbWU+bG9naW48L0w3Z2ltczphdHRyLW5hbWU+DQoJPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7dXNlcm5hbWV9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+cGFzc3dvcmRfc2FsdDwvTDdnaW1zOmF0dHItbmFtZT4NCgkgICA8TDdnaW1zOmF0dHItdmFsdWU+PCFbQ0RBVEFbJHtwYXNzd29yZF9zYWx0fV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KICAgPEw3Z2ltczphdHRyPg0KCSAgIDxMN2dpbXM6YXR0ci1uYW1lPnBhc3N3b3JkX2hhc2g8L0w3Z2ltczphdHRyLW5hbWU+DQoJICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7cGFzc3dvcmRfaGFzaH1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgPC9MN2dpbXM6YXR0cj4NCjwvTDdnaW1zOnVzZXI+DQo8L0w3Z2ltczpzZXJ2aWNlPg==&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:assertionComment&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//handles validatePassword requests&quot;/&gt;
                                &lt;/L7p:entry&gt;
                                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;validatePassword()&quot;/&gt;
                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                    &lt;/wsp:All&gt;
                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                            &lt;L7p:Expression2 stringValue=&quot;POST&quot;/&gt;
                            &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;POST&quot;/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
                            &lt;L7p:Expression2 stringValue=&quot;validatePasswordPolicy&quot;/&gt;
                            &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;validatePasswordPolicy&quot;/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnBhc3N3b3JkfQ==&quot;/&gt;
                            &lt;L7p:VariableToSet stringValue=&quot;new_password&quot;/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{password.policy}&quot;/&gt;
                                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:Regex&gt;
                                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//password policy&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;
                                &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:FindAll booleanValue=&quot;true&quot;/&gt;
                                &lt;L7p:OtherTargetMessageVariable stringValue=&quot;new_password&quot;/&gt;
&lt;L7p:Regex stringValue=&quot;<xsl:value-of select="$param.PasswordPolicy"/>&quot;/&gt;
                                &lt;L7p:Regex stringValue=&quot;^(?=.{8,60})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\W)(?!.*(.)\1{1}).+$&quot;/&gt;
                                &lt;L7p:RegexName stringValue=&quot;password_policy&quot;/&gt;
                                &lt;L7p:Replacement stringValue=&quot;&quot;/&gt;
                                &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                            &lt;/L7p:Regex&gt;
                            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;UGFzc3dvcmQgZG9lcyBub3QgY29uZm9ybSB0byBQYXNzd29yZCBQb2xpY3k=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                                &lt;/L7p:SetVariable&gt;
                                &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;NDAw&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                &lt;/L7p:SetVariable&gt;
                            &lt;/wsp:All&gt;
                        &lt;/wsp:OneOrMore&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                            &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                            &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                            &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                            &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                &lt;/L7p:item&gt;
                                &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue=&quot;PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxMN2dpbXM6c2VydmljZSAgeG1sbnM6TDdnaW1zPSJodHRwOi8vd3d3LmxheWVyN3RlY2guY29tLzIwMTIvMTIvZ2ltcyI+DQo8TDdnaW1zOnVzZXI+DQogICA8TDdnaW1zOnZlcnNpb24+JHtWRVJTSU9OfTwvTDdnaW1zOnZlcnNpb24+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+cGFzc3dvcmQ8L0w3Z2ltczphdHRyLW5hbWU+DQoJICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7bmV3X3Bhc3N3b3JkfV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KPC9MN2dpbXM6dXNlcj4NCjwvTDdnaW1zOnNlcnZpY2U+&quot;/&gt;
                            &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;validatePasswordPolicy()&quot;/&gt;
                                &lt;/L7p:entry&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//validates a password against the password policy&quot;/&gt;
                                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
          &lt;/wsp:All&gt;
          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;POST&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;POST&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;sendEmail&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;sendEmail&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;bWFpbC5jYS5jb20=&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;smtpServer&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVycy50b30=&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;to&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVycy5mcm9tfQ==&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;from&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnN1YmplY3R9&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;subject&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lm1haW5wYXJ0fQ==&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;body&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:AuditDetailAssertion&gt;
              &lt;L7p:Detail stringValueReference=&quot;inline&quot;&gt;&lt;![CDATA[to: &#36;{to}
from: &#36;{from}
subject: &#36;{subject}
body: &#36;{body}]]&gt;&lt;/L7p:Detail&gt;
            &lt;/L7p:AuditDetailAssertion&gt;
            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;L7p:ComparisonAssertion&gt;
                        &lt;L7p:Expression1 stringValue=&quot;&#36;{gateway.portal.mail.smtp.host}&quot;/&gt;
                        &lt;L7p:Expression2 stringValue=&quot;&quot;/&gt;
                        &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;
                        &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                        &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                        &lt;L7p:item binary=&quot;included&quot;&gt;
                        &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                        &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                        &lt;L7p:RightValue stringValue=&quot;&quot;/&gt;
                        &lt;/L7p:item&gt;
                        &lt;/L7p:Predicates&gt;
                    &lt;/L7p:ComparisonAssertion&gt;
                    &lt;L7p:SetVariable&gt;
                        &lt;L7p:Base64Expression stringValue=&quot;bm9yZXBseUBkZXYuY2EuY29t&quot;/&gt;
                        &lt;L7p:VariableToSet stringValue=&quot;from&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:EmailAlert&gt;
                        &lt;L7p:AuthPassword stringValue=&quot;&#36;{secpass.portal_mail_smtp_password.plaintext}&quot;/&gt;
                        &lt;L7p:AuthUsername stringValue=&quot;&#36;{gateway.portal.mail.smtp.username}&quot;/&gt;
                        &lt;L7p:Authenticate booleanValue=&quot;true&quot;/&gt;
                        &lt;L7p:Base64message stringValue=&quot;JHtib2R5fQ==&quot;/&gt;
                        &lt;L7p:ContextVarPassword booleanValue=&quot;true&quot;/&gt;
                        &lt;L7p:Protocol Protocol=&quot;STARTTLS&quot;/&gt;
                        &lt;L7p:SmtpHost stringValue=&quot;&#36;{gateway.portal.mail.smtp.host}&quot;/&gt;
                        &lt;L7p:SmtpPort stringValue=&quot;&#36;{gateway.portal.mail.smtp.port}&quot;/&gt;
                        &lt;L7p:SourceEmailAddress stringValue=&quot;&#36;{from}&quot;/&gt;
                        &lt;L7p:Subject stringValue=&quot;&#36;{subject}&quot;/&gt;
                        &lt;L7p:TargetEmailAddress stringValue=&quot;&#36;{to}&quot;/&gt;
                    &lt;/L7p:EmailAlert&gt;
                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:SetVariable&gt;
                        &lt;L7p:Base64Expression stringValue=&quot;NTAw&quot;/&gt;
                        &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:SetVariable&gt;
                        &lt;L7p:Base64Expression stringValue=&quot;VW5hYmxlIHRvIHNlbmQgZW1haWw=&quot;/&gt;
                        &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                        &lt;/L7p:SetVariable&gt;
                    &lt;/wsp:All&gt;
                    &lt;L7p:assertionComment&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//amazon mail service&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                &lt;/wsp:All&gt;
                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:EmailAlert&gt;
                        &lt;L7p:Base64message stringValue=&quot;JHtib2R5fQ==&quot;/&gt;
                        &lt;L7p:SmtpHost stringValue=&quot;&#36;{smtpServer}&quot;/&gt;
                        &lt;L7p:SourceEmailAddress stringValue=&quot;&#36;{from}&quot;/&gt;
                        &lt;L7p:Subject stringValue=&quot;&#36;{subject}&quot;/&gt;
                        &lt;L7p:TargetEmailAddress stringValue=&quot;&#36;{to}&quot;/&gt;
                        &lt;/L7p:EmailAlert&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:SetVariable&gt;
                        &lt;L7p:Base64Expression stringValue=&quot;NTAw&quot;/&gt;
                        &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:SetVariable&gt;
                        &lt;L7p:Base64Expression stringValue=&quot;VW5hYmxlIHRvIHNlbmQgZW1haWw=&quot;/&gt;
                        &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;/wsp:All&gt;
                    &lt;/wsp:OneOrMore&gt;
                &lt;/wsp:All&gt;
            &lt;/wsp:OneOrMore&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//sends email&quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;sendEmail()&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
          &lt;/wsp:All&gt;
          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;POST&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;POST&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;encryptPassword&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;encryptPassword&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnBhc3N3b3JkfQ==&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;password&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:UUIDGenerator&gt;
              &lt;L7p:TargetVariable stringValue=&quot;uuid&quot;/&gt;
            &lt;/L7p:UUIDGenerator&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHt1dWlkfQ==&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;password_salt&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:GenerateSecurityHash&gt;
              &lt;L7p:Algorithm stringValue=&quot;HMAC-SHA512&quot;/&gt;
              &lt;L7p:Base64Data stringValue=&quot;JHtwYXNzd29yZH0=&quot;/&gt;
              &lt;L7p:KeyText stringValue=&quot;&#36;{password_salt}&quot;/&gt;
              &lt;L7p:LineBreak lineBreak=&quot;CR-LF&quot;/&gt;
              &lt;L7p:TargetOutputVariable stringValue=&quot;password_hash&quot;/&gt;
            &lt;/L7p:GenerateSecurityHash&gt;
            &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue=&quot;PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxMN2dpbXM6c2VydmljZSAgeG1sbnM6TDdnaW1zPSJodHRwOi8vd3d3LmxheWVyN3RlY2guY29tLzIwMTIvMTIvZ2ltcyI+DQo8TDdnaW1zOnVzZXI+DQogICA8TDdnaW1zOnZlcnNpb24+JHtWRVJTSU9OfTwvTDdnaW1zOnZlcnNpb24+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+cGFzc3dvcmRfc2FsdDwvTDdnaW1zOmF0dHItbmFtZT4NCgkgICA8TDdnaW1zOmF0dHItdmFsdWU+PCFbQ0RBVEFbJHtwYXNzd29yZF9zYWx0fV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KICAgPEw3Z2ltczphdHRyPg0KCSAgIDxMN2dpbXM6YXR0ci1uYW1lPnBhc3N3b3JkX2hhc2g8L0w3Z2ltczphdHRyLW5hbWU+DQoJICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7cGFzc3dvcmRfaGFzaH1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgPC9MN2dpbXM6YXR0cj4NCjwvTDdnaW1zOnVzZXI+DQo8L0w3Z2ltczpzZXJ2aWNlPg==&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:assertionComment&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//handles encryptPassword requests&quot;/&gt;
                                &lt;/L7p:entry&gt;
                                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;encryptPassword()&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
          &lt;/wsp:All&gt;
          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;POST&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;POST&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;generatePassword&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;generatePassword&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:GeneratePassword/&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHtnZW5lcmF0ZS5wYXNzd29yZC5yZXNwb25zZX0=&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;password&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:UUIDGenerator&gt;
              &lt;L7p:TargetVariable stringValue=&quot;uuid&quot;/&gt;
            &lt;/L7p:UUIDGenerator&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHt1dWlkfQ==&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;password_salt&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:GenerateSecurityHash&gt;
              &lt;L7p:Algorithm stringValue=&quot;HMAC-SHA512&quot;/&gt;
              &lt;L7p:Base64Data stringValue=&quot;JHtwYXNzd29yZH0=&quot;/&gt;
              &lt;L7p:KeyText stringValue=&quot;&#36;{password_salt}&quot;/&gt;
              &lt;L7p:LineBreak lineBreak=&quot;CR-LF&quot;/&gt;
              &lt;L7p:TargetOutputVariable stringValue=&quot;password_hash&quot;/&gt;
            &lt;/L7p:GenerateSecurityHash&gt;
            &lt;L7p:EncodeDecode&gt;
              &lt;L7p:SourceVariableName stringValue=&quot;password&quot;/&gt;
              &lt;L7p:TargetDataType variableDataType=&quot;string&quot;/&gt;
              &lt;L7p:TargetVariableName stringValue=&quot;encoded_password&quot;/&gt;
              &lt;L7p:TransformType transformType=&quot;BASE64_ENCODE&quot;/&gt;
            &lt;/L7p:EncodeDecode&gt;
            &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue=&quot;PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxMN2dpbXM6c2VydmljZSAgeG1sbnM6TDdnaW1zPSJodHRwOi8vd3d3LmxheWVyN3RlY2guY29tLzIwMTIvMTIvZ2ltcyI+DQo8TDdnaW1zOnVzZXI+DQogICA8TDdnaW1zOnZlcnNpb24+JHtWRVJTSU9OfTwvTDdnaW1zOnZlcnNpb24+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+cGFzc3dvcmRfc2FsdDwvTDdnaW1zOmF0dHItbmFtZT4NCgkgICA8TDdnaW1zOmF0dHItdmFsdWU+PCFbQ0RBVEFbJHtwYXNzd29yZF9zYWx0fV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KICAgPEw3Z2ltczphdHRyPg0KCSAgIDxMN2dpbXM6YXR0ci1uYW1lPnBhc3N3b3JkX2hhc2g8L0w3Z2ltczphdHRyLW5hbWU+DQoJICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7cGFzc3dvcmRfaGFzaH1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgPC9MN2dpbXM6YXR0cj4NCiAgIDxMN2dpbXM6YXR0cj4NCgkgICA8TDdnaW1zOmF0dHItbmFtZT5lbmNvZGVkX3Bhc3N3b3JkPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske2VuY29kZWRfcGFzc3dvcmR9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQo8L0w3Z2ltczp1c2VyPg0KPC9MN2dpbXM6c2VydmljZT4=&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:assertionComment&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//handles generatePassword requests&quot;/&gt;
                                &lt;/L7p:entry&gt;
                                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;generatePassword()&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
          &lt;/wsp:All&gt;
          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;POST&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;POST&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;generateRegistrationToken&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;generateRegistrationToken&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHtnZW5lcmF0ZS50b2tlbi51cHBlcmNhc2V9&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;generate.password.uppercase&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHtnZW5lcmF0ZS50b2tlbi5sb3dlcmNhc2V9&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;generate.password.lowercase&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHtnZW5lcmF0ZS50b2tlbi5zcGVjaWFsQ2hhcn0=&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;generate.password.specialChar&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHtnZW5lcmF0ZS50b2tlbi5udW1iZXJ9&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;generate.password.number&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:GeneratePassword/&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHtnZW5lcmF0ZS5wYXNzd29yZC5yZXNwb25zZX0=&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;token&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:UUIDGenerator&gt;
              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;//UUID to ensure randomness&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:AssertionComment&gt;
              &lt;L7p:TargetVariable stringValue=&quot;token_uuid&quot;/&gt;
            &lt;/L7p:UUIDGenerator&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;JHt0b2tlbn1fJHt0b2tlbl91dWlkfQ==&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;token&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:EncodeDecode&gt;
              &lt;L7p:SourceVariableName stringValue=&quot;token&quot;/&gt;
              &lt;L7p:TargetDataType variableDataType=&quot;string&quot;/&gt;
              &lt;L7p:TargetVariableName stringValue=&quot;encoded_token&quot;/&gt;
              &lt;L7p:TransformType transformType=&quot;BASE64_ENCODE&quot;/&gt;
            &lt;/L7p:EncodeDecode&gt;
            &lt;L7p:JdbcQuery&gt;
              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;//use DB query to generate expiry date&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:AssertionComment&gt;
              &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;
              &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
              &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;EXPIRY_DATE&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;EXPIRY_DATE&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:NamingMap&gt;
                            &lt;L7p:SqlQuery stringValue=&quot;select &#36;{gateway.time.millis} + (&#36;{registration.token.expiry} * 86400000) as EXPIRY_DATE from DUAL&quot;/&gt;
              &lt;L7p:VariablePrefix stringValue=&quot;regToken&quot;/&gt;
            &lt;/L7p:JdbcQuery&gt;
            &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue=&quot;PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxMN2dpbXM6c2VydmljZSAgeG1sbnM6TDdnaW1zPSJodHRwOi8vd3d3LmxheWVyN3RlY2guY29tLzIwMTIvMTIvZ2ltcyI+DQo8TDdnaW1zOnVzZXI+DQogICA8TDdnaW1zOnZlcnNpb24+JHtWRVJTSU9OfTwvTDdnaW1zOnZlcnNpb24+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+dG9rZW48L0w3Z2ltczphdHRyLW5hbWU+DQoJICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7ZW5jb2RlZF90b2tlbn1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgPC9MN2dpbXM6YXR0cj4NCiAgIDxMN2dpbXM6YXR0cj4NCgkgICA8TDdnaW1zOmF0dHItbmFtZT50b2tlbl9leHBpcnlfZGF0ZTwvTDdnaW1zOmF0dHItbmFtZT4NCgkgICA8TDdnaW1zOmF0dHItdmFsdWU+PCFbQ0RBVEFbJHtyZWdUb2tlbi5FWFBJUllfREFURX1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgPC9MN2dpbXM6YXR0cj4NCjwvTDdnaW1zOnVzZXI+DQo8L0w3Z2ltczpzZXJ2aWNlPg==&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:assertionComment&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;//handles generateRegistrationToken requests&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
          &lt;/wsp:All&gt;
          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:AssertionComment&gt;
              &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
              &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item dataType=&quot;included&quot;&gt;
                  &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                &lt;/L7p:item&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;GET&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;GET&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;validateRegistrationToken&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;validateRegistrationToken&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:AuditDetailAssertion&gt;
              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;auth-trace-validate-section&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:AssertionComment&gt;
              &lt;L7p:Detail
                      stringValue=&quot;auth-trace-validate-section,transactionId:{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
              &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
              &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
            &lt;/L7p:AuditDetailAssertion&gt;
            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:ComparisonAssertion&gt;
                  &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                  &lt;L7p:Expression2 stringValue=&quot;authenticate&quot;/&gt;
                  &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                  &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                    &lt;L7p:item binary=&quot;included&quot;&gt;
                      &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                      &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                      &lt;L7p:RightValue stringValue=&quot;authenticate&quot;/&gt;
                    &lt;/L7p:item&gt;
                  &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                      &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;token&quot;/&gt;
                      &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                  &lt;/L7p:AssertionComment&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;JHtlbnRpdHlfdHlwZX0=&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;token&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                  &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:JdbcQuery&gt;

                          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;query&quot;/&gt;
                              &lt;/L7p:entry&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;//query token and not yet expired&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:AssertionComment&gt;
                          &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                          &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                          &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;USER_UUID&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;USER_UUID&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;SELECT USER_UUID FROM USER_REGISTRATION_TOKEN WHERE TOKEN = &#36;{token}  AND EXPIRY_DATE &gt;= &#36;{gateway.time.millis}&quot;/&gt;
                          &lt;L7p:VariablePrefix stringValue=&quot;token.jdbcQuery&quot;/&gt;
                        &lt;/L7p:JdbcQuery&gt;
                        &lt;L7p:AuditDetailAssertion&gt;

                          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;auth-trace-token-create&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:AssertionComment&gt;
                          &lt;L7p:Detail
                                  stringValue=&quot;auth-trace-token-query,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                          &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                          &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                        &lt;/L7p:AuditDetailAssertion&gt;
                        &lt;L7p:SetVariable&gt;

                          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;user_uuid&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:AssertionComment&gt;

                          &lt;L7p:Base64Expression stringValue=&quot;JHt0b2tlbi5qZGJjUXVlcnkuVVNFUl9VVUlEfQ==&quot;/&gt;
                          &lt;L7p:VariableToSet stringValue=&quot;userUUID&quot;/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:assertionComment&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;//db lookup to verify token&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                      &lt;/wsp:All&gt;
                      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                          &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                              &lt;L7p:JdbcQuery&gt;

                                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                      &lt;L7p:value stringValue=&quot;find-USER&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                  &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;

                                &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                                &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                &lt;L7p:MaxRecords intValue=&quot;1&quot;/&gt;

                                &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;EMAIL&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;EMAIL&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;FIRST_NAME&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;FIRST_NAME&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LAST_NAME&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;LAST_NAME&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LOCALE&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;LOCALE&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;ORGANIZATION_UUID&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;ORG_UUID&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                &lt;/L7p:NamingMap&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;select UUID,LAST_NAME,FIRST_NAME,EMAIL,LOCALE,ORGANIZATION_UUID from USER where UUID = &#36;{userUUID}&quot;/&gt;

                                &lt;L7p:VariablePrefix stringValue=&quot;userQuery&quot;/&gt;
                              &lt;/L7p:JdbcQuery&gt;
                            &lt;/wsp:All&gt;
                            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                              &lt;L7p:AuditDetailAssertion&gt;

                                &lt;L7p:Detail stringValue=&quot;user &#36;{userUuid} not found&quot;/&gt;
                              &lt;/L7p:AuditDetailAssertion&gt;
                              &lt;L7p:FalseAssertion&gt;

                                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                      &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                      &lt;L7p:value stringValue=&quot;//short circuit branch&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                  &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;
                              &lt;/L7p:FalseAssertion&gt;
                            &lt;/wsp:All&gt;
                          &lt;/wsp:OneOrMore&gt;
                          &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;buildResponse()&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;L7p:AuditDetailAssertion&gt;

                          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;auth-trace-user-query&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:AssertionComment&gt;
                          &lt;L7p:Detail
                                  stringValue=&quot;auth-trace-user-query,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                          &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                          &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                        &lt;/L7p:AuditDetailAssertion&gt;
                        &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxMN2dpbXM6c2VydmljZSAgeG1sbnM6TDdnaW1zPSJodHRwOi8vd3d3LmxheWVyN3RlY2guY29tLzIwMTIvMTIvZ2ltcyI+DQo8TDdnaW1zOnVzZXI+DQogICA8TDdnaW1zOnZlcnNpb24+JHtWRVJTSU9OfTwvTDdnaW1zOnZlcnNpb24+DQogICA8TDdnaW1zOmRuPjwhW0NEQVRBWyR7dXNlcm5hbWV9XV0+PC9MN2dpbXM6ZG4+DQogICA8TDdnaW1zOmF0dHI+DQoJPEw3Z2ltczphdHRyLW5hbWU+bG9naW48L0w3Z2ltczphdHRyLW5hbWU+DQoJPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7dXNlcm5hbWV9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+Z2l2ZW5OYW1lPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3VzZXJRdWVyeS5GSVJTVF9OQU1FfV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KICAgPEw3Z2ltczphdHRyPg0KCSAgIDxMN2dpbXM6YXR0ci1uYW1lPnNuPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3VzZXJRdWVyeS5MQVNUX05BTUV9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+bWFpbDwvTDdnaW1zOmF0dHItbmFtZT4NCgkgICA8TDdnaW1zOmF0dHItdmFsdWU+PCFbQ0RBVEFbJHt1c2VyUXVlcnkuRU1BSUx9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+bGFuZ3VhZ2U8L0w3Z2ltczphdHRyLW5hbWU+DQoJICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7dXNlclF1ZXJ5LkxPQ0FMRX1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgPC9MN2dpbXM6YXR0cj4NCiAgIDxMN2dpbXM6YXR0cj4NCgkgICA8TDdnaW1zOmF0dHItbmFtZT5hdmF0YXI8L0w3Z2ltczphdHRyLW5hbWU+DQoJICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7YXZhdGFyfV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KICAgPEw3Z2ltczphdHRyPg0KCSAgIDxMN2dpbXM6YXR0ci1uYW1lPnRva2VuPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3Rva2VufV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KICAgJHttZW1iZXJPZn0NCiAgIDxMN2dpbXM6YXR0cj4NCgkgICA8TDdnaW1zOmF0dHItbmFtZT51dWlkPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3VzZXJVVUlEfV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPiAgDQogIDxMN2dpbXM6YXR0cj4NCgkgICA8TDdnaW1zOmF0dHItbmFtZT5vcmdhbml6YXRpb25VdWlkPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3VzZXJRdWVyeS5PUkdfVVVJRH1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgPC9MN2dpbXM6YXR0cj4NCjwvTDdnaW1zOnVzZXI+DQo8L0w3Z2ltczpzZXJ2aWNlPg==&quot;/&gt;
                          &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:assertionComment&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;//query user&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                      &lt;/wsp:All&gt;
                    &lt;/wsp:All&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                      &lt;L7p:Detail stringValue=&quot;&#36;{token} is valid&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                  &lt;/wsp:All&gt;
                  &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;L7p:SetVariable&gt;
                      &lt;L7p:Base64Expression stringValue=&quot;NDAx&quot;/&gt;
                      &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:SetVariable&gt;
                      &lt;L7p:Base64Expression stringValue=&quot;JHtlbnRpdHlfdHlwZX0gaXMgaW52YWxpZA==&quot;/&gt;
                      &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;auth-trace-token-delete&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:AssertionComment&gt;
                      &lt;L7p:Detail
                              stringValue=&quot;auth-trace-token-delete,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                      &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                      &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                    &lt;L7p:assertionComment&gt;
                      &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;404&quot;/&gt;
                        &lt;/L7p:entry&gt;
                      &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                  &lt;/wsp:All&gt;
                &lt;/wsp:OneOrMore&gt;
              &lt;/wsp:All&gt;
            &lt;/wsp:OneOrMore&gt;
            &lt;L7p:assertionComment&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;validateRegistrationToken()&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
          &lt;/wsp:All&gt;
          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:AssertionComment&gt;
              &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
              &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item dataType=&quot;included&quot;&gt;
                  &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                &lt;/L7p:item&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;GET&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;GET&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;validatePasswordResetToken&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;validatePasswordResetToken&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:AuditDetailAssertion&gt;
              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;auth-trace-validate-section&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:AssertionComment&gt;
              &lt;L7p:Detail stringValue=&quot;auth-trace-validate-section,transactionId:{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
              &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
              &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
            &lt;/L7p:AuditDetailAssertion&gt;
            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:ComparisonAssertion&gt;
                  &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                  &lt;L7p:Expression2 stringValue=&quot;authenticate&quot;/&gt;
                  &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;
                  &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                  &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                    &lt;L7p:item binary=&quot;included&quot;&gt;
                      &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                      &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                      &lt;L7p:RightValue stringValue=&quot;authenticate&quot;/&gt;
                    &lt;/L7p:item&gt;
                  &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                      &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;token&quot;/&gt;
                      &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                  &lt;/L7p:AssertionComment&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;JHtlbnRpdHlfdHlwZX0=&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;token&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                  &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:JdbcQuery&gt;

                          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;//query token and not yet expired&quot;/&gt;
                              &lt;/L7p:entry&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;query&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:AssertionComment&gt;
                          &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                          &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                          &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;USER_UUID&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;USER_UUID&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:NamingMap&gt;
                          &lt;L7p:SqlQuery stringValue=&quot;SELECT USER_UUID FROM PASSWORD_RESET_TOKEN WHERE TOKEN = &#36;{token}  AND EXPIRY_DATE &gt;= &#36;{gateway.time.millis}&quot;/&gt;
                          &lt;L7p:VariablePrefix stringValue=&quot;token.jdbcQuery&quot;/&gt;
                        &lt;/L7p:JdbcQuery&gt;
                        &lt;L7p:AuditDetailAssertion&gt;

                          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;auth-trace-token-create&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:AssertionComment&gt;
                          &lt;L7p:Detail stringValue=&quot;auth-trace-token-query,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                          &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                          &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                        &lt;/L7p:AuditDetailAssertion&gt;
                        &lt;L7p:SetVariable&gt;

                          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;user_uuid&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:AssertionComment&gt;

                          &lt;L7p:Base64Expression stringValue=&quot;JHt0b2tlbi5qZGJjUXVlcnkuVVNFUl9VVUlEfQ==&quot;/&gt;
                          &lt;L7p:VariableToSet stringValue=&quot;userUUID&quot;/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:assertionComment&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;//db lookup to verify token&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                      &lt;/wsp:All&gt;
                      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                          &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                              &lt;L7p:JdbcQuery&gt;

                                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                      &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                      &lt;L7p:value stringValue=&quot;find-USER&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                  &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;

                                &lt;L7p:ConnectionName stringValue=&quot;&#36;{db.token.store.name}&quot;/&gt;

                                &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                &lt;L7p:MaxRecords intValue=&quot;1&quot;/&gt;

                                &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;EMAIL&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;EMAIL&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;FIRST_NAME&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;FIRST_NAME&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LAST_NAME&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;LAST_NAME&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LOCALE&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;LOCALE&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;ORGANIZATION_UUID&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;ORG_UUID&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                  &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                                  &lt;/L7p:entry&gt;
                                &lt;/L7p:NamingMap&gt;

                                &lt;L7p:SqlQuery stringValue=&quot;select UUID,LAST_NAME,FIRST_NAME,EMAIL,LOCALE,ORGANIZATION_UUID from USER where UUID = &#36;{userUUID}&quot;/&gt;

                                &lt;L7p:VariablePrefix stringValue=&quot;userQuery&quot;/&gt;
                              &lt;/L7p:JdbcQuery&gt;
                            &lt;/wsp:All&gt;
                            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                              &lt;L7p:AuditDetailAssertion&gt;

                                &lt;L7p:Detail stringValue=&quot;user &#36;{userUuid} not found&quot;/&gt;
                              &lt;/L7p:AuditDetailAssertion&gt;
                              &lt;L7p:FalseAssertion&gt;

                                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                      &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                      &lt;L7p:value stringValue=&quot;//short circuit branch&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                  &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;
                              &lt;/L7p:FalseAssertion&gt;
                            &lt;/wsp:All&gt;
                          &lt;/wsp:OneOrMore&gt;
                          &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;buildResponse()&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;L7p:AuditDetailAssertion&gt;

                          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                              &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                &lt;L7p:value stringValue=&quot;auth-trace-user-query&quot;/&gt;
                              &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                          &lt;/L7p:AssertionComment&gt;
                          &lt;L7p:Detail stringValue=&quot;auth-trace-user-query,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                          &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                          &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                        &lt;/L7p:AuditDetailAssertion&gt;
                        &lt;L7p:SetVariable&gt;

                          &lt;L7p:Base64Expression stringValue=&quot;PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxMN2dpbXM6c2VydmljZSAgeG1sbnM6TDdnaW1zPSJodHRwOi8vd3d3LmxheWVyN3RlY2guY29tLzIwMTIvMTIvZ2ltcyI+DQo8TDdnaW1zOnVzZXI+DQogICA8TDdnaW1zOnZlcnNpb24+JHtWRVJTSU9OfTwvTDdnaW1zOnZlcnNpb24+DQogICA8TDdnaW1zOmRuPjwhW0NEQVRBWyR7dXNlcm5hbWV9XV0+PC9MN2dpbXM6ZG4+DQogICA8TDdnaW1zOmF0dHI+DQoJPEw3Z2ltczphdHRyLW5hbWU+bG9naW48L0w3Z2ltczphdHRyLW5hbWU+DQoJPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7dXNlcm5hbWV9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+Z2l2ZW5OYW1lPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3VzZXJRdWVyeS5GSVJTVF9OQU1FfV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KICAgPEw3Z2ltczphdHRyPg0KCSAgIDxMN2dpbXM6YXR0ci1uYW1lPnNuPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3VzZXJRdWVyeS5MQVNUX05BTUV9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+bWFpbDwvTDdnaW1zOmF0dHItbmFtZT4NCgkgICA8TDdnaW1zOmF0dHItdmFsdWU+PCFbQ0RBVEFbJHt1c2VyUXVlcnkuRU1BSUx9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgIDwvTDdnaW1zOmF0dHI+DQogICA8TDdnaW1zOmF0dHI+DQoJICAgPEw3Z2ltczphdHRyLW5hbWU+bGFuZ3VhZ2U8L0w3Z2ltczphdHRyLW5hbWU+DQoJICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7dXNlclF1ZXJ5LkxPQ0FMRX1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgPC9MN2dpbXM6YXR0cj4NCiAgIDxMN2dpbXM6YXR0cj4NCgkgICA8TDdnaW1zOmF0dHItbmFtZT5hdmF0YXI8L0w3Z2ltczphdHRyLW5hbWU+DQoJICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7YXZhdGFyfV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KICAgPEw3Z2ltczphdHRyPg0KCSAgIDxMN2dpbXM6YXR0ci1uYW1lPnRva2VuPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3Rva2VufV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPg0KICAgJHttZW1iZXJPZn0NCiAgIDxMN2dpbXM6YXR0cj4NCgkgICA8TDdnaW1zOmF0dHItbmFtZT51dWlkPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3VzZXJVVUlEfV1dPjwvTDdnaW1zOmF0dHItdmFsdWU+DQogICA8L0w3Z2ltczphdHRyPiAgDQogIDxMN2dpbXM6YXR0cj4NCgkgICA8TDdnaW1zOmF0dHItbmFtZT5vcmdhbml6YXRpb25VdWlkPC9MN2dpbXM6YXR0ci1uYW1lPg0KCSAgIDxMN2dpbXM6YXR0ci12YWx1ZT48IVtDREFUQVske3VzZXJRdWVyeS5PUkdfVVVJRH1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgPC9MN2dpbXM6YXR0cj4NCjwvTDdnaW1zOnVzZXI+DQo8L0w3Z2ltczpzZXJ2aWNlPg==&quot;/&gt;
                          &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:assertionComment&gt;
                          &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                              &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                              &lt;L7p:value stringValue=&quot;//query user&quot;/&gt;
                            &lt;/L7p:entry&gt;
                          &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                      &lt;/wsp:All&gt;
                    &lt;/wsp:All&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                      &lt;L7p:Detail stringValue=&quot;&#36;{token} is valid&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                  &lt;/wsp:All&gt;
                  &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;L7p:SetVariable&gt;
                      &lt;L7p:Base64Expression stringValue=&quot;NDAx&quot;/&gt;
                      &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:SetVariable&gt;
                      &lt;L7p:Base64Expression stringValue=&quot;JHtlbnRpdHlfdHlwZX0gaXMgaW52YWxpZA==&quot;/&gt;
                      &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                          &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;auth-trace-token-delete&quot;/&gt;
                          &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                      &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;auth-trace-token-delete,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                      &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                      &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                    &lt;L7p:assertionComment&gt;
                      &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                          &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                          &lt;L7p:value stringValue=&quot;404&quot;/&gt;
                        &lt;/L7p:entry&gt;
                      &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                  &lt;/wsp:All&gt;
                &lt;/wsp:OneOrMore&gt;
              &lt;/wsp:All&gt;
            &lt;/wsp:OneOrMore&gt;
            &lt;L7p:assertionComment&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;validatePasswordResetToken()&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
          &lt;/wsp:All&gt;
            &lt;wsp:All L7p:Enabled=&quot;false&quot; wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;//skip if there&apos;s already an error&quot;/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:AssertionComment&gt;
                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                        &lt;L7p:item dataType=&quot;included&quot;&gt;
                            &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary=&quot;included&quot;&gt;
                            &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                    &lt;L7p:Expression2 stringValue=&quot;POST&quot;/&gt;
                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                        &lt;L7p:item binary=&quot;included&quot;&gt;
                            &lt;L7p:RightValue stringValue=&quot;POST&quot;/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
                    &lt;L7p:Expression2 stringValue=&quot;generateSsoToken&quot;/&gt;
                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                        &lt;L7p:item binary=&quot;included&quot;&gt;
                            &lt;L7p:RightValue stringValue=&quot;generateSsoToken&quot;/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:CommentAssertion&gt;
                    &lt;L7p:Comment stringValue=&quot;========================================&quot;/&gt;
                &lt;/L7p:CommentAssertion&gt;
                &lt;L7p:CommentAssertion&gt;
                    &lt;L7p:Comment stringValue=&quot;Get input parameters.&quot;/&gt;
                &lt;/L7p:CommentAssertion&gt;
                &lt;L7p:CommentAssertion&gt;
                    &lt;L7p:Comment stringValue=&quot;========================================&quot;/&gt;
                &lt;/L7p:CommentAssertion&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVycy5lbWFpbH0=&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;user&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVycy5wcm9qZWN0SWR9&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;projectId&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVycy5vYmplY3RJZH0=&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;objectId&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:CommentAssertion&gt;
                    &lt;L7p:Comment stringValue=&quot;========================================&quot;/&gt;
                &lt;/L7p:CommentAssertion&gt;
                &lt;L7p:CommentAssertion&gt;
                    &lt;L7p:Comment stringValue=&quot;Define constants.&quot;/&gt;
                &lt;/L7p:CommentAssertion&gt;
                &lt;L7p:CommentAssertion&gt;
                    &lt;L7p:Comment stringValue=&quot;========================================&quot;/&gt;
                &lt;/L7p:CommentAssertion&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;MS4w&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;version&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;Y2FfYXBpbQ==&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;issuer&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;aHR0cHM6Ly9zZWN1cmUuZ29vZGRhdGEuY29tL2dkYy9hY2NvdW50L3NhbWxsb2dpbg==&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;recipient&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;aHR0cHM6Ly9zZWN1cmUuZ29vZGRhdGEuY29tL2dkYy9hY2NvdW50L3NhbWxsb2dpbg==&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;destination&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;aHR0cHM6Ly9zZWN1cmUuZ29vZGRhdGEuY29tL2dkYy9hY2NvdW50L3NhbWxsb2dpbg==&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;postBackUrl&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;R29vZERhdGE=&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;audienceRestriction&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;inResponseTo&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;aHR0cHM6Ly9zZWN1cmUuZ29vZGRhdGEuY29tL2Rhc2hib2FyZC5odG1sI3Byb2plY3Q9L2dkYy9wcm9qZWN0cy8ke3Byb2plY3RJZH0mZGFzaGJvYXJkPS9nZGMvbWQvJHtwcm9qZWN0SWR9L29iai8ke29iamVjdElkfQ==&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;relayState&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:CommentAssertion&gt;
                    &lt;L7p:Comment stringValue=&quot;========================================&quot;/&gt;
                &lt;/L7p:CommentAssertion&gt;
                &lt;L7p:CommentAssertion&gt;
                    &lt;L7p:Comment stringValue=&quot;Create SAML Response&quot;/&gt;
                &lt;/L7p:CommentAssertion&gt;
                &lt;L7p:CommentAssertion&gt;
                    &lt;L7p:Comment stringValue=&quot;========================================&quot;/&gt;
                &lt;/L7p:CommentAssertion&gt;
                &lt;L7p:SamlIssuer&gt;
                    &lt;L7p:AudienceRestriction stringValue=&quot;&#36;{audienceRestriction}&quot;/&gt;
                    &lt;L7p:AuthenticationStatement samlAuthenticationInfo=&quot;included&quot;&gt;
                        &lt;L7p:AuthenticationMethods stringArrayValue=&quot;included&quot;/&gt;
                    &lt;/L7p:AuthenticationStatement&gt;
                    &lt;L7p:ConditionsNotBeforeSecondsInPast intValue=&quot;300&quot;/&gt;
                    &lt;L7p:ConditionsNotOnOrAfterExpirySeconds intValue=&quot;300&quot;/&gt;
                    &lt;L7p:CustomIssuerFormat stringValue=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity&quot;/&gt;
                    &lt;L7p:CustomIssuerValue stringValue=&quot;&#36;{issuer}&quot;/&gt;
                    &lt;L7p:KeyAlias stringValue=&quot;ca-apim-gd-sso&quot;/&gt;
                    &lt;L7p:NameIdentifierFormat stringValue=&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&quot;/&gt;
                    &lt;L7p:NameIdentifierType nameIdentifierType=&quot;SPECIFIED&quot;/&gt;
                    &lt;L7p:NameIdentifierValue stringValue=&quot;&#36;{user}&quot;/&gt;
                    &lt;L7p:NameQualifier stringValue=&quot;&quot;/&gt;
                    &lt;L7p:NonDefaultKeystoreId goidValue=&quot;00000000000000000000000000000002&quot;/&gt;
                    &lt;L7p:SubjectConfirmationDataInResponseTo stringValue=&quot;&#36;{inResponseTo}&quot;/&gt;

                    &lt;L7p:SubjectConfirmationDataNotOnOrAfterExpirySeconds intValue=&quot;300&quot;/&gt;
                    &lt;L7p:SubjectConfirmationDataRecipient stringValue=&quot;&#36;{recipient}&quot;/&gt;
                    &lt;L7p:SubjectConfirmationMethodUri stringValue=&quot;urn:oasis:names:tc:SAML:1.0:cm:bearer&quot;/&gt;
                    &lt;L7p:UsesDefaultKeyStore booleanValue=&quot;false&quot;/&gt;
                    &lt;L7p:Version boxedIntegerValue=&quot;2&quot;/&gt;
                &lt;/L7p:SamlIssuer&gt;
                &lt;L7p:SamlpResponseBuilder&gt;
                    &lt;L7p:AddIssuer booleanValue=&quot;true&quot;/&gt;
                    &lt;L7p:CustomIssuerFormat stringValue=&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity&quot;/&gt;
                    &lt;L7p:CustomIssuerValue stringValue=&quot;&#36;{issuer}&quot;/&gt;
                    &lt;L7p:Destination stringValue=&quot;&#36;{destination}&quot;/&gt;
                    &lt;L7p:InResponseTo stringValue=&quot;&#36;{inResponseTo}&quot;/&gt;
                    &lt;L7p:KeyAlias stringValue=&quot;ca-apim-gd-sso&quot;/&gt;
                    &lt;L7p:NonDefaultKeystoreId goidValue=&quot;00000000000000000000000000000002&quot;/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;samlResponse&quot;/&gt;
                    &lt;L7p:ResponseAssertions stringValue=&quot;&#36;{issuedSamlAssertion}&quot;/&gt;
                    &lt;L7p:SignResponse booleanValue=&quot;true&quot;/&gt;
                    &lt;L7p:StatusDetail stringValue=&quot;&quot;/&gt;
                    &lt;L7p:StatusMessage stringValue=&quot;&quot;/&gt;
                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                    &lt;L7p:UsesDefaultKeyStore booleanValue=&quot;false&quot;/&gt;
                    &lt;L7p:ValidateWebSsoRules booleanValue=&quot;false&quot;/&gt;
                &lt;/L7p:SamlpResponseBuilder&gt;
                &lt;L7p:EncodeDecode&gt;
                    &lt;L7p:SourceVariableName stringValue=&quot;samlResponse&quot;/&gt;
                    &lt;L7p:TargetDataType variableDataType=&quot;string&quot;/&gt;
                    &lt;L7p:TargetVariableName stringValue=&quot;samlResponseEncoded&quot;/&gt;
                    &lt;L7p:TransformType transformType=&quot;BASE64_ENCODE&quot;/&gt;
                &lt;/L7p:EncodeDecode&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;dGV4dC94bWw7IGNoYXJzZXQ9VVRGLTg=&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;content_type&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxMN2dpbXM6c2VydmljZSAgeG1sbnM6TDdnaW1zPSJodHRwOi8vd3d3LmxheWVyN3RlY2guY29tLzIwMTIvMTIvZ2ltcyI+DQogICAgPEw3Z2ltczpzc29EYXRhPg0KICAgICAgICA8TDdnaW1zOnZlcnNpb24+JHt2ZXJzaW9ufTwvTDdnaW1zOnZlcnNpb24+DQogICAgICAgIDxMN2dpbXM6YXR0cj4NCiAgICAgICAgICAgIDxMN2dpbXM6YXR0ci1uYW1lPlBvc3RCYWNrVXJsPC9MN2dpbXM6YXR0ci1uYW1lPg0KICAgICAgICAgICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7cG9zdEJhY2tVcmx9XV0+PC9MN2dpbXM6YXR0ci12YWx1ZT4NCiAgICAgICAgPC9MN2dpbXM6YXR0cj4NCiAgICAgICAgPEw3Z2ltczphdHRyPg0KICAgICAgICAgICAgPEw3Z2ltczphdHRyLW5hbWU+U0FNTFJlc3BvbnNlPC9MN2dpbXM6YXR0ci1uYW1lPg0KICAgICAgICAgICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7c2FtbFJlc3BvbnNlRW5jb2RlZH1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgICAgICA8L0w3Z2ltczphdHRyPg0KICAgICAgICA8TDdnaW1zOmF0dHI+DQogICAgICAgICAgICA8TDdnaW1zOmF0dHItbmFtZT5SZWxheVN0YXRlPC9MN2dpbXM6YXR0ci1uYW1lPg0KICAgICAgICAgICAgPEw3Z2ltczphdHRyLXZhbHVlPjwhW0NEQVRBWyR7cmVsYXlTdGF0ZX1dXT48L0w3Z2ltczphdHRyLXZhbHVlPg0KICAgICAgICA8L0w3Z2ltczphdHRyPg0KICAgIDwvTDdnaW1zOnNzb0RhdGE+DQo8L0w3Z2ltczpzZXJ2aWNlPg==&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;generateSsoToken()&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;handles generateSsoToken requests&quot;/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:AssertionComment&gt;
              &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
              &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item dataType=&quot;included&quot;&gt;
                  &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                &lt;/L7p:item&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;authenticate&quot;/&gt;
              &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                  &lt;L7p:RightValue stringValue=&quot;authenticate&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
              &lt;L7p:Expression2 stringValue=&quot;GET&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;GET&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;dGV4dC9odG1sOyBjaGFyc2V0PVVURi04&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;content_type&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:ComparisonAssertion&gt;
                  &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
                  &lt;L7p:Expression2 stringValue=&quot;authenticate&quot;/&gt;
                  &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                    &lt;L7p:item binary=&quot;included&quot;&gt;
                      &lt;L7p:RightValue stringValue=&quot;authenticate&quot;/&gt;
                    &lt;/L7p:item&gt;
                  &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;PGh0bWw+DQo8Zm9ybSBtZXRob2Q9IlBPU1QiPg0KPHA+PGI+VXNlcm5hbWU6PC9iPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJ1c2VybmFtZSI+PC9wPg0KPHA+PGI+UGFzc3dvcmQ6PC9iPjxpbnB1dCB0eXBlPSJwYXNzd29yZCIgbmFtZT0icGFzc3dvcmQiPjwvcD4NCjxwPlByb3ZpZGVyOjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJwcm92aWRlciIvPjwvcD4NCjxpbnB1dCB0eXBlPSJzdWJtaXQiIG5hbWU9InN1Ym1pdCIgdmFsdWU9IlN1Ym1pdCIvPg0KPC9mb3JtPg0KPC9odG1sPg==&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:assertionComment&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;//authenticate form&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
              &lt;/wsp:All&gt;
              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:ComparisonAssertion&gt;
                  &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
                  &lt;L7p:Expression2 stringValue=&quot;validatePassword&quot;/&gt;
                  &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                    &lt;L7p:item binary=&quot;included&quot;&gt;
                      &lt;L7p:RightValue stringValue=&quot;validatePassword&quot;/&gt;
                    &lt;/L7p:item&gt;
                  &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;PGh0bWw+DQo8Zm9ybSBtZXRob2Q9IlBPU1QiPg0KPHA+PGI+VXNlcm5hbWU6PC9iPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJ1c2VybmFtZSI+PC9wPg0KPHA+PGI+T2xkIFBhc3N3b3JkOjwvYj48aW5wdXQgdHlwZT0icGFzc3dvcmQiIG5hbWU9Im9sZFBhc3N3b3JkIj48L3A+DQo8cD48Yj5OZXcgUGFzc3dvcmQ6PC9iPjxpbnB1dCB0eXBlPSJwYXNzd29yZCIgbmFtZT0ibmV3UGFzc3dvcmQiPjwvcD4NCjxpbnB1dCB0eXBlPSJzdWJtaXQiIG5hbWU9InN1Ym1pdCIgdmFsdWU9IlN1Ym1pdCIvPg0KPC9mb3JtPg0KPC9odG1sPg==&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:assertionComment&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;//validatePassword form&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
              &lt;/wsp:All&gt;
              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:ComparisonAssertion&gt;
                  &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
                  &lt;L7p:Expression2 stringValue=&quot;encryptPassword&quot;/&gt;
                  &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                    &lt;L7p:item binary=&quot;included&quot;&gt;
                      &lt;L7p:RightValue stringValue=&quot;encryptPassword&quot;/&gt;
                    &lt;/L7p:item&gt;
                  &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;PGh0bWw+DQo8Zm9ybSBtZXRob2Q9IlBPU1QiPg0KPHA+PGI+UGFzc3dvcmQgdG8gZW5jcnlwdDo8L2I+PGlucHV0IHR5cGU9InBhc3N3b3JkIiBuYW1lPSJwYXNzd29yZCI+PC9wPg0KPGlucHV0IHR5cGU9InN1Ym1pdCIgbmFtZT0ic3VibWl0IiB2YWx1ZT0iU3VibWl0Ii8+DQo8L2Zvcm0+DQo8L2h0bWw+&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:assertionComment&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;//encryptPassword form&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
              &lt;/wsp:All&gt;
              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:ComparisonAssertion&gt;
                  &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
                  &lt;L7p:Expression2 stringValue=&quot;generatePassword&quot;/&gt;
                  &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                    &lt;L7p:item binary=&quot;included&quot;&gt;
                      &lt;L7p:RightValue stringValue=&quot;generatePassword&quot;/&gt;
                    &lt;/L7p:item&gt;
                  &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;PGh0bWw+DQo8Zm9ybSBtZXRob2Q9IlBPU1QiPg0KQ2xpY2sgc3VibWl0IHRvIGdlbmVyYXRlIHBhc3N3b3JkDQo8aW5wdXQgdHlwZT0ic3VibWl0IiBuYW1lPSJzdWJtaXQiIHZhbHVlPSJTdWJtaXQiLz4NCjwvZm9ybT4NCjwvaHRtbD4=&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:assertionComment&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;//generatePassword form&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
              &lt;/wsp:All&gt;
              &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:ComparisonAssertion&gt;
                  &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
                  &lt;L7p:Expression2 stringValue=&quot;generateRegistrationToken&quot;/&gt;
                  &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                    &lt;L7p:item binary=&quot;included&quot;&gt;
                      &lt;L7p:RightValue stringValue=&quot;generateRegistrationToken&quot;/&gt;
                    &lt;/L7p:item&gt;
                  &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:SetVariable&gt;
                  &lt;L7p:Base64Expression stringValue=&quot;PGh0bWw+DQo8Zm9ybSBtZXRob2Q9IlBPU1QiPg0KQ2xpY2sgc3VibWl0IHRvIGdlbmVyYXRlIHJlZ2lzdHJhdGlvbiB0b2tlbg0KPGlucHV0IHR5cGU9InN1Ym1pdCIgbmFtZT0ic3VibWl0IiB2YWx1ZT0iU3VibWl0Ii8+DQo8L2Zvcm0+DQo8L2h0bWw+&quot;/&gt;
                  &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:assertionComment&gt;
                  &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                      &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                      &lt;L7p:value stringValue=&quot;//generateRegistrationToken form&quot;/&gt;
                    &lt;/L7p:entry&gt;
                  &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
              &lt;/wsp:All&gt;
            &lt;/wsp:OneOrMore&gt;
            &lt;L7p:assertionComment&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//This Login Form section is for TESTING ONLY, SHOULD BE DELETED IN A PRODUCTION SYSTEM!!!&quot;/&gt;
                                &lt;/L7p:entry&gt;
                                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;LoginForm()&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
          &lt;/wsp:All&gt;
          &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
            &lt;L7p:ComparisonAssertion&gt;
              &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                  &lt;L7p:entry&gt;
                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                    &lt;L7p:value stringValue=&quot;//skip if there&apos;s alreay an error&quot;/&gt;
                  &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
              &lt;/L7p:AssertionComment&gt;
              &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
              &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
              &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
              &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                &lt;L7p:item dataType=&quot;included&quot;&gt;
                  &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                &lt;/L7p:item&gt;
                &lt;L7p:item binary=&quot;included&quot;&gt;
                  &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                &lt;/L7p:item&gt;
              &lt;/L7p:Predicates&gt;
            &lt;/L7p:ComparisonAssertion&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;VW5zdXBwb3J0ZWQgT3BlcmF0aW9u&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
              &lt;L7p:Base64Expression stringValue=&quot;NTAw&quot;/&gt;
              &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:assertionComment&gt;
              &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//catch condition for Unknown or Unsupported Operation&quot;/&gt;
                                &lt;/L7p:entry&gt;
                                &lt;L7p:entry&gt;
                  &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                  &lt;L7p:value stringValue=&quot;else&quot;/&gt;
                &lt;/L7p:entry&gt;
              &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
          &lt;/wsp:All&gt;
          &lt;L7p:TrueAssertion/&gt;
          &lt;L7p:assertionComment&gt;
            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
              &lt;L7p:entry&gt;
                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                &lt;L7p:value stringValue=&quot;main()&quot;/&gt;
              &lt;/L7p:entry&gt;
            &lt;/L7p:Properties&gt;
          &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
      &lt;/wsp:All&gt;
      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
        &lt;L7p:SetVariable&gt;
          &lt;L7p:Base64Expression stringValue=&quot;NTAz&quot;/&gt;
          &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
          &lt;L7p:Base64Expression stringValue=&quot;U2VydmljZSBVbmF2YWlsYWJsZQ==&quot;/&gt;
          &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
      &lt;/wsp:All&gt;
    &lt;/wsp:OneOrMore&gt;
    &lt;L7p:SetVariable&gt;
      &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
          &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//this makes sure we always have the original request&quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
            &lt;L7p:value stringValue=&quot;Restore original request&quot;/&gt;
          &lt;/L7p:entry&gt;
        &lt;/L7p:Properties&gt;
      &lt;/L7p:AssertionComment&gt;
      &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0T3JpZ2luYWwubWFpbnBhcnR9&quot;/&gt;
      &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
      &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;
      &lt;L7p:VariableToSet stringValue=&quot;request&quot;/&gt;
    &lt;/L7p:SetVariable&gt;
    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
        &lt;L7p:Regex&gt;
          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
              &lt;L7p:entry&gt;
                &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                &lt;L7p:value stringValue=&quot;//make sure to cleanup the password to prevent the plaintext password from being logged&quot;/&gt;
              &lt;/L7p:entry&gt;
            &lt;/L7p:Properties&gt;
          &lt;/L7p:AssertionComment&gt;
          &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
          &lt;L7p:Regex stringValue=&quot;password(.*?)\&amp;amp;&quot;/&gt;
          &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
          &lt;L7p:Replacement stringValue=&quot;password=*******&amp;amp;&quot;/&gt;
        &lt;/L7p:Regex&gt;
        &lt;L7p:Regex&gt;
          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
              &lt;L7p:entry&gt;
                &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                &lt;L7p:value stringValue=&quot;//make sure to cleanup the password to prevent the plaintext password from being logged&quot;/&gt;
              &lt;/L7p:entry&gt;
            &lt;/L7p:Properties&gt;
          &lt;/L7p:AssertionComment&gt;
          &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
          &lt;L7p:Regex stringValue=&quot;oldPassword(.*?)\&amp;amp;&quot;/&gt;
          &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
          &lt;L7p:Replacement stringValue=&quot;oldPassword=*******&amp;amp;&quot;/&gt;
        &lt;/L7p:Regex&gt;
        &lt;L7p:Regex&gt;
          &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
              &lt;L7p:entry&gt;
                &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                &lt;L7p:value stringValue=&quot;//make sure to cleanup the password to prevent the plaintext password from being logged&quot;/&gt;
              &lt;/L7p:entry&gt;
            &lt;/L7p:Properties&gt;
          &lt;/L7p:AssertionComment&gt;
          &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
          &lt;L7p:Regex stringValue=&quot;newPassword(.*?)\&amp;amp;&quot;/&gt;
          &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
          &lt;L7p:Replacement stringValue=&quot;newPassword=*******&amp;amp;&quot;/&gt;
        &lt;/L7p:Regex&gt;
      &lt;/wsp:All&gt;
      &lt;L7p:TrueAssertion/&gt;
    &lt;/wsp:OneOrMore&gt;
    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
      &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
        &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
          &lt;L7p:ComparisonAssertion&gt;
            &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
            &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
            &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
            &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
              &lt;L7p:item dataType=&quot;included&quot;&gt;
                &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
              &lt;/L7p:item&gt;
              &lt;L7p:item binary=&quot;included&quot;&gt;
                &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
              &lt;/L7p:item&gt;
            &lt;/L7p:Predicates&gt;
          &lt;/L7p:ComparisonAssertion&gt;
          &lt;L7p:ComparisonAssertion&gt;
            &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
            &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
            &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
            &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
              &lt;L7p:item dataType=&quot;included&quot;&gt;
                &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
              &lt;/L7p:item&gt;
              &lt;L7p:item binary=&quot;included&quot;&gt;
                &lt;L7p:RightValue stringValue=&quot;200&quot;/&gt;
              &lt;/L7p:item&gt;
            &lt;/L7p:Predicates&gt;
          &lt;/L7p:ComparisonAssertion&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;L7p:HardcodedResponse&gt;
          &lt;L7p:Base64ResponseBody stringValue=&quot;JHtvdXRwdXR9&quot;/&gt;
          &lt;L7p:ResponseContentType stringValue=&quot;&#36;{content_type}&quot;/&gt;
        &lt;/L7p:HardcodedResponse&gt;
        &lt;L7p:AuditDetailAssertion&gt;
                    &lt;L7p:Detail stringValue=&quot;transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},username:&#36;{request.http.parameter.username},statusCode:&#36;{errorCode},domain:&#36;{domain}&quot;/&gt;
                &lt;/L7p:AuditDetailAssertion&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;// Return response&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;if (success path)&quot;/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:AuditDetailAssertion&gt;
                    &lt;L7p:Detail stringValue=&quot;transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},username:&#36;{request.http.parameter.username},statusCode:&#36;{errorCode},domain:&#36;{domain}&quot;/&gt;
                &lt;/L7p:AuditDetailAssertion&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValue=&quot;&amp;lt;L7gims:service xmlns:L7gims=&amp;quot;http://www.layer7tech.com/2012/12/L7gims&amp;quot;&gt;&amp;lt;L7gims:Method&gt;&#36;{operation}&amp;lt;/L7gims:Method&gt;&amp;lt;L7gims:Resource&gt;&#36;{request.http.uri}&amp;lt;/L7gims:Resource&gt;&amp;lt;L7gims:ResourceId&gt;&#36;{entity_id}&amp;lt;/L7gims:ResourceId&gt;&amp;lt;L7gims:Timestamp&gt;&#36;{gateway.time}&amp;lt;/L7gims:Timestamp&gt;&amp;lt;L7gims:Status&gt;&#36;{errorCode}&amp;lt;/L7gims:Status&gt;&amp;lt;L7gims:Detail&gt;&#36;{errorMsg}&amp;lt;/L7gims:Detail&gt;&amp;lt;/L7gims:service&gt;&quot;/&gt;
                    &lt;L7p:ContentType stringValue=&quot;text/xml; charset=UTF-8&quot;/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray=&quot;included&quot;/&gt;
                    &lt;L7p:HttpStatus stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:FalseAssertion/&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;// Return error, falsify policy&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;Else (error)&quot;/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;L7p:AuditDetailAssertion&gt;
            &lt;L7p:Detail stringValue=&quot;auth-trace-end,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
            &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
            &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
        &lt;/L7p:AuditDetailAssertion&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
         </Resource>
         <!-- copy paste wsman get service response here [end]-->
       </ResourceSet>
   </Resources>
</Service>
   </env:Body>
</env:Envelope>

</xsl:template>
</xsl:stylesheet>]]></L7p:Document>
                      </L7p:ResourceInfo>
                      <L7p:TransformName stringValue=""/>
                      <L7p:XsltVersion stringValue="1.0"/>
                    </L7p:XslTransformation>
                    <L7p:GatewayManagement>
                      <L7p:VariablePrefix stringValue="wsman"/>
                    </L7p:GatewayManagement>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="YXBwbGljYXRpb24veG1sO2NoYXJzZXQ9dXRmLTg="/>
                      <L7p:VariableToSet stringValue="content_type"/>
                    </L7p:SetVariable>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="JHtyZXF1ZXN0T3JpZ2luYWwubWFpbnBhcnR9"/>
                      <L7p:VariableToSet stringValue="output"/>
                    </L7p:SetVariable>
                  </wsp:All>
                  <wsp:All wsp:Usage="Required">
                    <L7p:ComparisonAssertion>
                      <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                          <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="//skip if there's alreay an error"/>
                          </L7p:entry>
                        </L7p:Properties>
                      </L7p:AssertionComment>
                      <L7p:CaseSensitive booleanValue="false"/>
                      <L7p:Expression1 stringValue="${errorCode}"/>
                      <L7p:Operator operatorNull="null"/>
                      <L7p:Predicates predicates="included">
                        <L7p:item dataType="included">
                          <L7p:Type variableDataType="string"/>
                        </L7p:item>
                        <L7p:item binary="included">
                          <L7p:RightValue stringValue="0"/>
                        </L7p:item>
                      </L7p:Predicates>
                    </L7p:ComparisonAssertion>
                    <L7p:AuditDetailAssertion>
                      <L7p:Detail stringValue="${wsman.message}"/>
                    </L7p:AuditDetailAssertion>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="VGhlcmUgd2FzIGEgcHJvYmxlbSBjcmVhdGluZyBzZXJ2aWNl"/>
                      <L7p:VariableToSet stringValue="errorMsg"/>
                    </L7p:SetVariable>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="NTAw"/>
                      <L7p:VariableToSet stringValue="errorCode"/>
                    </L7p:SetVariable>
                  </wsp:All>
                </wsp:OneOrMore>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="LEFT.COMMENT"/>
                      <L7p:value stringValue="POST"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:AssertionComment assertionComment="included">
                    <L7p:Properties mapValue="included">
                      <L7p:entry>
                        <L7p:key stringValue="RIGHT.COMMENT"/>
                        <L7p:value stringValue="//skip if there's alreay an error"/>
                      </L7p:entry>
                    </L7p:Properties>
                  </L7p:AssertionComment>
                  <L7p:CaseSensitive booleanValue="false"/>
                  <L7p:Expression1 stringValue="${errorCode}"/>
                  <L7p:Operator operatorNull="null"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item dataType="included">
                      <L7p:Type variableDataType="string"/>
                    </L7p:item>
                    <L7p:item binary="included">
                      <L7p:RightValue stringValue="0"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="TWV0aG9kTm90U3VwcG9ydGVk"/>
                  <L7p:VariableToSet stringValue="errorMsg"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="NTAw"/>
                  <L7p:VariableToSet stringValue="errorCode"/>
                </L7p:SetVariable>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="LEFT.COMMENT"/>
                      <L7p:value stringValue="else"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
            </wsp:OneOrMore>
            <L7p:assertionComment>
              <L7p:Properties mapValue="included">
                <L7p:entry>
                  <L7p:key stringValue="LEFT.COMMENT"/>
                  <L7p:value stringValue="PortalAuth()"/>
                </L7p:entry>
              </L7p:Properties>
            </L7p:assertionComment>
          </wsp:All>
          <wsp:All wsp:Usage="Required">
            <L7p:ComparisonAssertion>
              <L7p:AssertionComment assertionComment="included">
                <L7p:Properties mapValue="included">
                  <L7p:entry>
                    <L7p:key stringValue="RIGHT.COMMENT"/>
                    <L7p:value stringValue="//skip if there's alreay an error"/>
                  </L7p:entry>
                </L7p:Properties>
              </L7p:AssertionComment>
              <L7p:CaseSensitive booleanValue="false"/>
              <L7p:Expression1 stringValue="${errorCode}"/>
              <L7p:Operator operatorNull="null"/>
              <L7p:Predicates predicates="included">
                <L7p:item dataType="included">
                  <L7p:Type variableDataType="string"/>
                </L7p:item>
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="0"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:ComparisonAssertion>
              <L7p:Expression1 stringValue="${mode}"/>
              <L7p:Expression2 stringValue="PortalMgmts"/>
              <L7p:Predicates predicates="included">
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="PortalMgmts"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <wsp:OneOrMore wsp:Usage="Required">
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:Expression1 stringValue="${operation}"/>
                  <L7p:Expression2 stringValue="POST"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item binary="included">
                      <L7p:RightValue stringValue="POST"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <wsp:OneOrMore wsp:Usage="Required">
                  <wsp:All wsp:Usage="Required">
                    <wsp:OneOrMore wsp:Usage="Required">
                      <wsp:All wsp:Usage="Required">
                        <L7p:RequestXpathAssertion>
                          <L7p:VariablePrefix stringValue=""/>
                          <L7p:XpathExpression xpathExpressionValue="included">
                            <L7p:Expression stringValue="/ns:entry/ns:content/m:properties"/>
                            <L7p:Namespaces mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="ns"/>

                                <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                              </L7p:entry>
                              <L7p:entry>
                                <L7p:key stringValue="d"/>

                                <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                              </L7p:entry>
                              <L7p:entry>
                                <L7p:key stringValue="s"/>

                                <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                              </L7p:entry>
                              <L7p:entry>
                                <L7p:key stringValue="m"/>

                                <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                              </L7p:entry>
                            </L7p:Namespaces>

                            <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                          </L7p:XpathExpression>
                        </L7p:RequestXpathAssertion>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:TenantId/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.TenantId"/>
                            </L7p:SetVariable>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtwYXJhbS5UZW5hbnRJZH0vcG9ydGFsRGF0YS8="/>

                              <L7p:VariableToSet stringValue="urlPattern"/>
                            </L7p:SetVariable>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLm92ZXJ3cml0ZX0="/>

                              <L7p:VariableToSet stringValue="overwriteService"/>
                            </L7p:SetVariable>
                            <wsp:All wsp:Usage="Required">
                              <L7p:ComparisonAssertion>

                                <L7p:AssertionComment assertionComment="included">

                                  <L7p:Properties mapValue="included">
                                    <L7p:entry>

                                      <L7p:key stringValue="RIGHT.COMMENT"/>

                                      <L7p:value stringValue="//skip if there is already an error"/>
                                    </L7p:entry>
                                  </L7p:Properties>
                                </L7p:AssertionComment>

                                <L7p:CaseSensitive booleanValue="false"/>

                                <L7p:Expression1 stringValue="${errorCode}"/>

                                <L7p:Operator operatorNull="null"/>

                                <L7p:Predicates predicates="included">

                                  <L7p:item dataType="included">

                                    <L7p:Type variableDataType="string"/>
                                  </L7p:item>

                                  <L7p:item binary="included">

                                    <L7p:RightValue stringValue="0"/>
                                  </L7p:item>
                                </L7p:Predicates>
                              </L7p:ComparisonAssertion>
                              <L7p:SetVariable>

                                <L7p:Base64Expression stringValue="PGVudjpFbnZlbG9wZSB4bWxuczplbnY9Imh0dHA6Ly93d3cudzMub3JnLzIwMDMvMDUvc29hcC1lbnZlbG9wZSINCnhtbG5zOmw3PSJodHRwOi8vbnMubDd0ZWNoLmNvbS8yMDEwLzA0L2dhdGV3YXktbWFuYWdlbWVudCINCiAgICB4bWxuczp3c2E9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvYWRkcmVzc2luZyINCiAgICB4bWxuczp3c2U9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvZXZlbnRpbmciDQogICAgeG1sbnM6d3Nlbj0iaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNC8wOS9lbnVtZXJhdGlvbiINCiAgICB4bWxuczp3c21hbj0iaHR0cDovL3NjaGVtYXMuZG10Zi5vcmcvd2JlbS93c21hbi8xL3dzbWFuLnhzZCINCiAgICB4bWxuczp3eGY9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDkvdHJhbnNmZXIiIHhtbG5zOnhzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSI+DQogICAgPGVudjpIZWFkZXI+DQogICAgICAgIDx3c2E6QWN0aW9uIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+aHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNC8wOS9lbnVtZXJhdGlvbi9FbnVtZXJhdGU8L3dzYTpBY3Rpb24+DQogICAgICAgIDx3c2E6UmVwbHlUbz4NCiAgICAgICAgICAgIDx3c2E6QWRkcmVzcyBlbnY6bXVzdFVuZGVyc3RhbmQ9InRydWUiPmh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvYWRkcmVzc2luZy9yb2xlL2Fub255bW91czwvd3NhOkFkZHJlc3M+DQogICAgICAgIDwvd3NhOlJlcGx5VG8+DQogICAgICAgIDx3c2E6TWVzc2FnZUlEIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+JHtyZXF1ZXN0SWR9PC93c2E6TWVzc2FnZUlEPg0KICAgICAgICA8d3NhOlRvIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+aHR0cHM6Ly8ke2dhdGV3YXkuY2x1c3Rlci5ob3N0bmFtZX06ODQ0My93c21hbjwvd3NhOlRvPg0KICAgICAgICA8d3NtYW46UmVzb3VyY2VVUkk+aHR0cDovL25zLmw3dGVjaC5jb20vMjAxMC8wNC9nYXRld2F5LW1hbmFnZW1lbnQvc2VydmljZXM8L3dzbWFuOlJlc291cmNlVVJJPg0KICAgICAgICA8d3NtYW46UmVxdWVzdFRvdGFsSXRlbXNDb3VudEVzdGltYXRlLz4NCiAgICA8L2VudjpIZWFkZXI+DQogICAgPGVudjpCb2R5Pg0KICAgICAgICA8d3NlbjpFbnVtZXJhdGU+DQogICAgICAgICAgICA8d3NtYW46T3B0aW1pemVFbnVtZXJhdGlvbi8+DQogICAgICAgICAgICA8d3NtYW46TWF4RWxlbWVudHM+MTwvd3NtYW46TWF4RWxlbWVudHM+DQogICAgICAgICAgICA8d3NtYW46RmlsdGVyPg0KL2w3OlNlcnZpY2VbbDc6U2VydmljZURldGFpbC9sNzpTZXJ2aWNlTWFwcGluZ3MvbDc6SHR0cE1hcHBpbmcvbDc6VXJsUGF0dGVyblt0ZXh0KCk9Jy8ke3VybFBhdHRlcm59Kicgb3IgdGV4dCgpPScke3VybFBhdHRlcm59KiddXQ0KPC93c21hbjpGaWx0ZXI+DQogICAgICAgIDwvd3NlbjpFbnVtZXJhdGU+DQogICAgPC9lbnY6Qm9keT4NCjwvZW52OkVudmVsb3BlPg=="/>

                                <L7p:ContentType stringValue="application/soap+xml;charset=UTF-8;action=&quot;http://schemas.xmlsoap.org/ws/2004/09/enumeration/Enumerate&quot;"/>

                                <L7p:DataType variableDataType="message"/>

                                <L7p:VariableToSet stringValue="request"/>
                              </L7p:SetVariable>
                              <L7p:GatewayManagement/>

                              <wsp:OneOrMore wsp:Usage="Required">
                                <wsp:All wsp:Usage="Required">
                                  <L7p:ResponseXpathAssertion>

                                    <L7p:VariablePrefix stringValue=""/>

                                    <L7p:XpathExpression xpathExpressionValue="included">

                                      <L7p:Expression stringValue="/env:Envelope/env:Body/wsen:EnumerateResponse/wsman:Items/l7:Service/l7:ServiceDetail/l7:ServiceMappings/l7:HttpMapping/l7:UrlPattern"/>

                                      <L7p:Namespaces mapValue="included">
                                        <L7p:entry>

                                          <L7p:key stringValue="wsa"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/addressing"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="mdo"/>

                                          <L7p:value stringValue="http://schemas.wiseman.dev.java.net/metadata/messagetypes"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="s"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="l7"/>

                                          <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="wxf"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/transfer"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="xs"/>

                                          <L7p:value stringValue="http://www.w3.org/2001/XMLSchema"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="env"/>

                                          <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="wsen"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/enumeration"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="wsman"/>

                                          <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="mex"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/mex"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="wse"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/eventing"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="wsmeta"/>

                                          <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman/version1.0.0.a/default-addressing-model.xsd"/>
                                        </L7p:entry>
                                      </L7p:Namespaces>

                                      <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                                    </L7p:XpathExpression>
                                  </L7p:ResponseXpathAssertion>

                                  <wsp:OneOrMore wsp:Usage="Required">

                                    <wsp:All wsp:Usage="Required">
                                      <L7p:ComparisonAssertion>

                                        <L7p:CaseSensitive booleanValue="false"/>

                                        <L7p:Expression1 stringValue="${overwriteService}"/>

                                        <L7p:Operator operatorNull="null"/>

                                        <L7p:Predicates predicates="included">

                                          <L7p:item dataType="included">

                                            <L7p:Type variableDataType="string"/>
                                          </L7p:item>

                                          <L7p:item binary="included">

                                            <L7p:CaseSensitive booleanValue="false"/>

                                            <L7p:RightValue stringValue="true"/>
                                          </L7p:item>
                                        </L7p:Predicates>
                                      </L7p:ComparisonAssertion>
                                      <L7p:ResponseXpathAssertion>

                                        <L7p:VariablePrefix stringValue="serviceId"/>

                                        <L7p:XpathExpression xpathExpressionValue="included">

                                          <L7p:Expression stringValue="/env:Envelope/env:Body/wsen:EnumerateResponse/wsman:Items/l7:Service/@id"/>

                                          <L7p:Namespaces mapValue="included">
                                            <L7p:entry>

                                              <L7p:key stringValue="wsa"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/addressing"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="mdo"/>

                                              <L7p:value stringValue="http://schemas.wiseman.dev.java.net/metadata/messagetypes"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="s"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="l7"/>

                                              <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="wxf"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/transfer"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="xs"/>

                                              <L7p:value stringValue="http://www.w3.org/2001/XMLSchema"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="env"/>

                                              <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="wsen"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/enumeration"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="wsman"/>

                                              <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="mex"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/mex"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="wse"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/eventing"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="wsmeta"/>

                                              <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman/version1.0.0.a/default-addressing-model.xsd"/>
                                            </L7p:entry>
                                          </L7p:Namespaces>

                                          <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                                        </L7p:XpathExpression>
                                      </L7p:ResponseXpathAssertion>
                                      <L7p:SetVariable>

                                        <L7p:Base64Expression stringValue="JHtzZXJ2aWNlSWQuZWxlbWVudH0="/>

                                        <L7p:VariableToSet stringValue="serviceId"/>
                                      </L7p:SetVariable>
                                      <L7p:SetVariable>

                                        <L7p:Base64Expression stringValue="PGVudjpFbnZlbG9wZSB4bWxuczplbnY9Imh0dHA6Ly93d3cudzMub3JnLzIwMDMvMDUvc29hcC1lbnZlbG9wZSINCnhtbG5zOmw3PSJodHRwOi8vbnMubDd0ZWNoLmNvbS8yMDEwLzA0L2dhdGV3YXktbWFuYWdlbWVudCINCiAgICB4bWxuczp3c2E9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvYWRkcmVzc2luZyINCiAgICB4bWxuczp3c2U9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvZXZlbnRpbmciDQogICAgeG1sbnM6d3Nlbj0iaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNC8wOS9lbnVtZXJhdGlvbiINCiAgICB4bWxuczp3c21hbj0iaHR0cDovL3NjaGVtYXMuZG10Zi5vcmcvd2JlbS93c21hbi8xL3dzbWFuLnhzZCINCiAgICB4bWxuczp3eGY9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDkvdHJhbnNmZXIiIHhtbG5zOnhzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSI+DQogICAgPGVudjpIZWFkZXI+DQogICAgICAgIDx3c2E6QWN0aW9uIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+aHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNC8wOS90cmFuc2Zlci9EZWxldGU8L3dzYTpBY3Rpb24+DQogICAgICAgIDx3c2E6UmVwbHlUbz4NCiAgICAgICAgICAgIDx3c2E6QWRkcmVzcyBlbnY6bXVzdFVuZGVyc3RhbmQ9InRydWUiPmh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvYWRkcmVzc2luZy9yb2xlL2Fub255bW91czwvd3NhOkFkZHJlc3M+DQogICAgICAgIDwvd3NhOlJlcGx5VG8+DQogICAgICAgIDx3c2E6TWVzc2FnZUlEIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+JHtyZXF1ZXN0SWR9PC93c2E6TWVzc2FnZUlEPg0KICAgICAgICA8d3NhOlRvIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+aHR0cHM6Ly8ke2dhdGV3YXkuY2x1c3Rlci5ob3N0bmFtZX06ODQ0My93c21hbjwvd3NhOlRvPg0KICAgICAgICA8d3NtYW46UmVzb3VyY2VVUkk+aHR0cDovL25zLmw3dGVjaC5jb20vMjAxMC8wNC9nYXRld2F5LW1hbmFnZW1lbnQvc2VydmljZXM8L3dzbWFuOlJlc291cmNlVVJJPg0KICAgICAgICA8d3NtYW46UmVxdWVzdFRvdGFsSXRlbXNDb3VudEVzdGltYXRlLz4NCiAgICAgICAgPHdzbWFuOlNlbGVjdG9yU2V0Pg0KICAgICAgICAgICAgPHdzbWFuOlNlbGVjdG9yIE5hbWU9ImlkIj4ke3NlcnZpY2VJZH08L3dzbWFuOlNlbGVjdG9yPg0KICAgICAgICA8L3dzbWFuOlNlbGVjdG9yU2V0Pg0KICAgIDwvZW52OkhlYWRlcj4NCiAgICA8ZW52OkJvZHkvPg0KPC9lbnY6RW52ZWxvcGU+"/>

                                        <L7p:ContentType stringValue="application/soap+xml;charset=UTF-8;action=&quot;http://schemas.xmlsoap.org/ws/2004/09/transfer/Delete&quot;"/>

                                        <L7p:DataType variableDataType="message"/>

                                        <L7p:VariableToSet stringValue="request"/>
                                      </L7p:SetVariable>
                                      <L7p:GatewayManagement/>
                                      <L7p:SetVariable>

                                        <L7p:Base64Expression stringValue="JHtyZXNwb25zZS5tYWlucGFydH0="/>

                                        <L7p:ContentType stringValue="text/xml; charset=utf-8"/>

                                        <L7p:DataType variableDataType="message"/>

                                        <L7p:VariableToSet stringValue="RESP_createOp"/>
                                      </L7p:SetVariable>

                                      <wsp:OneOrMore wsp:Usage="Required">

                                        <wsp:All wsp:Usage="Required">
                                          <L7p:ResponseXpathAssertion>

                                            <L7p:VariablePrefix stringValue="serviceId"/>

                                            <L7p:XmlMsgSrc stringValue="RESP_createOp"/>

                                            <L7p:XpathExpression xpathExpressionValue="included">

                                              <L7p:Expression stringValue="/env:Envelope/env:Header/wsa:Action[text()='http://schemas.xmlsoap.org/ws/2004/09/transfer/DeleteResponse']"/>

                                              <L7p:Namespaces mapValue="included">
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsa"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/addressing"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="mdo"/>

                                                  <L7p:value stringValue="http://schemas.wiseman.dev.java.net/metadata/messagetypes"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="s"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="l7"/>

                                                  <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wxf"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/transfer"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="xs"/>

                                                  <L7p:value stringValue="http://www.w3.org/2001/XMLSchema"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="env"/>

                                                  <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsen"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/enumeration"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsman"/>

                                                  <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="mex"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/mex"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wse"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/eventing"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsmeta"/>

                                                  <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman/version1.0.0.a/default-addressing-model.xsd"/>
                                                </L7p:entry>
                                              </L7p:Namespaces>

                                              <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                                            </L7p:XpathExpression>
                                          </L7p:ResponseXpathAssertion>
                                        </wsp:All>

                                        <wsp:All wsp:Usage="Required">
                                          <L7p:ResponseXpathAssertion>

                                            <L7p:VariablePrefix stringValue="fault"/>

                                            <L7p:XmlMsgSrc stringValue="RESP_createOp"/>

                                            <L7p:XpathExpression xpathExpressionValue="included">

                                              <L7p:Expression stringValue="/env:Envelope/env:Body/env:Fault"/>

                                              <L7p:Namespaces mapValue="included">
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsa"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/addressing"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="mdo"/>

                                                  <L7p:value stringValue="http://schemas.wiseman.dev.java.net/metadata/messagetypes"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="s"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="l7"/>

                                                  <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wxf"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/transfer"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="xs"/>

                                                  <L7p:value stringValue="http://www.w3.org/2001/XMLSchema"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="env"/>

                                                  <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsen"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/enumeration"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsman"/>

                                                  <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="mex"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/mex"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wse"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/eventing"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsmeta"/>

                                                  <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman/version1.0.0.a/default-addressing-model.xsd"/>
                                                </L7p:entry>
                                              </L7p:Namespaces>
                                            </L7p:XpathExpression>
                                          </L7p:ResponseXpathAssertion>
                                          <L7p:SetVariable>

                                            <L7p:Base64Expression stringValue="JHtmYXVsdC5lbGVtZW50fQ=="/>

                                            <L7p:ContentType stringValue="text/xml; charset=utf-8"/>

                                            <L7p:DataType variableDataType="message"/>

                                            <L7p:VariableToSet stringValue="RESP_fault"/>
                                          </L7p:SetVariable>

                                          <wsp:OneOrMore wsp:Usage="Required">

                                            <wsp:All wsp:Usage="Required">
                                              <L7p:ResponseXpathAssertion>

                                                <L7p:VariablePrefix stringValue="reason"/>

                                                <L7p:XmlMsgSrc stringValue="RESP_fault"/>

                                                <L7p:XpathExpression xpathExpressionValue="included">

                                                  <L7p:Expression stringValue="//env:Reason/env:Text/text()"/>

                                                  <L7p:Namespaces mapValue="included">
                                                    <L7p:entry>

                                                      <L7p:key stringValue="l7"/>

                                                      <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                                    </L7p:entry>
                                                    <L7p:entry>

                                                      <L7p:key stringValue="env"/>

                                                      <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                                    </L7p:entry>
                                                  </L7p:Namespaces>

                                                  <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                                                </L7p:XpathExpression>
                                              </L7p:ResponseXpathAssertion>
                                              <L7p:ResponseXpathAssertion>

                                                <L7p:VariablePrefix stringValue="detail"/>

                                                <L7p:XmlMsgSrc stringValue="RESP_fault"/>

                                                <L7p:XpathExpression xpathExpressionValue="included">

                                                  <L7p:Expression stringValue="//env:Detail/env:Text/text()"/>

                                                  <L7p:Namespaces mapValue="included">
                                                    <L7p:entry>

                                                      <L7p:key stringValue="l7"/>

                                                      <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                                    </L7p:entry>
                                                    <L7p:entry>

                                                      <L7p:key stringValue="env"/>

                                                      <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                                    </L7p:entry>
                                                  </L7p:Namespaces>

                                                  <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                                                </L7p:XpathExpression>
                                              </L7p:ResponseXpathAssertion>
                                            </wsp:All>
                                            <L7p:TrueAssertion/>
                                          </wsp:OneOrMore>
                                          <L7p:AuditDetailAssertion>

                                            <L7p:Detail stringValue="Fault Reason: ${reason.result}Fault Detail: ${detail.result}"/>

                                            <L7p:LoggingOnly booleanValue="true"/>
                                          </L7p:AuditDetailAssertion>

                                          <wsp:All wsp:Usage="Required">
                                            <L7p:SetVariable>

                                              <L7p:Base64Expression stringValue="NTAw"/>

                                              <L7p:VariableToSet stringValue="errorCode"/>
                                            </L7p:SetVariable>
                                            <L7p:SetVariable>

                                              <L7p:Base64Expression stringValue="RmFpbGVkIGRlbGV0aW5nIHNlcnZpY2UgKHVybFBhdHRlcm46ICR7dXJsUGF0dGVybn0sIHNlcnZpY2VJZDogJHtzZXJ2aWNlSWR9KSBkdXJpbmcgb3ZlcndyaXRlLg=="/>

                                              <L7p:VariableToSet stringValue="errorMsg"/>
                                            </L7p:SetVariable>
                                          </wsp:All>
                                          <L7p:assertionComment>

                                            <L7p:Properties mapValue="included">
                                              <L7p:entry>

                                                <L7p:key stringValue="RIGHT.COMMENT"/>

                                                <L7p:value stringValue="// error check"/>
                                              </L7p:entry>
                                            </L7p:Properties>
                                          </L7p:assertionComment>
                                        </wsp:All>
                                        <L7p:TrueAssertion/>
                                      </wsp:OneOrMore>
                                    </wsp:All>

                                    <wsp:All wsp:Usage="Required">
                                      <L7p:SetVariable>

                                        <L7p:Base64Expression stringValue="NTAw"/>

                                        <L7p:VariableToSet stringValue="errorCode"/>
                                      </L7p:SetVariable>
                                      <L7p:SetVariable>

                                        <L7p:Base64Expression stringValue="VXJsUGF0dGVybiAnJHt1cmxQYXR0ZXJufScgYWxyZWFkeSBleGlzdA=="/>

                                        <L7p:VariableToSet stringValue="errorMsg"/>
                                      </L7p:SetVariable>
                                    </wsp:All>
                                  </wsp:OneOrMore>
                                  <L7p:assertionComment>

                                    <L7p:Properties mapValue="included">
                                      <L7p:entry>

                                        <L7p:key stringValue="RIGHT.COMMENT"/>

                                        <L7p:value stringValue="// If service exists set error"/>
                                      </L7p:entry>
                                    </L7p:Properties>
                                  </L7p:assertionComment>
                                </wsp:All>
                                <L7p:TrueAssertion/>
                              </wsp:OneOrMore>
                              <L7p:assertionComment>

                                <L7p:Properties mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="RIGHT.COMMENT"/>

                                    <L7p:value stringValue="// validate urlPattern if already exist"/>
                                  </L7p:entry>
                                </L7p:Properties>
                              </L7p:assertionComment>
                            </wsp:All>
                          </wsp:All>
                          <wsp:All wsp:Usage="Required">
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="NTAw"/>

                              <L7p:VariableToSet stringValue="errorCode"/>
                            </L7p:SetVariable>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="VGVuYW50SWQgaXMgcmVxdWlyZWQ="/>

                              <L7p:VariableToSet stringValue="errorMsg"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="TenantId"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:SetVariable>

                              <L7p:AssertionComment assertionComment="included">

                                <L7p:Properties mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="Restore original request"/>
                                  </L7p:entry>
                                </L7p:Properties>
                              </L7p:AssertionComment>

                              <L7p:Base64Expression stringValue="JHtyZXF1ZXN0T3JpZ2luYWwubWFpbnBhcnR9"/>

                              <L7p:ContentType stringValue="text/xml; charset=utf-8"/>

                              <L7p:DataType variableDataType="message"/>

                              <L7p:VariableToSet stringValue="request"/>
                            </L7p:SetVariable>
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:JdbcConnectionName/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.JdbcConnectionName"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="JdbcConnectionName"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:SetVariable>

                              <L7p:AssertionComment assertionComment="included">

                                <L7p:Properties mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="Restore original request"/>
                                  </L7p:entry>
                                </L7p:Properties>
                              </L7p:AssertionComment>

                              <L7p:Base64Expression stringValue="JHtyZXF1ZXN0T3JpZ2luYWwubWFpbnBhcnR9"/>

                              <L7p:ContentType stringValue="text/xml; charset=utf-8"/>

                              <L7p:DataType variableDataType="message"/>

                              <L7p:VariableToSet stringValue="request"/>
                            </L7p:SetVariable>
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:MetricsConnectionName/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.MetricsConnectionName"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="MetricsConnectionName"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore
                                L7p:Enabled="false" wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:GroupId/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.GroupId"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="GroupId"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore
                                L7p:Enabled="false" wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:GroupName/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.GroupName"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="GroupName"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:SetVariable>

                              <L7p:AssertionComment assertionComment="included">

                                <L7p:Properties mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="Restore original request"/>
                                  </L7p:entry>
                                </L7p:Properties>
                              </L7p:AssertionComment>

                              <L7p:Base64Expression stringValue="JHtyZXF1ZXN0T3JpZ2luYWwubWFpbnBhcnR9"/>

                              <L7p:ContentType stringValue="text/xml; charset=utf-8"/>

                              <L7p:DataType variableDataType="message"/>

                              <L7p:VariableToSet stringValue="request"/>
                            </L7p:SetVariable>
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:ManagedGatewayUrl/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.ManagedGatewayUrl"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="ManagedGatewayUrl"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:SetVariable>

                              <L7p:AssertionComment assertionComment="included">

                                <L7p:Properties mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="Restore original request"/>
                                  </L7p:entry>
                                </L7p:Properties>
                              </L7p:AssertionComment>

                              <L7p:Base64Expression stringValue="JHtyZXF1ZXN0T3JpZ2luYWwubWFpbnBhcnR9"/>

                              <L7p:ContentType stringValue="text/xml; charset=utf-8"/>

                              <L7p:DataType variableDataType="message"/>

                              <L7p:VariableToSet stringValue="request"/>
                            </L7p:SetVariable>
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:PrivateKey/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.PrivateKey"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="PrivateKey"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:SetVariable>

                              <L7p:AssertionComment assertionComment="included">

                                <L7p:Properties mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="Restore original request"/>
                                  </L7p:entry>
                                </L7p:Properties>
                              </L7p:AssertionComment>

                              <L7p:Base64Expression stringValue="JHtyZXF1ZXN0T3JpZ2luYWwubWFpbnBhcnR9"/>

                              <L7p:ContentType stringValue="text/xml; charset=utf-8"/>

                              <L7p:DataType variableDataType="message"/>

                              <L7p:VariableToSet stringValue="request"/>
                            </L7p:SetVariable>
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:SyncFlagTimeout/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.SyncFlagTimeout"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="SyncFlagTimeout"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:SetVariable>

                              <L7p:AssertionComment assertionComment="included">

                                <L7p:Properties mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="Restore original request"/>
                                  </L7p:entry>
                                </L7p:Properties>
                              </L7p:AssertionComment>

                              <L7p:Base64Expression stringValue="JHtyZXF1ZXN0T3JpZ2luYWwubWFpbnBhcnR9"/>

                              <L7p:ContentType stringValue="text/xml; charset=utf-8"/>

                              <L7p:DataType variableDataType="message"/>

                              <L7p:VariableToSet stringValue="request"/>
                            </L7p:SetVariable>
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:MetadataCacheTimeout/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.MetadataCacheTimeout"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="MetadataCacheTimeout"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                      </wsp:All>
                      <wsp:All wsp:Usage="Required">
                        <L7p:SetVariable>

                          <L7p:Base64Expression stringValue="NTAw"/>
                          <L7p:VariableToSet stringValue="errorCode"/>
                        </L7p:SetVariable>
                        <L7p:SetVariable>

                          <L7p:Base64Expression stringValue="SW52YWxpZCBYTUwgUmVxdWVzdA=="/>
                          <L7p:VariableToSet stringValue="errorMsg"/>
                        </L7p:SetVariable>
                      </wsp:All>
                      <L7p:assertionComment>
                        <L7p:Properties mapValue="included">
                          <L7p:entry>
                            <L7p:key stringValue="LEFT.COMMENT"/>
                            <L7p:value stringValue="make sure it is a valid xml request"/>
                          </L7p:entry>
                          <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="//required"/>
                          </L7p:entry>
                        </L7p:Properties>
                      </L7p:assertionComment>
                    </wsp:OneOrMore>
                    <L7p:ComparisonAssertion>
                      <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                          <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="//skip if there's alreay an error"/>
                          </L7p:entry>
                        </L7p:Properties>
                      </L7p:AssertionComment>
                      <L7p:CaseSensitive booleanValue="false"/>
                      <L7p:Expression1 stringValue="${errorCode}"/>
                      <L7p:Operator operatorNull="null"/>
                      <L7p:Predicates predicates="included">
                        <L7p:item dataType="included">
                          <L7p:Type variableDataType="string"/>
                        </L7p:item>
                        <L7p:item binary="included">
                          <L7p:RightValue stringValue="0"/>
                        </L7p:item>
                      </L7p:Predicates>
                    </L7p:ComparisonAssertion>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="PHhtbC8+"/>
                      <L7p:ContentType stringValue="application/soap+xml;charset=UTF-8;action=&quot;http://schemas.xmlsoap.org/ws/2004/09/transfer/Create&quot;"/>
                      <L7p:DataType variableDataType="message"/>
                      <L7p:VariableToSet stringValue="request"/>
                    </L7p:SetVariable>
                    <L7p:XslTransformation>
                      <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                          <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="//portalData"/>
                          </L7p:entry>
                        </L7p:Properties>
                      </L7p:AssertionComment>
                      <L7p:ResourceInfo staticResourceInfo="included">
                        <L7p:Document stringValueReference="inline"><![CDATA[<xsl:stylesheet version="1.0" xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
<xsl:param name="requestId" select="'now'"/>
<xsl:param name="gateway.cluster.hostname" select="'localhost'"/>
<xsl:param name="serviceName" select="'API Portal Tenant Data Management'"/>
<xsl:param name="urlPattern" select="'templateX/portalAuth/'"/>
<xsl:param name="gateway.time" select="'now'"/>
<xsl:param name="param.TenantId" select="'tenant3x'"/>
<xsl:param name="param.JdbcConnectionName" select="'jdbc_conn_name'"/>
<xsl:param name="param.MetricsConnectionName" select="'metrics_conn_name'"/>
<xsl:param name="param.GroupId" select="'12345'"/>
<xsl:param name="param.GroupName" select="'tenant1_group'"/>
<xsl:param name="param.ManagedGatewayUrl" select="'https://localhost:8443/portalman/2'"/>
<xsl:param name="param.PrivateKey" select="'l7apiportal'"/>
<xsl:param name="param.SyncFlagTimeout" select="'60'"/>
<xsl:param name="param.MetadataCacheTimeout" select="'300'"/>
<xsl:output encoding="UTF-8" indent="yes" method="xml" omit-xml-declaration="yes" version="1.0"/>
<xsl:template match="/">
<env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope" xmlns:wsa="http://schemas.xmlsoap.org/ws/2004/08/addressing" xmlns:wse="http://schemas.xmlsoap.org/ws/2004/08/eventing" xmlns:wsen="http://schemas.xmlsoap.org/ws/2004/09/enumeration" xmlns:wsman="http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd" xmlns:wxf="http://schemas.xmlsoap.org/ws/2004/09/transfer" xmlns:xs="http://www.w3.org/2001/XMLSchema">
    <env:Header>
        <wsa:Action env:mustUnderstand="true">http://schemas.xmlsoap.org/ws/2004/09/transfer/Create</wsa:Action>
        <wsa:ReplyTo>
            <wsa:Address env:mustUnderstand="true">http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous</wsa:Address>
        </wsa:ReplyTo>
        <wsa:MessageID env:mustUnderstand="true"><xsl:value-of select="$requestId"/></wsa:MessageID>
        <wsa:To env:mustUnderstand="true">https://<xsl:value-of select="$gateway.cluster.hostname"/>:8443/wsman</wsa:To>
        <wsman:ResourceURI>http://ns.l7tech.com/2010/04/gateway-management/services</wsman:ResourceURI>
        <wsman:OperationTimeout>P0Y0M0DT0H5M0.000S</wsman:OperationTimeout>
    </env:Header>
    <env:Body>
<Service xmlns="http://ns.l7tech.com/2010/04/gateway-management">
    <ServiceDetail>
        <Name><xsl:value-of select="$serviceName"/></Name>
        <Enabled>true</Enabled>
        <ServiceMappings>
            <HttpMapping>
                <UrlPattern>/<xsl:value-of select="$urlPattern"/>*</UrlPattern>
                <Verbs>
                    <Verb>GET</Verb>
                    <Verb>POST</Verb>
                    <Verb>PUT</Verb>
                    <Verb>DELETE</Verb>
                </Verbs>
            </HttpMapping>
        </ServiceMappings>
        <Properties>
            <Property key="wssProcessingEnabled">
                <BooleanValue>false</BooleanValue>
            </Property>
            <Property key="soap">
                <BooleanValue>false</BooleanValue>
            </Property>
            <Property key="internal">
                <BooleanValue>false</BooleanValue>
            </Property>
        </Properties>
    </ServiceDetail>
    <Resources>
        <ResourceSet tag="policy">
          <!-- copy paste wsman get service response here [start]-->
          <Resource type="policy">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;wsp:Policy xmlns:L7p=&quot;http://www.layer7tech.com/ws/policy&quot; xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2002/12/policy&quot;&gt;
    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
        &lt;L7p:AuditAssertion&gt;
            &lt;L7p:SaveRequest booleanValue=&quot;true&quot;/&gt;
        &lt;/L7p:AuditAssertion&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;getTransactionId&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAuaGVhZGVyLnRyYW5zYWN0aW9uSWR9&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;transactionId&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;getSessionId&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAuaGVhZGVyLnNlc3Npb25JZH0=&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;sessionId&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;getToken&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAuaGVhZGVyLnRva2VufQ==&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;token&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:AuditDetailAssertion&gt;
            &lt;L7p:Detail stringValue=&quot;trace-reference-start,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},token:&#36;{token},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
            &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
            &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
        &lt;/L7p:AuditDetailAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
            &lt;wsp:All L7p:Enabled=&quot;false&quot; wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:SslAssertion&gt;
                    &lt;L7p:RequireClientAuthentication booleanValue=&quot;true&quot;/&gt;
                &lt;/L7p:SslAssertion&gt;
                &lt;L7p:AuditDetailAssertion&gt;
                    &lt;L7p:Detail stringValue=&quot;username: &#36;{request.username}&quot;/&gt;
                &lt;/L7p:AuditDetailAssertion&gt;
                &lt;L7p:Authentication&gt;
                    &lt;L7p:IdentityProviderOid goidValue=&quot;0000000000000000fffffffffffffffe&quot;/&gt;
                &lt;/L7p:Authentication&gt;
                &lt;L7p:MemberOfGroup&gt;
                    &lt;L7p:GroupId stringValue=&quot;000000000000000300000000002d8000&quot;/&gt;
                    &lt;L7p:GroupName stringValue=&quot;tenant1&quot;/&gt;
                    &lt;L7p:IdentityProviderOid goidValue=&quot;0000000000000000fffffffffffffffe&quot;/&gt;
                &lt;/L7p:MemberOfGroup&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;//mutual auth - tenant specific&quot;/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:SslAssertion&gt;
                    &lt;L7p:RequireClientAuthentication booleanValue=&quot;true&quot;/&gt;
                &lt;/L7p:SslAssertion&gt;
                &lt;L7p:AuditDetailAssertion&gt;
                    &lt;L7p:Detail stringValue=&quot;username: &#36;{request.username}&quot;/&gt;
                &lt;/L7p:AuditDetailAssertion&gt;
                &lt;L7p:Authentication&gt;
                    &lt;L7p:IdentityProviderOid goidValue=&quot;0000000000000000fffffffffffffffe&quot;/&gt;
                &lt;/L7p:Authentication&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;//mutual auth&quot;/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:SslAssertion/&gt;
                &lt;L7p:HttpBasic/&gt;
                &lt;L7p:AuditDetailAssertion&gt;
                    &lt;L7p:Detail stringValue=&quot;username: &#36;{request.username}&quot;/&gt;
                &lt;/L7p:AuditDetailAssertion&gt;
                &lt;L7p:Authentication&gt;
                    &lt;L7p:IdentityProviderOid goidValue=&quot;0000000000000000fffffffffffffffe&quot;/&gt;
                &lt;/L7p:Authentication&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;//basic auth&quot;/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;L7p:AuditDetailAssertion&gt;
            &lt;L7p:Detail stringValue=&quot;auth_user: &#36;{request.authenticateduser}&quot;/&gt;
        &lt;/L7p:AuditDetailAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue=&quot;API Portal Tenant Data Management Policy Cake as of 2015-03-12 11:00 //JB&quot;/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;MS4w&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;VERSION&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//the created_by and modified_by value for Gateway related DB updates&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;U1lTVEVN&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;SYSTEM_DB_USER&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;MA==&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;MjAw&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;httpStatusCode&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;ZXJyb3IuZ2F0ZXdheQ==&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;portal.errorCode&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;prefix&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Expression stringValue=&quot;<xsl:value-of select="$param.TenantId"/>&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;prefix&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;jdbc.connection.name&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Expression stringValue=&quot;<xsl:value-of select="$param.JdbcConnectionName"/>&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;jdbc.connection.name&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;analytics.connection.name&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Expression stringValue=&quot;<xsl:value-of select="$param.MetricsConnectionName"/>&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;analytics.connection.name&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;managed.gateway&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Expression stringValue=&quot;<xsl:value-of select="$param.ManagedGatewayUrl"/>&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;managed.gateway&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;default.policy.template.name&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;U3RhbmRhcmQgUG9saWN5IFRlbXBsYXRlIC0gQVBJIEtleQ==&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;default.encass.name&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue=&quot;Cache Setting Related&quot;/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue=&quot;=========================&quot;/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;cache.metadata.name&quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//holds the output we want to cache&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtwcmVmaXh9LWNhY2hlLm1ldGFkYXRhLSR7amRiYy5jb25uZWN0aW9uLm5hbWV9&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;cache.metadata.name&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;cache.metadata.timeoout&quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//how long we cache the metadata response (database metadata,table structures,etc)&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Expression stringValue=&quot;<xsl:value-of select="$param.MetadataCacheTimeout"/>&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;cache.metadata.timeout&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtwcmVmaXh9LWNhY2hlLnBvcnRhbC5tYW5hZ2VkLmdhdGV3YXkubGFzdC5zeW5jLSR7bWFuYWdlZC5nYXRld2F5fQ==&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;cache.portal.managed.gateway.last.sync.name&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Expression stringValue=&quot;<xsl:value-of select="$param.SyncFlagTimeout"/>&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;cache.portal.managed.gateway.last.sync.timeout&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//set to true to check ssg version before actually updating the db entries&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;ZmFsc2U=&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;cache.portal.managed.gateway.last.optimize.flag&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;cache.log.message&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue=&quot;=========================&quot;/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnBvc3QtcHJvY2Vzc2luZy1hY3Rpb259&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;post-processing-action&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnBvc3QtcHJvY2Vzc2luZy11dWlkfQ==&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;post-processing-uuid&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnBvc3QtcHJvY2Vzc2luZy1wYXJhbWV0ZXIxfQ==&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;post-processing-parameter1&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnBvc3QtcHJvY2Vzc2luZy1wYXJhbWV0ZXIyfQ==&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;post-processing-parameter2&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnBvc3QtcHJvY2Vzc2luZy1zeW5jLW1vZGV9&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;post-processing-sync-mode&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue=&quot;=========================&quot;/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//flag to trigger an Accout Plan Push to the managed gateway, default must be empty&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;syncAccountPlans&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;Backup original request&quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//this makes sure we always have the original request&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lm1haW5wYXJ0fQ==&quot;/&gt;
            &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
            &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;requestOriginal&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:RateLimit&gt;
                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                &lt;L7p:value stringValue=&quot;//Update this assertion if you need a higher throughput or limit&quot;/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:AssertionComment&gt;
                    &lt;L7p:CounterName stringValue=&quot;PRESET(ac0a793a036466be)&#36;{request.clientid}&quot;/&gt;
                    &lt;L7p:MaxRequestsPerSecond stringValue=&quot;50&quot;/&gt;
                    &lt;L7p:ShapeRequests booleanValue=&quot;true&quot;/&gt;
                &lt;/L7p:RateLimit&gt;
                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;L7p:SetVariable&gt;
                        &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;getRestOperation()&quot;/&gt;
                                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:AssertionComment&gt;
                        &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAubWV0aG9kfQ==&quot;/&gt;
                        &lt;L7p:VariableToSet stringValue=&quot;operation&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:SetVariable&gt;
                        &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;getFormat&quot;/&gt;
                                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:AssertionComment&gt;
                        &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLiRmb3JtYXR9&quot;/&gt;
                        &lt;L7p:VariableToSet stringValue=&quot;format&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:SetVariable&gt;
                        &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAudXJpfQ==&quot;/&gt;
                        &lt;L7p:VariableToSet stringValue=&quot;sourceUri&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:SetVariable&gt;
                        &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
                        &lt;L7p:VariableToSet stringValue=&quot;newSourceUri&quot;/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:Split&gt;
                                &lt;L7p:InputVariable stringValue=&quot;sourceUri&quot;/&gt;
                                &lt;L7p:OutputVariable stringValue=&quot;splitUri&quot;/&gt;
                                &lt;L7p:SplitPattern stringValue=&quot;/&quot;/&gt;
                            &lt;/L7p:Split&gt;
                            &lt;L7p:ForEachLoop L7p:Usage=&quot;Required&quot;
                                loopVariable=&quot;splitUri&quot; variablePrefix=&quot;uri&quot;&gt;
                                &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{uri.iterations}&quot;/&gt;
                                    &lt;L7p:Expression2 stringValue=&quot;1&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;1&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{uri.current}&quot;/&gt;
                                    &lt;L7p:Expression2 stringValue=&quot;&#36;{prefix}&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;&#36;{prefix}&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{uri.current}&quot;/&gt;
                                    &lt;L7p:Expression2 stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtuZXdTb3VyY2VVcml9LyR7dXJpLmN1cnJlbnR9&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;newSourceUri&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                &lt;/wsp:OneOrMore&gt;
                            &lt;/L7p:ForEachLoop&gt;
                            &lt;L7p:Split&gt;
                                &lt;L7p:InputVariable stringValue=&quot;newSourceUri&quot;/&gt;
                                &lt;L7p:OutputVariable stringValue=&quot;splitUri&quot;/&gt;
                                &lt;L7p:SplitPattern stringValue=&quot;/&quot;/&gt;
                            &lt;/L7p:Split&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;JHtzcGxpdFVyaVsyXX0=&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;mode&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;JHtzcGxpdFVyaVszXX0=&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;entity_type&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;JHtzcGxpdFVyaVs0XX0=&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;entity_id&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:EncodeDecode&gt;
                                &lt;L7p:SourceVariableName stringValue=&quot;entity_id&quot;/&gt;
                                &lt;L7p:TargetDataType variableDataType=&quot;string&quot;/&gt;
                                &lt;L7p:TargetVariableName stringValue=&quot;entity_id&quot;/&gt;
                                &lt;L7p:TransformType transformType=&quot;URL_DECODE&quot;/&gt;
                            &lt;/L7p:EncodeDecode&gt;
                            &lt;L7p:EncodeDecode&gt;
                                &lt;L7p:SourceVariableName stringValue=&quot;mode&quot;/&gt;
                                &lt;L7p:TargetDataType variableDataType=&quot;string&quot;/&gt;
                                &lt;L7p:TargetVariableName stringValue=&quot;mode&quot;/&gt;
                                &lt;L7p:TransformType transformType=&quot;URL_DECODE&quot;/&gt;
                            &lt;/L7p:EncodeDecode&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;JHttb2RlfQ==&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;entity_type&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                        &lt;/wsp:All&gt;
                        &lt;L7p:TrueAssertion/&gt;
                    &lt;/wsp:OneOrMore&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                        &lt;L7p:Detail stringValue=&quot;prefix=&#36;{prefix},transactionId=&#36;{transactionId},sessionId=&#36;{sessionId}&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                        &lt;L7p:Detail stringValue=&quot;&#36;{request.url}, &#36;{mode}, &#36;{entity_type}, &#36;{entity_id}, &#36;{newSourceUri}&quot;/&gt;
                        &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
                                &lt;L7p:Expression2 stringValue=&quot;(&quot;/&gt;
                                &lt;L7p:ExpressionIsVariable booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Operator operator=&quot;CONTAINS&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Operator operator=&quot;CONTAINS&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;(&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHttb2RlfQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;value_extract&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaptureVar stringValue=&quot;entity_id_extract&quot;/&gt;
                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;value_extract&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&apos;([^&apos;]*?)&apos;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtlbnRpdHlfaWRfZXh0cmFjdFsxXX0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;entity_id&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//extract entity id if it applies&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHttb2RlfQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;value_extract&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaptureVar stringValue=&quot;mode_extract&quot;/&gt;
                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;value_extract&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;([^(]*?)\(&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHttb2RlX2V4dHJhY3RbMV19&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;entity_type&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//extract mode if it applies&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                        &lt;/wsp:All&gt;
                        &lt;L7p:TrueAssertion/&gt;
                        &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//extra entity id if it applies&quot;/&gt;
                                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                    &lt;/wsp:OneOrMore&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                        &lt;L7p:Detail stringValue=&quot;operation=&#36;{operation},mode=&#36;{mode},entity_type=&#36;{entity_type},entity_id=&#36;{entity_id}&quot;/&gt;
                        &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                        &lt;L7p:Detail stringValue=&quot;operation-trace,operation=&#36;{operation},url:&#36;{request.url},transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                        &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                        &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                    &lt;L7p:assertionComment&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                &lt;L7p:value stringValue=&quot;parsing()&quot;/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                &lt;/wsp:All&gt;
                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                        &lt;L7p:Detail stringValue=&quot;trace-reference-main-block,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                        &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                        &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                        &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:JdbcQuery&gt;
                                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//fast DB check&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;
                                &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;
                                &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:SqlQuery stringValue=&quot;select 1 from dual&quot;/&gt;
                            &lt;/L7p:JdbcQuery&gt;
                            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5kYXRhYmFzZTozMDE=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                &lt;/L7p:SetVariable&gt;
                                &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;VGhlcmUgd2FzIGEgcHJvYmxlbSBjb25uZWN0aW5nIHRvIGRhdGFiYXNl&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                                &lt;/L7p:SetVariable&gt;
                            &lt;/wsp:All&gt;
                        &lt;/wsp:OneOrMore&gt;
                        &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;db check&quot;/&gt;
                                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                    &lt;/wsp:All&gt;
                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//there is already an error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                            &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                            &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                            &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                            &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                &lt;/L7p:item&gt;
                                &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
                                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;$metadata&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;GET&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CacheLookup&gt;
                                    &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{cache.metadata.name}&quot;/&gt;
                                    &lt;L7p:ContentTypeOverride stringValue=&quot;&quot;/&gt;
                                    &lt;/L7p:CacheLookup&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;MjAw&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;httpStatusCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;YXBwbGljYXRpb24veG1sOyBjaGFyc2V0PXV0Zi04&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;content_type&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtyZXNwb25zZS5tYWlucGFydH0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtjYWNoZS5tZXRhZGF0YS5uYW1lfQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;cache.log.message&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;returning $metadata from cache&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:TrueAssertion/&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:assertionComment&gt;
                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;$metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;proxy&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:Regex&gt;
                                &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:CaptureVar stringValue=&quot;proxyUriEndpoint&quot;/&gt;
                                &lt;L7p:OtherTargetMessageVariable stringValue=&quot;newSourceUri&quot;/&gt;
                                &lt;L7p:Regex stringValue=&quot;.*/proxy(.*)&quot;/&gt;
                                &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                &lt;L7p:Replacement stringValue=&quot;&quot;/&gt;
                                &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                            &lt;/L7p:Regex&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;JHtwcm94eVVyaUVuZHBvaW50WzFdfQ==&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;proxyUriEndpoint&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;GET&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtnYXRld2F5LnRpbWV9&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;cache.log.message&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHttYW5hZ2VkLmdhdGV3YXl9JHtwcm94eVVyaUVuZHBvaW50fQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;routeUrl&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;before-route&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;before-route-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:HttpRoutingAssertion&gt;
                                    &lt;L7p:FailOnErrorStatus booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:HttpMethod httpMethod=&quot;GET&quot;/&gt;
                                    <xsl:if test="$param.PrivateKey != ''">&lt;L7p:KeyAlias stringValue=&quot;<xsl:value-of select="$param.PrivateKey"/>&quot;/&gt;</xsl:if>

                                    &lt;L7p:NonDefaultKeystoreId goidValue=&quot;00000000000000000000000000000002&quot;/&gt;

                                    &lt;L7p:PassthroughHttpAuthentication booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:ProtectedServiceUrl stringValue=&quot;&#36;{routeUrl}&quot;/&gt;
                                    &lt;L7p:ProxyPassword stringValueNull=&quot;null&quot;/&gt;
                                    &lt;L7p:ProxyUsername stringValueNull=&quot;null&quot;/&gt;
                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                                    &lt;L7p:Name stringValue=&quot;Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                                    &lt;L7p:Name stringValue=&quot;SOAPAction&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;
                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:ForwardAll booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;/&gt;
                                    &lt;/L7p:RequestParamRules&gt;
                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                                    &lt;L7p:Name stringValue=&quot;Set-Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;

                                    &lt;L7p:SamlAssertionVersion intValue=&quot;2&quot;/&gt;
                                    &lt;L7p:UsesDefaultKeyStore booleanValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:HttpRoutingAssertion&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;after-route&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;after-route-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{proxyUriEndpoint}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;/api/fragments&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;portalmanApis&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:ApiFragments/l7:ApiFragment&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:PatternContainsVariables booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;lt;l7:Name&gt;&#36;{default.encass.name}&amp;lt;/l7:Name&gt;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;lt;l7:Name&gt;&#36;{default.encass.name}&amp;lt;/l7:Name&gt;&amp;lt;l7:Default&gt;true&amp;lt;/l7:Default&gt;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;RESPONSE&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtyZXNwb25zZS5tYWlucGFydH0=&quot;/&gt;
                                    &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
                                    &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;apiFragments&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHthcGlGcmFnbWVudHMubWFpbnBhcnR9&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;YXBwbGljYXRpb24veG1sOyBjaGFyc2V0PXV0Zi04&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;content_type&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;ApiFragments&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtyZXNwb25zZS5tYWlucGFydH0=&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;YXBwbGljYXRpb24veG1sOyBjaGFyc2V0PXV0Zi04&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;content_type&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;got response for &#36;{routeUrl}*** &#36;{response.mainpart}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;finished processing portalman results on &#36;{gateway.time}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;managedGatewayRead()&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//re-read everything from the managed gateway&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;failed accessing &#36;{routeUrl}*** &#36;{response.mainpart}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5yb3V0ZTozMDI=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;VGhlcmUgd2FzIHByb2JsZW0gY29ubmVjdGluZyB0byB0aGUgbWFuYWdlZCBHYXRld2F5&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;managedGatewayError&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;GET&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;methods&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:assertionComment&gt;
                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;proxy()&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;SyncApis&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;POST&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;ew0KIlN0YXJ0IiA6ICIke2dhdGV3YXkudGltZS51dGN9Ig==&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;dHJ1ZQ==&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;performSync&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:assertionComment&gt;
                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;SyncApis()&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;Apis&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;ApiViews&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;ApplicationApiViews&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;OrganizationApiViews&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;ApplicationApiXrefs&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;ApplicationApiXrefViews&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;ZmFsc2U=&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;performSync&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;GET&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//don&apos;t sync on $count request&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{request.url}&quot;/&gt;
                                    &lt;L7p:Expression2 stringValue=&quot;$count&quot;/&gt;
                                    &lt;L7p:Operator operator=&quot;CONTAINS&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Operator operator=&quot;CONTAINS&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;$count&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:CacheLookup&gt;
                                    &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{cache.portal.managed.gateway.last.sync.name}&quot;/&gt;
                                    &lt;L7p:ContentTypeOverride stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:MaxEntryAgeSeconds stringValue=&quot;&#36;{cache.portal.managed.gateway.last.sync.timeout}&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;cache.log.message&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:CacheLookup&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;last sync flag set as &#36;{cache.log.message.mainpart}... not refreshing from managed gateway. timeout=&#36;{cache.portal.managed.gateway.last.sync.timeout}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//short circuit old sync branch - RR 01/27/1015 &quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;dHJ1ZQ==&quot;/&gt;
                                    &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;performSync&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;sync()&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;GET&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:All&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_id}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;publishedByPortalXpath&quot;/&gt;
                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;
                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:PublishedByPortal/text()&quot;/&gt;
                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;
                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:Expression stringValue=&quot;$.PublishedByPortal&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;publishedByPortalXpath&quot;/&gt;
                                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//portal published?&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{publishedByPortalXpath.result}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;portalStatusXpath&quot;/&gt;
                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;
                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:PortalStatus/text()&quot;/&gt;
                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;
                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:Expression stringValue=&quot;$.PortalStatus&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;portalStatusXpath&quot;/&gt;
                                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;portalStatus:&#36;{portalStatusXpath.element},&#36;{portalStatusXpath.result}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{portalStatusXpath.result}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;ENABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{portalStatusXpath.result}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;DISABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// Retrieve ssg_api_id&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;
                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;portal_admin_status&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;portal_admin_status&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;portal_status&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;portal_status&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ssg_api_id&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;ssgApiId&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ssg_status&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;ssg_status&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;status_alert&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;status_alert&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;SELECT ssg_api_id,portal_status,ssg_status,status_alert,portal_admin_status FROM API WHERE uuid = &#36;{entity_id}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;&#36;{jdbcQuery.portal_admin_status}&amp;lt;&gt;&#36;{jdbcQuery.portal_status}, status_alert=&#36;{jdbcQuery.status_alert}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{jdbcQuery.portal_admin_status}&quot;/&gt;
                                    &lt;L7p:Expression2 stringValue=&quot;&#36;{jdbcQuery.portal_status}&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;&#36;{jdbcQuery.portal_status}&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//we can&apos;t check for null for portal_admin_status, this is an assumption where NEW is being ENABLED&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{jdbcQuery.portal_status}&quot;/&gt;
                                    &lt;L7p:Expression2 stringValue=&quot;NEW&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;NEW&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:MapValue&gt;
                                    &lt;L7p:InputExpr stringValue=&quot;&#36;{portalStatusXpath.result}&quot;/&gt;
                                    &lt;L7p:Mappings nameValuePairArray=&quot;included&quot;&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;ENABLED&quot;/&gt;
                                    &lt;L7p:Value stringValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;DISABLED&quot;/&gt;
                                    &lt;L7p:Value stringValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Mappings&gt;
                                    &lt;L7p:OutputVar stringValue=&quot;ServiceEnabled&quot;/&gt;
                                    &lt;/L7p:MapValue&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//skip it&apos;s in-conflict&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{jdbcQuery.status_alert}&quot;/&gt;
                                    &lt;L7p:Expression2 stringValue=&quot;N&quot;/&gt;
                                    &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;N&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{ServiceEnabled}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{jdbcQuery.portal_status}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;DISABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{jdbcQuery.ssg_status}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;DISABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;API &apos;&#36;{jdbcQuery.ssgApiId}&apos; might be already DISABLED, skipping gateway request&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//if already DISABLED check, don&apos;t need to make managed gateway request&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{ServiceEnabled}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{jdbcQuery.portal_status}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;ENABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{jdbcQuery.ssg_status}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;ENABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;API &apos;&#36;{jdbcQuery.ssgApiId}&apos; might be already ENABLED, skipping gateway request&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//if already ENABLED check, don&apos;t need to make managed gateway request&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHttYW5hZ2VkLmdhdGV3YXl9L2FwaXMvJHtqZGJjUXVlcnkuc3NnQXBpSWR9L3NlcnZpY2VFbmFibGVk&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;routeUrl&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;PGw3OlNlcnZpY2VFbmFibGVkIHhtbG5zOmw3PSJodHRwOi8vbnMubDd0ZWNoLmNvbS8yMDEyLzA0L2FwaS1tYW5hZ2VtZW50Ij4ke1NlcnZpY2VFbmFibGVkfTwvbDc6U2VydmljZUVuYWJsZWQ+&quot;/&gt;
                                    &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
                                    &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;request&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:HttpRoutingAssertion&gt;

                                    &lt;L7p:FailOnErrorStatus booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:HttpMethod httpMethod=&quot;PUT&quot;/&gt;

                                    <xsl:if test="$param.PrivateKey != ''">&lt;L7p:KeyAlias stringValue=&quot;<xsl:value-of select="$param.PrivateKey"/>&quot;/&gt;</xsl:if>

                                    &lt;L7p:NonDefaultKeystoreId goidValue=&quot;00000000000000000000000000000002&quot;/&gt;

                                    &lt;L7p:PassthroughHttpAuthentication booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:ProtectedServiceUrl stringValue=&quot;&#36;{routeUrl}&quot;/&gt;

                                    &lt;L7p:ProxyPassword stringValueNull=&quot;null&quot;/&gt;

                                    &lt;L7p:ProxyUsername stringValueNull=&quot;null&quot;/&gt;

                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;

                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;

                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;SOAPAction&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;

                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet=&quot;included&quot;&gt;

                                    &lt;L7p:ForwardAll booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;/&gt;
                                    &lt;/L7p:RequestParamRules&gt;

                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;

                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;

                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;Set-Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;

                                    &lt;L7p:SamlAssertionVersion intValue=&quot;2&quot;/&gt;

                                    &lt;L7p:UsesDefaultKeyStore booleanValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:HttpRoutingAssertion&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;

                                    &lt;L7p:Detail stringValue=&quot;failed accessing &#36;{routeUrl}*** &#36;{response.mainpart}&quot;/&gt;

                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5yb3V0ZTozMDI=&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;VGhlcmUgd2FzIHByb2JsZW0gY29ubmVjdGluZyB0byB0aGUgbWFuYWdlZCBHYXRld2F5&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//perform Managed Gateway request&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//only trigger managed gateway request if status_alert = 0 (Alert Flag = N)&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;dHJ1ZQ==&quot;/&gt;
                                    &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;performSync&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:All&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;DELETE&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_id}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ssg_api_id&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;ssg_api_id&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;SELECT ssg_api_id FROM API WHERE uuid = &#36;{entity_id} AND ssg_api_id &amp;lt;&gt; &apos;{{GENERATED_GUID}}&apos; &quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHttYW5hZ2VkLmdhdGV3YXl9L2FwaXMvJHtqZGJjUXVlcnkuc3NnX2FwaV9pZH0=&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;routeUrl&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:HttpRoutingAssertion&gt;

                                    &lt;L7p:FailOnErrorStatus booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:HttpMethod httpMethod=&quot;DELETE&quot;/&gt;

                                    <xsl:if test="$param.PrivateKey != ''">&lt;L7p:KeyAlias stringValue=&quot;<xsl:value-of select="$param.PrivateKey"/>&quot;/&gt;</xsl:if>

                                    &lt;L7p:NonDefaultKeystoreId goidValue=&quot;00000000000000000000000000000002&quot;/&gt;

                                    &lt;L7p:PassThroughSoapFaults booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:PassthroughHttpAuthentication booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:ProtectedServiceUrl stringValue=&quot;&#36;{routeUrl}&quot;/&gt;

                                    &lt;L7p:ProxyPassword stringValueNull=&quot;null&quot;/&gt;

                                    &lt;L7p:ProxyUsername stringValueNull=&quot;null&quot;/&gt;

                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;

                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;

                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;SOAPAction&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;

                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet=&quot;included&quot;&gt;

                                    &lt;L7p:ForwardAll booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;/&gt;
                                    &lt;/L7p:RequestParamRules&gt;

                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;

                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;

                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;Set-Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;

                                    &lt;L7p:SamlAssertionVersion intValue=&quot;2&quot;/&gt;

                                    &lt;L7p:UsesDefaultKeyStore booleanValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:HttpRoutingAssertion&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;

                                    &lt;L7p:Detail stringValue=&quot;failed accessing &#36;{routeUrl}*** &#36;{response.mainpart}&quot;/&gt;

                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5yb3V0ZTozMDI=&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;VGhlcmUgd2FzIHByb2JsZW0gY29ubmVjdGluZyB0byB0aGUgbWFuYWdlZCBHYXRld2F5&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;deleting non existing api, no managed gateway call necessary&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//let the odata producer handle this&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5yb3V0ZTozMDI=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;VGhlcmUgd2FzIHByb2JsZW0gY29ubmVjdGluZyB0byB0aGUgbWFuYWdlZCBHYXRld2F5&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;DELETE&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:TrueAssertion/&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;methods&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;performSync=&#36;{performSync}&quot;/&gt;
                                &lt;/L7p:AuditDetailAssertion&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{performSync}&quot;/&gt;
                                    &lt;L7p:Expression2 stringValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtnYXRld2F5LnRpbWV9&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;cache.log.message&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:CacheStorage&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//flag to indicate we already made a sync&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{cache.portal.managed.gateway.last.sync.name}&quot;/&gt;
                                    &lt;L7p:MaxEntryAgeSeconds stringValue=&quot;&#36;{cache.portal.managed.gateway.last.sync.timeout}&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;cache.log.message&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:CacheStorage&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;setting last sync flag as &#36;{cache.log.message}. timeout=&#36;{cache.portal.managed.gateway.last.sync.timeout},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHttYW5hZ2VkLmdhdGV3YXl9L2FwaXM/c2hvd0RldGFpbHM9dHJ1ZQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;routeUrl&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;before-route&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;before-route-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:HttpRoutingAssertion&gt;
                                    &lt;L7p:FailOnErrorStatus booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:HttpMethod httpMethod=&quot;GET&quot;/&gt;
                                    <xsl:if test="$param.PrivateKey != ''">&lt;L7p:KeyAlias stringValue=&quot;<xsl:value-of select="$param.PrivateKey"/>&quot;/&gt;</xsl:if>
                                    &lt;L7p:NonDefaultKeystoreId goidValue=&quot;00000000000000000000000000000002&quot;/&gt;

                                    &lt;L7p:PassthroughHttpAuthentication booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:ProtectedServiceUrl stringValue=&quot;&#36;{routeUrl}&quot;/&gt;
                                    &lt;L7p:ProxyPassword stringValueNull=&quot;null&quot;/&gt;
                                    &lt;L7p:ProxyUsername stringValueNull=&quot;null&quot;/&gt;
                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                                    &lt;L7p:Name stringValue=&quot;Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                                    &lt;L7p:Name stringValue=&quot;SOAPAction&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;
                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:ForwardAll booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;/&gt;
                                    &lt;/L7p:RequestParamRules&gt;
                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                                    &lt;L7p:Name stringValue=&quot;Set-Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;
                                    &lt;L7p:SamlAssertionVersion intValue=&quot;2&quot;/&gt;
                                    &lt;L7p:UsesDefaultKeyStore booleanValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:HttpRoutingAssertion&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;after-route&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;after-route-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;importedApiIds&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;portalmanApis&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ForEachLoop
                                    L7p:Usage=&quot;Required&quot;
                                    loopVariable=&quot;portalmanApis.elements&quot; variablePrefix=&quot;api&quot;&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;***&#36;{api.iterations}:&#36;{api.current},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;PGw3OkFwaXMgeG1sbnM6bDc9Imh0dHA6Ly9ucy5sN3RlY2guY29tLzIwMTIvMDQvYXBpLW1hbmFnZW1lbnQiPg0KJHthcGkuY3VycmVudH0NCjwvbDc6QXBpcz4=&quot;/&gt;

                                    &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;

                                    &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;singleApiSection&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;&#36;{singleApiSection.mainpart}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;ApiId&quot;/&gt;

                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ApiId&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;ApiGroup&quot;/&gt;

                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ApiGroup&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;ServiceOID&quot;/&gt;

                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ServiceOID&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;ServiceVersion&quot;/&gt;

                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ServiceVersion&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;ServiceName&quot;/&gt;

                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ServiceName&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;ServiceEnabled&quot;/&gt;

                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ServiceEnabled&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;UrlPattern&quot;/&gt;

                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ServiceDetails/l7:UrlPattern&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;Soap&quot;/&gt;

                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ServiceDetails/l7:Soap&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;Internal&quot;/&gt;

                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ServiceDetails/l7:Internal&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// Build API ID string: &amp;quot;1,2,3,&amp;quot;&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtpbXBvcnRlZEFwaUlkc30ke0FwaUlkLnJlc3VsdH0s&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;importedApiIds&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:MapValue&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// Set ServiceType  (SOAP/REST)&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:InputExpr stringValue=&quot;&#36;{Soap.result}&quot;/&gt;

                                    &lt;L7p:Mappings nameValuePairArray=&quot;included&quot;&gt;

                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;

                                    &lt;L7p:Key stringValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Value stringValue=&quot;SOAP&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;

                                    &lt;L7p:Key stringValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Value stringValue=&quot;REST&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Mappings&gt;

                                    &lt;L7p:OutputVar stringValue=&quot;ServiceType&quot;/&gt;
                                    &lt;/L7p:MapValue&gt;
                                    &lt;L7p:MapValue&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// Set ServiceStatus (ENABLED/DISABLED)&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:InputExpr stringValue=&quot;&#36;{ServiceEnabled.result}&quot;/&gt;

                                    &lt;L7p:Mappings nameValuePairArray=&quot;included&quot;&gt;

                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;

                                    &lt;L7p:Key stringValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Value stringValue=&quot;ENABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;

                                    &lt;L7p:Key stringValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Value stringValue=&quot;DISABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Mappings&gt;

                                    &lt;L7p:OutputVar stringValue=&quot;ServiceStatus&quot;/&gt;
                                    &lt;/L7p:MapValue&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;&#36;{ApiId.result},&#36;{ApiGroup.result},&#36;{ServiceOID.result},&#36;{ServiceVersion.result},&#36;{ServiceName.result},&#36;{ServiceEnabled.result},&#36;{UrlPattern.result},&#36;{ServiceType},&#36;{ServiceStatus}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// Get existing.status for imported API&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;portal_status&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;portalStatus&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;ssg_status&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;ssgStatus&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;SELECT portal_status, ssg_status FROM API WHERE ssg_api_id = &#36;{ApiId.result}&quot;/&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;statusQuery&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;query-trace-1&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:Detail stringValue=&quot;query-1-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;

                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;

                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// set existing.ssg_status to imported.status&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET ssg_status = &#36;{ServiceStatus}, modify_ts= &#36;{gateway.time.millis}, ssg_version = &#36;{ServiceVersion.result}, modified_by= &#36;{SYSTEM_DB_USER} WHERE ssg_api_id = &#36;{ApiId.result} AND ssg_status != &#36;{ServiceStatus}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;query-trace-2&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:Detail stringValue=&quot;query-2-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;

                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;

                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// set existing.portal_status to imported.status except for NEW, DISABLED&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET portal_status = &#36;{ServiceStatus}, modify_ts= &#36;{gateway.time.millis}, ssg_version = &#36;{ServiceVersion.result}, modified_by= &#36;{SYSTEM_DB_USER} WHERE ssg_api_id = &#36;{ApiId.result} AND portal_status != &#36;{ServiceStatus} AND portal_status NOT IN (&apos;NEW&apos;,&apos;DISABLED&apos;)&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;query-trace-3&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:Detail stringValue=&quot;query-3-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;

                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;

                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:assertionComment&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// if (API exists in DB) { ... }&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:UUIDGenerator&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// ID for API to insert&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:MaximumQuantity intValue=&quot;1&quot;/&gt;

                                    &lt;L7p:TargetVariable stringValue=&quot;generatedUuid&quot;/&gt;
                                    &lt;/L7p:UUIDGenerator&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtnYXRld2F5LnRpbWUudXRjLnl5eXktTU0tZGQgSEg6bW06c3N9&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;now&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// Insert API&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;INSERT INTO API (uuid, ssg_api_id, ssg_name, name, portal_status, ssg_status, access_status, published_by_portal, version, ssg_version, ssg_service_type, ssg_url, modify_ts, create_ts, created_by) VALUES (&#36;{generatedUuid}, &#36;{ApiId.result}, &#36;{ServiceName.result}, &#36;{ServiceName.result}, &apos;NEW&apos;, &#36;{ServiceStatus}, &apos;PUBLIC&apos;, 0, &#36;{ServiceVersion.result}, &#36;{ServiceVersion.result}, &#36;{ServiceType}, &#36;{UrlPattern.result}, 0, &#36;{gateway.time.millis}, &#36;{SYSTEM_DB_USER})&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;query-trace-4&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:Detail stringValue=&quot;query-4-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;

                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;

                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:assertionComment&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// else { insert API in DB }&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// Status sync&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;/L7p:ForEachLoop&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;got response but no apis for &#36;{routeUrl}*** &#36;{response.mainpart}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// Add dummy ID so the &amp;quot;NOT IN (...)&amp;quot; clause won&apos;t be empty and produce invalid SQL when list of APIs is empty&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;bm9uLWV4aXN0ZW50LWR1bW15LWlkLCR7aW1wb3J0ZWRBcGlJZHN9&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;importedApiIds&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:Split&gt;

                                    &lt;L7p:IgnoreEmptyValues booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:InputVariable stringValue=&quot;importedApiIds&quot;/&gt;
                                    &lt;L7p:OutputVariable stringValue=&quot;importedApiIdList&quot;/&gt;

                                    &lt;L7p:SplitPatternRegEx booleanValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:Split&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// First delete all APIs from the DB that were not in the sync and have a status of NEW&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;DELETE FROM API WHERE ssg_api_id NOT IN (&#36;{importedApiIdList}) AND portal_status = &apos;NEW&apos;&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;query-trace-5&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-5-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// Then mark all remaining APIs in DB that were not in the sync response as deleted&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET portal_status = &apos;DISABLED&apos;, ssg_status = &apos;DELETED&apos;, modify_ts = &#36;{gateway.time.millis} WHERE ssg_api_id NOT IN (&#36;{importedApiIdList}) AND portal_status &amp;lt;&gt; &apos;NEW&apos;&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;query-trace-6&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-6-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// Handle APIs that were deleted from the SSG&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if NEW and SSG status != ENABLED , Alert flag = Y&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 1, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_status = &apos;NEW&apos; AND ssg_status != &apos;ENABLED&apos; AND status_alert != 1&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-7&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-7-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if NEW and SSG status ENABLED , Alert flag = N&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 0, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_status = &apos;NEW&apos; AND ssg_status = &apos;ENABLED&apos; AND status_alert != 0&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-8&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-8-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if not NEW &amp;amp; DEPRECATED and portal_status != portal_admin_status , Alert flag = Y&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 1, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_status NOT IN (&apos;NEW&apos;,&apos;DEPRECATED&apos;) AND portal_status != portal_admin_status AND status_alert != 1&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-9&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-9-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if not NEW &amp;amp; DEPRECATED and portal_status == portal_admin_status , Alert flag = N&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 0, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_status NOT IN (&apos;NEW&apos;,&apos;DEPRECATED&apos;) AND portal_status = portal_admin_status AND status_alert != 0&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-10&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-10-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if portal_admin_status = DISABLED and SSG status != DISABLED, Alert flag = Y&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 1, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_admin_status = &apos;DISABLED&apos; AND ssg_status != &apos;DISABLED&apos; AND status_alert != 1&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-11&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-11-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if portal_admin_status = DISABLED and SSG status == DISABLED, Alert flag = N&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 0, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_admin_status = &apos;DISABLED&apos; AND ssg_status = &apos;DISABLED&apos; AND status_alert != 0&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-12&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-12-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if portal_admin_status = DEPRECATED and SSG status != ENABLED, Alert flag = Y&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 1, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_admin_status = &apos;DEPRECATED&apos; AND ssg_status != &apos;ENABLED&apos; AND status_alert != 1&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-13&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-13-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if portal_admin_status = DEPRECATED and SSG status == DISABLED, Alert flag = N&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 0, portal_status = &apos;DEPRECATED&apos;, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_admin_status = &apos;DEPRECATED&apos; AND ssg_status = &apos;ENABLED&apos; AND status_alert != 0&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-14&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-14-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if portal_admin_status == SSG status == ENABLED and Alert flag = Y, Alert Flag = N&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 0, portal_status = &apos;ENABLED&apos;, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_admin_status = &apos;ENABLED&apos; AND ssg_status = &apos;ENABLED&apos; AND status_alert != 0&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-15&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-15-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if portal_admin_status is NULL/empty but Portal Status == SSG status == ENABLED and Alert flag = Y, Alert Flag = N&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 0, portal_admin_status = &apos;ENABLED&apos;, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_status = &apos;ENABLED&apos; AND ssg_status = &apos;ENABLED&apos; AND portal_admin_status IN (&apos;&apos;, NULL) AND status_alert != 0&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-16&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-16-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if portal_admin_status is NULL/empty but SSG status == ENABLED and Alert flag = Y, sync too soon&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 0, portal_admin_status = &apos;ENABLED&apos;, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE ssg_status = &apos;ENABLED&apos; AND portal_admin_status IN (&apos;&apos;, NULL) AND status_alert = 1&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-17&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-17-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//Alert Flag Updates&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;finished processing portalman results on &#36;{gateway.time}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;managedGatewayRead()&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//re-read everything from the managed gateway&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;failed accessing &#36;{routeUrl}*** &#36;{response.mainpart}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5yb3V0ZTozMDI=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;VGhlcmUgd2FzIHByb2JsZW0gY29ubmVjdGluZyB0byB0aGUgbWFuYWdlZCBHYXRld2F5&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;managedGatewayError&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                &lt;/wsp:OneOrMore&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;sync()&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:All&gt;
                            &lt;L7p:assertionComment&gt;
                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;Apis()&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;Applications&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;PUT-update&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:All&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;POST&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:UUIDGenerator&gt;
                                    &lt;L7p:Quantity stringValue=&quot;2&quot;/&gt;
                                    &lt;L7p:TargetVariable stringValue=&quot;guids&quot;/&gt;
                                    &lt;/L7p:UUIDGenerator&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtndWlkc1swXX0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;keySecret&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;keySecret&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;\-&quot;/&gt;
                                    &lt;L7p:RegexName stringValue=&quot;Remove dash characters&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtndWlkc1sxXX0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;rawApiKey&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;rawApiKey&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;\-&quot;/&gt;
                                    &lt;L7p:RegexName stringValue=&quot;Remove dash characters&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;bDd4eCR7cmF3QXBpS2V5fQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;rawApiKey&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtyYXdBcGlLZXl9&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;encodedApiKey&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;generate&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// Generate API Keys &amp;amp; Secret&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;NTAw&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;RXJyb3IgR2VuZXJhdGluZyBLZXk=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorMessage&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;generate keys&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;POST-create&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:All&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;DELETE&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_id}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;API_KEY&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;API_KEY&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;SELECT API_KEY FROM APPLICATION WHERE uuid = &#36;{entity_id}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHttYW5hZ2VkLmdhdGV3YXl9L2FwaS9rZXlzLyR7amRiY1F1ZXJ5LkFQSV9LRVl9&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;routeUrl&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:HttpRoutingAssertion&gt;

                                    &lt;L7p:FailOnErrorStatus booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:HttpMethod httpMethod=&quot;DELETE&quot;/&gt;

                                    <xsl:if test="$param.PrivateKey != ''">&lt;L7p:KeyAlias stringValue=&quot;<xsl:value-of select="$param.PrivateKey"/>&quot;/&gt;</xsl:if>

                                    &lt;L7p:NonDefaultKeystoreId goidValue=&quot;00000000000000000000000000000002&quot;/&gt;

                                    &lt;L7p:PassThroughSoapFaults booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:PassthroughHttpAuthentication booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:ProtectedServiceUrl stringValue=&quot;&#36;{routeUrl}&quot;/&gt;

                                    &lt;L7p:ProxyPassword stringValueNull=&quot;null&quot;/&gt;

                                    &lt;L7p:ProxyUsername stringValueNull=&quot;null&quot;/&gt;

                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;

                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;

                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;SOAPAction&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;

                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet=&quot;included&quot;&gt;

                                    &lt;L7p:ForwardAll booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;/&gt;
                                    &lt;/L7p:RequestParamRules&gt;

                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;

                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;

                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;Set-Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;

                                    &lt;L7p:SamlAssertionVersion intValue=&quot;2&quot;/&gt;

                                    &lt;L7p:UsesDefaultKeyStore booleanValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:HttpRoutingAssertion&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;

                                    &lt;L7p:Detail stringValue=&quot;failed accessing &#36;{routeUrl}*** &#36;{response.mainpart}&quot;/&gt;

                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5yb3V0ZTozMDI=&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;VGhlcmUgd2FzIHByb2JsZW0gY29ubmVjdGluZyB0byB0aGUgbWFuYWdlZCBHYXRld2F5&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;deleting non existing application, no managed gateway call necessary&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//let the odata producer handle this&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5yb3V0ZTozMDI=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;VGhlcmUgd2FzIHByb2JsZW0gY29ubmVjdGluZyB0byB0aGUgbWFuYWdlZCBHYXRld2F5&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;DELETE&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:TrueAssertion/&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;methods&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:assertionComment&gt;
                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;Applications&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;ManagedGateways&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;GET&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;managedGatewayUrls&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:Split&gt;
                                    &lt;L7p:InputVariable stringValue=&quot;managed.gateway&quot;/&gt;
                                    &lt;L7p:OutputVariable stringValue=&quot;split.gateways&quot;/&gt;
                                    &lt;/L7p:Split&gt;
                                    &lt;L7p:ForEachLoop
                                    L7p:Usage=&quot;Required&quot;
                                    loopVariable=&quot;split.gateways&quot; variablePrefix=&quot;single.gateway&quot;&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaptureVar stringValue=&quot;managed.gateway.url&quot;/&gt;
                                    &lt;L7p:FindAll booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;single.gateway.current&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;https?://([^/:]*)(:\d+)/&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:ManipulateMultiValuedVariable&gt;
                                    &lt;L7p:SourceVariableName stringValue=&quot;managed.gateway.url[0]&quot;/&gt;
                                    &lt;L7p:TargetVariableName stringValue=&quot;managed.gateway.urls&quot;/&gt;
                                    &lt;/L7p:ManipulateMultiValuedVariable&gt;
                                    &lt;/L7p:ForEachLoop&gt;
                                    &lt;L7p:Join&gt;
                                    &lt;L7p:InputVariable stringValue=&quot;managed.gateway.urls&quot;/&gt;
                                    &lt;L7p:OutputVariable stringValue=&quot;managed.gateway.urls&quot;/&gt;
                                    &lt;/L7p:Join&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHttYW5hZ2VkLmdhdGV3YXkudXJsc30=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;GET&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;methods&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:assertionComment&gt;
                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;ManagedGateways()&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;MetricsSync&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;ew0KIlNUQVJUIiwiJHtnYXRld2F5LnRpbWUudXRjfSI=&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;GET&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;QVBJ&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;type&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;syncing &#36;{type}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:MaxRecords intValue=&quot;1000&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;SSG_API_ID&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;SELECT SSG_API_ID,NAME FROM API&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtvdXRwdXR9DQosIiR7dHlwZX0iLCR7amRiY1F1ZXJ5LnF1ZXJ5cmVzdWx0LmNvdW50fQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:ForEachLoop
                                    L7p:Usage=&quot;Required&quot;
                                    loopVariable=&quot;jdbcQuery.UUID&quot; variablePrefix=&quot;record&quot;&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{record.iterations}&quot;/&gt;

                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;jdbcQuery.UUID&quot;/&gt;

                                    &lt;L7p:OutputVariableName stringValue=&quot;entity_id&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{record.iterations}&quot;/&gt;

                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;jdbcQuery.NAME&quot;/&gt;

                                    &lt;L7p:OutputVariableName stringValue=&quot;entity_name_value&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{analytics.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;INSERT INTO API (UUID,NAME) values (&#36;{entity_id},&#36;{entity_name_value})  ON DUPLICATE KEY UPDATE NAME=&#36;{entity_name_value}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;/L7p:ForEachLoop&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;sync API&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;QVBQTElDQVRJT04=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;type&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;syncing &#36;{type}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:MaxRecords intValue=&quot;1000&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;SELECT UUID,NAME FROM APPLICATION&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtvdXRwdXR9DQosIiR7dHlwZX0iLCR7amRiY1F1ZXJ5LnF1ZXJ5cmVzdWx0LmNvdW50fQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:ForEachLoop
                                    L7p:Usage=&quot;Required&quot;
                                    loopVariable=&quot;jdbcQuery.UUID&quot; variablePrefix=&quot;record&quot;&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{record.iterations}&quot;/&gt;

                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;jdbcQuery.UUID&quot;/&gt;

                                    &lt;L7p:OutputVariableName stringValue=&quot;entity_id&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{record.iterations}&quot;/&gt;

                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;jdbcQuery.NAME&quot;/&gt;

                                    &lt;L7p:OutputVariableName stringValue=&quot;entity_name_value&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{analytics.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;INSERT INTO APPLICATION (UUID,NAME) values (&#36;{entity_id},&#36;{entity_name_value})  ON DUPLICATE KEY UPDATE NAME=&#36;{entity_name_value}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;/L7p:ForEachLoop&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;sync APPLICATION&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;T1JHQU5JWkFUSU9O&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;type&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;syncing &#36;{type}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:MaxRecords intValue=&quot;1000&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ACCOUNT_PLAN_UUID&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;ACCOUNT_PLAN_UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;SELECT UUID,NAME,ACCOUNT_PLAN_UUID FROM ORGANIZATION&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtvdXRwdXR9DQosIiR7dHlwZX0iLCR7amRiY1F1ZXJ5LnF1ZXJ5cmVzdWx0LmNvdW50fQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:ForEachLoop
                                    L7p:Usage=&quot;Required&quot;
                                    loopVariable=&quot;jdbcQuery.UUID&quot; variablePrefix=&quot;record&quot;&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{record.iterations}&quot;/&gt;

                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;jdbcQuery.UUID&quot;/&gt;

                                    &lt;L7p:OutputVariableName stringValue=&quot;entity_id&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{record.iterations}&quot;/&gt;

                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;jdbcQuery.NAME&quot;/&gt;

                                    &lt;L7p:OutputVariableName stringValue=&quot;entity_name_value&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{record.iterations}&quot;/&gt;

                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;jdbcQuery.ACCOUNT_PLAN_UUID&quot;/&gt;

                                    &lt;L7p:OutputVariableName stringValue=&quot;account_plan_uuid_value&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{analytics.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;INSERT INTO ORGANIZATION (UUID,NAME,ACCOUNT_PLAN_UUID) values (&#36;{entity_id},&#36;{entity_name_value},&#36;{account_plan_uuid_value})  ON DUPLICATE KEY UPDATE NAME=&#36;{entity_name_value},ACCOUNT_PLAN_UUID=&#36;{account_plan_uuid_value}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;/L7p:ForEachLoop&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;sync ORGANIZATION&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;QUNDT1VOVF9QTEFO&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;type&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;syncing &#36;{type}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:MaxRecords intValue=&quot;1000&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;QUOTA&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;QUOTA&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;QUOTA_INTERVAL&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;QUOTA_INTERVAL&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;SELECT UUID,NAME,QUOTA,QUOTA_INTERVAL FROM ACCOUNT_PLAN&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtvdXRwdXR9DQosIiR7dHlwZX0iLCR7amRiY1F1ZXJ5LnF1ZXJ5cmVzdWx0LmNvdW50fQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:ForEachLoop
                                    L7p:Usage=&quot;Required&quot;
                                    loopVariable=&quot;jdbcQuery.UUID&quot; variablePrefix=&quot;record&quot;&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{record.iterations}&quot;/&gt;

                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;jdbcQuery.UUID&quot;/&gt;

                                    &lt;L7p:OutputVariableName stringValue=&quot;entity_id&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{record.iterations}&quot;/&gt;

                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;jdbcQuery.NAME&quot;/&gt;

                                    &lt;L7p:OutputVariableName stringValue=&quot;entity_name_value&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{record.iterations}&quot;/&gt;

                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;jdbcQuery.QUOTA&quot;/&gt;

                                    &lt;L7p:OutputVariableName stringValue=&quot;quota_value&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{record.iterations}&quot;/&gt;

                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;jdbcQuery.QUOTA_INTERVAL&quot;/&gt;

                                    &lt;L7p:OutputVariableName stringValue=&quot;quota_interval_value&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{analytics.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;INSERT INTO ACCOUNT_PLAN (UUID,NAME,QUOTA,QUOTA_INTERVAL) values (&#36;{entity_id},&#36;{entity_name_value},&#36;{quota_value},&#36;{quota_interval_value})  ON DUPLICATE KEY UPDATE NAME=&#36;{entity_name_value},QUOTA=&#36;{quota_value},QUOTA_INTERVAL=&#36;{quota_interval_value}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;/L7p:ForEachLoop&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;sync ACCOUNT_PLAN&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;GET&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;methods&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;JHtvdXRwdXR9DQosIkVORCIsIiR7Z2F0ZXdheS50aW1lLnV0Y30iDQp9&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:assertionComment&gt;
                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;MetricsSync()&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PostProcessing&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;POST&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{post-processing-action}&quot;/&gt;
                                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;publish-api&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;cG9zdC1wcm9jZXNzaW5nIC0gJHtwb3N0LXByb2Nlc3NpbmctYWN0aW9ufSwgJHtwb3N0LXByb2Nlc3NpbmctdXVpZH0=&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:assertionComment&gt;
                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;PostProcessing&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;L7p:CommentAssertion&gt;
                            &lt;L7p:Comment stringValue=&quot;=======================&quot;/&gt;
                        &lt;/L7p:CommentAssertion&gt;
                        &lt;L7p:CommentAssertion&gt;
                            &lt;L7p:Comment stringValue=&quot;Add logic here if we want to fast fail&quot;/&gt;
                        &lt;/L7p:CommentAssertion&gt;
                        &lt;L7p:CommentAssertion&gt;
                            &lt;L7p:Comment stringValue=&quot;=======================&quot;/&gt;
                        &lt;/L7p:CommentAssertion&gt;
                        &lt;L7p:TrueAssertion&gt;
                            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//let the odata producer handle the rest&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                        &lt;/L7p:TrueAssertion&gt;
                        &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;main&quot;/&gt;
                                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                    &lt;/wsp:OneOrMore&gt;
                    &lt;L7p:CommentAssertion&gt;
                        &lt;L7p:Comment stringValue=&quot;if output variable was set, OData Producer will not be executed&quot;/&gt;
                    &lt;/L7p:CommentAssertion&gt;
                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//there is already an error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                            &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                            &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                            &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                            &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                &lt;/L7p:item&gt;
                                &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//there is already an error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;
                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{output}&quot;/&gt;
                                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:AuditDetailAssertion&gt;
                                &lt;L7p:Detail stringValue=&quot;returning cache information - &#36;{cache.log.message}&quot;/&gt;
                            &lt;/L7p:AuditDetailAssertion&gt;
                        &lt;/wsp:All&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0T3JpZ2luYWwubWFpbnBhcnR9&quot;/&gt;
                                &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
                                &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;request&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//there is already an error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;
                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;Mg==&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;odata.servicePathIndex&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;dHJ1ZQ==&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;odata.showInlineError&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:AuditDetailAssertion&gt;
                                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;before-odata-ass&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;
                                &lt;L7p:Detail stringValue=&quot;before-odata-ass-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                            &lt;/L7p:AuditDetailAssertion&gt;
                            &lt;L7p:ODataProducer&gt;
                                &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;
                            &lt;/L7p:ODataProducer&gt;
                            &lt;L7p:AuditDetailAssertion&gt;
                                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;after-odata-ass&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;
                                &lt;L7p:Detail stringValue=&quot;after-odata-ass-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                            &lt;/L7p:AuditDetailAssertion&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;JHtyZXNwb25zZS5odHRwLnN0YXR1c30=&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;httpStatusCode&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;JHtyZXNwb25zZS5odHRwLmhlYWRlci5Db250ZW50LVR5cGV9&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;content_type&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;GET&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{mode}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;$metadata&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:XslTransformation&gt;
                                    &lt;L7p:Direction intValue=&quot;2&quot;/&gt;
                                    &lt;L7p:ResourceInfo staticResourceInfo=&quot;included&quot;&gt;
                                    &lt;L7p:Document stringValue=&quot;&amp;lt;xsl:stylesheet version=&amp;quot;2.0&amp;quot; xmlns=&amp;quot;http://schemas.microsoft.com/ado/2008/09/edm&amp;quot; xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot; xmlns:edmx=&amp;quot;http://schemas.microsoft.com/ado/2007/06/edmx&amp;quot;                xmlns:m=&amp;quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&amp;quot;&gt;&amp;#x9;&amp;lt;xsl:template match=&amp;quot;@*|node()&amp;quot;&gt;&amp;#x9;&amp;#x9;&amp;lt;xsl:copy&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;xsl:apply-templates select=&amp;quot;@*|node()&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;lt;/xsl:copy&gt;&amp;#x9;&amp;lt;/xsl:template&gt;&amp;#x9;&amp;lt;!--&amp;lt;xsl:template match=&amp;quot;node()[name()=&apos;EntityType&apos; and @Name=&apos;Api&apos;]&amp;quot;&gt;&amp;#x9;&amp;#x9;&amp;lt;xsl:copy&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;xsl:apply-templates select=&amp;quot;@*|node()&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;Property Name=&amp;quot;PolicyTemplateArguments&amp;quot; Type=&amp;quot;JdbcEntities.Tenant1.ApiPolicyTemplateArgument&amp;quot; Nullable=&amp;quot;true&amp;quot; CollectionKind=&amp;quot;Collection&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;lt;/xsl:copy&gt;&amp;#x9;&amp;lt;/xsl:template&gt;--&gt;&amp;#x9;&amp;lt;xsl:template match=&amp;quot;node()[name()=&apos;EntityContainer&apos; and @Name=&apos;Tenant1&apos;]&amp;quot;&gt;&amp;#x9;&amp;#x9;&amp;lt;!--&amp;lt;ComplexType Name=&amp;quot;ApiPolicyTemplateArgument&amp;quot;&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;Property Name=&amp;quot;Name&amp;quot; Type=&amp;quot;Edm.String&amp;quot; Nullable=&amp;quot;false&amp;quot; /&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;Property Name=&amp;quot;Value&amp;quot; Type=&amp;quot;Edm.String&amp;quot; Nullable=&amp;quot;false&amp;quot; /&gt;&amp;#x9;&amp;#x9;&amp;lt;/ComplexType&gt;&amp;#x9;&amp;#x9;&amp;lt;ComplexType Name=&amp;quot;PolicyTemplateArgument&amp;quot;&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;Property Name=&amp;quot;Name&amp;quot; Type=&amp;quot;Edm.String&amp;quot; Nullable=&amp;quot;true&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;Property Name=&amp;quot;Type&amp;quot; Type=&amp;quot;Edm.String&amp;quot; Nullable=&amp;quot;true&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;Property Name=&amp;quot;Label&amp;quot; Type=&amp;quot;Edm.String&amp;quot; Nullable=&amp;quot;true&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;lt;/ComplexType&gt;&amp;#x9;&amp;#x9;&amp;lt;ComplexType Name=&amp;quot;PolicyTemplateFragmentDetails&amp;quot;&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;Property Name=&amp;quot;ParsedPolicyDetails&amp;quot; Type=&amp;quot;Edm.String&amp;quot; Nullable=&amp;quot;true&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;Property Name=&amp;quot;HasRouting&amp;quot; Type=&amp;quot;Edm.Boolean&amp;quot; Nullable=&amp;quot;true&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;lt;/ComplexType&gt;&amp;#x9;&amp;#x9;&amp;lt;ComplexType Name=&amp;quot;PolicyTemplate&amp;quot;&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;Property Name=&amp;quot;Uuid&amp;quot; Type=&amp;quot;Edm.String&amp;quot; Nullable=&amp;quot;true&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;Property Name=&amp;quot;FragmentDetails&amp;quot; Type=&amp;quot;JdbcEntities.Tenant1.PolicyTemplateFragmentDetails&amp;quot; Nullable=&amp;quot;true&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;Property Name=&amp;quot;Name&amp;quot; Type=&amp;quot;Edm.String&amp;quot; Nullable=&amp;quot;true&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;Property Name=&amp;quot;Description&amp;quot; Type=&amp;quot;Edm.String&amp;quot; Nullable=&amp;quot;true&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;Property Name=&amp;quot;PolicyGuid&amp;quot; Type=&amp;quot;Edm.String&amp;quot; Nullable=&amp;quot;true&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;Property Name=&amp;quot;EncassId&amp;quot; Type=&amp;quot;Edm.String&amp;quot; Nullable=&amp;quot;true&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;Property Name=&amp;quot;HasRouting&amp;quot; Type=&amp;quot;Edm.Boolean&amp;quot; Nullable=&amp;quot;true&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;Property Name=&amp;quot;Arguments&amp;quot; Type=&amp;quot;JdbcEntities.Tenant1.PolicyTemplateArgument&amp;quot; Nullable=&amp;quot;true&amp;quot; CollectionKind=&amp;quot;Collection&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;lt;/ComplexType&gt;--&gt;&amp;#x9;&amp;#x9;&amp;lt;xsl:copy&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;xsl:apply-templates select=&amp;quot;@*|node()&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;!--&amp;lt;FunctionImport Name=&amp;quot;PolicyTemplates&amp;quot; ReturnType=&amp;quot;Collection(JdbcEntities.Tenant1.PolicyTemplate)&amp;quot; m:HttpMethod=&amp;quot;GET&amp;quot;/&gt;--&gt;&amp;#x9;&amp;#x9;&amp;#x9;&amp;lt;FunctionImport Name=&amp;quot;ManagedGateways&amp;quot; ReturnType=&amp;quot;Collection(Edm.String)&amp;quot; m:HttpMethod=&amp;quot;GET&amp;quot;/&gt;&amp;#x9;&amp;#x9;&amp;lt;/xsl:copy&gt;&amp;#x9;&amp;lt;/xsl:template&gt;&amp;lt;/xsl:stylesheet&gt;&quot;/&gt;
                                    &lt;/L7p:ResourceInfo&gt;
                                    &lt;L7p:Target target=&quot;RESPONSE&quot;/&gt;
                                    &lt;L7p:TransformName stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:XsltVersion stringValue=&quot;2.0&quot;/&gt;
                                    &lt;/L7p:XslTransformation&gt;
                                    &lt;L7p:CacheStorage&gt;
                                    &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{cache.metadata.name}&quot;/&gt;
                                    &lt;L7p:MaxEntryAgeSeconds stringValue=&quot;&#36;{cache.metadata.timeout}&quot;/&gt;
                                    &lt;/L7p:CacheStorage&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;GET $metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//caching logics&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:OneOrMore&gt;
                                &lt;L7p:TrueAssertion/&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;caching&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;JHtyZXNwb25zZS5tYWlucGFydH0=&quot;/&gt;
                                &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:assertionComment&gt;
                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;OData Producer Call&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:AuditDetailAssertion&gt;
                                &lt;L7p:Detail stringValue=&quot;detected a failure in OData Assertion&quot;/&gt;
                            &lt;/L7p:AuditDetailAssertion&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//there is already an error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:AssertionComment&gt;
                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;JHtyZXNwb25zZS5odHRwLnN0YXR1c30=&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:CustomizeErrorResponse&gt;
                                &lt;L7p:Content stringValue=&quot;&#36;{response.mainpart}&quot;/&gt;
                                &lt;L7p:ContentType stringValue=&quot;&#36;{response.http.header.Content-Type}&quot;/&gt;
                                &lt;L7p:ExtraHeaders nameValuePairArray=&quot;included&quot;/&gt;
                                &lt;L7p:HttpStatus stringValue=&quot;&#36;{response.http.status}&quot;/&gt;
                            &lt;/L7p:CustomizeErrorResponse&gt;
                            &lt;L7p:FalseAssertion/&gt;
                        &lt;/wsp:All&gt;
                        &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;OData Producer&quot;/&gt;
                                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                    &lt;/wsp:OneOrMore&gt;
                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:AuditDetailAssertion&gt;
                                &lt;L7p:Detail stringValue=&quot;performSync=&#36;{performSync}&quot;/&gt;
                            &lt;/L7p:AuditDetailAssertion&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{performSync}&quot;/&gt;
                                &lt;L7p:Expression2 stringValue=&quot;true&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtnYXRld2F5LnRpbWV9&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;cache.log.message&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:CacheStorage&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//flag to indicate we already made a sync&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{cache.portal.managed.gateway.last.sync.name}&quot;/&gt;
                                    &lt;L7p:MaxEntryAgeSeconds stringValue=&quot;&#36;{cache.portal.managed.gateway.last.sync.timeout}&quot;/&gt;
                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;cache.log.message&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:CacheStorage&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;setting last sync flag as &#36;{cache.log.message}. timeout=&#36;{cache.portal.managed.gateway.last.sync.timeout},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHttYW5hZ2VkLmdhdGV3YXl9L2FwaXM/c2hvd0RldGFpbHM9dHJ1ZQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;routeUrl&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;before-route&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;before-route-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:HttpRoutingAssertion&gt;
                                    &lt;L7p:FailOnErrorStatus booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:HttpMethod httpMethod=&quot;GET&quot;/&gt;
                                    <xsl:if test="$param.PrivateKey != ''">&lt;L7p:KeyAlias stringValue=&quot;<xsl:value-of select="$param.PrivateKey"/>&quot;/&gt;</xsl:if>
                                    &lt;L7p:NonDefaultKeystoreId goidValue=&quot;00000000000000000000000000000002&quot;/&gt;

                                    &lt;L7p:PassthroughHttpAuthentication booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:ProtectedServiceUrl stringValue=&quot;&#36;{routeUrl}&quot;/&gt;
                                    &lt;L7p:ProxyPassword stringValueNull=&quot;null&quot;/&gt;
                                    &lt;L7p:ProxyUsername stringValueNull=&quot;null&quot;/&gt;
                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                                    &lt;L7p:Name stringValue=&quot;Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                                    &lt;L7p:Name stringValue=&quot;SOAPAction&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;
                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:ForwardAll booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;/&gt;
                                    &lt;/L7p:RequestParamRules&gt;
                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                                    &lt;L7p:Name stringValue=&quot;Set-Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;
                                    &lt;L7p:SamlAssertionVersion intValue=&quot;2&quot;/&gt;
                                    &lt;L7p:UsesDefaultKeyStore booleanValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:HttpRoutingAssertion&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;after-route&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;after-route-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;importedApiIds&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;portalmanApis&quot;/&gt;
                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;
                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api&quot;/&gt;
                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ForEachLoop
                                    L7p:Usage=&quot;Required&quot;
                                    loopVariable=&quot;portalmanApis.elements&quot; variablePrefix=&quot;api&quot;&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;***&#36;{api.iterations}:&#36;{api.current},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;PGw3OkFwaXMgeG1sbnM6bDc9Imh0dHA6Ly9ucy5sN3RlY2guY29tLzIwMTIvMDQvYXBpLW1hbmFnZW1lbnQiPg0KJHthcGkuY3VycmVudH0NCjwvbDc6QXBpcz4=&quot;/&gt;
                                    &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
                                    &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;singleApiSection&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;&#36;{singleApiSection.mainpart}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;ApiId&quot;/&gt;
                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ApiId&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;ApiGroup&quot;/&gt;
                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ApiGroup&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;ServiceOID&quot;/&gt;
                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ServiceOID&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;ServiceVersion&quot;/&gt;
                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ServiceVersion&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;ServiceName&quot;/&gt;
                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ServiceName&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;ServiceEnabled&quot;/&gt;
                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ServiceEnabled&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;UrlPattern&quot;/&gt;
                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ServiceDetails/l7:UrlPattern&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;Soap&quot;/&gt;
                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ServiceDetails/l7:Soap&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;Internal&quot;/&gt;
                                    &lt;L7p:XmlMsgSrc stringValue=&quot;singleApiSection&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:Api/l7:ServiceDetails/l7:Internal&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// Build API ID string: &amp;quot;1,2,3,&amp;quot;&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtpbXBvcnRlZEFwaUlkc30ke0FwaUlkLnJlc3VsdH0s&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;importedApiIds&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:MapValue&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// Set ServiceType  (SOAP/REST)&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:InputExpr stringValue=&quot;&#36;{Soap.result}&quot;/&gt;
                                    &lt;L7p:Mappings nameValuePairArray=&quot;included&quot;&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Value stringValue=&quot;SOAP&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Value stringValue=&quot;REST&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Mappings&gt;
                                    &lt;L7p:OutputVar stringValue=&quot;ServiceType&quot;/&gt;
                                    &lt;/L7p:MapValue&gt;
                                    &lt;L7p:MapValue&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// Set ServiceStatus (ENABLED/DISABLED)&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:InputExpr stringValue=&quot;&#36;{ServiceEnabled.result}&quot;/&gt;
                                    &lt;L7p:Mappings nameValuePairArray=&quot;included&quot;&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Value stringValue=&quot;ENABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Value stringValue=&quot;DISABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Mappings&gt;
                                    &lt;L7p:OutputVar stringValue=&quot;ServiceStatus&quot;/&gt;
                                    &lt;/L7p:MapValue&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;&#36;{ApiId.result},&#36;{ApiGroup.result},&#36;{ServiceOID.result},&#36;{ServiceVersion.result},&#36;{ServiceName.result},&#36;{ServiceEnabled.result},&#36;{UrlPattern.result},&#36;{ServiceType},&#36;{ServiceStatus}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// Get existing.status for imported API&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;portal_status&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;portalStatus&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;ssg_status&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;ssgStatus&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;SELECT portal_status, ssg_status FROM API WHERE ssg_api_id = &#36;{ApiId.result}&quot;/&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;statusQuery&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;query-trace-1&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:Detail stringValue=&quot;query-1-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;

                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// set existing.ssg_status to imported.status&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET ssg_status = &#36;{ServiceStatus}, modify_ts= &#36;{gateway.time.millis}, ssg_version = &#36;{ServiceVersion.result}, modified_by= &#36;{SYSTEM_DB_USER} WHERE ssg_api_id = &#36;{ApiId.result} AND ssg_status != &#36;{ServiceStatus}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;query-trace-2&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:Detail stringValue=&quot;query-2-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;

                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// set existing.portal_status to imported.status except for NEW, DISABLED&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET portal_status = &#36;{ServiceStatus}, modify_ts= &#36;{gateway.time.millis}, ssg_version = &#36;{ServiceVersion.result}, modified_by= &#36;{SYSTEM_DB_USER} WHERE ssg_api_id = &#36;{ApiId.result} AND portal_status != &#36;{ServiceStatus} AND portal_status NOT IN (&apos;NEW&apos;,&apos;DISABLED&apos;)&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;query-trace-3&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:Detail stringValue=&quot;query-3-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;

                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:assertionComment&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// if (API exists in DB) { ... }&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:UUIDGenerator&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// ID for API to insert&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:MaximumQuantity intValue=&quot;1&quot;/&gt;

                                    &lt;L7p:TargetVariable stringValue=&quot;generatedUuid&quot;/&gt;
                                    &lt;/L7p:UUIDGenerator&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtnYXRld2F5LnRpbWUudXRjLnl5eXktTU0tZGQgSEg6bW06c3N9&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;now&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// Insert API&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;INSERT INTO API (uuid, ssg_api_id, ssg_name, name, portal_status, ssg_status, access_status, published_by_portal, version, ssg_version, ssg_service_type, ssg_url, modify_ts, create_ts, created_by) VALUES (&#36;{generatedUuid}, &#36;{ApiId.result}, &#36;{ServiceName.result}, &#36;{ServiceName.result}, &apos;NEW&apos;, &#36;{ServiceStatus}, &apos;PUBLIC&apos;, 0, &#36;{ServiceVersion.result}, &#36;{ServiceVersion.result}, &#36;{ServiceType}, &#36;{UrlPattern.result}, 0, &#36;{gateway.time.millis}, &#36;{SYSTEM_DB_USER})&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;query-trace-4&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:Detail stringValue=&quot;query-4-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;

                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:assertionComment&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// else { insert API in DB }&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// Status sync&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;/L7p:ForEachLoop&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;got response but no apis for &#36;{routeUrl}*** &#36;{response.mainpart}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// Add dummy ID so the &amp;quot;NOT IN (...)&amp;quot; clause won&apos;t be empty and produce invalid SQL when list of APIs is empty&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;bm9uLWV4aXN0ZW50LWR1bW15LWlkLCR7aW1wb3J0ZWRBcGlJZHN9&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;importedApiIds&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:Split&gt;
                                    &lt;L7p:IgnoreEmptyValues booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:InputVariable stringValue=&quot;importedApiIds&quot;/&gt;
                                    &lt;L7p:OutputVariable stringValue=&quot;importedApiIdList&quot;/&gt;
                                    &lt;L7p:SplitPatternRegEx booleanValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:Split&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// First delete all APIs from the DB that were not in the sync and have a status of NEW&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;DELETE FROM API WHERE ssg_api_id NOT IN (&#36;{importedApiIdList}) AND portal_status = &apos;NEW&apos;&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-5&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-5-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// Then mark all remaining APIs in DB that were not in the sync response as deleted&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET portal_status = &apos;DISABLED&apos;, ssg_status = &apos;DELETED&apos;, modify_ts = &#36;{gateway.time.millis} WHERE ssg_api_id NOT IN (&#36;{importedApiIdList}) AND portal_status &amp;lt;&gt; &apos;NEW&apos; AND ((modify_ts = 0 AND &#36;{gateway.time.millis} - create_ts &gt; 10000) or (modify_ts != 0 AND &#36;{gateway.time.millis} - modify_ts &gt; 10000))&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-6&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-6-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// Handle APIs that were deleted from the SSG&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if NEW and SSG status != ENABLED , Alert flag = Y&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 1, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_status = &apos;NEW&apos; AND ssg_status != &apos;ENABLED&apos; AND status_alert != 1&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-7&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-7-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if NEW and SSG status ENABLED , Alert flag = N&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 0, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_status = &apos;NEW&apos; AND ssg_status = &apos;ENABLED&apos; AND status_alert != 0&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-8&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-8-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if not NEW &amp;amp; DEPRECATED and portal_status != portal_admin_status , Alert flag = Y&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 1, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_status NOT IN (&apos;NEW&apos;,&apos;DEPRECATED&apos;) AND portal_status != portal_admin_status AND status_alert != 1&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-9&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-9-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if not NEW &amp;amp; DEPRECATED and portal_status == portal_admin_status , Alert flag = N&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 0, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_status NOT IN (&apos;NEW&apos;,&apos;DEPRECATED&apos;) AND portal_status = portal_admin_status AND status_alert != 0&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-10&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-10-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if portal_admin_status = DISABLED and SSG status != DISABLED, Alert flag = Y&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 1, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_admin_status = &apos;DISABLED&apos; AND ssg_status != &apos;DISABLED&apos; AND status_alert != 1&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-11&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-11-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if portal_admin_status = DISABLED and SSG status == DISABLED, Alert flag = N&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 0, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_admin_status = &apos;DISABLED&apos; AND ssg_status = &apos;DISABLED&apos; AND status_alert != 0&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-12&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-12-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if portal_admin_status = DEPRECATED and SSG status != ENABLED, Alert flag = Y&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 1, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_admin_status = &apos;DEPRECATED&apos; AND ssg_status != &apos;ENABLED&apos; AND status_alert != 1&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-13&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-13-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if portal_admin_status = DEPRECATED and SSG status == DISABLED, Alert flag = N&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 0, portal_status = &apos;DEPRECATED&apos;, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_admin_status = &apos;DEPRECATED&apos; AND ssg_status = &apos;ENABLED&apos; AND status_alert != 0&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-14&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-14-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if portal_admin_status == SSG status == ENABLED and Alert flag = Y, Alert Flag = N&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 0, portal_status = &apos;ENABLED&apos;, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_admin_status = &apos;ENABLED&apos; AND ssg_status = &apos;ENABLED&apos; AND status_alert != 0&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-15&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-15-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if portal_admin_status is NULL/empty but Portal Status == SSG status == ENABLED and Alert flag = Y, Alert Flag = N&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 0, portal_admin_status = &apos;ENABLED&apos;, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE portal_status = &apos;ENABLED&apos; AND ssg_status = &apos;ENABLED&apos; AND portal_admin_status IN (&apos;&apos;, NULL) AND status_alert != 0&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-16&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-16-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// if portal_admin_status is NULL/empty but SSG status == ENABLED and Alert flag = Y, sync too soon&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE API SET status_alert = 0, portal_admin_status = &apos;ENABLED&apos;, modify_ts= &#36;{gateway.time.millis}, modified_by= &#36;{SYSTEM_DB_USER} WHERE ssg_status = &apos;ENABLED&apos; AND portal_admin_status IN (&apos;&apos;, NULL) AND status_alert = 1&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;query-trace-17&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Detail stringValue=&quot;query-17-trace,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//Alert Flag Updates&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;finished processing portalman results on &#36;{gateway.time}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;managedGatewayRead()&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//re-read everything from the managed gateway&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:All&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;failed accessing &#36;{routeUrl}*** &#36;{response.mainpart}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5yb3V0ZTozMDI=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;VGhlcmUgd2FzIHByb2JsZW0gY29ubmVjdGluZyB0byB0aGUgbWFuYWdlZCBHYXRld2F5&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;managedGatewayError&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:All&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue=&quot;JHtvdXRwdXR9DQosIkVuZCIgOiAiJHtnYXRld2F5LnRpbWUudXRjfSINCn0=&quot;/&gt;
                                &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:assertionComment&gt;
                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;sync()&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:assertionComment&gt;
                        &lt;/wsp:All&gt;
                        &lt;L7p:TrueAssertion/&gt;
                        &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;SyncApis-actual&quot;/&gt;
                                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                    &lt;/wsp:OneOrMore&gt;
                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//there is already an error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                            &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                            &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                            &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                            &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                &lt;/L7p:item&gt;
                                &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//there is already an error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{odata.batch.hasError}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;boolean&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{post-processing-action}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;publish-api&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{post-processing-sync-mode}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;asynchronous&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;sync&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;PostProcessing&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{post-processing-action}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;publish-api&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;async&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;POLICY_TEMPLATE_UUID&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;POLICY_TEMPLATE_UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;PORTAL_STATUS&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;PORTAL_STATUS&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;select PORTAL_STATUS, POLICY_TEMPLATE_UUID from API where UUID=&#36;{post-processing-uuid}&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;apiInfo&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;portalStatus:&#36;{apiInfo.PORTAL_STATUS}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{apiInfo.PORTAL_STATUS}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;ENABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{apiInfo.PORTAL_STATUS}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;DISABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{apiInfo.PORTAL_STATUS}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;DEPRECATED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:MapValue&gt;
                                    &lt;L7p:InputExpr stringValue=&quot;&#36;{apiInfo.PORTAL_STATUS}&quot;/&gt;
                                    &lt;L7p:Mappings nameValuePairArray=&quot;included&quot;&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;ENABLED&quot;/&gt;

                                    &lt;L7p:Value stringValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;DISABLED&quot;/&gt;

                                    &lt;L7p:Value stringValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;DEPRECATED&quot;/&gt;

                                    &lt;L7p:Value stringValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Mappings&gt;
                                    &lt;L7p:OutputVar stringValue=&quot;ServiceEnabled&quot;/&gt;
                                    &lt;/L7p:MapValue&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//get API state&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;VALUE&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;VALUE&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;select APTX.NAME, APTX.VALUE from API_POLICY_TEMPLATE_XREF as APTX left join API on APTX.API_UUID = API.UUID where APTX.API_UUID = &#36;{post-processing-uuid} and APTX.POLICY_TEMPLATE_UUID = &#36;{apiInfo.POLICY_TEMPLATE_UUID}&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;policyTemplateArgsQuery&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:ForEachLoop
                                    L7p:Usage=&quot;Required&quot;
                                    loopVariable=&quot;policyTemplateArgsQuery.NAME&quot; variablePrefix=&quot;argName&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHthcmdOYW1lLml0ZXJhdGlvbnN9&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;policyTemplateArgIndex&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{policyTemplateArgIndex}&quot;/&gt;

                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;policyTemplateArgsQuery.VALUE&quot;/&gt;

                                    &lt;L7p:OutputVariableName stringValue=&quot;argValue.current&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;argValue.current&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;amp;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;amp;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;argValue.current&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;lt;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;lt;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;argValue.current&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&gt;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;gt;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;argValue.current&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;quot;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;quot;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;argValue.current&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&apos;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;apos;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHthcGlGcmFnbWVudEFyZ3N9DQoJICAgICAgICAgICAgICAgICAgICA8bDc6ZW50cnk+DQoJICAgICAgICAgICAgICAgICAgICAgICAgPGw3OmtleSBzdHJpbmdWYWx1ZT0iJHthcmdOYW1lLmN1cnJlbnR9Ii8+DQoJICAgICAgICAgICAgICAgICAgICAgICAgPGw3OnZhbHVlIHN0cmluZ1ZhbHVlPSIke2FyZ1ZhbHVlLmN1cnJlbnR9Ii8+DQoJICAgICAgICAgICAgICAgICAgICA8L2w3OmVudHJ5Pg==&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;apiFragmentArgs&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/L7p:ForEachLoop&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;SSG_URL&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;SSG_URL&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;select NAME,SSG_URL from API where UUID = &#36;{post-processing-uuid}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtqZGJjUXVlcnkuTkFNRVswXX0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;apiName&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiName&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;amp;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;amp;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiName&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;lt;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;lt;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiName&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&gt;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;gt;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiName&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;quot;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;quot;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiName&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&apos;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;apos;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtqZGJjUXVlcnkuU1NHX1VSTFswXX0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;apiUrl&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiUrl&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;amp;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;amp;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiUrl&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;lt;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;lt;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiUrl&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&gt;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;gt;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiUrl&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;quot;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;quot;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiUrl&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&apos;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;apos;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHttYW5hZ2VkLmdhdGV3YXl9L2FwaXM=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;routeUrl&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;PGw3OkFwaSB4bWxuczpsNz0iaHR0cDovL25zLmw3dGVjaC5jb20vMjAxMi8wNC9hcGktbWFuYWdlbWVudCI+DQogICAgPGw3OkFwaUlkPiR7cG9zdC1wcm9jZXNzaW5nLXV1aWR9PC9sNzpBcGlJZD4NCiAgICA8bDc6QXBpR3JvdXAvPg0KICAgIDxsNzpTZXJ2aWNlT0lELz4NCiAgICA8bDc6U2VydmljZVZlcnNpb24vPg0KICAgIDxsNzpTZXJ2aWNlTmFtZT4ke2FwaU5hbWV9PC9sNzpTZXJ2aWNlTmFtZT4NCiAgICA8bDc6U2VydmljZUVuYWJsZWQ+JHtTZXJ2aWNlRW5hYmxlZH08L2w3OlNlcnZpY2VFbmFibGVkPg0KICAgIDxsNzpTZXJ2aWNlRGV0YWlscz4NCiAgICAgICAgPGw3OlVybFBhdHRlcm4+JHthcGlVcmx9PC9sNzpVcmxQYXR0ZXJuPg0KICAgIDwvbDc6U2VydmljZURldGFpbHM+DQogICAgPGw3OlNlcnZpY2VQb2xpY3lDb25maWc+DQogICAgICAgIDxsNzpBcGlGcmFnbWVudHM+DQogICAgICAgICAgICA8bDc6QXBpRnJhZ21lbnQ+DQogICAgICAgICAgICAgICAgPGw3Okd1aWQ+JHthcGlJbmZvLlBPTElDWV9URU1QTEFURV9VVUlEfTwvbDc6R3VpZD4NCiAgICAgICAgICAgICAgICAgICAgPGw3OlBhcmFtZXRlcnM+DQogICAgICAgICAgICAgICAgICAgICAgICAke2FwaUZyYWdtZW50QXJnc30NCiAgICAgICAgICAgICAgICAgICAgPC9sNzpQYXJhbWV0ZXJzPg0KICAgICAgICAgICAgPC9sNzpBcGlGcmFnbWVudD4NCiAgICAgICAgPC9sNzpBcGlGcmFnbWVudHM+DQogICAgPC9sNzpTZXJ2aWNlUG9saWN5Q29uZmlnPg0KPC9sNzpBcGk+&quot;/&gt;
                                    &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
                                    &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;request&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0LmVsYXBzZWRUaW1lfQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;beforeTenantGatewayElapsedTime&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:HttpRoutingAssertion&gt;

                                    &lt;L7p:FailOnErrorStatus booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:HttpMethod httpMethod=&quot;PUT&quot;/&gt;
                                    <xsl:if test="$param.PrivateKey != ''">&lt;L7p:KeyAlias stringValue=&quot;<xsl:value-of select="$param.PrivateKey"/>&quot;/&gt;</xsl:if>

                                    &lt;L7p:NonDefaultKeystoreId goidValue=&quot;00000000000000000000000000000002&quot;/&gt;

                                    &lt;L7p:PassthroughHttpAuthentication booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:ProtectedServiceUrl stringValue=&quot;&#36;{routeUrl}&quot;/&gt;
                                    &lt;L7p:ProxyPassword stringValueNull=&quot;null&quot;/&gt;
                                    &lt;L7p:ProxyUsername stringValueNull=&quot;null&quot;/&gt;

                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;SOAPAction&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;

                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:ForwardAll booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;/&gt;
                                    &lt;/L7p:RequestParamRules&gt;

                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;Set-Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;
                                    &lt;L7p:ResponseMsgDest stringValue=&quot;portalmanResponse&quot;/&gt;

                                    &lt;L7p:SamlAssertionVersion intValue=&quot;2&quot;/&gt;

                                    &lt;L7p:UsesDefaultKeyStore booleanValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:HttpRoutingAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{httpRouting.reasonCode}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;int&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;500&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;pmanErrorDetail&quot;/&gt;

                                    &lt;L7p:XmlMsgSrc stringValue=&quot;portalmanResponse&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;//Detail[contains(.,&apos;ServiceName&apos;)]&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5wb3J0YWxtYW4uYXBpLnB1c2g6MzAz&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;pmanErrorDetail&quot;/&gt;

                                    &lt;L7p:XmlMsgSrc stringValue=&quot;portalmanResponse&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;//Detail[contains(.,&apos;UrlPattern&apos;)]&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5wb3J0YWxtYW4uYXBpLnB1c2g6MzA0&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5wb3J0YWxtYW4uYXBpLnB1c2g6Mzk5&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwbWFuRXJyb3JEZXRhaWwucmVzdWx0fQ==&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{post-processing-parameter1}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;create-api&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;

                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//delete APPLICATION_API_XREF record&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;DELETE from APPLICATION_API_XREF where API_UUID = &#36;{post-processing-uuid}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;clean-up Application xref&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//should not fail&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;

                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//delete ACCOUNT_PLAN_API_XREF record&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;DELETE from ACCOUNT_PLAN_API_XREF where API_UUID = &#36;{post-processing-uuid}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;clean-up AccountPlan xref&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//should not fail&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//delete API record&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;DELETE from API where UUID = &#36;{post-processing-uuid}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;resourceIdXpath&quot;/&gt;

                                    &lt;L7p:XmlMsgSrc stringValue=&quot;portalmanResponse&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:ResourceId&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//todo: do we still need this? as SSG_API_ID is already set in the initial requset&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;update API set SSG_API_ID = &#36;{resourceIdXpath.result} where UUID = &#36;{post-processing-uuid}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//clear STATUS_ALERT flag&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;update API set STATUS_ALERT = 0 where UUID = &#36;{post-processing-uuid}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//check pman response&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;publish&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//publish to managed gateway&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5wb3J0YWxtYW4uYXBpLnB1c2g6Mzk5&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorMsg}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;RXJyb3IgQ3JlYXRpbmcgQVBJ&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:FalseAssertion/&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;create/update api work&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;publish-api&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{odata.batch.hasError}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;boolean&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{post-processing-action}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;update-api&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{post-processing-sync-mode}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;asynchronous&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;sync&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;PostProcessing&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{post-processing-action}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;update-api&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;async&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// Retrieve ssg_api_id&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;portal_admin_status&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;portal_admin_status&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;portal_status&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;portal_status&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ssg_api_id&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;ssgApiId&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ssg_status&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;ssg_status&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;status_alert&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;status_alert&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;SELECT ssg_api_id,portal_status,ssg_status,status_alert,portal_admin_status FROM API WHERE uuid = &#36;{post-processing-uuid}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;&#36;{jdbcQuery.portal_admin_status}&amp;lt;&gt;&#36;{jdbcQuery.portal_status}, status_alert=&#36;{jdbcQuery.status_alert}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{jdbcQuery.portal_admin_status}&quot;/&gt;
                                    &lt;L7p:Expression2 stringValue=&quot;&#36;{jdbcQuery.portal_status}&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;&#36;{jdbcQuery.portal_status}&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//we can&apos;t check for null for portal_admin_status, this is an assumption where NEW is being ENABLED&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{jdbcQuery.portal_status}&quot;/&gt;
                                    &lt;L7p:Expression2 stringValue=&quot;NEW&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;NEW&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:MapValue&gt;
                                    &lt;L7p:InputExpr stringValue=&quot;&#36;{jdbcQUery.portal_admin_status}&quot;/&gt;
                                    &lt;L7p:Mappings nameValuePairArray=&quot;included&quot;&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;ENABLED&quot;/&gt;
                                    &lt;L7p:Value stringValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;DISABLED&quot;/&gt;
                                    &lt;L7p:Value stringValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Mappings&gt;
                                    &lt;L7p:OutputVar stringValue=&quot;ServiceEnabled&quot;/&gt;
                                    &lt;/L7p:MapValue&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//skip it&apos;s in-conflict&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{jdbcQuery.status_alert}&quot;/&gt;
                                    &lt;L7p:Expression2 stringValue=&quot;N&quot;/&gt;
                                    &lt;L7p:Negate booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;N&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{ServiceEnabled}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{jdbcQuery.portal_status}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;DISABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{jdbcQuery.ssg_status}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;DISABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;API &apos;&#36;{jdbcQuery.ssgApiId}&apos; might be already DISABLED, skipping gateway request&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:assertionComment&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//if already DISABLED check, don&apos;t need to make managed gateway request&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{ServiceEnabled}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{jdbcQuery.portal_status}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;ENABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{jdbcQuery.ssg_status}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;ENABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;API &apos;&#36;{jdbcQuery.ssgApiId}&apos; might be already ENABLED, skipping gateway request&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:assertionComment&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//if already ENABLED check, don&apos;t need to make managed gateway request&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHttYW5hZ2VkLmdhdGV3YXl9L2FwaXMvJHtqZGJjUXVlcnkuc3NnQXBpSWR9L3NlcnZpY2VFbmFibGVk&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;routeUrl&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;PGw3OlNlcnZpY2VFbmFibGVkIHhtbG5zOmw3PSJodHRwOi8vbnMubDd0ZWNoLmNvbS8yMDEyLzA0L2FwaS1tYW5hZ2VtZW50Ij4ke1NlcnZpY2VFbmFibGVkfTwvbDc6U2VydmljZUVuYWJsZWQ+&quot;/&gt;

                                    &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;

                                    &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;request&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:HttpRoutingAssertion&gt;

                                    &lt;L7p:FailOnErrorStatus booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:HttpMethod httpMethod=&quot;PUT&quot;/&gt;

                                    <xsl:if test="$param.PrivateKey != ''">&lt;L7p:KeyAlias stringValue=&quot;<xsl:value-of select="$param.PrivateKey"/>&quot;/&gt;</xsl:if>

                                    &lt;L7p:NonDefaultKeystoreId goidValue=&quot;00000000000000000000000000000002&quot;/&gt;

                                    &lt;L7p:PassthroughHttpAuthentication booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:ProtectedServiceUrl stringValue=&quot;&#36;{routeUrl}&quot;/&gt;

                                    &lt;L7p:ProxyPassword stringValueNull=&quot;null&quot;/&gt;

                                    &lt;L7p:ProxyUsername stringValueNull=&quot;null&quot;/&gt;

                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;

                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;

                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;SOAPAction&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;

                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet=&quot;included&quot;&gt;

                                    &lt;L7p:ForwardAll booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;/&gt;
                                    &lt;/L7p:RequestParamRules&gt;

                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;

                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;

                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;Set-Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;

                                    &lt;L7p:SamlAssertionVersion intValue=&quot;2&quot;/&gt;

                                    &lt;L7p:UsesDefaultKeyStore booleanValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:HttpRoutingAssertion&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;

                                    &lt;L7p:Detail stringValue=&quot;failed accessing &#36;{routeUrl}*** &#36;{response.mainpart}&quot;/&gt;

                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5yb3V0ZTozMDI=&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;VGhlcmUgd2FzIHByb2JsZW0gY29ubmVjdGluZyB0byB0aGUgbWFuYWdlZCBHYXRld2F5&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//perform Managed Gateway request&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//only trigger managed gateway request if status_alert = 0 (Alert Flag = N)&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;update-api&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;Apis&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_id}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;creating/updating api here....&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;publishedByPortalXpath&quot;/&gt;
                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;
                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:PublishedByPortal/text()&quot;/&gt;
                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:Expression stringValue=&quot;$.PublishedByPortal&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;publishedByPortalXpath&quot;/&gt;
                                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//portal published?&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{publishedByPortalXpath.result}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;transactionPhaseXpath&quot;/&gt;
                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;
                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:TransactionPhase/text()&quot;/&gt;
                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:Expression stringValue=&quot;$.TransactionPhase&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;transactionPhaseXpath&quot;/&gt;
                                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//transaction phase&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;transactionPhase:&#36;{transactionPhaseXpath.element},&#36;{transactionPhaseXpath.result}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{transactionPhaseXpath.result}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;COMMIT_ADD&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{transactionPhaseXpath.result}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;COMMIT_GATEWAY_EDIT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//validate if COMMIT...&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;transactionPhase:&#36;{transactionPhaseXpath.element},&#36;{transactionPhaseXpath.result}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:RequestXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;policyTemplateUuidXpath&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:PolicyTemplateUuid/text()&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:Expression stringValue=&quot;$.PolicyTemplateUuid&quot;/&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;policyTemplateUuidXpath&quot;/&gt;
                                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//get policy template UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:RequestXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;apiUuidXpath&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:Uuid/text()&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:Expression stringValue=&quot;$.Uuid&quot;/&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;apiUuidXpath&quot;/&gt;
                                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//get api UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:RequestXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;portalStatusXpath&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:PortalStatus/text()&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:EvaluateJsonPathExpression&gt;

                                    &lt;L7p:Expression stringValue=&quot;$.PortalStatus&quot;/&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;portalStatusXpath&quot;/&gt;
                                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;portalStatus:&#36;{portalStatusXpath.element},&#36;{portalStatusXpath.result}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{portalStatusXpath.result}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;ENABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{portalStatusXpath.result}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;DISABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{portalStatusXpath.result}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;DEPRECATED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:OneOrMore
                                    L7p:Enabled=&quot;false&quot; wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{ServiceEnabled}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{ServiceEnabled}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:MapValue&gt;
                                    &lt;L7p:InputExpr stringValue=&quot;&#36;{portalStatusXpath.result}&quot;/&gt;
                                    &lt;L7p:Mappings nameValuePairArray=&quot;included&quot;&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;ENABLED&quot;/&gt;

                                    &lt;L7p:Value stringValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;DISABLED&quot;/&gt;

                                    &lt;L7p:Value stringValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;DEPRECATED&quot;/&gt;

                                    &lt;L7p:Value stringValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Mappings&gt;
                                    &lt;L7p:OutputVar stringValue=&quot;ServiceEnabled&quot;/&gt;
                                    &lt;/L7p:MapValue&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//get API state&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;VALUE&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;VALUE&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;select APTX.NAME, APTX.VALUE from API_POLICY_TEMPLATE_XREF as APTX left join API on APTX.API_UUID = API.UUID where APTX.API_UUID = &#36;{entity_id} and APTX.POLICY_TEMPLATE_UUID = &#36;{policyTemplateUuidXpath.result}&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;policyTemplateArgsQuery&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:ForEachLoop
                                    L7p:Usage=&quot;Required&quot;
                                    loopVariable=&quot;policyTemplateArgsQuery.NAME&quot; variablePrefix=&quot;argName&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHthcmdOYW1lLml0ZXJhdGlvbnN9&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;policyTemplateArgIndex&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{policyTemplateArgIndex}&quot;/&gt;

                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;policyTemplateArgsQuery.VALUE&quot;/&gt;

                                    &lt;L7p:OutputVariableName stringValue=&quot;argValue.current&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;argValue.current&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;amp;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;amp;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;argValue.current&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;lt;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;lt;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;argValue.current&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&gt;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;gt;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;argValue.current&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;quot;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;quot;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;argValue.current&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&apos;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;apos;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHthcGlGcmFnbWVudEFyZ3N9DQoJICAgICAgICAgICAgICAgICAgICA8bDc6ZW50cnk+DQoJICAgICAgICAgICAgICAgICAgICAgICAgPGw3OmtleSBzdHJpbmdWYWx1ZT0iJHthcmdOYW1lLmN1cnJlbnR9Ii8+DQoJICAgICAgICAgICAgICAgICAgICAgICAgPGw3OnZhbHVlIHN0cmluZ1ZhbHVlPSIke2FyZ1ZhbHVlLmN1cnJlbnR9Ii8+DQoJICAgICAgICAgICAgICAgICAgICA8L2w3OmVudHJ5Pg==&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;apiFragmentArgs&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/L7p:ForEachLoop&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;SSG_URL&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;SSG_URL&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;select NAME,SSG_URL from API where UUID = &#36;{entity_id}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtqZGJjUXVlcnkuTkFNRVswXX0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;apiName&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiName&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;amp;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;amp;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiName&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;lt;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;lt;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiName&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&gt;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;gt;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiName&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;quot;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;quot;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiName&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&apos;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;apos;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtqZGJjUXVlcnkuU1NHX1VSTFswXX0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;apiUrl&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiUrl&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;amp;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;amp;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiUrl&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;lt;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;lt;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiUrl&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&gt;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;gt;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiUrl&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&amp;quot;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;quot;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;apiUrl&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;&apos;&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&amp;amp;apos;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHttYW5hZ2VkLmdhdGV3YXl9L2FwaXM=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;routeUrl&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;PGw3OkFwaSB4bWxuczpsNz0iaHR0cDovL25zLmw3dGVjaC5jb20vMjAxMi8wNC9hcGktbWFuYWdlbWVudCI+DQogICAgPGw3OkFwaUlkPiR7YXBpVXVpZFhwYXRoLnJlc3VsdH08L2w3OkFwaUlkPg0KICAgIDxsNzpBcGlHcm91cC8+DQogICAgPGw3OlNlcnZpY2VPSUQvPg0KICAgIDxsNzpTZXJ2aWNlVmVyc2lvbi8+DQogICAgPGw3OlNlcnZpY2VOYW1lPiR7YXBpTmFtZX08L2w3OlNlcnZpY2VOYW1lPg0KICAgIDxsNzpTZXJ2aWNlRW5hYmxlZD4ke1NlcnZpY2VFbmFibGVkfTwvbDc6U2VydmljZUVuYWJsZWQ+DQogICAgPGw3OlNlcnZpY2VEZXRhaWxzPg0KICAgICAgICA8bDc6VXJsUGF0dGVybj4ke2FwaVVybH08L2w3OlVybFBhdHRlcm4+DQogICAgPC9sNzpTZXJ2aWNlRGV0YWlscz4NCiAgICA8bDc6U2VydmljZVBvbGljeUNvbmZpZz4NCiAgICAgICAgPGw3OkFwaUZyYWdtZW50cz4NCiAgICAgICAgICAgIDxsNzpBcGlGcmFnbWVudD4NCiAgICAgICAgICAgICAgICA8bDc6R3VpZD4ke3BvbGljeVRlbXBsYXRlVXVpZFhwYXRoLnJlc3VsdH08L2w3Okd1aWQ+DQogICAgICAgICAgICAgICAgICAgIDxsNzpQYXJhbWV0ZXJzPg0KICAgICAgICAgICAgICAgICAgICAgICAgJHthcGlGcmFnbWVudEFyZ3N9DQogICAgICAgICAgICAgICAgICAgIDwvbDc6UGFyYW1ldGVycz4NCiAgICAgICAgICAgIDwvbDc6QXBpRnJhZ21lbnQ+DQogICAgICAgIDwvbDc6QXBpRnJhZ21lbnRzPg0KICAgIDwvbDc6U2VydmljZVBvbGljeUNvbmZpZz4NCjwvbDc6QXBpPg==&quot;/&gt;
                                    &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
                                    &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;request&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:HttpRoutingAssertion&gt;

                                    &lt;L7p:FailOnErrorStatus booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:HttpMethod httpMethod=&quot;PUT&quot;/&gt;
                                    <xsl:if test="$param.PrivateKey != ''">&lt;L7p:KeyAlias stringValue=&quot;<xsl:value-of select="$param.PrivateKey"/>&quot;/&gt;</xsl:if>

                                    &lt;L7p:NonDefaultKeystoreId goidValue=&quot;00000000000000000000000000000002&quot;/&gt;

                                    &lt;L7p:PassthroughHttpAuthentication booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:ProtectedServiceUrl stringValue=&quot;&#36;{routeUrl}&quot;/&gt;
                                    &lt;L7p:ProxyPassword stringValueNull=&quot;null&quot;/&gt;
                                    &lt;L7p:ProxyUsername stringValueNull=&quot;null&quot;/&gt;

                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;SOAPAction&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;

                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:ForwardAll booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;/&gt;
                                    &lt;/L7p:RequestParamRules&gt;

                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;Set-Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;
                                    &lt;L7p:ResponseMsgDest stringValue=&quot;portalmanResponse&quot;/&gt;

                                    &lt;L7p:SamlAssertionVersion intValue=&quot;2&quot;/&gt;

                                    &lt;L7p:UsesDefaultKeyStore booleanValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:HttpRoutingAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{httpRouting.reasonCode}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;int&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;500&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;pmanErrorDetail&quot;/&gt;

                                    &lt;L7p:XmlMsgSrc stringValue=&quot;portalmanResponse&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;//Detail[contains(.,&apos;ServiceName&apos;)]&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5wb3J0YWxtYW4uYXBpLnB1c2g6MzAz&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;pmanErrorDetail&quot;/&gt;

                                    &lt;L7p:XmlMsgSrc stringValue=&quot;portalmanResponse&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;//Detail[contains(.,&apos;UrlPattern&apos;)]&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5wb3J0YWxtYW4uYXBpLnB1c2g6MzA0&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5wb3J0YWxtYW4uYXBpLnB1c2g6Mzk5&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwbWFuRXJyb3JEZXRhaWwucmVzdWx0fQ==&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;resourceIdXpath&quot;/&gt;

                                    &lt;L7p:XmlMsgSrc stringValue=&quot;portalmanResponse&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/l7:Apis/l7:ResourceId&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;l7&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://ns.l7tech.com/2012/04/api-management&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;update API set SSG_API_ID = &#36;{resourceIdXpath.result} where UUID = &#36;{entity_id}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//check pman response&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;publish&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//publish to managed gateway&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5wb3J0YWxtYW4uYXBpLnB1c2g6Mzk5&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorMsg}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;RXJyb3IgQ3JlYXRpbmcgQVBJ&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:FalseAssertion/&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;create/update api work&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;old post-processing&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                &lt;/wsp:OneOrMore&gt;
                                &lt;L7p:TrueAssertion/&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;Apis PUT callback&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//create/update API request to tenant ssg&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;metrics sync ? &#36;{entity_type} ? &#36;{operation}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;Organizations&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;Apis&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;Applications&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;AccountPlans&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;ApiPlans&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//metrics needs Api,Applications,Organizations,AccountPlans&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;POST&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//we sync on PUT and POST&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;entityNameXPath&quot;/&gt;
                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;
                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:Name/text()&quot;/&gt;
                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:Expression stringValue=&quot;$.Name&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;entityNameXPath&quot;/&gt;
                                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//get Name&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtlbnRpdHlOYW1lWFBhdGgucmVzdWx0fQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;entity_name_value&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;Apis&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//get SSG_PORTAL_API_ID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:MaxRecords intValue=&quot;1&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;SSG_API_ID&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;SSG_PORTAL_API_ID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;SELECT SSG_API_ID,NAME FROM API WHERE UUID=&#36;{entity_id}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{analytics.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;INSERT INTO API (UUID,NAME) values (&#36;{jdbcQuery.SSG_PORTAL_API_ID},&#36;{jdbcQuery.NAME})  ON DUPLICATE KEY UPDATE NAME=&#36;{jdbcQuery.NAME}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;API&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;Applications&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{analytics.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;INSERT INTO APPLICATION (UUID,NAME) values (&#36;{entity_id},&#36;{entity_name_value})  ON DUPLICATE KEY UPDATE NAME=&#36;{entity_name_value}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;APPLICATION&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;Organizations&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_id}&quot;/&gt;

                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;

                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;

                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;

                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;Organizations&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;

                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;entityUuidXPath&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:Uuid/text()&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:EvaluateJsonPathExpression&gt;

                                    &lt;L7p:Expression stringValue=&quot;$.Uuid&quot;/&gt;

                                    &lt;L7p:Target target=&quot;RESPONSE&quot;/&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;entityUuidXPath&quot;/&gt;
                                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//get Name&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtlbnRpdHlVdWlkWFBhdGgucmVzdWx0fQ==&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;entity_id&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:assertionComment&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//grab id from generated guid&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:MaxRecords intValue=&quot;1&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ACCOUNT_PLAN_UUID&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;ACCOUNT_PLAN_UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;SELECT UUID,NAME,ACCOUNT_PLAN_UUID FROM ORGANIZATION WHERE UUID=&#36;{entity_id}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//update&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{analytics.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;INSERT INTO ORGANIZATION (UUID,NAME,ACCOUNT_PLAN_UUID) values (&#36;{entity_id},&#36;{entity_name_value},&#36;{jdbcQuery.ACCOUNT_PLAN_UUID})  ON DUPLICATE KEY UPDATE NAME=&#36;{entity_name_value},ACCOUNT_PLAN_UUID=&#36;{jdbcQuery.ACCOUNT_PLAN_UUID}&quot;/&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;jdbcUpdate&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;ORGANIZATION&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;AccountPlans&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:MaxRecords intValue=&quot;1&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;QUOTA&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;QUOTA&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;QUOTA_INTERVAL&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;QUOTA_INTERVAL&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;SELECT UUID,NAME,QUOTA,QUOTA_INTERVAL FROM ACCOUNT_PLAN WHERE UUID=&#36;{entity_id}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//update&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{analytics.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;INSERT INTO ACCOUNT_PLAN (UUID,NAME,QUOTA,QUOTA_INTERVAL) values (&#36;{entity_id},&#36;{entity_name_value},&#36;{jdbcQuery.QUOTA},&#36;{jdbcQuery.QUOTA_INTERVAL})  ON DUPLICATE KEY UPDATE NAME=&#36;{entity_name_value},QUOTA=&#36;{jdbcQuery.QUOTA},QUOTA_INTERVAL=&#36;{jdbcQuery.QUOTA_INTERVAL}&quot;/&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;jdbcUpdate&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;ACCOUNT_PLAN&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;

                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;ApiPlans&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{analytics.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;INSERT INTO API_PLAN (UUID,NAME) values (&#36;{entity_id},&#36;{entity_name_value})  ON DUPLICATE KEY UPDATE NAME=&#36;{entity_name_value}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;API_PLAN&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;perform updates&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//actual JDBC Query&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:TrueAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//make sure we never break the original call&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                &lt;/L7p:TrueAssertion&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;METRICS callback&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{odata.batch.hasError}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;boolean&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{post-processing-action}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;publish-user&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{post-processing-parameter1}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;DISABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CacheStorage&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//force token expiry for auth&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{prefix}&#36;{token}&quot;/&gt;
                                    &lt;L7p:CacheId stringValue=&quot;tokenStore&quot;/&gt;
                                    &lt;L7p:MaxEntryAgeSeconds stringValue=&quot;0&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;output&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:CacheStorage&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;clearing cache for token &#36;{token}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;deleting old password reset tokens for disabled user &#36;{post-processing-uuid}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// delete any password reset  tokens for the disabled user&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;DELETE FROM PASSWORD_RESET_TOKEN WHERE user_uuid = &#36;{post-processing-uuid}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;new post processing for user&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;Users&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_id}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CacheStorage&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//force token expiry for auth&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{prefix}&#36;{token}&quot;/&gt;
                                    &lt;L7p:CacheId stringValue=&quot;tokenStore&quot;/&gt;
                                    &lt;L7p:MaxEntryAgeSeconds stringValue=&quot;0&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;output&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:CacheStorage&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;clearing cache for token &#36;{token}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:RequestXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;userUuidXpath&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:Uuid/text()&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:Expression stringValue=&quot;$.Uuid&quot;/&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;userUuidXpath&quot;/&gt;
                                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//get user UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:RequestXpathAssertion&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;userStatusXpath&quot;/&gt;

                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;

                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:Status/text()&quot;/&gt;

                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:Expression stringValue=&quot;$.Status&quot;/&gt;

                                    &lt;L7p:VariablePrefix stringValue=&quot;userStatusXpath&quot;/&gt;
                                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// get user status&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{userStatusXpath.result}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;DISABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHt1c2VyVXVpZFhQYXRoLnJlc3VsdH0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;user_uuid&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;deleting old password reset tokens for disabled user &#36;{user_uuid}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;// delete any password reset  tokens for the disabled user&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;DELETE FROM PASSWORD_RESET_TOKEN WHERE user_uuid = &#36;{user_uuid}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// delete password reset tokens if user is disabled&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//force token expiry for auth&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{odata.batch.last.operation.entityName}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;Users&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{odata.batch.last.operation.method}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{odata.batch.last.operation.entityId}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtvZGF0YS5iYXRjaC5sYXN0Lm9wZXJhdGlvbi5wYXlsb2FkfQ==&quot;/&gt;
                                    &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
                                    &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;request_payload&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;userUuidXpath&quot;/&gt;
                                    &lt;L7p:XmlMsgSrc stringValue=&quot;request_payload&quot;/&gt;
                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;
                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:Uuid/text()&quot;/&gt;
                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;userStatusXpath&quot;/&gt;
                                    &lt;L7p:XmlMsgSrc stringValue=&quot;request_payload&quot;/&gt;
                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;
                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:Status/text()&quot;/&gt;
                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{userStatusXpath.result}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;ENABLED&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHt1c2VyVXVpZFhQYXRoLnJlc3VsdH0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;user_uuid&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;deleting registration tokens for user &#36;{user_uuid}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//delete any user registration tokens for the enabled user&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;DELETE FROM USER_REGISTRATION_TOKEN WHERE user_uuid = &#36;{user_uuid}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//delete user registration tokens&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//delete any existing user registration tokens&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                &lt;/wsp:OneOrMore&gt;
                                &lt;L7p:TrueAssertion/&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;User PUT callback&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//there is already an error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{odata.batch.hasError}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;boolean&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{post-processing-action}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;update-application&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{post-processing-action}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;publish-application&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3N0LXByb2Nlc3NpbmctdXVpZH0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;entity_id&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{post-processing-action}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;publish-application&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:UUIDGenerator&gt;
                                    &lt;L7p:Quantity stringValue=&quot;2&quot;/&gt;
                                    &lt;L7p:TargetVariable stringValue=&quot;guids&quot;/&gt;
                                    &lt;/L7p:UUIDGenerator&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtndWlkc1swXX0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;keySecret&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;keySecret&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;\-&quot;/&gt;
                                    &lt;L7p:RegexName stringValue=&quot;Remove dash characters&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtndWlkc1sxXX0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;rawApiKey&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;rawApiKey&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;\-&quot;/&gt;
                                    &lt;L7p:RegexName stringValue=&quot;Remove dash characters&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;bDd4eCR7cmF3QXBpS2V5fQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;rawApiKey&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtyYXdBcGlLZXl9&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;encodedApiKey&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;update APPLICATION set API_KEY=&#36;{encodedApiKey}, KEY_SECRET=&#36;{keySecret} where UUID=&#36;{entity_id}&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;jdbcUpdate&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;generate&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// Generate API Keys &amp;amp; Secret&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{transactionPhaseXpath.result}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;COMMIT_ADD&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;NTAw&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;RXJyb3IgR2VuZXJhdGluZyBLZXk=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorMessage&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:FalseAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;generate keys&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;SSG_API_ID&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;API_UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;select API.SSG_API_ID from APPLICATION_API_XREF LEFT JOIN API ON APPLICATION_API_XREF.API_UUID=API.UUID where APPLICATION_API_XREF.APPLICATION_UUID = &#36;{entity_id}&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;apiXrefQuery&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;apis&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:ForEachLoop
                                    L7p:Usage=&quot;Required&quot;
                                    loopVariable=&quot;apiXrefQuery.API_UUID&quot; variablePrefix=&quot;API_UUID&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHthcGlzfQ0KPGw3OkFwaSBhcGlJZD0iJHtBUElfVVVJRC5jdXJyZW50fSIgcGxhbklkPSJuby1hcGktcGxhbi15ZXQiLz4=&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;apis&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/L7p:ForEachLoop&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;&#36;{apis}&quot;/&gt;
                                    &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;API_KEY&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;API_KEY&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;KEY_SECRET&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;KEY_SECRET&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;OAUTH_CALLBACK_URL&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;OAUTH_CALLBACK_URL&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;OAUTH_SCOPE&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;OAUTH_SCOPE&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;OAUTH_TYPE&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;OAUTH_TYPE&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ORGANIZATION_UUID&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;ORG_UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;STATUS&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;STATUS&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;select NAME,ORGANIZATION_UUID,OAUTH_CALLBACK_URL,OAUTH_SCOPE,OAUTH_TYPE,STATUS,API_KEY,KEY_SECRET from APPLICATION where UUID = &#36;{entity_id}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:MapValue&gt;
                                    &lt;L7p:InputExpr stringValue=&quot;&#36;{jdbcQuery.STATUS}&quot;/&gt;
                                    &lt;L7p:Mappings nameValuePairArray=&quot;included&quot;&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;ENABLED&quot;/&gt;
                                    &lt;L7p:Value stringValue=&quot;active&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;DISABLED&quot;/&gt;
                                    &lt;L7p:Value stringValue=&quot;suspend&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Mappings&gt;
                                    &lt;L7p:OutputVar stringValue=&quot;app.status&quot;/&gt;
                                    &lt;/L7p:MapValue&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHttYW5hZ2VkLmdhdGV3YXl9L2FwaS9rZXlz&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;routeUrl&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtqZGJjUXVlcnkuTkFNRX0=&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;applicationName&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:Regex&gt;

                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;applicationName&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;\&amp;lt;(?:[^:]+:)?script\&gt;.*?\&amp;lt;\/(?:[^:]+:)?script\&gt;&quot;/&gt;

                                    &lt;L7p:RegexName stringValue=&quot;XSS Sanitize&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Replacement stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:EncodeDecode&gt;

                                    &lt;L7p:SourceVariableName stringValue=&quot;applicationName&quot;/&gt;

                                    &lt;L7p:TargetDataType variableDataType=&quot;string&quot;/&gt;

                                    &lt;L7p:TargetVariableName stringValue=&quot;applicationName&quot;/&gt;

                                    &lt;L7p:TransformType transformType=&quot;URL_ENCODE&quot;/&gt;
                                    &lt;/L7p:EncodeDecode&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtqZGJjUXVlcnkuTkFNRX0=&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;applicationName&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:EncodeDecode&gt;

                                    &lt;L7p:SourceVariableName stringValue=&quot;applicationName&quot;/&gt;

                                    &lt;L7p:TargetDataType variableDataType=&quot;string&quot;/&gt;

                                    &lt;L7p:TargetVariableName stringValue=&quot;applicationName&quot;/&gt;

                                    &lt;L7p:TransformType transformType=&quot;URL_ENCODE&quot;/&gt;
                                    &lt;/L7p:EncodeDecode&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:EncodeDecode&gt;

                                    &lt;L7p:SourceVariableName stringValue=&quot;jdbcQuery.OAUTH_CALLBACK_URL&quot;/&gt;

                                    &lt;L7p:TargetDataType variableDataType=&quot;string&quot;/&gt;

                                    &lt;L7p:TargetVariableName stringValue=&quot;jdbcQuery.OAUTH_CALLBACK_URL&quot;/&gt;

                                    &lt;L7p:TransformType transformType=&quot;URL_ENCODE&quot;/&gt;
                                    &lt;/L7p:EncodeDecode&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;PGw3OkFwaUtleXMgeG1sbnM6bDc9Imh0dHA6Ly9ucy5sN3RlY2guY29tLzIwMTIvMDQvYXBpLW1hbmFnZW1lbnQiPg0KPGw3OkFwaUtleT4NCjxsNzpLZXk+JHtqZGJjUXVlcnkuQVBJX0tFWX08L2w3OktleT4NCjxsNzpTdGF0dXM+JHthcHAuc3RhdHVzfTwvbDc6U3RhdHVzPg0KPGw3OkFwaXM+DQoke2FwaXN9DQo8L2w3OkFwaXM+DQo8bDc6U2VjcmV0PiR7amRiY1F1ZXJ5LktFWV9TRUNSRVR9PC9sNzpTZWNyZXQ+DQo8bDc6QWNjb3VudFBsYW5NYXBwaW5nSWQ+JHtqZGJjUXVlcnkuT1JHX1VVSUR9PC9sNzpBY2NvdW50UGxhbk1hcHBpbmdJZD4NCjxsNzpBcHBsaWNhdGlvbklkPiR7ZW50aXR5X2lkfTwvbDc6QXBwbGljYXRpb25JZD4NCjxsNzpMYWJlbD4ke2FwcGxpY2F0aW9uTmFtZX08L2w3OkxhYmVsPg0KPGw3OlBsYXRmb3JtPjwvbDc6UGxhdGZvcm0+DQo8bDc6U2VjdXJpdHk+DQo8bDc6T0F1dGg+DQo8bDc6Q2FsbGJhY2tVcmw+JHtqZGJjUXVlcnkuT0FVVEhfQ0FMTEJBQ0tfVVJMfTwvbDc6Q2FsbGJhY2tVcmw+DQo8bDc6U2NvcGU+JHtqZGJjUXVlcnkuT0FVVEhfU0NPUEV9PC9sNzpTY29wZT4NCjxsNzpUeXBlPiR7amRiY1F1ZXJ5Lk9BVVRIX1RZUEV9PC9sNzpUeXBlPg0KPC9sNzpPQXV0aD4NCjwvbDc6U2VjdXJpdHk+DQo8L2w3OkFwaUtleT4NCjwvbDc6QXBpS2V5cz4=&quot;/&gt;
                                    &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
                                    &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;request&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;&#36;{request.mainpart}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:HttpRoutingAssertion&gt;

                                    &lt;L7p:FailOnErrorStatus booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:HttpMethod httpMethod=&quot;PUT&quot;/&gt;
                                    <xsl:if test="$param.PrivateKey != ''">&lt;L7p:KeyAlias stringValue=&quot;<xsl:value-of select="$param.PrivateKey"/>&quot;/&gt;</xsl:if>

                                    &lt;L7p:NonDefaultKeystoreId goidValue=&quot;00000000000000000000000000000002&quot;/&gt;

                                    &lt;L7p:PassthroughHttpAuthentication booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:ProtectedServiceUrl stringValue=&quot;&#36;{routeUrl}&quot;/&gt;
                                    &lt;L7p:ProxyPassword stringValueNull=&quot;null&quot;/&gt;
                                    &lt;L7p:ProxyUsername stringValueNull=&quot;null&quot;/&gt;

                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;SOAPAction&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;

                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:ForwardAll booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;/&gt;
                                    &lt;/L7p:RequestParamRules&gt;

                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;Set-Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;
                                    &lt;L7p:ResponseMsgDest stringValue=&quot;portalmanResponse&quot;/&gt;

                                    &lt;L7p:SamlAssertionVersion intValue=&quot;2&quot;/&gt;

                                    &lt;L7p:UsesDefaultKeyStore booleanValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:HttpRoutingAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;publish&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// publish to managed gateway&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;NTAw&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;RXJyb3IgUHVibGlzaGluZyBLZXk=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorMessage&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:FalseAssertion/&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;publish app key&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;new post-processing logic&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;Applications&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_id}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;creating app here....&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;API_UUID&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;API_UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;select TRANSACTION_PHASE from APPLICATION where UUID = &#36;{entity_id}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;transactionPhaseXpath&quot;/&gt;
                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;
                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:TransactionPhase/text()&quot;/&gt;
                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:Expression stringValue=&quot;$.TransactionPhase&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;transactionPhaseXpath&quot;/&gt;
                                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//transaction phase&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;transactionPhase:&#36;{transactionPhaseXpath.element},&#36;{transactionPhaseXpath.result}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{transactionPhaseXpath.result}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;COMMIT_ADD&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{transactionPhaseXpath.result}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;COMMIT_EDIT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//validate if COMMIT...&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;transactionPhase:&#36;{transactionPhaseXpath.element},&#36;{transactionPhaseXpath.result}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{transactionPhaseXpath.result}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;COMMIT_ADD&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:UUIDGenerator&gt;
                                    &lt;L7p:Quantity stringValue=&quot;2&quot;/&gt;
                                    &lt;L7p:TargetVariable stringValue=&quot;guids&quot;/&gt;
                                    &lt;/L7p:UUIDGenerator&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtndWlkc1swXX0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;keySecret&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;keySecret&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;\-&quot;/&gt;
                                    &lt;L7p:RegexName stringValue=&quot;Remove dash characters&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtndWlkc1sxXX0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;rawApiKey&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:Regex&gt;
                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;rawApiKey&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;\-&quot;/&gt;
                                    &lt;L7p:RegexName stringValue=&quot;Remove dash characters&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Replacement stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;bDd4eCR7cmF3QXBpS2V5fQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;rawApiKey&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtyYXdBcGlLZXl9&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;encodedApiKey&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;update APPLICATION set API_KEY=&#36;{encodedApiKey}, KEY_SECRET=&#36;{keySecret} where UUID=&#36;{entity_id}&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;jdbcUpdate&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;generate&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// Generate API Keys &amp;amp; Secret&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{transactionPhaseXpath.result}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;COMMIT_ADD&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;NTAw&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;RXJyb3IgR2VuZXJhdGluZyBLZXk=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorMessage&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:FalseAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;generate keys&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;SSG_API_ID&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;API_UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;select API.SSG_API_ID from APPLICATION_API_XREF LEFT JOIN API ON APPLICATION_API_XREF.API_UUID=API.UUID where APPLICATION_API_XREF.APPLICATION_UUID = &#36;{entity_id}&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;apiXrefQuery&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;apis&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:ForEachLoop
                                    L7p:Usage=&quot;Required&quot;
                                    loopVariable=&quot;apiXrefQuery.API_UUID&quot; variablePrefix=&quot;API_UUID&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHthcGlzfQ0KPGw3OkFwaSBhcGlJZD0iJHtBUElfVVVJRC5jdXJyZW50fSIgcGxhbklkPSJuby1hcGktcGxhbi15ZXQiLz4=&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;apis&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/L7p:ForEachLoop&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;&#36;{apis}&quot;/&gt;
                                    &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;API_KEY&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;API_KEY&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;KEY_SECRET&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;KEY_SECRET&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;OAUTH_CALLBACK_URL&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;OAUTH_CALLBACK_URL&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;OAUTH_SCOPE&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;OAUTH_SCOPE&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;OAUTH_TYPE&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;OAUTH_TYPE&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ORGANIZATION_UUID&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;ORG_UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;STATUS&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;STATUS&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;select NAME,ORGANIZATION_UUID,OAUTH_CALLBACK_URL,OAUTH_SCOPE,OAUTH_TYPE,STATUS,API_KEY,KEY_SECRET from APPLICATION where UUID = &#36;{entity_id}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:MapValue&gt;
                                    &lt;L7p:InputExpr stringValue=&quot;&#36;{jdbcQuery.STATUS}&quot;/&gt;
                                    &lt;L7p:Mappings nameValuePairArray=&quot;included&quot;&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;ENABLED&quot;/&gt;
                                    &lt;L7p:Value stringValue=&quot;active&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;DISABLED&quot;/&gt;
                                    &lt;L7p:Value stringValue=&quot;suspend&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Mappings&gt;
                                    &lt;L7p:OutputVar stringValue=&quot;app.status&quot;/&gt;
                                    &lt;/L7p:MapValue&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHttYW5hZ2VkLmdhdGV3YXl9L2FwaS9rZXlz&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;routeUrl&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtqZGJjUXVlcnkuTkFNRX0=&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;applicationName&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:Regex&gt;

                                    &lt;L7p:AutoTarget booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:CaseInsensitive booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;applicationName&quot;/&gt;
                                    &lt;L7p:Regex stringValue=&quot;\&amp;lt;(?:[^:]+:)?script\&gt;.*?\&amp;lt;\/(?:[^:]+:)?script\&gt;&quot;/&gt;

                                    &lt;L7p:RegexName stringValue=&quot;XSS Sanitize&quot;/&gt;
                                    &lt;L7p:Replace booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:Replacement stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                                    &lt;/L7p:Regex&gt;
                                    &lt;L7p:EncodeDecode&gt;

                                    &lt;L7p:SourceVariableName stringValue=&quot;applicationName&quot;/&gt;

                                    &lt;L7p:TargetDataType variableDataType=&quot;string&quot;/&gt;

                                    &lt;L7p:TargetVariableName stringValue=&quot;applicationName&quot;/&gt;

                                    &lt;L7p:TransformType transformType=&quot;URL_ENCODE&quot;/&gt;
                                    &lt;/L7p:EncodeDecode&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtqZGJjUXVlcnkuTkFNRX0=&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;applicationName&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:EncodeDecode&gt;

                                    &lt;L7p:SourceVariableName stringValue=&quot;applicationName&quot;/&gt;

                                    &lt;L7p:TargetDataType variableDataType=&quot;string&quot;/&gt;

                                    &lt;L7p:TargetVariableName stringValue=&quot;applicationName&quot;/&gt;

                                    &lt;L7p:TransformType transformType=&quot;URL_ENCODE&quot;/&gt;
                                    &lt;/L7p:EncodeDecode&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:EncodeDecode&gt;

                                    &lt;L7p:SourceVariableName stringValue=&quot;jdbcQuery.OAUTH_CALLBACK_URL&quot;/&gt;

                                    &lt;L7p:TargetDataType variableDataType=&quot;string&quot;/&gt;

                                    &lt;L7p:TargetVariableName stringValue=&quot;jdbcQuery.OAUTH_CALLBACK_URL&quot;/&gt;

                                    &lt;L7p:TransformType transformType=&quot;URL_ENCODE&quot;/&gt;
                                    &lt;/L7p:EncodeDecode&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;PGw3OkFwaUtleXMgeG1sbnM6bDc9Imh0dHA6Ly9ucy5sN3RlY2guY29tLzIwMTIvMDQvYXBpLW1hbmFnZW1lbnQiPg0KPGw3OkFwaUtleT4NCjxsNzpLZXk+JHtqZGJjUXVlcnkuQVBJX0tFWX08L2w3OktleT4NCjxsNzpTdGF0dXM+JHthcHAuc3RhdHVzfTwvbDc6U3RhdHVzPg0KPGw3OkFwaXM+DQoke2FwaXN9DQo8L2w3OkFwaXM+DQo8bDc6U2VjcmV0PiR7amRiY1F1ZXJ5LktFWV9TRUNSRVR9PC9sNzpTZWNyZXQ+DQo8bDc6QWNjb3VudFBsYW5NYXBwaW5nSWQ+JHtqZGJjUXVlcnkuT1JHX1VVSUR9PC9sNzpBY2NvdW50UGxhbk1hcHBpbmdJZD4NCjxsNzpBcHBsaWNhdGlvbklkPiR7ZW50aXR5X2lkfTwvbDc6QXBwbGljYXRpb25JZD4NCjxsNzpMYWJlbD4ke2FwcGxpY2F0aW9uTmFtZX08L2w3OkxhYmVsPg0KPGw3OlBsYXRmb3JtPjwvbDc6UGxhdGZvcm0+DQo8bDc6U2VjdXJpdHk+DQo8bDc6T0F1dGg+DQo8bDc6Q2FsbGJhY2tVcmw+JHtqZGJjUXVlcnkuT0FVVEhfQ0FMTEJBQ0tfVVJMfTwvbDc6Q2FsbGJhY2tVcmw+DQo8bDc6U2NvcGU+JHtqZGJjUXVlcnkuT0FVVEhfU0NPUEV9PC9sNzpTY29wZT4NCjxsNzpUeXBlPiR7amRiY1F1ZXJ5Lk9BVVRIX1RZUEV9PC9sNzpUeXBlPg0KPC9sNzpPQXV0aD4NCjwvbDc6U2VjdXJpdHk+DQo8L2w3OkFwaUtleT4NCjwvbDc6QXBpS2V5cz4=&quot;/&gt;
                                    &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
                                    &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;request&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;&#36;{request.mainpart}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:HttpRoutingAssertion&gt;

                                    &lt;L7p:FailOnErrorStatus booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:HttpMethod httpMethod=&quot;PUT&quot;/&gt;
                                    <xsl:if test="$param.PrivateKey != ''">&lt;L7p:KeyAlias stringValue=&quot;<xsl:value-of select="$param.PrivateKey"/>&quot;/&gt;</xsl:if>

                                    &lt;L7p:NonDefaultKeystoreId goidValue=&quot;00000000000000000000000000000002&quot;/&gt;

                                    &lt;L7p:PassthroughHttpAuthentication booleanValue=&quot;true&quot;/&gt;

                                    &lt;L7p:ProtectedServiceUrl stringValue=&quot;&#36;{routeUrl}&quot;/&gt;
                                    &lt;L7p:ProxyPassword stringValueNull=&quot;null&quot;/&gt;
                                    &lt;L7p:ProxyUsername stringValueNull=&quot;null&quot;/&gt;

                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;SOAPAction&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;

                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:ForwardAll booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;/&gt;
                                    &lt;/L7p:RequestParamRules&gt;

                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;

                                    &lt;L7p:Name stringValue=&quot;Set-Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;
                                    &lt;L7p:ResponseMsgDest stringValue=&quot;portalmanResponse&quot;/&gt;

                                    &lt;L7p:SamlAssertionVersion intValue=&quot;2&quot;/&gt;

                                    &lt;L7p:UsesDefaultKeyStore booleanValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:HttpRoutingAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;publish&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// publish to managed gateway&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;NTAw&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;RXJyb3IgUHVibGlzaGluZyBLZXk=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorMessage&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:FalseAssertion/&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;publish app key&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;/wsp:All&gt;
                                &lt;/wsp:OneOrMore&gt;
                                &lt;L7p:TrueAssertion/&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;Application PUT callback&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//PUT application key request to tenant ssg&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//there is already an error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{odata.batch.hasError}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;boolean&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{post-processing-action}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;publish-account-plan&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;dHJ1ZQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;syncAccountPlans&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;new post-processing logic&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;AccountPlans&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_id}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;POST&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;DELETE&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//we sync on PUT(COMMIT) and DELETE&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;DELETE&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;transactionPhaseXpath&quot;/&gt;
                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;
                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:TransactionPhase/text()&quot;/&gt;
                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;

                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:RequestXpathAssertion&gt;
                                    &lt;L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:Expression stringValue=&quot;$.TransactionPhase&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;transactionPhaseXpath&quot;/&gt;
                                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//transaction phase&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;transactionPhase:&#36;{transactionPhaseXpath.element},&#36;{transactionPhaseXpath.result}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;DELETE&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{transactionPhaseXpath.result}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;COMMIT_ADD&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{transactionPhaseXpath.result}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:RightValue stringValue=&quot;COMMIT_EDIT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//validate if COMMIT...&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;transactionPhase:&#36;{transactionPhaseXpath.element},&#36;{transactionPhaseXpath.result}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;dHJ1ZQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;syncAccountPlans&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                &lt;/wsp:OneOrMore&gt;
                                &lt;L7p:TrueAssertion/&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;AccountPlans PUT callback&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//there is already an error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;Organizations&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_id}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;POST&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PUT&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;DELETE&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//we sync on PUT(COMMIT) and DELETE&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;dHJ1ZQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;syncAccountPlans&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:TrueAssertion/&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;Organizations PUT callback&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//there is already an error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PasswordResetTokens&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;POST&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;tokenUuidXPath&quot;/&gt;
                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;
                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:Uuid/text()&quot;/&gt;
                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;
                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:Expression stringValue=&quot;$.Uuid&quot;/&gt;
                                    &lt;L7p:Target target=&quot;RESPONSE&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;tokenUuidXPath&quot;/&gt;
                                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// get token uuid&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHt0b2tlblV1aWRYUGF0aC5yZXN1bHR9&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;token_uuid&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;userUuidXPath&quot;/&gt;
                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;
                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:UserUuid/text()&quot;/&gt;
                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;
                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:Expression stringValue=&quot;$.UserUuid&quot;/&gt;
                                    &lt;L7p:Target target=&quot;RESPONSE&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;userUuidXPath&quot;/&gt;
                                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// get user uuid&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHt1c2VyVXVpZFhQYXRoLnJlc3VsdH0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;user_uuid&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;deleting old password reset tokens for user &#36;{user_uuid}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// delete old tokens for the user&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;
                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;DELETE FROM PASSWORD_RESET_TOKEN WHERE uuid NOT IN (&#36;{token_uuid}) AND user_uuid = &#36;{user_uuid}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:TrueAssertion/&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;PasswordResetTokens POST callback&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// old token deletion&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//there is already an error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;UserRegistrationTokens&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{operation}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;POST&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;tokenUuidXPath&quot;/&gt;
                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;
                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:Uuid/text()&quot;/&gt;
                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;
                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:Expression stringValue=&quot;$.Uuid&quot;/&gt;
                                    &lt;L7p:Target target=&quot;RESPONSE&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;tokenUuidXPath&quot;/&gt;
                                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// get token uuid&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHt0b2tlblV1aWRYUGF0aC5yZXN1bHR9&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;token_uuid&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;userUuidXPath&quot;/&gt;
                                    &lt;L7p:XpathExpression xpathExpressionValue=&quot;included&quot;&gt;
                                    &lt;L7p:Expression stringValue=&quot;/ns:entry/ns:content/m:properties/d:UserUuid/text()&quot;/&gt;
                                    &lt;L7p:Namespaces mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;d&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ns&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://www.w3.org/2005/Atom&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;s&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;m&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Namespaces&gt;
                                    &lt;L7p:XpathVersion xpathVersion=&quot;XPATH_1_0&quot;/&gt;
                                    &lt;/L7p:XpathExpression&gt;
                                    &lt;/L7p:ResponseXpathAssertion&gt;
                                    &lt;L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:Expression stringValue=&quot;$.UserUuid&quot;/&gt;
                                    &lt;L7p:Target target=&quot;RESPONSE&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;userUuidXPath&quot;/&gt;
                                    &lt;/L7p:EvaluateJsonPathExpression&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// get user uuid&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHt1c2VyVXVpZFhQYXRoLnJlc3VsdH0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;user_uuid&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;deleting old user registration tokens for user &#36;{user_uuid}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// delete old tokens for the user&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;
                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;DELETE FROM USER_REGISTRATION_TOKEN WHERE uuid NOT IN (&#36;{token_uuid}) AND user_uuid = &#36;{user_uuid}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// update user status from pending approval to init&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;
                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;UPDATE USER SET STATUS = &apos;REGISTRATION_INIT&apos; WHERE UUID = &#36;{user_uuid}&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:TrueAssertion/&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;UserRegistrationToken POST callback&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// old token deletion&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{syncAccountPlans}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;publishing account plans here...&#36;{syncAccountPlans}&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;
                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:MaxRecords intValue=&quot;100&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;DEFAULT_PLAN&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;DEFAULT_PLAN&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;DESCRIPTION&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;DESCRIPTION&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;NAME&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;NAME&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;QUOTA&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;QUOTA&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;QUOTA_INTERVAL&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;QUOTA_INTERVAL&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RATE_LIMIT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;RATE_LIMIT&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;select * from ACCOUNT_PLAN where TRANSACTION_PHASE IN (&apos;COMMIT_ADD&apos;,&apos;COMMIT_EDIT&apos;)&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;accountPlansQuery&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;PGw3OkFjY291bnRQbGFucyB4bWxuczpsNz0iaHR0cDovL25zLmw3dGVjaC5jb20vMjAxMi8wNC9hcGktbWFuYWdlbWVudCI+&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;payload&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:CommentAssertion&gt;
                                    &lt;L7p:Comment stringValue=&quot;TODO: An XML transaform might be more efficient for this section? //RR&quot;/&gt;
                                    &lt;/L7p:CommentAssertion&gt;
                                    &lt;L7p:ForEachLoop
                                    L7p:Usage=&quot;Required&quot;
                                    loopVariable=&quot;accountPlansQuery.UUID&quot; variablePrefix=&quot;accountPlanItem&quot;&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHthY2NvdW50UGxhbkl0ZW0uY3VycmVudH0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;accountPlan.uuid&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{accountPlanItem.iterations}&quot;/&gt;
                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;accountPlansQuery.DEFAULT_PLAN&quot;/&gt;
                                    &lt;L7p:OutputVariableName stringValue=&quot;accountPlan.defaultPlan&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{accountPlanItem.iterations}&quot;/&gt;
                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;accountPlansQuery.NAME&quot;/&gt;
                                    &lt;L7p:OutputVariableName stringValue=&quot;accountPlan.name&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{accountPlanItem.iterations}&quot;/&gt;
                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;accountPlansQuery.DESCRIPTION&quot;/&gt;
                                    &lt;L7p:OutputVariableName stringValue=&quot;accountPlan.description&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{accountPlanItem.iterations}&quot;/&gt;
                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;accountPlansQuery.QUOTA&quot;/&gt;
                                    &lt;L7p:OutputVariableName stringValue=&quot;accountPlan.quota&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{accountPlanItem.iterations}&quot;/&gt;
                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;accountPlansQuery.QUOTA_INTERVAL&quot;/&gt;
                                    &lt;L7p:OutputVariableName stringValue=&quot;accountPlan.quotaInterval&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:IndexValue stringValue=&quot;&#36;{accountPlanItem.iterations}&quot;/&gt;
                                    &lt;L7p:MultivaluedVariableName stringValue=&quot;accountPlansQuery.RATE_LIMIT&quot;/&gt;
                                    &lt;L7p:OutputVariableName stringValue=&quot;accountPlan.rateLimit&quot;/&gt;
                                    &lt;/L7p:ItemLookupByIndex&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;ZmFsc2U=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;quotaEnabled&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;ZmFsc2U=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;rateEnabled&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{accountPlan.quota}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:Operator operator=&quot;GT&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;dHJ1ZQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;quotaEnabled&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;enable quota?&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{accountPlan.rateLimit}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:Operator operator=&quot;GT&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;dHJ1ZQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;rateEnabled&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;enable rateLimit?&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;****accountPlan.defaultPlan:&#36;{accountPlan.defaultPlan}&quot;/&gt;
                                    &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:MapValue&gt;
                                    &lt;L7p:InputExpr stringValue=&quot;&#36;{accountPlan.defaultPlan}&quot;/&gt;
                                    &lt;L7p:Mappings nameValuePairArray=&quot;included&quot;&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;0&quot;/&gt;
                                    &lt;L7p:Value stringValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;1&quot;/&gt;
                                    &lt;L7p:Value stringValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Value stringValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Value stringValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Mappings&gt;
                                    &lt;L7p:OutputVar stringValue=&quot;accountPlan.defaultPlanStatus&quot;/&gt;
                                    &lt;/L7p:MapValue&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//map status&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//per MONTH&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;NQ==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;timeUnit&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:MapValue&gt;
                                    &lt;L7p:InputExpr stringValue=&quot;&#36;{accountPlan.quotaInterval}&quot;/&gt;
                                    &lt;L7p:Mappings nameValuePairArray=&quot;included&quot;&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;DAY&quot;/&gt;
                                    &lt;L7p:Value stringValue=&quot;4&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item nameValuePair=&quot;included&quot;&gt;
                                    &lt;L7p:Key stringValue=&quot;MONTH&quot;/&gt;
                                    &lt;L7p:Value stringValue=&quot;5&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Mappings&gt;
                                    &lt;L7p:OutputVar stringValue=&quot;timeUnit&quot;/&gt;
                                    &lt;/L7p:MapValue&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//map quotaInterval=timeUnit&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:EncodeDecode&gt;
                                    &lt;L7p:SourceVariableName stringValue=&quot;accountPlan.name&quot;/&gt;
                                    &lt;L7p:TargetDataType variableDataType=&quot;string&quot;/&gt;
                                    &lt;L7p:TargetVariableName stringValue=&quot;accountPlan.name&quot;/&gt;
                                    &lt;L7p:TransformType transformType=&quot;URL_ENCODE&quot;/&gt;
                                    &lt;/L7p:EncodeDecode&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;orgIds&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:MaxRecords intValue=&quot;100&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;select UUID from ORGANIZATION WHERE ACCOUNT_PLAN_UUID = &#36;{accountPlan.uuid}&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;organizations&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;select UUID from ORGANIZATION WHERE ACCOUNT_PLAN_UUID = &#36;{accountPlan.uuid}&quot;/&gt;
                                    &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Join&gt;
                                    &lt;L7p:InputVariable stringValue=&quot;organizations.UUID&quot;/&gt;
                                    &lt;L7p:OutputVariable stringValue=&quot;orgIds&quot;/&gt;
                                    &lt;/L7p:Join&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;orgIds:&#36;{orgIds}&quot;/&gt;
                                    &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;build orgIds from db&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwYXlsb2FkfQ0KPGw3OkFjY291bnRQbGFuPg0KICAgICAgICA8bDc6UGxhbklkPiR7YWNjb3VudFBsYW4udXVpZH08L2w3OlBsYW5JZD4NCiAgICAgICAgPGw3OlBsYW5OYW1lPiR7YWNjb3VudFBsYW4ubmFtZX08L2w3OlBsYW5OYW1lPg0KICAgICAgICA8bDc6RGVmYXVsdFBsYW4+JHthY2NvdW50UGxhbi5kZWZhdWx0UGxhblN0YXR1c308L2w3OkRlZmF1bHRQbGFuPg0KICAgICAgICA8bDc6UGxhbkRldGFpbHM+DQogICAgICAgICAgICA8bDc6VGhyb3VnaHB1dFF1b3RhIGw3OmVuYWJsZWQ9IiR7cXVvdGFFbmFibGVkfSI+DQogICAgICAgICAgICAgICAgPGw3OlF1b3RhPiR7YWNjb3VudFBsYW4ucXVvdGF9PC9sNzpRdW90YT4NCiAgICAgICAgICAgICAgICA8bDc6VGltZVVuaXQ+JHt0aW1lVW5pdH08L2w3OlRpbWVVbml0Pg0KICAgICAgICAgICAgICAgIDxsNzpDb3VudGVyU3RyYXRlZ3k+MjwvbDc6Q291bnRlclN0cmF0ZWd5Pg0KICAgICAgICAgICAgPC9sNzpUaHJvdWdocHV0UXVvdGE+DQogICAgICAgICAgICA8bDc6UmF0ZUxpbWl0IGw3OmVuYWJsZWQ9IiR7cmF0ZUVuYWJsZWR9Ij4NCiAgICAgICAgICAgICAgICA8bDc6TWF4UmVxdWVzdFJhdGU+JHthY2NvdW50UGxhbi5yYXRlTGltaXR9PC9sNzpNYXhSZXF1ZXN0UmF0ZT4NCiAgICAgICAgICAgICAgICA8bDc6V2luZG93U2l6ZUluU2Vjb25kcz42MDwvbDc6V2luZG93U2l6ZUluU2Vjb25kcz4NCiAgICAgICAgICAgICAgICA8bDc6SGFyZExpbWl0PnRydWU8L2w3OkhhcmRMaW1pdD4NCiAgICAgICAgICAgIDwvbDc6UmF0ZUxpbWl0Pg0KICAgICAgICA8L2w3OlBsYW5EZXRhaWxzPg0KICAgICAgICA8bDc6UGxhbk1hcHBpbmc+DQogICAgICAgICAgICA8bDc6SWRzPiR7b3JnSWRzfTwvbDc6SWRzPg0KICAgICAgICA8L2w3OlBsYW5NYXBwaW5nPg0KPC9sNzpBY2NvdW50UGxhbj4=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;payload&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/L7p:ForEachLoop&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwYXlsb2FkfQ0KPC9sNzpBY2NvdW50UGxhbnM+&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;payload&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;****payload:&#36;{payload}&quot;/&gt;
                                    &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHttYW5hZ2VkLmdhdGV3YXl9L2FjY291bnQvcGxhbnM/cmVtb3ZlT21pdHRlZD10cnVl&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;routeUrl&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwYXlsb2FkfQ==&quot;/&gt;
                                    &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
                                    &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;request&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;&#36;{request.mainpart}&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:HttpRoutingAssertion&gt;
                                    &lt;L7p:FailOnErrorStatus booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:HttpMethod httpMethod=&quot;PUT&quot;/&gt;
                                    <xsl:if test="$param.PrivateKey != ''">&lt;L7p:KeyAlias stringValue=&quot;<xsl:value-of select="$param.PrivateKey"/>&quot;/&gt;</xsl:if>
                                    &lt;L7p:NonDefaultKeystoreId goidValue=&quot;00000000000000000000000000000002&quot;/&gt;

                                    &lt;L7p:PassthroughHttpAuthentication booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:ProtectedServiceUrl stringValue=&quot;&#36;{routeUrl}&quot;/&gt;
                                    &lt;L7p:ProxyPassword stringValueNull=&quot;null&quot;/&gt;
                                    &lt;L7p:ProxyUsername stringValueNull=&quot;null&quot;/&gt;
                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                                    &lt;L7p:Name stringValue=&quot;Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                                    &lt;L7p:Name stringValue=&quot;SOAPAction&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;
                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:ForwardAll booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;/&gt;
                                    &lt;/L7p:RequestParamRules&gt;
                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                                    &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                                    &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                                    &lt;L7p:Name stringValue=&quot;Set-Cookie&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;
                                    &lt;L7p:ResponseMsgDest stringValue=&quot;portalmanResponse&quot;/&gt;
                                    &lt;L7p:SamlAssertionVersion intValue=&quot;2&quot;/&gt;
                                    &lt;L7p:UsesDefaultKeyStore booleanValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:HttpRoutingAssertion&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;publish&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;// publish to managed gateway&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:All&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{syncAccountPlans}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;true&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:Detail stringValue=&quot;error pushing account plans&quot;/&gt;
                                    &lt;/L7p:AuditDetailAssertion&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;NTAw&quot;/&gt;
                                    &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;RXJyb3IgUHVzaGluZyBBY2NvdW50IFBsYW5z&quot;/&gt;
                                    &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;errorMessage&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:FalseAssertion&gt;
                                    &lt;L7p:Enabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;/L7p:FalseAssertion&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:TrueAssertion/&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;push account plans&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//PUT account plans request to tenant ssg&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//there is already an error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PostProcessing&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{post-processing-action}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;delete-requests&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3N0LXByb2Nlc3NpbmctcGFyYW1ldGVyMX0=&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;request_cleanup_entity_type&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{request_cleanup_entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;REGISTRATION&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:JdbcQuery&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//get all user uuids in REGISTRATION_PENDING_APPROVAL state&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:NamingMap mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;ORGANIZATION_UUID&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;ORGANIZATION_UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;UUID&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;UUID&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:NamingMap&gt;
                                    &lt;L7p:SqlQuery stringValue=&quot;SELECT UUID, ORGANIZATION_UUID FROM USER WHERE STATUS = &apos;REGISTRATION_PENDING_APPROVAL&apos;;&quot;/&gt;
                                    &lt;L7p:VariablePrefix stringValue=&quot;USER&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{USER.queryresult.count}&quot;/&gt;
                                    &lt;L7p:Expression2 stringValue=&quot;0&quot;/&gt;
                                    &lt;L7p:Operator operator=&quot;GT&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;

                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:Operator operator=&quot;GT&quot;/&gt;

                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//delete all USER_ROLE_XREF&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;DELETE FROM USER_ROLE_XREF WHERE USER_UUID IN (&#36;{USER.UUID})&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//delete all USER&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;DELETE FROM USER WHERE UUID IN (&#36;{USER.UUID})&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;L7p:JdbcQuery&gt;

                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;

                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;

                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;

                                    &lt;L7p:value stringValue=&quot;//delete all ORGANIZATION&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;

                                    &lt;L7p:AssertionFailureEnabled booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{jdbc.connection.name}&quot;/&gt;

                                    &lt;L7p:ConvertVariablesToStrings booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SaveResultsAsContextVariables booleanValue=&quot;false&quot;/&gt;

                                    &lt;L7p:SqlQuery stringValue=&quot;DELETE FROM ORGANIZATION WHERE UUID IN (&#36;{USER.ORGANIZATION_UUID})&quot;/&gt;
                                    &lt;/L7p:JdbcQuery&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;JHtwb3J0YWwuZXJyb3JDb2RlfS5yZWdpc3RyYXRpb24ucmVxdWVzdHMuZGVsZXRlOjMwMw==&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;

                                    &lt;L7p:Base64Expression stringValue=&quot;RmFpbGVkIHRvIGRlbGV0ZSBSZWdpc3RyYXRpb24gcmVxdWVzdHMgYW5kIGl0cyByZWxhdGVkIGVudGl0aWVzLg==&quot;/&gt;

                                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:FalseAssertion/&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//delete registration requests and related entities&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:All&gt;
                                    &lt;L7p:TrueAssertion/&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;deletion work&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                    &lt;/wsp:OneOrMore&gt;
                                    &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;delete-requests&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:assertionComment&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:TrueAssertion/&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;Requests DELETE callback&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//delete all requests of specified type and related entities&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//there is already an error&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                    &lt;/L7p:AssertionComment&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                    &lt;L7p:Expression1 stringValue=&quot;&#36;{entity_type}&quot;/&gt;
                                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;PostProcessing&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                    &lt;/L7p:ComparisonAssertion&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;YXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOA==&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;content_type&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                    &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue=&quot;ew0KInBvc3QtcHJvY2Vzc2luZy1hY3Rpb24iIDogIiR7cG9zdC1wcm9jZXNzaW5nLWFjdGlvbn0iLA0KInBvc3QtcHJvY2Vzc2luZy11dWlkIiA6ICIke3Bvc3QtcHJvY2Vzc2luZy11dWlkfSIsDQoiYmVmb3JlVGVuYW50R2F0ZXdheUVsYXB0ZWRUaW1lIjogIiR7YmVmb3JlVGVuYW50R2F0ZXdheUVsYXBzZWRUaW1lfSINCiJ0b3RhbEVsYXBzZWRUaW1lIjogIiR7cmVxdWVzdC5lbGFwc2VkVGltZX0iDQp9&quot;/&gt;
                                    &lt;L7p:VariableToSet stringValue=&quot;output&quot;/&gt;
                                    &lt;/L7p:SetVariable&gt;
                                &lt;/wsp:All&gt;
                                &lt;L7p:TrueAssertion/&gt;
                                &lt;L7p:assertionComment&gt;
                                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;PostProcessing output&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;//build response for PostProcessing if there are no errors&quot;/&gt;
                                    &lt;/L7p:entry&gt;
                                    &lt;/L7p:Properties&gt;
                                &lt;/L7p:assertionComment&gt;
                            &lt;/wsp:OneOrMore&gt;
                        &lt;/wsp:All&gt;
                        &lt;L7p:assertionComment&gt;
                            &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                                &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                    &lt;L7p:value stringValue=&quot;post-processing&quot;/&gt;
                                &lt;/L7p:entry&gt;
                            &lt;/L7p:Properties&gt;
                        &lt;/L7p:assertionComment&gt;
                    &lt;/wsp:OneOrMore&gt;
                    &lt;L7p:TrueAssertion/&gt;
                    &lt;L7p:assertionComment&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                                &lt;L7p:value stringValue=&quot;main()&quot;/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                &lt;/wsp:All&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                &lt;L7p:value stringValue=&quot;//there is already an error&quot;/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:AssertionComment&gt;
                    &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                    &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                    &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                    &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                        &lt;L7p:item dataType=&quot;included&quot;&gt;
                            &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary=&quot;included&quot;&gt;
                            &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;NTAz&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;U2VydmljZSBVbmF2YWlsYWJsZQ==&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;Restore original request&quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//this makes sure we always have the original request&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0T3JpZ2luYWwubWFpbnBhcnR9&quot;/&gt;
            &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
            &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;request&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                    &lt;L7p:AuditDetailAssertion&gt;
                        &lt;L7p:Detail stringValue=&quot;**httpStatusCode:&#36;{httpStatusCode}**content_type:&#36;{content_type},elapseTime:&#36;{request.elapsedTime}&quot;/&gt;
                    &lt;/L7p:AuditDetailAssertion&gt;
                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                            &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                            &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                            &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                &lt;/L7p:item&gt;
                                &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                            &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                            &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                            &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                &lt;/L7p:item&gt;
                                &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:RightValue stringValue=&quot;200&quot;/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                    &lt;/wsp:OneOrMore&gt;
                    &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                        &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                                &lt;L7p:Expression1 stringValue=&quot;&#36;{output}&quot;/&gt;
                                &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                                &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                                    &lt;L7p:item dataType=&quot;included&quot;&gt;
                                    &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary=&quot;included&quot;&gt;
                                    &lt;L7p:Negated booleanValue=&quot;true&quot;/&gt;
                                    &lt;L7p:Operator operator=&quot;EMPTY&quot;/&gt;
                                    &lt;L7p:RightValue stringValue=&quot;200&quot;/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:HardcodedResponse&gt;
                                &lt;L7p:Base64ResponseBody stringValue=&quot;JHtvdXRwdXR9&quot;/&gt;
                                &lt;L7p:ResponseContentType stringValue=&quot;&#36;{content_type}&quot;/&gt;
                                &lt;L7p:ResponseStatus stringValue=&quot;&#36;{httpStatusCode}&quot;/&gt;
                            &lt;/L7p:HardcodedResponse&gt;
                        &lt;/wsp:All&gt;
                        &lt;L7p:TrueAssertion/&gt;
                    &lt;/wsp:OneOrMore&gt;
                &lt;/wsp:All&gt;
                &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
                    &lt;L7p:ComparisonAssertion&gt;
                        &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                        &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                        &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                        &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                            &lt;L7p:item dataType=&quot;included&quot;&gt;
                                &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item binary=&quot;included&quot;&gt;
                                &lt;L7p:RightValue stringValue=&quot;0&quot;/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Predicates&gt;
                    &lt;/L7p:ComparisonAssertion&gt;
                    &lt;L7p:ComparisonAssertion&gt;
                        &lt;L7p:CaseSensitive booleanValue=&quot;false&quot;/&gt;
                        &lt;L7p:Expression1 stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                        &lt;L7p:Operator operatorNull=&quot;null&quot;/&gt;
                        &lt;L7p:Predicates predicates=&quot;included&quot;&gt;
                            &lt;L7p:item dataType=&quot;included&quot;&gt;
                                &lt;L7p:Type variableDataType=&quot;string&quot;/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item binary=&quot;included&quot;&gt;
                                &lt;L7p:RightValue stringValue=&quot;200&quot;/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Predicates&gt;
                    &lt;/L7p:ComparisonAssertion&gt;
                &lt;/wsp:OneOrMore&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;if (success path)&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;// Return response&quot;/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:AuditDetailAssertion&gt;
                    &lt;L7p:Detail stringValue=&quot;error:&#36;{errorCode},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
                    &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
                &lt;/L7p:AuditDetailAssertion&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValue=&quot;&amp;lt;error xmlns=&amp;quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&amp;quot;&gt;&amp;lt;code&gt;ServerErrorException&amp;lt;/code&gt;&amp;lt;message lang=&amp;quot;en-US&amp;quot;&gt;&#36;{errorCode}:&#36;{errorMsg}&amp;lt;/message&gt;&amp;lt;l7&gt;&amp;lt;Method&gt;&#36;{operation}&amp;lt;/Method&gt;&amp;lt;Resource&gt;&#36;{request.http.uri}&amp;lt;/Resource&gt;&amp;lt;ResourceId&gt;&#36;{entity_id}&amp;lt;/ResourceId&gt;&amp;lt;Timestamp&gt;&#36;{gateway.time}&amp;lt;/Timestamp&gt;&amp;lt;/l7&gt;&amp;lt;/error&gt;&quot;/&gt;
                    &lt;L7p:ContentType stringValue=&quot;application/xml; charset=utf-8&quot;/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray=&quot;included&quot;/&gt;
                    &lt;L7p:HttpStatus stringValue=&quot;&#36;{errorCode}&quot;/&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:FalseAssertion/&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;Else (error)&quot;/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;// Return error, falsify policy&quot;/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;L7p:AuditDetailAssertion&gt;
            &lt;L7p:Detail stringValue=&quot;trace-reference-end,transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},elapsedTime:&#36;{request.elapsedTime}&quot;/&gt;
            &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
            &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
        &lt;/L7p:AuditDetailAssertion&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
            
          </Resource>
          <!-- copy paste wsman get service response here [end]-->
        </ResourceSet>
    </Resources>
</Service>
    </env:Body>
</env:Envelope>

</xsl:template>
</xsl:stylesheet>]]></L7p:Document>
                      </L7p:ResourceInfo>
                      <L7p:TransformName stringValue=""/>
                      <L7p:XsltVersion stringValue="1.0"/>
                    </L7p:XslTransformation>
                    <L7p:GatewayManagement>
                      <L7p:VariablePrefix stringValue="wsman"/>
                    </L7p:GatewayManagement>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="YXBwbGljYXRpb24veG1sO2NoYXJzZXQ9dXRmLTg="/>
                      <L7p:VariableToSet stringValue="content_type"/>
                    </L7p:SetVariable>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="JHtyZXF1ZXN0T3JpZ2luYWwubWFpbnBhcnR9"/>
                      <L7p:VariableToSet stringValue="output"/>
                    </L7p:SetVariable>
                  </wsp:All>
                  <wsp:All wsp:Usage="Required">
                    <L7p:ComparisonAssertion>
                      <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                          <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="//skip if there's alreay an error"/>
                          </L7p:entry>
                        </L7p:Properties>
                      </L7p:AssertionComment>
                      <L7p:CaseSensitive booleanValue="false"/>
                      <L7p:Expression1 stringValue="${errorCode}"/>
                      <L7p:Operator operatorNull="null"/>
                      <L7p:Predicates predicates="included">
                        <L7p:item dataType="included">
                          <L7p:Type variableDataType="string"/>
                        </L7p:item>
                        <L7p:item binary="included">
                          <L7p:RightValue stringValue="0"/>
                        </L7p:item>
                      </L7p:Predicates>
                    </L7p:ComparisonAssertion>
                    <L7p:AuditDetailAssertion>
                      <L7p:Detail stringValue="${wsman.message}"/>
                    </L7p:AuditDetailAssertion>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="VGhlcmUgd2FzIGEgcHJvYmxlbSBjcmVhdGluZyBzZXJ2aWNl"/>
                      <L7p:VariableToSet stringValue="errorMsg"/>
                    </L7p:SetVariable>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="NTAw"/>
                      <L7p:VariableToSet stringValue="errorCode"/>
                    </L7p:SetVariable>
                  </wsp:All>
                </wsp:OneOrMore>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="LEFT.COMMENT"/>
                      <L7p:value stringValue="POST"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:AssertionComment assertionComment="included">
                    <L7p:Properties mapValue="included">
                      <L7p:entry>
                        <L7p:key stringValue="RIGHT.COMMENT"/>
                        <L7p:value stringValue="//skip if there's alreay an error"/>
                      </L7p:entry>
                    </L7p:Properties>
                  </L7p:AssertionComment>
                  <L7p:CaseSensitive booleanValue="false"/>
                  <L7p:Expression1 stringValue="${errorCode}"/>
                  <L7p:Operator operatorNull="null"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item dataType="included">
                      <L7p:Type variableDataType="string"/>
                    </L7p:item>
                    <L7p:item binary="included">
                      <L7p:RightValue stringValue="0"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="TWV0aG9kTm90U3VwcG9ydGVk"/>
                  <L7p:VariableToSet stringValue="errorMsg"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="NTAw"/>
                  <L7p:VariableToSet stringValue="errorCode"/>
                </L7p:SetVariable>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="LEFT.COMMENT"/>
                      <L7p:value stringValue="else"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
            </wsp:OneOrMore>
            <L7p:assertionComment>
              <L7p:Properties mapValue="included">
                <L7p:entry>
                  <L7p:key stringValue="LEFT.COMMENT"/>
                  <L7p:value stringValue="PortalMgmt()"/>
                </L7p:entry>
              </L7p:Properties>
            </L7p:assertionComment>
          </wsp:All>
          <wsp:All wsp:Usage="Required">
            <L7p:ComparisonAssertion>
              <L7p:AssertionComment assertionComment="included">
                <L7p:Properties mapValue="included">
                  <L7p:entry>
                    <L7p:key stringValue="RIGHT.COMMENT"/>
                    <L7p:value stringValue="//skip if there's alreay an error"/>
                  </L7p:entry>
                </L7p:Properties>
              </L7p:AssertionComment>
              <L7p:CaseSensitive booleanValue="false"/>
              <L7p:Expression1 stringValue="${errorCode}"/>
              <L7p:Operator operatorNull="null"/>
              <L7p:Predicates predicates="included">
                <L7p:item dataType="included">
                  <L7p:Type variableDataType="string"/>
                </L7p:item>
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="0"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:ComparisonAssertion>
              <L7p:Expression1 stringValue="${mode}"/>
              <L7p:Expression2 stringValue="PortalMetrics"/>
              <L7p:Predicates predicates="included">
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="PortalMetrics"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <wsp:OneOrMore wsp:Usage="Required">
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:Expression1 stringValue="${operation}"/>
                  <L7p:Expression2 stringValue="POST"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item binary="included">
                      <L7p:RightValue stringValue="POST"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <wsp:OneOrMore wsp:Usage="Required">
                  <wsp:All wsp:Usage="Required">
                    <wsp:OneOrMore wsp:Usage="Required">
                      <wsp:All wsp:Usage="Required">
                        <L7p:RequestXpathAssertion>
                          <L7p:VariablePrefix stringValue=""/>
                          <L7p:XpathExpression xpathExpressionValue="included">
                            <L7p:Expression stringValue="/ns:entry/ns:content/m:properties"/>
                            <L7p:Namespaces mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="ns"/>

                                <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                              </L7p:entry>
                              <L7p:entry>
                                <L7p:key stringValue="d"/>

                                <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                              </L7p:entry>
                              <L7p:entry>
                                <L7p:key stringValue="s"/>

                                <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                              </L7p:entry>
                              <L7p:entry>
                                <L7p:key stringValue="m"/>

                                <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                              </L7p:entry>
                            </L7p:Namespaces>

                            <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                          </L7p:XpathExpression>
                        </L7p:RequestXpathAssertion>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:TenantId/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.TenantId"/>
                            </L7p:SetVariable>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtwYXJhbS5UZW5hbnRJZH0vcG9ydGFsTWV0cmljcy8="/>

                              <L7p:VariableToSet stringValue="urlPattern"/>
                            </L7p:SetVariable>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLm92ZXJ3cml0ZX0="/>

                              <L7p:VariableToSet stringValue="overwriteService"/>
                            </L7p:SetVariable>
                            <wsp:All wsp:Usage="Required">
                              <L7p:ComparisonAssertion>

                                <L7p:AssertionComment assertionComment="included">

                                  <L7p:Properties mapValue="included">
                                    <L7p:entry>

                                      <L7p:key stringValue="RIGHT.COMMENT"/>

                                      <L7p:value stringValue="//skip if there is already an error"/>
                                    </L7p:entry>
                                  </L7p:Properties>
                                </L7p:AssertionComment>

                                <L7p:CaseSensitive booleanValue="false"/>

                                <L7p:Expression1 stringValue="${errorCode}"/>

                                <L7p:Operator operatorNull="null"/>

                                <L7p:Predicates predicates="included">

                                  <L7p:item dataType="included">

                                    <L7p:Type variableDataType="string"/>
                                  </L7p:item>

                                  <L7p:item binary="included">

                                    <L7p:RightValue stringValue="0"/>
                                  </L7p:item>
                                </L7p:Predicates>
                              </L7p:ComparisonAssertion>
                              <L7p:SetVariable>

                                <L7p:Base64Expression stringValue="PGVudjpFbnZlbG9wZSB4bWxuczplbnY9Imh0dHA6Ly93d3cudzMub3JnLzIwMDMvMDUvc29hcC1lbnZlbG9wZSINCnhtbG5zOmw3PSJodHRwOi8vbnMubDd0ZWNoLmNvbS8yMDEwLzA0L2dhdGV3YXktbWFuYWdlbWVudCINCiAgICB4bWxuczp3c2E9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvYWRkcmVzc2luZyINCiAgICB4bWxuczp3c2U9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvZXZlbnRpbmciDQogICAgeG1sbnM6d3Nlbj0iaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNC8wOS9lbnVtZXJhdGlvbiINCiAgICB4bWxuczp3c21hbj0iaHR0cDovL3NjaGVtYXMuZG10Zi5vcmcvd2JlbS93c21hbi8xL3dzbWFuLnhzZCINCiAgICB4bWxuczp3eGY9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDkvdHJhbnNmZXIiIHhtbG5zOnhzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSI+DQogICAgPGVudjpIZWFkZXI+DQogICAgICAgIDx3c2E6QWN0aW9uIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+aHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNC8wOS9lbnVtZXJhdGlvbi9FbnVtZXJhdGU8L3dzYTpBY3Rpb24+DQogICAgICAgIDx3c2E6UmVwbHlUbz4NCiAgICAgICAgICAgIDx3c2E6QWRkcmVzcyBlbnY6bXVzdFVuZGVyc3RhbmQ9InRydWUiPmh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvYWRkcmVzc2luZy9yb2xlL2Fub255bW91czwvd3NhOkFkZHJlc3M+DQogICAgICAgIDwvd3NhOlJlcGx5VG8+DQogICAgICAgIDx3c2E6TWVzc2FnZUlEIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+JHtyZXF1ZXN0SWR9PC93c2E6TWVzc2FnZUlEPg0KICAgICAgICA8d3NhOlRvIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+aHR0cHM6Ly8ke2dhdGV3YXkuY2x1c3Rlci5ob3N0bmFtZX06ODQ0My93c21hbjwvd3NhOlRvPg0KICAgICAgICA8d3NtYW46UmVzb3VyY2VVUkk+aHR0cDovL25zLmw3dGVjaC5jb20vMjAxMC8wNC9nYXRld2F5LW1hbmFnZW1lbnQvc2VydmljZXM8L3dzbWFuOlJlc291cmNlVVJJPg0KICAgICAgICA8d3NtYW46UmVxdWVzdFRvdGFsSXRlbXNDb3VudEVzdGltYXRlLz4NCiAgICA8L2VudjpIZWFkZXI+DQogICAgPGVudjpCb2R5Pg0KICAgICAgICA8d3NlbjpFbnVtZXJhdGU+DQogICAgICAgICAgICA8d3NtYW46T3B0aW1pemVFbnVtZXJhdGlvbi8+DQogICAgICAgICAgICA8d3NtYW46TWF4RWxlbWVudHM+MTwvd3NtYW46TWF4RWxlbWVudHM+DQogICAgICAgICAgICA8d3NtYW46RmlsdGVyPg0KL2w3OlNlcnZpY2VbbDc6U2VydmljZURldGFpbC9sNzpTZXJ2aWNlTWFwcGluZ3MvbDc6SHR0cE1hcHBpbmcvbDc6VXJsUGF0dGVyblt0ZXh0KCk9Jy8ke3VybFBhdHRlcm59Kicgb3IgdGV4dCgpPScke3VybFBhdHRlcm59KiddXQ0KPC93c21hbjpGaWx0ZXI+DQogICAgICAgIDwvd3NlbjpFbnVtZXJhdGU+DQogICAgPC9lbnY6Qm9keT4NCjwvZW52OkVudmVsb3BlPg=="/>

                                <L7p:ContentType stringValue="application/soap+xml;charset=UTF-8;action=&quot;http://schemas.xmlsoap.org/ws/2004/09/enumeration/Enumerate&quot;"/>

                                <L7p:DataType variableDataType="message"/>

                                <L7p:VariableToSet stringValue="request"/>
                              </L7p:SetVariable>
                              <L7p:GatewayManagement/>

                              <wsp:OneOrMore wsp:Usage="Required">
                                <wsp:All wsp:Usage="Required">
                                  <L7p:ResponseXpathAssertion>

                                    <L7p:VariablePrefix stringValue=""/>

                                    <L7p:XpathExpression xpathExpressionValue="included">

                                      <L7p:Expression stringValue="/env:Envelope/env:Body/wsen:EnumerateResponse/wsman:Items/l7:Service/l7:ServiceDetail/l7:ServiceMappings/l7:HttpMapping/l7:UrlPattern"/>

                                      <L7p:Namespaces mapValue="included">
                                        <L7p:entry>

                                          <L7p:key stringValue="wsa"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/addressing"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="mdo"/>

                                          <L7p:value stringValue="http://schemas.wiseman.dev.java.net/metadata/messagetypes"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="s"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="l7"/>

                                          <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="wxf"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/transfer"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="xs"/>

                                          <L7p:value stringValue="http://www.w3.org/2001/XMLSchema"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="env"/>

                                          <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="wsen"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/enumeration"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="wsman"/>

                                          <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="mex"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/mex"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="wse"/>

                                          <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/eventing"/>
                                        </L7p:entry>
                                        <L7p:entry>

                                          <L7p:key stringValue="wsmeta"/>

                                          <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman/version1.0.0.a/default-addressing-model.xsd"/>
                                        </L7p:entry>
                                      </L7p:Namespaces>

                                      <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                                    </L7p:XpathExpression>
                                  </L7p:ResponseXpathAssertion>

                                  <wsp:OneOrMore wsp:Usage="Required">

                                    <wsp:All wsp:Usage="Required">
                                      <L7p:ComparisonAssertion>

                                        <L7p:CaseSensitive booleanValue="false"/>

                                        <L7p:Expression1 stringValue="${overwriteService}"/>

                                        <L7p:Operator operatorNull="null"/>

                                        <L7p:Predicates predicates="included">

                                          <L7p:item dataType="included">

                                            <L7p:Type variableDataType="string"/>
                                          </L7p:item>

                                          <L7p:item binary="included">

                                            <L7p:CaseSensitive booleanValue="false"/>

                                            <L7p:RightValue stringValue="true"/>
                                          </L7p:item>
                                        </L7p:Predicates>
                                      </L7p:ComparisonAssertion>
                                      <L7p:ResponseXpathAssertion>

                                        <L7p:VariablePrefix stringValue="serviceId"/>

                                        <L7p:XpathExpression xpathExpressionValue="included">

                                          <L7p:Expression stringValue="/env:Envelope/env:Body/wsen:EnumerateResponse/wsman:Items/l7:Service/@id"/>

                                          <L7p:Namespaces mapValue="included">
                                            <L7p:entry>

                                              <L7p:key stringValue="wsa"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/addressing"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="mdo"/>

                                              <L7p:value stringValue="http://schemas.wiseman.dev.java.net/metadata/messagetypes"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="s"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="l7"/>

                                              <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="wxf"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/transfer"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="xs"/>

                                              <L7p:value stringValue="http://www.w3.org/2001/XMLSchema"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="env"/>

                                              <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="wsen"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/enumeration"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="wsman"/>

                                              <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="mex"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/mex"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="wse"/>

                                              <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/eventing"/>
                                            </L7p:entry>
                                            <L7p:entry>

                                              <L7p:key stringValue="wsmeta"/>

                                              <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman/version1.0.0.a/default-addressing-model.xsd"/>
                                            </L7p:entry>
                                          </L7p:Namespaces>

                                          <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                                        </L7p:XpathExpression>
                                      </L7p:ResponseXpathAssertion>
                                      <L7p:SetVariable>

                                        <L7p:Base64Expression stringValue="JHtzZXJ2aWNlSWQuZWxlbWVudH0="/>

                                        <L7p:VariableToSet stringValue="serviceId"/>
                                      </L7p:SetVariable>
                                      <L7p:SetVariable>

                                        <L7p:Base64Expression stringValue="PGVudjpFbnZlbG9wZSB4bWxuczplbnY9Imh0dHA6Ly93d3cudzMub3JnLzIwMDMvMDUvc29hcC1lbnZlbG9wZSINCnhtbG5zOmw3PSJodHRwOi8vbnMubDd0ZWNoLmNvbS8yMDEwLzA0L2dhdGV3YXktbWFuYWdlbWVudCINCiAgICB4bWxuczp3c2E9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvYWRkcmVzc2luZyINCiAgICB4bWxuczp3c2U9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvZXZlbnRpbmciDQogICAgeG1sbnM6d3Nlbj0iaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNC8wOS9lbnVtZXJhdGlvbiINCiAgICB4bWxuczp3c21hbj0iaHR0cDovL3NjaGVtYXMuZG10Zi5vcmcvd2JlbS93c21hbi8xL3dzbWFuLnhzZCINCiAgICB4bWxuczp3eGY9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDkvdHJhbnNmZXIiIHhtbG5zOnhzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSI+DQogICAgPGVudjpIZWFkZXI+DQogICAgICAgIDx3c2E6QWN0aW9uIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+aHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNC8wOS90cmFuc2Zlci9EZWxldGU8L3dzYTpBY3Rpb24+DQogICAgICAgIDx3c2E6UmVwbHlUbz4NCiAgICAgICAgICAgIDx3c2E6QWRkcmVzcyBlbnY6bXVzdFVuZGVyc3RhbmQ9InRydWUiPmh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDQvMDgvYWRkcmVzc2luZy9yb2xlL2Fub255bW91czwvd3NhOkFkZHJlc3M+DQogICAgICAgIDwvd3NhOlJlcGx5VG8+DQogICAgICAgIDx3c2E6TWVzc2FnZUlEIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+JHtyZXF1ZXN0SWR9PC93c2E6TWVzc2FnZUlEPg0KICAgICAgICA8d3NhOlRvIGVudjptdXN0VW5kZXJzdGFuZD0idHJ1ZSI+aHR0cHM6Ly8ke2dhdGV3YXkuY2x1c3Rlci5ob3N0bmFtZX06ODQ0My93c21hbjwvd3NhOlRvPg0KICAgICAgICA8d3NtYW46UmVzb3VyY2VVUkk+aHR0cDovL25zLmw3dGVjaC5jb20vMjAxMC8wNC9nYXRld2F5LW1hbmFnZW1lbnQvc2VydmljZXM8L3dzbWFuOlJlc291cmNlVVJJPg0KICAgICAgICA8d3NtYW46UmVxdWVzdFRvdGFsSXRlbXNDb3VudEVzdGltYXRlLz4NCiAgICAgICAgPHdzbWFuOlNlbGVjdG9yU2V0Pg0KICAgICAgICAgICAgPHdzbWFuOlNlbGVjdG9yIE5hbWU9ImlkIj4ke3NlcnZpY2VJZH08L3dzbWFuOlNlbGVjdG9yPg0KICAgICAgICA8L3dzbWFuOlNlbGVjdG9yU2V0Pg0KICAgIDwvZW52OkhlYWRlcj4NCiAgICA8ZW52OkJvZHkvPg0KPC9lbnY6RW52ZWxvcGU+"/>

                                        <L7p:ContentType stringValue="application/soap+xml;charset=UTF-8;action=&quot;http://schemas.xmlsoap.org/ws/2004/09/transfer/Delete&quot;"/>

                                        <L7p:DataType variableDataType="message"/>

                                        <L7p:VariableToSet stringValue="request"/>
                                      </L7p:SetVariable>
                                      <L7p:GatewayManagement/>
                                      <L7p:SetVariable>

                                        <L7p:Base64Expression stringValue="JHtyZXNwb25zZS5tYWlucGFydH0="/>

                                        <L7p:ContentType stringValue="text/xml; charset=utf-8"/>

                                        <L7p:DataType variableDataType="message"/>

                                        <L7p:VariableToSet stringValue="RESP_createOp"/>
                                      </L7p:SetVariable>

                                      <wsp:OneOrMore wsp:Usage="Required">

                                        <wsp:All wsp:Usage="Required">
                                          <L7p:ResponseXpathAssertion>

                                            <L7p:VariablePrefix stringValue="serviceId"/>

                                            <L7p:XmlMsgSrc stringValue="RESP_createOp"/>

                                            <L7p:XpathExpression xpathExpressionValue="included">

                                              <L7p:Expression stringValue="/env:Envelope/env:Header/wsa:Action[text()='http://schemas.xmlsoap.org/ws/2004/09/transfer/DeleteResponse']"/>

                                              <L7p:Namespaces mapValue="included">
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsa"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/addressing"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="mdo"/>

                                                  <L7p:value stringValue="http://schemas.wiseman.dev.java.net/metadata/messagetypes"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="s"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="l7"/>

                                                  <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wxf"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/transfer"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="xs"/>

                                                  <L7p:value stringValue="http://www.w3.org/2001/XMLSchema"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="env"/>

                                                  <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsen"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/enumeration"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsman"/>

                                                  <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="mex"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/mex"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wse"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/eventing"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsmeta"/>

                                                  <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman/version1.0.0.a/default-addressing-model.xsd"/>
                                                </L7p:entry>
                                              </L7p:Namespaces>

                                              <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                                            </L7p:XpathExpression>
                                          </L7p:ResponseXpathAssertion>
                                        </wsp:All>

                                        <wsp:All wsp:Usage="Required">
                                          <L7p:ResponseXpathAssertion>

                                            <L7p:VariablePrefix stringValue="fault"/>

                                            <L7p:XmlMsgSrc stringValue="RESP_createOp"/>

                                            <L7p:XpathExpression xpathExpressionValue="included">

                                              <L7p:Expression stringValue="/env:Envelope/env:Body/env:Fault"/>

                                              <L7p:Namespaces mapValue="included">
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsa"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/addressing"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="mdo"/>

                                                  <L7p:value stringValue="http://schemas.wiseman.dev.java.net/metadata/messagetypes"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="s"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="l7"/>

                                                  <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wxf"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/transfer"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="xs"/>

                                                  <L7p:value stringValue="http://www.w3.org/2001/XMLSchema"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="env"/>

                                                  <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsen"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/enumeration"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsman"/>

                                                  <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="mex"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/09/mex"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wse"/>

                                                  <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2004/08/eventing"/>
                                                </L7p:entry>
                                                <L7p:entry>

                                                  <L7p:key stringValue="wsmeta"/>

                                                  <L7p:value stringValue="http://schemas.dmtf.org/wbem/wsman/1/wsman/version1.0.0.a/default-addressing-model.xsd"/>
                                                </L7p:entry>
                                              </L7p:Namespaces>
                                            </L7p:XpathExpression>
                                          </L7p:ResponseXpathAssertion>
                                          <L7p:SetVariable>

                                            <L7p:Base64Expression stringValue="JHtmYXVsdC5lbGVtZW50fQ=="/>

                                            <L7p:ContentType stringValue="text/xml; charset=utf-8"/>

                                            <L7p:DataType variableDataType="message"/>

                                            <L7p:VariableToSet stringValue="RESP_fault"/>
                                          </L7p:SetVariable>

                                          <wsp:OneOrMore wsp:Usage="Required">

                                            <wsp:All wsp:Usage="Required">
                                              <L7p:ResponseXpathAssertion>

                                                <L7p:VariablePrefix stringValue="reason"/>

                                                <L7p:XmlMsgSrc stringValue="RESP_fault"/>

                                                <L7p:XpathExpression xpathExpressionValue="included">

                                                  <L7p:Expression stringValue="//env:Reason/env:Text/text()"/>

                                                  <L7p:Namespaces mapValue="included">
                                                    <L7p:entry>

                                                      <L7p:key stringValue="l7"/>

                                                      <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                                    </L7p:entry>
                                                    <L7p:entry>

                                                      <L7p:key stringValue="env"/>

                                                      <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                                    </L7p:entry>
                                                  </L7p:Namespaces>

                                                  <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                                                </L7p:XpathExpression>
                                              </L7p:ResponseXpathAssertion>
                                              <L7p:ResponseXpathAssertion>

                                                <L7p:VariablePrefix stringValue="detail"/>

                                                <L7p:XmlMsgSrc stringValue="RESP_fault"/>

                                                <L7p:XpathExpression xpathExpressionValue="included">

                                                  <L7p:Expression stringValue="//env:Detail/env:Text/text()"/>

                                                  <L7p:Namespaces mapValue="included">
                                                    <L7p:entry>

                                                      <L7p:key stringValue="l7"/>

                                                      <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                                    </L7p:entry>
                                                    <L7p:entry>

                                                      <L7p:key stringValue="env"/>

                                                      <L7p:value stringValue="http://www.w3.org/2003/05/soap-envelope"/>
                                                    </L7p:entry>
                                                  </L7p:Namespaces>

                                                  <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                                                </L7p:XpathExpression>
                                              </L7p:ResponseXpathAssertion>
                                            </wsp:All>
                                            <L7p:TrueAssertion/>
                                          </wsp:OneOrMore>
                                          <L7p:AuditDetailAssertion>

                                            <L7p:Detail stringValue="Fault Reason: ${reason.result}Fault Detail: ${detail.result}"/>

                                            <L7p:LoggingOnly booleanValue="true"/>
                                          </L7p:AuditDetailAssertion>

                                          <wsp:All wsp:Usage="Required">
                                            <L7p:SetVariable>

                                              <L7p:Base64Expression stringValue="NTAw"/>

                                              <L7p:VariableToSet stringValue="errorCode"/>
                                            </L7p:SetVariable>
                                            <L7p:SetVariable>

                                              <L7p:Base64Expression stringValue="RmFpbGVkIGRlbGV0aW5nIHNlcnZpY2UgKHVybFBhdHRlcm46ICR7dXJsUGF0dGVybn0sIHNlcnZpY2VJZDogJHtzZXJ2aWNlSWR9KSBkdXJpbmcgb3ZlcndyaXRlLg=="/>

                                              <L7p:VariableToSet stringValue="errorMsg"/>
                                            </L7p:SetVariable>
                                          </wsp:All>
                                          <L7p:assertionComment>

                                            <L7p:Properties mapValue="included">
                                              <L7p:entry>

                                                <L7p:key stringValue="RIGHT.COMMENT"/>

                                                <L7p:value stringValue="// error check"/>
                                              </L7p:entry>
                                            </L7p:Properties>
                                          </L7p:assertionComment>
                                        </wsp:All>
                                        <L7p:TrueAssertion/>
                                      </wsp:OneOrMore>
                                    </wsp:All>

                                    <wsp:All wsp:Usage="Required">
                                      <L7p:SetVariable>

                                        <L7p:Base64Expression stringValue="NTAw"/>

                                        <L7p:VariableToSet stringValue="errorCode"/>
                                      </L7p:SetVariable>
                                      <L7p:SetVariable>

                                        <L7p:Base64Expression stringValue="VXJsUGF0dGVybiAnJHt1cmxQYXR0ZXJufScgYWxyZWFkeSBleGlzdA=="/>

                                        <L7p:VariableToSet stringValue="errorMsg"/>
                                      </L7p:SetVariable>
                                    </wsp:All>
                                  </wsp:OneOrMore>
                                  <L7p:assertionComment>

                                    <L7p:Properties mapValue="included">
                                      <L7p:entry>

                                        <L7p:key stringValue="RIGHT.COMMENT"/>

                                        <L7p:value stringValue="// If service exists set error"/>
                                      </L7p:entry>
                                    </L7p:Properties>
                                  </L7p:assertionComment>
                                </wsp:All>
                                <L7p:TrueAssertion/>
                              </wsp:OneOrMore>
                              <L7p:assertionComment>

                                <L7p:Properties mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="RIGHT.COMMENT"/>

                                    <L7p:value stringValue="// validate urlPattern if already exist"/>
                                  </L7p:entry>
                                </L7p:Properties>
                              </L7p:assertionComment>
                            </wsp:All>
                          </wsp:All>
                          <wsp:All wsp:Usage="Required">
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="NTAw"/>

                              <L7p:VariableToSet stringValue="errorCode"/>
                            </L7p:SetVariable>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="VGVuYW50SWQgaXMgcmVxdWlyZWQ="/>

                              <L7p:VariableToSet stringValue="errorMsg"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="TenantId"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <wsp:OneOrMore wsp:Usage="Required">
                          <wsp:All wsp:Usage="Required">
                            <L7p:SetVariable>

                              <L7p:AssertionComment assertionComment="included">

                                <L7p:Properties mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="Restore original request"/>
                                  </L7p:entry>
                                </L7p:Properties>
                              </L7p:AssertionComment>

                              <L7p:Base64Expression stringValue="JHtyZXF1ZXN0T3JpZ2luYWwubWFpbnBhcnR9"/>

                              <L7p:ContentType stringValue="text/xml; charset=utf-8"/>

                              <L7p:DataType variableDataType="message"/>

                              <L7p:VariableToSet stringValue="request"/>
                            </L7p:SetVariable>
                            <L7p:ResponseXpathAssertion>

                              <L7p:VariablePrefix stringValue=""/>

                              <L7p:XmlMsgSrc stringValue="request"/>

                              <L7p:XpathExpression xpathExpressionValue="included">

                                <L7p:Expression stringValue="/ns:entry/ns:content/m:properties/d:JdbcConnectionName/text()"/>

                                <L7p:Namespaces mapValue="included">
                                  <L7p:entry>

                                    <L7p:key stringValue="d"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="ns"/>

                                    <L7p:value stringValue="http://www.w3.org/2005/Atom"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="s"/>

                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="l7"/>

                                    <L7p:value stringValue="http://ns.l7tech.com/2012/04/api-management"/>
                                  </L7p:entry>
                                  <L7p:entry>

                                    <L7p:key stringValue="m"/>

                                    <L7p:value stringValue="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"/>
                                  </L7p:entry>
                                </L7p:Namespaces>

                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                              </L7p:XpathExpression>
                            </L7p:ResponseXpathAssertion>
                            <L7p:SetVariable>

                              <L7p:Base64Expression stringValue="JHtyZXNwb25zZVhwYXRoLmVsZW1lbnR9"/>

                              <L7p:VariableToSet stringValue="param.JdbcConnectionName"/>
                            </L7p:SetVariable>
                          </wsp:All>
                          <L7p:TrueAssertion/>
                          <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                              <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>

                                <L7p:value stringValue="JdbcConnectionName"/>
                              </L7p:entry>
                            </L7p:Properties>
                          </L7p:assertionComment>
                        </wsp:OneOrMore>
                      </wsp:All>
                      <wsp:All wsp:Usage="Required">
                        <L7p:SetVariable>

                          <L7p:Base64Expression stringValue="NTAw"/>
                          <L7p:VariableToSet stringValue="errorCode"/>
                        </L7p:SetVariable>
                        <L7p:SetVariable>

                          <L7p:Base64Expression stringValue="SW52YWxpZCBYTUwgUmVxdWVzdA=="/>
                          <L7p:VariableToSet stringValue="errorMsg"/>
                        </L7p:SetVariable>
                      </wsp:All>
                      <L7p:assertionComment>
                        <L7p:Properties mapValue="included">
                          <L7p:entry>
                            <L7p:key stringValue="LEFT.COMMENT"/>
                            <L7p:value stringValue="make sure it is a valid xml request"/>
                          </L7p:entry>
                          <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="//required"/>
                          </L7p:entry>
                        </L7p:Properties>
                      </L7p:assertionComment>
                    </wsp:OneOrMore>
                    <L7p:ComparisonAssertion>
                      <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                          <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="//skip if there's alreay an error"/>
                          </L7p:entry>
                        </L7p:Properties>
                      </L7p:AssertionComment>
                      <L7p:CaseSensitive booleanValue="false"/>
                      <L7p:Expression1 stringValue="${errorCode}"/>
                      <L7p:Operator operatorNull="null"/>
                      <L7p:Predicates predicates="included">
                        <L7p:item dataType="included">
                          <L7p:Type variableDataType="string"/>
                        </L7p:item>
                        <L7p:item binary="included">
                          <L7p:RightValue stringValue="0"/>
                        </L7p:item>
                      </L7p:Predicates>
                    </L7p:ComparisonAssertion>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="PHhtbC8+"/>
                      <L7p:ContentType stringValue="application/soap+xml;charset=UTF-8;action=&quot;http://schemas.xmlsoap.org/ws/2004/09/transfer/Create&quot;"/>
                      <L7p:DataType variableDataType="message"/>
                      <L7p:VariableToSet stringValue="request"/>
                    </L7p:SetVariable>
                    <L7p:XslTransformation>
                      <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                          <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="//portalMetrics"/>
                          </L7p:entry>
                        </L7p:Properties>
                      </L7p:AssertionComment>
                      <L7p:ResourceInfo staticResourceInfo="included">
                        <L7p:Document stringValueReference="inline"><![CDATA[<xsl:stylesheet version="1.0" xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
<xsl:param name="requestId" select="'now'"/>
<xsl:param name="gateway.cluster.hostname" select="'localhost'"/>
<xsl:param name="serviceName" select="'API Portal Tenant Metrics'"/>
<xsl:param name="urlPattern" select="'templateX/portalAuth/'"/>
<xsl:param name="gateway.time" select="'now'"/>
<xsl:param name="param.TenantId" select="'tenant3x'"/>
<xsl:param name="param.JdbcConnectionName" select="'jdbc_conn_name'"/>
<xsl:output encoding="UTF-8" indent="yes" method="xml" omit-xml-declaration="yes" version="1.0"/>
<xsl:template match="/">
<env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope" xmlns:wsa="http://schemas.xmlsoap.org/ws/2004/08/addressing" xmlns:wse="http://schemas.xmlsoap.org/ws/2004/08/eventing" xmlns:wsen="http://schemas.xmlsoap.org/ws/2004/09/enumeration" xmlns:wsman="http://schemas.dmtf.org/wbem/wsman/1/wsman.xsd" xmlns:wxf="http://schemas.xmlsoap.org/ws/2004/09/transfer" xmlns:xs="http://www.w3.org/2001/XMLSchema">
    <env:Header>
        <wsa:Action env:mustUnderstand="true">http://schemas.xmlsoap.org/ws/2004/09/transfer/Create</wsa:Action>
        <wsa:ReplyTo>
            <wsa:Address env:mustUnderstand="true">http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous</wsa:Address>
        </wsa:ReplyTo>
        <wsa:MessageID env:mustUnderstand="true"><xsl:value-of select="$requestId"/></wsa:MessageID>
        <wsa:To env:mustUnderstand="true">https://<xsl:value-of select="$gateway.cluster.hostname"/>:8443/wsman</wsa:To>
        <wsman:ResourceURI>http://ns.l7tech.com/2010/04/gateway-management/services</wsman:ResourceURI>
        <wsman:OperationTimeout>P0Y0M0DT0H5M0.000S</wsman:OperationTimeout>
    </env:Header>
    <env:Body>
<Service xmlns="http://ns.l7tech.com/2010/04/gateway-management">
    <ServiceDetail>
        <Name><xsl:value-of select="$serviceName"/></Name>
        <Enabled>true</Enabled>
        <ServiceMappings>
            <HttpMapping>
                <UrlPattern>/<xsl:value-of select="$urlPattern"/>*</UrlPattern>
                <Verbs>
                    <Verb>GET</Verb>
                    <Verb>POST</Verb>
                    <Verb>PUT</Verb>
                    <Verb>DELETE</Verb>
                </Verbs>
            </HttpMapping>
        </ServiceMappings>
        <Properties>
            <Property key="wssProcessingEnabled">
                <BooleanValue>false</BooleanValue>
            </Property>
            <Property key="soap">
                <BooleanValue>false</BooleanValue>
            </Property>
            <Property key="internal">
                <BooleanValue>false</BooleanValue>
            </Property>
        </Properties>
    </ServiceDetail>
    <Resources>
        <ResourceSet tag="policy">
          <!-- copy paste wsman get service response here [start]-->
          <Resource type="policy">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;wsp:Policy xmlns:L7p=&quot;http://www.layer7tech.com/ws/policy&quot; xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2002/12/policy&quot;&gt;
    &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
        &lt;L7p:AuditAssertion&gt;
            &lt;L7p:SaveRequest booleanValue=&quot;true&quot;/&gt;
        &lt;/L7p:AuditAssertion&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;prefix&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Expression stringValue=&quot;<xsl:value-of select="$param.TenantId"/>&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;prefix&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;getSessionId&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnNlc3Npb25JZH0=&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;sessionId&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;getTransactionId&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnRyYW5zYWN0aW9uSWR9&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;transactionId&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtzc2dub2RlLmlkfS1pbnN0YW5jZUlk&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;instanceId.token.key&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;NzIwMA==&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;instanceId.token.max-age&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:AuditDetailAssertion&gt;
            &lt;L7p:Detail stringValue=&quot;instanceId.token.key:&#36;{instanceId.token.key},instanceId.token.max-age:&#36;{instanceId.token.max-age}&quot;/&gt;
            &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
        &lt;/L7p:AuditDetailAssertion&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;MjAwMA==&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;instanceId.token.http.timeout&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:CacheLookup&gt;
                    &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{instanceId.token.key}&quot;/&gt;
                    &lt;L7p:ContentTypeOverride stringValue=&quot;&quot;/&gt;
                    &lt;L7p:MaxEntryAgeSeconds stringValue=&quot;&#36;{instanceId.token.max-age}&quot;/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;instanceIdValue&quot;/&gt;
                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:CacheLookup&gt;
                &lt;L7p:AuditDetailAssertion&gt;
                    &lt;L7p:Detail stringValue=&quot;instance id cache value: &#36;{instanceIdValue.mainpart}&quot;/&gt;
                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                &lt;/L7p:AuditDetailAssertion&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;JHtpbnN0YW5jZUlkVmFsdWUubWFpbnBhcnR9&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;instanceId&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:AuditDetailAssertion&gt;
                    &lt;L7p:Detail stringValue=&quot;trying route&quot;/&gt;
                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                &lt;/L7p:AuditDetailAssertion&gt;
                &lt;L7p:HttpRoutingAssertion&gt;
                    &lt;L7p:ConnectionTimeout stringValue=&quot;&#36;{instanceId.token.http.timeout}&quot;/&gt;
                    &lt;L7p:MaxRetries intValue=&quot;1&quot;/&gt;
                    &lt;L7p:ProtectedServiceUrl stringValue=&quot;http://169.254.169.254/latest/meta-data/instance-id&quot;/&gt;
                    &lt;L7p:ProxyPassword stringValueNull=&quot;null&quot;/&gt;
                    &lt;L7p:ProxyUsername stringValueNull=&quot;null&quot;/&gt;
                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                        &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                            &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                                &lt;L7p:Name stringValue=&quot;Cookie&quot;/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                                &lt;L7p:Name stringValue=&quot;SOAPAction&quot;/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:RequestHeaderRules&gt;
                    &lt;L7p:RequestParamRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                        &lt;L7p:ForwardAll booleanValue=&quot;true&quot;/&gt;
                        &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;/&gt;
                    &lt;/L7p:RequestParamRules&gt;
                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet=&quot;included&quot;&gt;
                        &lt;L7p:Rules httpPassthroughRules=&quot;included&quot;&gt;
                            &lt;L7p:item httpPassthroughRule=&quot;included&quot;&gt;
                                &lt;L7p:Name stringValue=&quot;Set-Cookie&quot;/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:ResponseHeaderRules&gt;
                    &lt;L7p:ResponseMsgDest stringValue=&quot;awsMetadata&quot;/&gt;
                    &lt;L7p:SamlAssertionVersion intValue=&quot;2&quot;/&gt;
                    &lt;L7p:Timeout stringValue=&quot;&#36;{instanceId.token.http.timeout}&quot;/&gt;
                &lt;/L7p:HttpRoutingAssertion&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;JHthd3NNZXRhZGF0YS5tYWlucGFydH0=&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;instanceId&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:CacheStorage&gt;
                    &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{instanceId.token.key}&quot;/&gt;
                    &lt;L7p:MaxEntryAgeSeconds stringValue=&quot;&#36;{instanceId.token.max-age}&quot;/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;instanceId&quot;/&gt;
                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:CacheStorage&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;aws&quot;/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:AuditDetailAssertion&gt;
                    &lt;L7p:Detail stringValue=&quot;fallback&quot;/&gt;
                    &lt;L7p:LoggingOnly booleanValue=&quot;true&quot;/&gt;
                &lt;/L7p:AuditDetailAssertion&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;JHtzc2dub2RlLmhvc3RuYW1lfQ==&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;instanceId&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:CacheStorage&gt;
                    &lt;L7p:CacheEntryKey stringValue=&quot;&#36;{instanceId.token.key}&quot;/&gt;
                    &lt;L7p:MaxEntryAgeSeconds stringValue=&quot;&#36;{instanceId.token.max-age}&quot;/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue=&quot;instanceId&quot;/&gt;
                    &lt;L7p:StoreSoapFaults booleanValue=&quot;true&quot;/&gt;
                    &lt;L7p:Target target=&quot;OTHER&quot;/&gt;
                &lt;/L7p:CacheStorage&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;fallback&quot;/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:TrueAssertion&gt;
                &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;//this block should never fail&quot;/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
            &lt;/L7p:TrueAssertion&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;getInstanceId()&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;L7p:AuditDetailAssertion&gt;
            &lt;L7p:Detail stringValue=&quot;prefix:&#36;{prefix},instanceId:&#36;{instanceId},transactionId:&#36;{transactionId},sessionId:&#36;{sessionId},requestId:&#36;{requestId}&quot;/&gt;
        &lt;/L7p:AuditDetailAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:SslAssertion&gt;
                    &lt;L7p:RequireClientAuthentication booleanValue=&quot;true&quot;/&gt;
                &lt;/L7p:SslAssertion&gt;
                &lt;L7p:AuditDetailAssertion&gt;
                    &lt;L7p:Detail stringValue=&quot;username: &#36;{request.username}&quot;/&gt;
                &lt;/L7p:AuditDetailAssertion&gt;
                &lt;L7p:Authentication&gt;
                    &lt;L7p:IdentityProviderOid goidValue=&quot;0000000000000000fffffffffffffffe&quot;/&gt;
                &lt;/L7p:Authentication&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;//mutual auth&quot;/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:SslAssertion/&gt;
                &lt;L7p:HttpBasic/&gt;
                &lt;L7p:AuditDetailAssertion&gt;
                    &lt;L7p:Detail stringValue=&quot;username: &#36;{request.username}&quot;/&gt;
                &lt;/L7p:AuditDetailAssertion&gt;
                &lt;L7p:Authentication&gt;
                    &lt;L7p:IdentityProviderOid goidValue=&quot;0000000000000000fffffffffffffffe&quot;/&gt;
                &lt;/L7p:Authentication&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                            &lt;L7p:value stringValue=&quot;//basic auth&quot;/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;authenticate()&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;L7p:AuditDetailAssertion&gt;
            &lt;L7p:Detail stringValue=&quot;auth_user: &#36;{request.authenticateduser}&quot;/&gt;
        &lt;/L7p:AuditDetailAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue=&quot;API Portal Metrics Policy Cake as of 2014-08-29 23:00 //RR&quot;/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue=&quot;My4w&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;VERSION&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//JDBC Connection Name&quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;metrics.db.name&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Expression stringValue=&quot;<xsl:value-of select="$param.JdbcConnectionName"/>&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;metrics.db.name&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//this makes sure we always have the original request&quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;Backup original request&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0Lm1haW5wYXJ0fQ==&quot;/&gt;
            &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
            &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;requestOriginal&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:AuditDetailAssertion&gt;
            &lt;L7p:Detail stringValue=&quot;&#36;{request.http.method} &#36;{request.url}&quot;/&gt;
            &lt;L7p:Level stringValue=&quot;WARNING&quot;/&gt;
        &lt;/L7p:AuditDetailAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage=&quot;Required&quot;&gt;
            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:RateLimit&gt;
                    &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                        &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                                &lt;L7p:value stringValue=&quot;//Update this assertion if you need a higher throughput or limit&quot;/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:AssertionComment&gt;
                    &lt;L7p:CounterName stringValue=&quot;PRESET(ac0a793a036466be)&quot;/&gt;
                    &lt;L7p:MaxRequestsPerSecond stringValue=&quot;50&quot;/&gt;
                    &lt;L7p:ShapeRequests booleanValue=&quot;true&quot;/&gt;
                &lt;/L7p:RateLimit&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;PGw3OkN1c3RvbUVudGl0aWVzIHhtbG5zOmw3PSJodHRwOi8vbnMubDd0ZWNoLmNvbS8yMDEyLzA0L2FwaS1tYW5hZ2VtZW50Ij4JCQ0KCTxsNzpFbnRpdHk+DQoJCTxsNzp0YWJsZU5hbWU+SElUU19NRVRSSUNTPC9sNzp0YWJsZU5hbWU+DQoJCTxsNzpjdXN0b21RdWVyeT4NClNFTEVDVCAnMCcgQVMgVVVJRCwgU1NHX1JFUVVFU1RfU1RBUlRfVElNRSwgDQpTU0dfUE9SVEFMX0FQSV9JRCxBUEkuTkFNRSBhcyBBUElfTkFNRSwgDQpPUkdBTklaQVRJT04uTkFNRSBhcyBPUkdBTklaQVRJT05fTkFNRSwgQVBJX01FVFJJQ1MuT1JHQU5JWkFUSU9OX1VVSUQsIA0KQVBQTElDQVRJT04uTkFNRSBhcyBBUFBMSUNBVElPTl9OQU1FLCBBUFBMSUNBVElPTl9VVUlELCANCmNvdW50KEFQSV9NRVRSSUNTLlVVSUQpIGFzIEhJVFNfQ09VTlQsIFNVTShFUlJPUl9DT1VOVCkgYXMgRVJST1JfQ09VTlQsIFNVTShTVUNDRVNTX0NPVU5UKSBhcyBTVUNDRVNTX0NPVU5ULCANClNVTShIVFRQX0dFVF9DT1VOVCkgYXMgR0VUX0NPVU5ULCBTVU0oSFRUUF9QT1NUX0NPVU5UKSBBUyBQT1NUX0NPVU5ULCBTVU0oSFRUUF9QVVRfQ09VTlQpIEFTIFBVVF9DT1VOVCwgU1VNKEhUVFBfREVMRVRFX0NPVU5UKSBBUyBERUxFVEVfQ09VTlQgDQpGUk9NIEFQSV9NRVRSSUNTIA0KTEVGVCBKT0lOIEFQSSBPTiBBUElfTUVUUklDUy5TU0dfUE9SVEFMX0FQSV9JRCA9IEFQSS5VVUlEIA0KTEVGVCBKT0lOIE9SR0FOSVpBVElPTiBPTiBBUElfTUVUUklDUy5PUkdBTklaQVRJT05fVVVJRCA9IE9SR0FOSVpBVElPTi5VVUlEDQpMRUZUIEpPSU4gQVBQTElDQVRJT04gT04gQVBJX01FVFJJQ1MuQVBQTElDQVRJT05fVVVJRCA9IEFQUExJQ0FUSU9OLlVVSUQNCgkJPC9sNzpjdXN0b21RdWVyeT4NCgkJPGw3OmNvbHVtbnM+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPlVVSUQ8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+MTwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+VkFSQ0hBUjwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MzY8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4xPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+U1NHX1JFUVVFU1RfU1RBUlRfVElNRTwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT4xMjwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+SU5UPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4xMDwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjI8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5TU0dfUE9SVEFMX0FQSV9JRDwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT4xMjwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+VkFSQ0hBUjwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MzY8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4yPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+QVBJX05BTUU8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+MTI8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPlZBUkNIQVI8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjM2PC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MjwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPk9SR0FOSVpBVElPTl9OQU1FPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjEyPC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5WQVJDSEFSPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4zNjwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjI8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5PUkdBTklaQVRJT05fVVVJRDwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT4xMjwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+VkFSQ0hBUjwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MzY8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4yPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+QVBQTElDQVRJT05fTkFNRTwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT4xMjwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+VkFSQ0hBUjwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MzY8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4yPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+QVBQTElDQVRJT05fVVVJRDwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT4xMjwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+VkFSQ0hBUjwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MzY8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4yPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+SElUU19DT1VOVDwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT40PC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5JTlQ8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjEwPC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MzwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPkVSUk9SX0NPVU5UPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5WQVJDSEFSPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4zNjwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4JCQkJCQkNCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjQ8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5TVUNDRVNTX0NPVU5UPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjQ8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPklOVDwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MTA8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj41PC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+R0VUX0NPVU5UPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjQ8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPklOVDwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MTA8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj42PC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+UE9TVF9DT1VOVDwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT40PC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5JTlQ8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjEwPC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+NzwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPlBVVF9DT1VOVDwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT40PC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5JTlQ8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjEwPC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+ODwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPkRFTEVURV9DT1VOVDwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT40PC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5JTlQ8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjEwPC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+OTwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCTwvbDc6Y29sdW1ucz4NCgkJPGw3OnByaW1hcnlLZXlzPg0KCQkJPGw3OlByaW1hcnlLZXk+DQoJCQkJPGw3OmNvbHVtbk5hbWU+VVVJRDwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6c2VxdWVuY2VOdW1iZXI+MTwvbDc6c2VxdWVuY2VOdW1iZXI+DQoJCQkJPGw3OnByaW1hcnlLZXlOYW1lPlBSSU1BUlk8L2w3OnByaW1hcnlLZXlOYW1lPg0KCQkJPC9sNzpQcmltYXJ5S2V5Pg0KCQk8L2w3OnByaW1hcnlLZXlzPg0KCTwvbDc6RW50aXR5Pg0KCTxsNzpFbnRpdHk+DQoJCTxsNzp0YWJsZU5hbWU+QUNDT1VOVF9QTEFOX1FVT1RBX1VTQUdFPC9sNzp0YWJsZU5hbWU+DQoJCTxsNzpjdXN0b21RdWVyeT4NClNFTEVDVCAnMCcgQVMgVVVJRCwgDQpTU0dfUkVRVUVTVF9TVEFSVF9USU1FLCANCk9SR0FOSVpBVElPTi5OQU1FIGFzIE9SR0FOSVpBVElPTl9OQU1FLCANCkFQSV9NRVRSSUNTLk9SR0FOSVpBVElPTl9VVUlELCANCkFDQ09VTlRfUExBTi5OQU1FIGFzIEFDQ09VTlRfUExBTl9OQU1FLCANCkFDQ09VTlRfUExBTi5VVUlEIGFzIEFDQ09VTlRfUExBTl9VVUlELCANCmNvdW50KEFQSV9NRVRSSUNTLlVVSUQpIGFzIEhJVFNfQ09VTlQsDQpjb3VudChBUElfTUVUUklDUy5VVUlEKS9RVU9UQSBhcyBRVU9UQV9VU0FHRSwNCmNvbmNhdChST1VORCgoY291bnQoQVBJX01FVFJJQ1MuVVVJRCkvUVVPVEEpKjEwMCksJyUnKSBhcyBRVU9UQV9VU0FHRV9QRVJDRU5UQUdFLCANClFVT1RBLA0KUVVPVEFfSU5URVJWQUwNCkZST00gQVBJX01FVFJJQ1MgDQpMRUZUIEpPSU4gQVBJIE9OIEFQSV9NRVRSSUNTLlNTR19QT1JUQUxfQVBJX0lEID0gQVBJLlVVSUQgDQpMRUZUIEpPSU4gT1JHQU5JWkFUSU9OIE9OIEFQSV9NRVRSSUNTLk9SR0FOSVpBVElPTl9VVUlEID0gT1JHQU5JWkFUSU9OLlVVSUQNCkxFRlQgSk9JTiBBQ0NPVU5UX1BMQU4gT04gT1JHQU5JWkFUSU9OLkFDQ09VTlRfUExBTl9VVUlEID0gQUNDT1VOVF9QTEFOLlVVSUQNCgkJPC9sNzpjdXN0b21RdWVyeT4NCgkJPGw3OmNvbHVtbnM+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPlVVSUQ8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+MTwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+VkFSQ0hBUjwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MzY8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4xPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+U1NHX1JFUVVFU1RfU1RBUlRfVElNRTwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT4xMjwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+SU5UPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4xMDwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjI8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5PUkdBTklaQVRJT05fTkFNRTwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT4xMjwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+VkFSQ0hBUjwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MzY8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4zPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+T1JHQU5JWkFUSU9OX1VVSUQ8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+MTI8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPlZBUkNIQVI8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjM2PC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+NDwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPkFDQ09VTlRfUExBTl9OQU1FPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjEyPC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5WQVJDSEFSPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4zNjwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjU8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5BQ0NPVU5UX1BMQU5fVVVJRDwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT4xMjwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+VkFSQ0hBUjwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MzY8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj42PC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+SElUU19DT1VOVDwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT40PC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5JTlQ8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjEwPC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+NzwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPlFVT1RBX1VTQUdFPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjQ8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPkRFQ0lNQUw8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjEwPC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+ODwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPlFVT1RBX1VTQUdFX1BFUkNFTlRBR0U8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+MTI8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPlZBUkNIQVI8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjEwPC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+OTwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPlFVT1RBPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjQ8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPklOVDwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MTA8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4xMDwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPlFVT1RBX0lOVEVSVkFMPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjEyPC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5WQVJDSEFSPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4zNjwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjExPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJPC9sNzpjb2x1bW5zPg0KCQk8bDc6cHJpbWFyeUtleXM+DQoJCQk8bDc6UHJpbWFyeUtleT4NCgkJCQk8bDc6Y29sdW1uTmFtZT5VVUlEPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpzZXF1ZW5jZU51bWJlcj4xPC9sNzpzZXF1ZW5jZU51bWJlcj4NCgkJCQk8bDc6cHJpbWFyeUtleU5hbWU+UFJJTUFSWTwvbDc6cHJpbWFyeUtleU5hbWU+DQoJCQk8L2w3OlByaW1hcnlLZXk+DQoJCTwvbDc6cHJpbWFyeUtleXM+DQoJPC9sNzpFbnRpdHk+DQoJPGw3OkVudGl0eT4NCgkJPGw3OnRhYmxlTmFtZT5MQVRFTkNZX01FVFJJQ1NfQllfTUlOVVRFPC9sNzp0YWJsZU5hbWU+DQoJCTxsNzpjdXN0b21RdWVyeT4NClNFTEVDVCAnMCcgQVMgVVVJRCwgU1NHX1JFUVVFU1RfU1RBUlRfVElNRSwgDQpEQVRFX0ZPUk1BVChGUk9NX1VOSVhUSU1FKChTU0dfUkVRVUVTVF9TVEFSVF9USU1FLzEwMDApKSwnJVktJW0tJWQgJWs6JWknKSBhcyBUSU1FLCANClNTR19QT1JUQUxfQVBJX0lELEFQSS5OQU1FIGFzIEFQSV9OQU1FLCANCk9SR0FOSVpBVElPTi5OQU1FIGFzIE9SR0FOSVpBVElPTl9OQU1FLCBBUElfTUVUUklDUy5PUkdBTklaQVRJT05fVVVJRCwgDQpBUFBMSUNBVElPTi5OQU1FIGFzIEFQUExJQ0FUSU9OX05BTUUsIEFQUExJQ0FUSU9OX1VVSUQsIA0KQVZHKFRPVEFMX0xBVEVOQ1kpIGFzIFRPVEFMX0xBVEVOQ1ksIEFWRyhCQUNLRU5EX0xBVEVOQ1kpIGFzIEJBQ0tFTkRfTEFURU5DWSwgQVZHKFBST1hZX0xBVEVOQ1kpIGFzIFBST1hZX0xBVEVOQ1ksDQpNSU4oVE9UQUxfTEFURU5DWSkgYXMgTUlOX1RPVEFMX0xBVEVOQ1ksIE1JTihCQUNLRU5EX0xBVEVOQ1kpIGFzIE1JTl9CQUNLRU5EX0xBVEVOQ1ksIE1JTihQUk9YWV9MQVRFTkNZKSBhcyBNSU5fUFJPWFlfTEFURU5DWSwNCk1BWChUT1RBTF9MQVRFTkNZKSBhcyBNQVhfVE9UQUxfTEFURU5DWSwgTUFYKEJBQ0tFTkRfTEFURU5DWSkgYXMgTUFYX0JBQ0tFTkRfTEFURU5DWSwgTUFYKFBST1hZX0xBVEVOQ1kpIGFzIE1BWF9QUk9YWV9MQVRFTkNZDQpGUk9NIEFQSV9NRVRSSUNTIA0KTEVGVCBKT0lOIEFQSSBPTiBBUElfTUVUUklDUy5TU0dfUE9SVEFMX0FQSV9JRCA9IEFQSS5VVUlEIA0KTEVGVCBKT0lOIE9SR0FOSVpBVElPTiBPTiBBUElfTUVUUklDUy5PUkdBTklaQVRJT05fVVVJRCA9IE9SR0FOSVpBVElPTi5VVUlEDQpMRUZUIEpPSU4gQVBQTElDQVRJT04gT04gQVBJX01FVFJJQ1MuQVBQTElDQVRJT05fVVVJRCA9IEFQUExJQ0FUSU9OLlVVSUQNCiAgICAgICAgICAgICAgICA8L2w3OmN1c3RvbVF1ZXJ5Pg0KCQk8bDc6Y29sdW1ucz4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+VVVJRDwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT4xPC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5WQVJDSEFSPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4zNjwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjE8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5TU0dfUkVRVUVTVF9TVEFSVF9USU1FPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjEyPC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5JTlQ8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjEwPC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MjwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPlRJTUU8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+MTI8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPlZBUkNIQVI8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjM2PC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MjwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPlNTR19QT1JUQUxfQVBJX0lEPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjEyPC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5WQVJDSEFSPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4zNjwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjI8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5BUElfTkFNRTwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT4xMjwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+VkFSQ0hBUjwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MzY8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4yPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+T1JHQU5JWkFUSU9OX05BTUU8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+MTI8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPlZBUkNIQVI8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjM2PC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MjwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPk9SR0FOSVpBVElPTl9VVUlEPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjEyPC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5WQVJDSEFSPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4zNjwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjI8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5BUFBMSUNBVElPTl9OQU1FPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjEyPC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5WQVJDSEFSPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4zNjwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjI8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5BUFBMSUNBVElPTl9VVUlEPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjEyPC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5WQVJDSEFSPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4zNjwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjI8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5UT1RBTF9MQVRFTkNZPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjQ8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPklOVDwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MTA8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4zPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+QkFDS0VORF9MQVRFTkNZPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjQ8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPklOVDwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MTA8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4zPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+UFJPWFlfTEFURU5DWTwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT40PC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5JTlQ8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjEwPC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MzwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPk1JTl9UT1RBTF9MQVRFTkNZPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjQ8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPklOVDwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MTA8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4zPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+TUlOX0JBQ0tFTkRfTEFURU5DWTwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT40PC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5JTlQ8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjEwPC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MzwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPk1JTl9QUk9YWV9MQVRFTkNZPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjQ8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPklOVDwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MTA8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4zPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+TUFYX1RPVEFMX0xBVEVOQ1k8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+NDwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+SU5UPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4xMDwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjM8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5NQVhfQkFDS0VORF9MQVRFTkNZPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjQ8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPklOVDwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MTA8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4zPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+TUFYX1BST1hZX0xBVEVOQ1k8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+NDwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+SU5UPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4xMDwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjM8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPgkJCQ0KCQk8L2w3OmNvbHVtbnM+DQoJCTxsNzpwcmltYXJ5S2V5cz4NCgkJCTxsNzpQcmltYXJ5S2V5Pg0KCQkJCTxsNzpjb2x1bW5OYW1lPlVVSUQ8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OnNlcXVlbmNlTnVtYmVyPjE8L2w3OnNlcXVlbmNlTnVtYmVyPg0KCQkJCTxsNzpwcmltYXJ5S2V5TmFtZT5QUklNQVJZPC9sNzpwcmltYXJ5S2V5TmFtZT4NCgkJCTwvbDc6UHJpbWFyeUtleT4NCgkJPC9sNzpwcmltYXJ5S2V5cz4NCgk8L2w3OkVudGl0eT4NCgk8bDc6RW50aXR5Pg0KCQk8bDc6dGFibGVOYW1lPkxBVEVOQ1lfTUVUUklDU19CWV9IT1VSPC9sNzp0YWJsZU5hbWU+DQoJCTxsNzpjdXN0b21RdWVyeT4NClNFTEVDVCAnMCcgQVMgVVVJRCwgU1NHX1JFUVVFU1RfU1RBUlRfVElNRSwgDQpEQVRFX0ZPUk1BVChGUk9NX1VOSVhUSU1FKChTU0dfUkVRVUVTVF9TVEFSVF9USU1FLzEwMDApKSwnJVktJW0tJWQgJWs6MDAnKSBhcyBUSU1FLCANClNTR19QT1JUQUxfQVBJX0lELEFQSS5OQU1FIGFzIEFQSV9OQU1FLCANCk9SR0FOSVpBVElPTi5OQU1FIGFzIE9SR0FOSVpBVElPTl9OQU1FLCBBUElfTUVUUklDUy5PUkdBTklaQVRJT05fVVVJRCwgDQpBUFBMSUNBVElPTi5OQU1FIGFzIEFQUExJQ0FUSU9OX05BTUUsIEFQUExJQ0FUSU9OX1VVSUQsIA0KQVZHKFRPVEFMX0xBVEVOQ1kpIGFzIFRPVEFMX0xBVEVOQ1ksIEFWRyhCQUNLRU5EX0xBVEVOQ1kpIGFzIEJBQ0tFTkRfTEFURU5DWSwgQVZHKFBST1hZX0xBVEVOQ1kpIGFzIFBST1hZX0xBVEVOQ1ksDQpNSU4oVE9UQUxfTEFURU5DWSkgYXMgTUlOX1RPVEFMX0xBVEVOQ1ksIE1JTihCQUNLRU5EX0xBVEVOQ1kpIGFzIE1JTl9CQUNLRU5EX0xBVEVOQ1ksIE1JTihQUk9YWV9MQVRFTkNZKSBhcyBNSU5fUFJPWFlfTEFURU5DWSwNCk1BWChUT1RBTF9MQVRFTkNZKSBhcyBNQVhfVE9UQUxfTEFURU5DWSwgTUFYKEJBQ0tFTkRfTEFURU5DWSkgYXMgTUFYX0JBQ0tFTkRfTEFURU5DWSwgTUFYKFBST1hZX0xBVEVOQ1kpIGFzIE1BWF9QUk9YWV9MQVRFTkNZDQpGUk9NIEFQSV9NRVRSSUNTIA0KTEVGVCBKT0lOIEFQSSBPTiBBUElfTUVUUklDUy5TU0dfUE9SVEFMX0FQSV9JRCA9IEFQSS5VVUlEIA0KTEVGVCBKT0lOIE9SR0FOSVpBVElPTiBPTiBBUElfTUVUUklDUy5PUkdBTklaQVRJT05fVVVJRCA9IE9SR0FOSVpBVElPTi5VVUlEDQpMRUZUIEpPSU4gQVBQTElDQVRJT04gT04gQVBJX01FVFJJQ1MuQVBQTElDQVRJT05fVVVJRCA9IEFQUExJQ0FUSU9OLlVVSUQNCiAgICAgICAgICAgICAgICA8L2w3OmN1c3RvbVF1ZXJ5Pg0KCQk8bDc6Y29sdW1ucz4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+VVVJRDwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT4xPC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5WQVJDSEFSPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4zNjwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjE8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5TU0dfUkVRVUVTVF9TVEFSVF9USU1FPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjEyPC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5JTlQ8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjEwPC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MjwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPlRJTUU8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+MTI8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPlZBUkNIQVI8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjM2PC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MjwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPlNTR19QT1JUQUxfQVBJX0lEPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjEyPC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5WQVJDSEFSPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4zNjwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjI8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5BUElfTkFNRTwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT4xMjwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+VkFSQ0hBUjwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MzY8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4yPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+T1JHQU5JWkFUSU9OX05BTUU8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+MTI8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPlZBUkNIQVI8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjM2PC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MjwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPk9SR0FOSVpBVElPTl9VVUlEPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjEyPC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5WQVJDSEFSPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4zNjwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjI8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5BUFBMSUNBVElPTl9OQU1FPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjEyPC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5WQVJDSEFSPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4zNjwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjI8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5BUFBMSUNBVElPTl9VVUlEPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjEyPC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5WQVJDSEFSPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4zNjwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjI8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5UT1RBTF9MQVRFTkNZPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjQ8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPklOVDwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MTA8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4zPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+QkFDS0VORF9MQVRFTkNZPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjQ8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPklOVDwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MTA8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4zPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+UFJPWFlfTEFURU5DWTwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT40PC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5JTlQ8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjEwPC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MzwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPk1JTl9UT1RBTF9MQVRFTkNZPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjQ8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPklOVDwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MTA8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4zPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+TUlOX0JBQ0tFTkRfTEFURU5DWTwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT40PC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5JTlQ8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjEwPC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MzwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPk1JTl9QUk9YWV9MQVRFTkNZPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjQ8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPklOVDwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MTA8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4zPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+TUFYX1RPVEFMX0xBVEVOQ1k8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+NDwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+SU5UPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4xMDwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjM8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5NQVhfQkFDS0VORF9MQVRFTkNZPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjQ8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPklOVDwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MTA8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4zPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+TUFYX1BST1hZX0xBVEVOQ1k8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+NDwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+SU5UPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4xMDwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjM8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPgkJCQ0KCQk8L2w3OmNvbHVtbnM+DQoJCTxsNzpwcmltYXJ5S2V5cz4NCgkJCTxsNzpQcmltYXJ5S2V5Pg0KCQkJCTxsNzpjb2x1bW5OYW1lPlVVSUQ8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OnNlcXVlbmNlTnVtYmVyPjE8L2w3OnNlcXVlbmNlTnVtYmVyPg0KCQkJCTxsNzpwcmltYXJ5S2V5TmFtZT5QUklNQVJZPC9sNzpwcmltYXJ5S2V5TmFtZT4NCgkJCTwvbDc6UHJpbWFyeUtleT4NCgkJPC9sNzpwcmltYXJ5S2V5cz4NCgk8L2w3OkVudGl0eT4NCgk8bDc6RW50aXR5Pg0KCQk8bDc6dGFibGVOYW1lPkxBVEVOQ1lfTUVUUklDU19CWV9EQVk8L2w3OnRhYmxlTmFtZT4NCgkJPGw3OmN1c3RvbVF1ZXJ5Pg0KU0VMRUNUICcwJyBBUyBVVUlELCBTU0dfUkVRVUVTVF9TVEFSVF9USU1FLCANCkRBVEVfRk9STUFUKEZST01fVU5JWFRJTUUoKFNTR19SRVFVRVNUX1NUQVJUX1RJTUUvMTAwMCkpLCclTSAlZSwlWScpIGFzIFRJTUUsIA0KU1NHX1BPUlRBTF9BUElfSUQsQVBJLk5BTUUgYXMgQVBJX05BTUUsIA0KT1JHQU5JWkFUSU9OLk5BTUUgYXMgT1JHQU5JWkFUSU9OX05BTUUsIEFQSV9NRVRSSUNTLk9SR0FOSVpBVElPTl9VVUlELCANCkFQUExJQ0FUSU9OLk5BTUUgYXMgQVBQTElDQVRJT05fTkFNRSwgQVBQTElDQVRJT05fVVVJRCwgDQpBVkcoVE9UQUxfTEFURU5DWSkgYXMgVE9UQUxfTEFURU5DWSwgQVZHKEJBQ0tFTkRfTEFURU5DWSkgYXMgQkFDS0VORF9MQVRFTkNZLCBBVkcoUFJPWFlfTEFURU5DWSkgYXMgUFJPWFlfTEFURU5DWSwNCk1JTihUT1RBTF9MQVRFTkNZKSBhcyBNSU5fVE9UQUxfTEFURU5DWSwgTUlOKEJBQ0tFTkRfTEFURU5DWSkgYXMgTUlOX0JBQ0tFTkRfTEFURU5DWSwgTUlOKFBST1hZX0xBVEVOQ1kpIGFzIE1JTl9QUk9YWV9MQVRFTkNZLA0KTUFYKFRPVEFMX0xBVEVOQ1kpIGFzIE1BWF9UT1RBTF9MQVRFTkNZLCBNQVgoQkFDS0VORF9MQVRFTkNZKSBhcyBNQVhfQkFDS0VORF9MQVRFTkNZLCBNQVgoUFJPWFlfTEFURU5DWSkgYXMgTUFYX1BST1hZX0xBVEVOQ1kNCkZST00gQVBJX01FVFJJQ1MgDQpMRUZUIEpPSU4gQVBJIE9OIEFQSV9NRVRSSUNTLlNTR19QT1JUQUxfQVBJX0lEID0gQVBJLlVVSUQgDQpMRUZUIEpPSU4gT1JHQU5JWkFUSU9OIE9OIEFQSV9NRVRSSUNTLk9SR0FOSVpBVElPTl9VVUlEID0gT1JHQU5JWkFUSU9OLlVVSUQNCkxFRlQgSk9JTiBBUFBMSUNBVElPTiBPTiBBUElfTUVUUklDUy5BUFBMSUNBVElPTl9VVUlEID0gQVBQTElDQVRJT04uVVVJRA0KICAgICAgICAgICAgICAgIDwvbDc6Y3VzdG9tUXVlcnk+DQoJCTxsNzpjb2x1bW5zPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5VVUlEPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjE8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPlZBUkNIQVI8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjM2PC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MTwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPlNTR19SRVFVRVNUX1NUQVJUX1RJTUU8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+MTI8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPklOVDwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MTA8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4yPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+VElNRTwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT4xMjwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+VkFSQ0hBUjwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MzY8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4yPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+U1NHX1BPUlRBTF9BUElfSUQ8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+MTI8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPlZBUkNIQVI8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjM2PC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MjwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPkFQSV9OQU1FPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjEyPC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5WQVJDSEFSPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4zNjwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjI8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5PUkdBTklaQVRJT05fTkFNRTwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT4xMjwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+VkFSQ0hBUjwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MzY8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4yPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+T1JHQU5JWkFUSU9OX1VVSUQ8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+MTI8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPlZBUkNIQVI8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjM2PC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MjwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPkFQUExJQ0FUSU9OX05BTUU8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+MTI8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPlZBUkNIQVI8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjM2PC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MjwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPkFQUExJQ0FUSU9OX1VVSUQ8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+MTI8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPlZBUkNIQVI8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjM2PC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MjwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPlRPVEFMX0xBVEVOQ1k8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+NDwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+SU5UPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4xMDwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjM8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5CQUNLRU5EX0xBVEVOQ1k8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+NDwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+SU5UPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4xMDwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjM8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5QUk9YWV9MQVRFTkNZPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjQ8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPklOVDwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MTA8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4zPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+TUlOX1RPVEFMX0xBVEVOQ1k8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+NDwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+SU5UPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4xMDwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjM8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5NSU5fQkFDS0VORF9MQVRFTkNZPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjQ8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPklOVDwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MTA8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4zPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+TUlOX1BST1hZX0xBVEVOQ1k8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+NDwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+SU5UPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4xMDwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjM8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5NQVhfVE9UQUxfTEFURU5DWTwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT40PC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5JTlQ8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjEwPC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MzwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPk1BWF9CQUNLRU5EX0xBVEVOQ1k8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+NDwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+SU5UPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4xMDwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjM8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5NQVhfUFJPWFlfTEFURU5DWTwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT40PC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5JTlQ8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjEwPC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MzwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+CQkJDQoJCTwvbDc6Y29sdW1ucz4NCgkJPGw3OnByaW1hcnlLZXlzPg0KCQkJPGw3OlByaW1hcnlLZXk+DQoJCQkJPGw3OmNvbHVtbk5hbWU+VVVJRDwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6c2VxdWVuY2VOdW1iZXI+MTwvbDc6c2VxdWVuY2VOdW1iZXI+DQoJCQkJPGw3OnByaW1hcnlLZXlOYW1lPlBSSU1BUlk8L2w3OnByaW1hcnlLZXlOYW1lPg0KCQkJPC9sNzpQcmltYXJ5S2V5Pg0KCQk8L2w3OnByaW1hcnlLZXlzPg0KCTwvbDc6RW50aXR5Pg0KCTxsNzpFbnRpdHk+DQoJCTxsNzp0YWJsZU5hbWU+UkFXX0hJVFM8L2w3OnRhYmxlTmFtZT4NCgkJPGw3OmN1c3RvbVF1ZXJ5PlNFTEVDVCBBUElfTUVUUklDUy4qLCBTU0dfUkVRVUVTVF9TVEFSVF9USU1FLCBTU0dfUE9SVEFMX0FQSV9JRCxBUEkuTkFNRSBhcyBBUElfTkFNRSwgT1JHQU5JWkFUSU9OLk5BTUUgYXMgT1JHQU5JWkFUSU9OX05BTUUgRlJPTSBBUElfTUVUUklDUyBMRUZUIEpPSU4gQVBJIE9OIEFQSV9NRVRSSUNTLlNTR19QT1JUQUxfQVBJX0lEID0gQVBJLlVVSUQgTEVGVCBKT0lOIE9SR0FOSVpBVElPTiBPTiBBUElfTUVUUklDUy5PUkdBTklaQVRJT05fVVVJRCA9IE9SR0FOSVpBVElPTi5VVUlEPC9sNzpjdXN0b21RdWVyeT4NCgkJPGw3OmNvbHVtbnM+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPlVVSUQ8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+MTwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+VkFSQ0hBUjwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MzY8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4xPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+U1NHX1JFUVVFU1RfU1RBUlRfVElNRTwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT4xMjwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+SU5UPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4xMDwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjI8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5TU0dfUE9SVEFMX0FQSV9JRDwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT4xMjwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+VkFSQ0hBUjwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MzY8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4yPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4NCgkJCTxsNzpDb2x1bW4+DQoJCQkJPGw3OmNvbHVtbk5hbWU+QVBJX05BTUU8L2w3OmNvbHVtbk5hbWU+DQoJCQkJPGw3OmNvbHVtblR5cGU+MTI8L2w3OmNvbHVtblR5cGU+DQoJCQkJPGw3OmNvbHVtblR5cGVOYW1lPlZBUkNIQVI8L2w3OmNvbHVtblR5cGVOYW1lPg0KCQkJCTxsNzpjb2x1bW5TaXplPjM2PC9sNzpjb2x1bW5TaXplPg0KCQkJCTxsNzppc051bGxhYmxlPmZhbHNlPC9sNzppc051bGxhYmxlPg0KCQkJCTxsNzpvcmRpbmFsUG9zaXRpb24+MjwvbDc6b3JkaW5hbFBvc2l0aW9uPg0KCQkJPC9sNzpDb2x1bW4+DQoJCQk8bDc6Q29sdW1uPg0KCQkJCTxsNzpjb2x1bW5OYW1lPk9SR0FOSVpBVElPTl9OQU1FPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpjb2x1bW5UeXBlPjEyPC9sNzpjb2x1bW5UeXBlPg0KCQkJCTxsNzpjb2x1bW5UeXBlTmFtZT5WQVJDSEFSPC9sNzpjb2x1bW5UeXBlTmFtZT4NCgkJCQk8bDc6Y29sdW1uU2l6ZT4zNjwvbDc6Y29sdW1uU2l6ZT4NCgkJCQk8bDc6aXNOdWxsYWJsZT5mYWxzZTwvbDc6aXNOdWxsYWJsZT4NCgkJCQk8bDc6b3JkaW5hbFBvc2l0aW9uPjI8L2w3Om9yZGluYWxQb3NpdGlvbj4NCgkJCTwvbDc6Q29sdW1uPg0KCQkJPGw3OkNvbHVtbj4NCgkJCQk8bDc6Y29sdW1uTmFtZT5PUkdBTklaQVRJT05fVVVJRDwvbDc6Y29sdW1uTmFtZT4NCgkJCQk8bDc6Y29sdW1uVHlwZT4xMjwvbDc6Y29sdW1uVHlwZT4NCgkJCQk8bDc6Y29sdW1uVHlwZU5hbWU+VkFSQ0hBUjwvbDc6Y29sdW1uVHlwZU5hbWU+DQoJCQkJPGw3OmNvbHVtblNpemU+MzY8L2w3OmNvbHVtblNpemU+DQoJCQkJPGw3OmlzTnVsbGFibGU+ZmFsc2U8L2w3OmlzTnVsbGFibGU+DQoJCQkJPGw3Om9yZGluYWxQb3NpdGlvbj4yPC9sNzpvcmRpbmFsUG9zaXRpb24+DQoJCQk8L2w3OkNvbHVtbj4JCQkJCQkNCgkJPC9sNzpjb2x1bW5zPg0KCQk8bDc6cHJpbWFyeUtleXM+DQoJCQk8bDc6UHJpbWFyeUtleT4NCgkJCQk8bDc6Y29sdW1uTmFtZT5VVUlEPC9sNzpjb2x1bW5OYW1lPg0KCQkJCTxsNzpzZXF1ZW5jZU51bWJlcj4xPC9sNzpzZXF1ZW5jZU51bWJlcj4NCgkJCQk8bDc6cHJpbWFyeUtleU5hbWU+UFJJTUFSWTwvbDc6cHJpbWFyeUtleU5hbWU+DQoJCQk8L2w3OlByaW1hcnlLZXk+DQoJCTwvbDc6cHJpbWFyeUtleXM+DQoJPC9sNzpFbnRpdHk+DQo8L2w3OkN1c3RvbUVudGl0aWVzPg==&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;odata.customEntitySet&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;Mg==&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;odata.servicePathIndex&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;dHJ1ZQ==&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;odata.showInlineError&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:ODataProducer&gt;
                    &lt;L7p:ConnectionName stringValue=&quot;&#36;{metrics.db.name}&quot;/&gt;
                &lt;/L7p:ODataProducer&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage=&quot;Required&quot;&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;NTAz&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;errorCode&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue=&quot;U2VydmljZSBVbmF2YWlsYWJsZQ==&quot;/&gt;
                    &lt;L7p:VariableToSet stringValue=&quot;errorMsg&quot;/&gt;
                &lt;/L7p:SetVariable&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:AssertionComment assertionComment=&quot;included&quot;&gt;
                &lt;L7p:Properties mapValue=&quot;included&quot;&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;RIGHT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;//this makes sure we always have the original request&quot;/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue=&quot;LEFT.COMMENT&quot;/&gt;
                        &lt;L7p:value stringValue=&quot;Restore original request&quot;/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Base64Expression stringValue=&quot;JHtyZXF1ZXN0T3JpZ2luYWwubWFpbnBhcnR9&quot;/&gt;
            &lt;L7p:ContentType stringValue=&quot;text/xml; charset=utf-8&quot;/&gt;
            &lt;L7p:DataType variableDataType=&quot;message&quot;/&gt;
            &lt;L7p:VariableToSet stringValue=&quot;request&quot;/&gt;
        &lt;/L7p:SetVariable&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
          </Resource>
          <!-- copy paste wsman get service response here [end]-->
        </ResourceSet>
    </Resources>
</Service>
    </env:Body>
</env:Envelope>

</xsl:template>
</xsl:stylesheet>]]></L7p:Document>
                      </L7p:ResourceInfo>
                      <L7p:TransformName stringValue=""/>
                      <L7p:XsltVersion stringValue="1.0"/>
                    </L7p:XslTransformation>
                    <L7p:AuditDetailAssertion>
                      <L7p:Detail stringValue="${request.mainpart}"/>
                    </L7p:AuditDetailAssertion>
                    <L7p:GatewayManagement>
                      <L7p:VariablePrefix stringValue="wsman"/>
                    </L7p:GatewayManagement>
                    <L7p:AuditDetailAssertion>
                      <L7p:Detail stringValue="${response.mainpart}"/>
                    </L7p:AuditDetailAssertion>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="YXBwbGljYXRpb24veG1sO2NoYXJzZXQ9dXRmLTg="/>
                      <L7p:VariableToSet stringValue="content_type"/>
                    </L7p:SetVariable>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="JHtyZXF1ZXN0T3JpZ2luYWwubWFpbnBhcnR9"/>
                      <L7p:VariableToSet stringValue="output"/>
                    </L7p:SetVariable>
                  </wsp:All>
                  <wsp:All wsp:Usage="Required">
                    <L7p:ComparisonAssertion>
                      <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                          <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="//skip if there's alreay an error"/>
                          </L7p:entry>
                        </L7p:Properties>
                      </L7p:AssertionComment>
                      <L7p:CaseSensitive booleanValue="false"/>
                      <L7p:Expression1 stringValue="${errorCode}"/>
                      <L7p:Operator operatorNull="null"/>
                      <L7p:Predicates predicates="included">
                        <L7p:item dataType="included">
                          <L7p:Type variableDataType="string"/>
                        </L7p:item>
                        <L7p:item binary="included">
                          <L7p:RightValue stringValue="0"/>
                        </L7p:item>
                      </L7p:Predicates>
                    </L7p:ComparisonAssertion>
                    <L7p:AuditDetailAssertion>
                      <L7p:Detail stringValue="${wsman.message}"/>
                    </L7p:AuditDetailAssertion>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="VGhlcmUgd2FzIGEgcHJvYmxlbSBjcmVhdGluZyBzZXJ2aWNl"/>
                      <L7p:VariableToSet stringValue="errorMsg"/>
                    </L7p:SetVariable>
                    <L7p:SetVariable>
                      <L7p:Base64Expression stringValue="NTAw"/>
                      <L7p:VariableToSet stringValue="errorCode"/>
                    </L7p:SetVariable>
                  </wsp:All>
                </wsp:OneOrMore>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="LEFT.COMMENT"/>
                      <L7p:value stringValue="POST"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:AssertionComment assertionComment="included">
                    <L7p:Properties mapValue="included">
                      <L7p:entry>
                        <L7p:key stringValue="RIGHT.COMMENT"/>
                        <L7p:value stringValue="//skip if there's alreay an error"/>
                      </L7p:entry>
                    </L7p:Properties>
                  </L7p:AssertionComment>
                  <L7p:CaseSensitive booleanValue="false"/>
                  <L7p:Expression1 stringValue="${errorCode}"/>
                  <L7p:Operator operatorNull="null"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item dataType="included">
                      <L7p:Type variableDataType="string"/>
                    </L7p:item>
                    <L7p:item binary="included">
                      <L7p:RightValue stringValue="0"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="TWV0aG9kTm90U3VwcG9ydGVk"/>
                  <L7p:VariableToSet stringValue="errorMsg"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="NTAw"/>
                  <L7p:VariableToSet stringValue="errorCode"/>
                </L7p:SetVariable>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="LEFT.COMMENT"/>
                      <L7p:value stringValue="else"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
            </wsp:OneOrMore>
            <L7p:assertionComment>
              <L7p:Properties mapValue="included">
                <L7p:entry>
                  <L7p:key stringValue="LEFT.COMMENT"/>
                  <L7p:value stringValue="PortalMetrics()"/>
                </L7p:entry>
              </L7p:Properties>
            </L7p:assertionComment>
          </wsp:All>
          <wsp:All wsp:Usage="Required">
            <L7p:ComparisonAssertion>
              <L7p:AssertionComment assertionComment="included">
                <L7p:Properties mapValue="included">
                  <L7p:entry>
                    <L7p:key stringValue="RIGHT.COMMENT"/>
                    <L7p:value stringValue="//skip if there's alreay an error"/>
                  </L7p:entry>
                </L7p:Properties>
              </L7p:AssertionComment>
              <L7p:CaseSensitive booleanValue="false"/>
              <L7p:Expression1 stringValue="${errorCode}"/>
              <L7p:Operator operatorNull="null"/>
              <L7p:Predicates predicates="included">
                <L7p:item dataType="included">
                  <L7p:Type variableDataType="string"/>
                </L7p:item>
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="0"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:ComparisonAssertion>
              <L7p:Expression1 stringValue="${mode}"/>
              <L7p:Expression2 stringValue="forms"/>
              <L7p:Predicates predicates="included">
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="forms"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:ComparisonAssertion>
              <L7p:Expression1 stringValue="${entity_type}"/>
              <L7p:Expression2 stringValue="authenticate"/>
              <L7p:Operator operator="EMPTY"/>
              <L7p:Predicates predicates="included">
                <L7p:item binary="included">
                  <L7p:Operator operator="EMPTY"/>
                  <L7p:RightValue stringValue="authenticate"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:SetVariable>
              <L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLnJlc291cmNlfQ=="/>
              <L7p:VariableToSet stringValue="resource"/>
            </L7p:SetVariable>
            <wsp:OneOrMore wsp:Usage="Required">
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:CaseSensitive booleanValue="false"/>
                  <L7p:Expression1 stringValue="${resource}"/>
                  <L7p:Expression2 stringValue="vkBeautify.js"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item binary="included">
                      <L7p:CaseSensitive booleanValue="false"/>
                      <L7p:RightValue stringValue="vkBeautify.js"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="YXBwbGljYXRpb24veC1qYXZhc2NyaXB0O2NoYXJzZXQ9dXRmLTg="/>
                  <L7p:VariableToSet stringValue="content_type"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="LyoqDQoqIHZrQmVhdXRpZnkgLSBqYXZhc2NyaXB0IHBsdWdpbg0KKiAgDQoqIFZlcnNpb24gLSAwLjkxLmJldGEgDQoqIENvcHlyaWdodCAoYykgMjAxMiBWYWRpbSBLaXJ5dWtoaW4NCiogdmtpcnl1a2hpbiBAIGdtYWlsLmNvbQ0KKiBodHRwOi8vd3d3LmVzbGluc3RydWN0b3IubmV0L3ZrYmVhdXRpZnl4bWwvDQoqIA0KKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgYW5kIEdQTCBsaWNlbnNlczoNCiogICBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocA0KKiAgIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwuaHRtbA0KKg0KKgl2a2JlYXV0aWZ5KHRleHQsICd4bWwnfCdqc29uJyBbLHByZXNlcnZlV1MgXSkgDQoqDQoqIFBBUkFNRVRFUlM6DQoqDQoqCUB0ZXh0ICAJCQktIFN0cmluZywgdGV4dCB0byBiZWF1dGlmeTsNCioJQGZvcm1hdCAJCS0gU3RyaW5nLCAneG1sJyBvciAnanNvbicNCiogCUBwcmVzZXJ2ZVdTCQktIEJvb2wgKG9wdGlvbmFsKTsNCioJCQkJCSAgZmxhZywgd2hpY2ggaW5zdHJ1Y3QgYXBwbGljYXRpb24gZG9uJ3QgDQoqICAgCQkJCSAgcmVtb3ZlIGV4dHJhIHdoaXRlIHNwYWNlcyB3aXRoaW4gQHRleHQ7IA0KKg0KKglSZXR1cm4gLSBTdHJpbmcNCioJDQoqIFVTQUdFOg0KKgkNCioJdmtiZWF1dGlmeSh0ZXh0LCAneG1sJyk7IA0KKgl2a2JlYXV0aWZ5KHRleHQsICd4bWwnLCB0cnVlKTsgDQoqCXZrYmVhdXRpZnkodGV4dCwgJ2pzb24nKTsgDQoqCXZrYmVhdXRpZnkodGV4dCwgJ2pzb24nLCB0cnVlKTsgDQoqDQoqLw0KDQooZnVuY3Rpb24oKSB7DQoNCndpbmRvdy52a2JlYXV0aWZ5ID0gZnVuY3Rpb24odGV4dCwgZm9ybWF0LCBwcmVzZXJ2ZVdTKSB7DQoNCgl2YXIgc2hpZnQgPSBbJ1xuJ10sIC8vIGFycmF5IG9mIHNoaWZ0cw0KCSAgICBkZWVwID0gMCwNCgkJc3RyID0gJycsDQoJCWpzb25TdHIgPSAnJywNCgkJc3RlcCA9ICcgICcsIC8vIDIgc3BhY2VzDQoJCWluQ29tbWVudCA9IGZhbHNlLA0KCQltYXhkZWVwID0gMTAwLCAvLyBuZXN0aW5nIGxldmVsDQoJCWl4ID0gMCwNCgkJYXIsDQoJCWxlbiA9IDA7DQoJDQoJLyogaW5pdGlhbGl6ZSBhcnJheSB3aXRoIHNoaWZ0cyAqLw0KCWZvcihpeD0wO2l4PG1heGRlZXA7aXgrKyl7DQoJCXNoaWZ0LnB1c2goc2hpZnRbaXhdK3N0ZXApOyANCgl9DQoJDQoJaWYoZm9ybWF0ID09ICd4bWwnKSB7DQoJDQoJCWFyID0gcHJlc2VydmVXUyA/IHRleHQucmVwbGFjZSgvPC9nLCJ+I348Iikuc3BsaXQoJ34jficpIA0KCQkJCQkJOiB0ZXh0LnJlcGxhY2UoLz5cc3swLH08L2csIj48IikucmVwbGFjZSgvPC9nLCJ+I348Iikuc3BsaXQoJ34jficpOw0KCQlsZW4gPSBhci5sZW5ndGg7DQoNCgkJZm9yKGl4PTA7aXg8bGVuO2l4KyspIHsNCgkJCS8qIHN0YXJ0IGNvbW1lbnQgb3IgPCFbQ0RBVEFbLi4uXV0+IG9yIDwhRE9DVFlQRSovDQoJCQlpZihhcltpeF0uc2VhcmNoKC88IS8pID4gLTEpIHsgDQoJCQkJc3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTsNCgkJCQlpbkNvbW1lbnQgPSB0cnVlOyANCgkJCQkvKiBlbmQgY29tbWVudCAgb3IgPCFbQ0RBVEFbLi4uXV0+ICovDQoJCQkJaWYoYXJbaXhdLnNlYXJjaCgvLS0+LykgPiAtMSB8fCBhcltpeF0uc2VhcmNoKC9cXT4vKSA+IC0xIHx8IGFyW2l4XS5zZWFyY2goLyFET0NUWVBFLykgPiAtMSApIHsgDQoJCQkJCWluQ29tbWVudCA9IGZhbHNlOyANCgkJCQl9DQoJCQl9IGVsc2UgDQoJCQkvKiBlbmQgY29tbWVudCAgb3IgPCFbQ0RBVEFbLi4uXV0+ICovDQoJCQlpZihhcltpeF0uc2VhcmNoKC8tLT4vKSA+IC0xIHx8IGFyW2l4XS5zZWFyY2goL1xdPi8pID4gLTEpIHsgDQoJCQkJc3RyICs9IGFyW2l4XTsNCgkJCQlpbkNvbW1lbnQgPSBmYWxzZTsgDQoJCQl9IGVsc2UgDQoJCQkvKiA8ZWxtPjwvZWxtPiAqLw0KCQkJaWYoIC9ePFx3Ly5leGVjKGFyW2l4LTFdKSAmJiAvXjxcL1x3Ly5leGVjKGFyW2l4XSkgJiYNCgkJCQkvXjxcdysvLmV4ZWMoYXJbaXgtMV0pID09IC9ePFwvXHcrLy5leGVjKGFyW2l4XSlbMF0ucmVwbGFjZSgnLycsJycpKSB7IA0KCQkJCXN0ciArPSBhcltpeF07DQoJCQkJaWYoIWluQ29tbWVudCkgZGVlcC0tOw0KCQkJfSBlbHNlDQoJCQkgLyogPGVsbT4gKi8NCgkJCWlmKGFyW2l4XS5zZWFyY2goLzxcdy8pID4gLTEgJiYgYXJbaXhdLnNlYXJjaCgvPFwvLykgPT0gLTEgJiYgYXJbaXhdLnNlYXJjaCgvXC8+LykgPT0gLTEgKSB7DQoJCQkJc3RyID0gIWluQ29tbWVudCA/IHN0ciArPSBzaGlmdFtkZWVwKytdK2FyW2l4XSA6IHN0ciArPSBhcltpeF07DQoJCQl9IGVsc2UgDQoJCQkgLyogPGVsbT4uLi48L2VsbT4gKi8NCgkJCWlmKGFyW2l4XS5zZWFyY2goLzxcdy8pID4gLTEgJiYgYXJbaXhdLnNlYXJjaCgvPFwvLykgPiAtMSkgew0KCQkJCXN0ciA9ICFpbkNvbW1lbnQgPyBzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdIDogc3RyICs9IGFyW2l4XTsNCgkJCX0gZWxzZSANCgkJCS8qIDwvZWxtPiAqLw0KCQkJaWYoYXJbaXhdLnNlYXJjaCgvPFwvLykgPiAtMSkgeyANCgkJCQlzdHIgPSAhaW5Db21tZW50ID8gc3RyICs9IHNoaWZ0Wy0tZGVlcF0rYXJbaXhdIDogc3RyICs9IGFyW2l4XTsNCgkJCX0gZWxzZSANCgkJCS8qIDxlbG0vPiAqLw0KCQkJaWYoYXJbaXhdLnNlYXJjaCgvXC8+LykgPiAtMSApIHsgDQoJCQkJc3RyID0gIWluQ29tbWVudCA/IHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF0gOiBzdHIgKz0gYXJbaXhdOw0KCQkJfSBlbHNlIA0KCQkJLyogPD8geG1sIC4uLiA/PiAqLw0KCQkJaWYoYXJbaXhdLnNlYXJjaCgvPFw/LykgPiAtMSkgeyANCgkJCQlzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdOw0KCQkJfSBlbHNlIHsNCgkJCQlzdHIgKz0gYXJbaXhdOw0KCQkJfQ0KCQl9DQoJCQ0KCQlyZXR1cm4gIChzdHJbMF0gPT0gJ1xuJykgPyBzdHIuc2xpY2UoMSkgOiBzdHI7DQoJCQ0KCX0gIGVsc2UgDQoJDQoJaWYoZm9ybWF0ID09ICdqc29uJykgew0KCQ0KCQlqc29uU3RyID0gcHJlc2VydmVXUyA/IHRleHQgOiBqc29uU3RyID0gdGV4dC5yZXBsYWNlKC9cc3sxLH0vZywnICcpIA0KCQkNCgkJYXIgPSBqc29uU3RyLnJlcGxhY2UoL1x7L2csIn4jfnt+I34iKQ0KCQkJCQkucmVwbGFjZSgvXFskL2csIlt+I34iKQ0KCQkJCQkucmVwbGFjZSgvXH0vZywifiN+fSIpDQoJCQkJCS5yZXBsYWNlKC9cXS9nLCJ+I35dIikNCgkJCQkJLnJlcGxhY2UoL1wsL2csIix+I34iKQ0KCQkJCQkuc3BsaXQoJ34jficpOw0KCQkJCQkNCgkJbGVuID0gYXIubGVuZ3RoOw0KCQkNCgkJZm9yKGl4PTA7aXg8bGVuO2l4KyspIHsNCg0KCQkJaWYoIC9cey8uZXhlYyhhcltpeF0pKSAgeyANCgkJCQlzdHIgKz0gc2hpZnRbZGVlcCsrXSthcltpeF07DQoJCQl9IGVsc2UgDQoJCQlpZiggL1xbLy5leGVjKGFyW2l4XSkpICB7IA0KCQkJCXN0ciArPSBzaGlmdFtkZWVwKytdK2FyW2l4XTsNCgkJCX0gIGVsc2UgDQoJCQlpZiggL1xdLy5leGVjKGFyW2l4XSkpICB7IA0KCQkJCXN0ciArPSBzaGlmdFstLWRlZXBdK2FyW2l4XTsNCgkJCX0gIGVsc2UgDQoJCQlpZiggL1x9Ly5leGVjKGFyW2l4XSkpICB7IA0KCQkJCXN0ciArPSBzaGlmdFstLWRlZXBdK2FyW2l4XTsNCgkJCX0gZWxzZSB7DQoJCQkJc3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTsNCgkJCX0NCgkJfQ0KCQlyZXR1cm4gc3RyLnJlcGxhY2UoL15cbnsxLH0vLCcnKTsNCgl9DQp9DQoNCn0pKCk7"/>
                  <L7p:VariableToSet stringValue="output"/>
                </L7p:SetVariable>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="RIGHT.COMMENT"/>
                      <L7p:value stringValue="//vkBeautify.js"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:CaseSensitive booleanValue="false"/>
                  <L7p:Expression1 stringValue="${resource}"/>
                  <L7p:Expression2 stringValue="prettify.css"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item binary="included">
                      <L7p:CaseSensitive booleanValue="false"/>
                      <L7p:RightValue stringValue="prettify.css"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="dGV4dC9jc3M7Y2hhcnNldD11dGYtOA=="/>
                  <L7p:VariableToSet stringValue="content_type"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="LnBsbntjb2xvcjojMDAwfUBtZWRpYSBzY3JlZW57LnN0cntjb2xvcjojMDgwfS5rd2R7Y29sb3I6IzAwOH0uY29te2NvbG9yOiM4MDB9LnR5cHtjb2xvcjojNjA2fS5saXR7Y29sb3I6IzA2Nn0ucHVuLC5vcG4sLmNsb3tjb2xvcjojNjYwfS50YWd7Y29sb3I6IzAwOH0uYXRue2NvbG9yOiM2MDZ9LmF0dntjb2xvcjojMDgwfS5kZWMsLnZhcntjb2xvcjojNjA2fS5mdW57Y29sb3I6cmVkfX1AbWVkaWEgcHJpbnQscHJvamVjdGlvbnsuc3Rye2NvbG9yOiMwNjB9Lmt3ZHtjb2xvcjojMDA2O2ZvbnQtd2VpZ2h0OmJvbGR9LmNvbXtjb2xvcjojNjAwO2ZvbnQtc3R5bGU6aXRhbGljfS50eXB7Y29sb3I6IzQwNDtmb250LXdlaWdodDpib2xkfS5saXR7Y29sb3I6IzA0NH0ucHVuLC5vcG4sLmNsb3tjb2xvcjojNDQwfS50YWd7Y29sb3I6IzAwNjtmb250LXdlaWdodDpib2xkfS5hdG57Y29sb3I6IzQwNH0uYXR2e2NvbG9yOiMwNjB9fXByZS5wcmV0dHlwcmludHtwYWRkaW5nOjJweDtib3JkZXI6MXB4IHNvbGlkICM4ODh9b2wubGluZW51bXN7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MDtwYWRkaW5nLWxlZnQ6MTBweH17bGlzdC1zdHlsZS10eXBlOm5vbmV9bGkuTDEsbGkuTDMsbGkuTDUsbGkuTDcsbGkuTDl7YmFja2dyb3VuZDojZWVlfQ=="/>
                  <L7p:VariableToSet stringValue="output"/>
                </L7p:SetVariable>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="RIGHT.COMMENT"/>
                      <L7p:value stringValue="//prettify.css"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:CaseSensitive booleanValue="false"/>
                  <L7p:Expression1 stringValue="${resource}"/>
                  <L7p:Expression2 stringValue="prettify.js"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item binary="included">
                      <L7p:CaseSensitive booleanValue="false"/>
                      <L7p:RightValue stringValue="prettify.js"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="YXBwbGljYXRpb24veC1qYXZhc2NyaXB0O2NoYXJzZXQ9dXRmLTg="/>
                  <L7p:VariableToSet stringValue="content_type"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="dmFyIHE9bnVsbDt3aW5kb3cuUFJfU0hPVUxEX1VTRV9DT05USU5VQVRJT049ITA7DQooZnVuY3Rpb24oKXtmdW5jdGlvbiBMKGEpe2Z1bmN0aW9uIG0oYSl7dmFyIGY9YS5jaGFyQ29kZUF0KDApO2lmKGYhPT05MilyZXR1cm4gZjt2YXIgYj1hLmNoYXJBdCgxKTtyZXR1cm4oZj1yW2JdKT9mOiIwIjw9YiYmYjw9IjciP3BhcnNlSW50KGEuc3Vic3RyaW5nKDEpLDgpOmI9PT0idSJ8fGI9PT0ieCI/cGFyc2VJbnQoYS5zdWJzdHJpbmcoMiksMTYpOmEuY2hhckNvZGVBdCgxKX1mdW5jdGlvbiBlKGEpe2lmKGE8MzIpcmV0dXJuKGE8MTY/IlxceDAiOiJcXHgiKSthLnRvU3RyaW5nKDE2KTthPVN0cmluZy5mcm9tQ2hhckNvZGUoYSk7aWYoYT09PSJcXCJ8fGE9PT0iLSJ8fGE9PT0iWyJ8fGE9PT0iXSIpYT0iXFwiK2E7cmV0dXJuIGF9ZnVuY3Rpb24gaChhKXtmb3IodmFyIGY9YS5zdWJzdHJpbmcoMSxhLmxlbmd0aC0xKS5tYXRjaCgvXFx1W1xkQS1GYS1mXXs0fXxcXHhbXGRBLUZhLWZdezJ9fFxcWzAtM11bMC03XXswLDJ9fFxcWzAtN117MSwyfXxcXFtcU1xzXXxbXlxcXS9nKSxhPQ0KW10sYj1bXSxvPWZbMF09PT0iXiIsYz1vPzE6MCxpPWYubGVuZ3RoO2M8aTsrK2Mpe3ZhciBqPWZbY107aWYoL1xcW2Jkc3ddL2kudGVzdChqKSlhLnB1c2goaik7ZWxzZXt2YXIgaj1tKGopLGQ7YysyPGkmJiItIj09PWZbYysxXT8oZD1tKGZbYysyXSksYys9Mik6ZD1qO2IucHVzaChbaixkXSk7ZDw2NXx8aj4xMjJ8fChkPDY1fHxqPjkwfHxiLnB1c2goW01hdGgubWF4KDY1LGopfDMyLE1hdGgubWluKGQsOTApfDMyXSksZDw5N3x8aj4xMjJ8fGIucHVzaChbTWF0aC5tYXgoOTcsaikmLTMzLE1hdGgubWluKGQsMTIyKSYtMzNdKSl9fWIuc29ydChmdW5jdGlvbihhLGYpe3JldHVybiBhWzBdLWZbMF18fGZbMV0tYVsxXX0pO2Y9W107aj1bTmFOLE5hTl07Zm9yKGM9MDtjPGIubGVuZ3RoOysrYylpPWJbY10saVswXTw9alsxXSsxP2pbMV09TWF0aC5tYXgoalsxXSxpWzFdKTpmLnB1c2goaj1pKTtiPVsiWyJdO28mJmIucHVzaCgiXiIpO2IucHVzaC5hcHBseShiLGEpO2ZvcihjPTA7YzwNCmYubGVuZ3RoOysrYylpPWZbY10sYi5wdXNoKGUoaVswXSkpLGlbMV0+aVswXSYmKGlbMV0rMT5pWzBdJiZiLnB1c2goIi0iKSxiLnB1c2goZShpWzFdKSkpO2IucHVzaCgiXSIpO3JldHVybiBiLmpvaW4oIiIpfWZ1bmN0aW9uIHkoYSl7Zm9yKHZhciBmPWEuc291cmNlLm1hdGNoKC9cWyg/OlteXFxcXV18XFxbXFNcc10pKl18XFx1W1xkQS1GYS1mXXs0fXxcXHhbXGRBLUZhLWZdezJ9fFxcXGQrfFxcW15cZHV4XXxcKFw/WyE6PV18WygpXl18W14oKVtcXF5dKy9nKSxiPWYubGVuZ3RoLGQ9W10sYz0wLGk9MDtjPGI7KytjKXt2YXIgaj1mW2NdO2o9PT0iKCI/KytpOiJcXCI9PT1qLmNoYXJBdCgwKSYmKGo9K2ouc3Vic3RyaW5nKDEpKSYmajw9aSYmKGRbal09LTEpfWZvcihjPTE7YzxkLmxlbmd0aDsrK2MpLTE9PT1kW2NdJiYoZFtjXT0rK3QpO2ZvcihpPWM9MDtjPGI7KytjKWo9ZltjXSxqPT09IigiPygrK2ksZFtpXT09PXZvaWQgMCYmKGZbY109Iig/OiIpKToiXFwiPT09ai5jaGFyQXQoMCkmJg0KKGo9K2ouc3Vic3RyaW5nKDEpKSYmajw9aSYmKGZbY109IlxcIitkW2ldKTtmb3IoaT1jPTA7YzxiOysrYykiXiI9PT1mW2NdJiYiXiIhPT1mW2MrMV0mJihmW2NdPSIiKTtpZihhLmlnbm9yZUNhc2UmJnMpZm9yKGM9MDtjPGI7KytjKWo9ZltjXSxhPWouY2hhckF0KDApLGoubGVuZ3RoPj0yJiZhPT09IlsiP2ZbY109aChqKTphIT09IlxcIiYmKGZbY109ai5yZXBsYWNlKC9bQS1aYS16XS9nLGZ1bmN0aW9uKGEpe2E9YS5jaGFyQ29kZUF0KDApO3JldHVybiJbIitTdHJpbmcuZnJvbUNoYXJDb2RlKGEmLTMzLGF8MzIpKyJdIn0pKTtyZXR1cm4gZi5qb2luKCIiKX1mb3IodmFyIHQ9MCxzPSExLGw9ITEscD0wLGQ9YS5sZW5ndGg7cDxkOysrcCl7dmFyIGc9YVtwXTtpZihnLmlnbm9yZUNhc2UpbD0hMDtlbHNlIGlmKC9bYS16XS9pLnRlc3QoZy5zb3VyY2UucmVwbGFjZSgvXFx1W1xkYS1mXXs0fXxcXHhbXGRhLWZdezJ9fFxcW15VWHV4XS9naSwiIikpKXtzPSEwO2w9ITE7YnJlYWt9fWZvcih2YXIgcj0NCntiOjgsdDo5LG46MTAsdjoxMSxmOjEyLHI6MTN9LG49W10scD0wLGQ9YS5sZW5ndGg7cDxkOysrcCl7Zz1hW3BdO2lmKGcuZ2xvYmFsfHxnLm11bHRpbGluZSl0aHJvdyBFcnJvcigiIitnKTtuLnB1c2goIig/OiIreShnKSsiKSIpfXJldHVybiBSZWdFeHAobi5qb2luKCJ8IiksbD8iZ2kiOiJnIil9ZnVuY3Rpb24gTShhKXtmdW5jdGlvbiBtKGEpe3N3aXRjaChhLm5vZGVUeXBlKXtjYXNlIDE6aWYoZS50ZXN0KGEuY2xhc3NOYW1lKSlicmVhaztmb3IodmFyIGc9YS5maXJzdENoaWxkO2c7Zz1nLm5leHRTaWJsaW5nKW0oZyk7Zz1hLm5vZGVOYW1lO2lmKCJCUiI9PT1nfHwiTEkiPT09ZyloW3NdPSJcbiIsdFtzPDwxXT15KyssdFtzKys8PDF8MV09YTticmVhaztjYXNlIDM6Y2FzZSA0Omc9YS5ub2RlVmFsdWUsZy5sZW5ndGgmJihnPXA/Zy5yZXBsYWNlKC9cclxuPy9nLCJcbiIpOmcucmVwbGFjZSgvW1x0XG5cciBdKy9nLCIgIiksaFtzXT1nLHRbczw8MV09eSx5Kz1nLmxlbmd0aCwNCnRbcysrPDwxfDFdPWEpfX12YXIgZT0vKD86Xnxccylub2NvZGUoPzpcc3wkKS8saD1bXSx5PTAsdD1bXSxzPTAsbDthLmN1cnJlbnRTdHlsZT9sPWEuY3VycmVudFN0eWxlLndoaXRlU3BhY2U6d2luZG93LmdldENvbXB1dGVkU3R5bGUmJihsPWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoYSxxKS5nZXRQcm9wZXJ0eVZhbHVlKCJ3aGl0ZS1zcGFjZSIpKTt2YXIgcD1sJiYicHJlIj09PWwuc3Vic3RyaW5nKDAsMyk7bShhKTtyZXR1cm57YTpoLmpvaW4oIiIpLnJlcGxhY2UoL1xuJC8sIiIpLGM6dH19ZnVuY3Rpb24gQihhLG0sZSxoKXttJiYoYT17YTptLGQ6YX0sZShhKSxoLnB1c2guYXBwbHkoaCxhLmUpKX1mdW5jdGlvbiB4KGEsbSl7ZnVuY3Rpb24gZShhKXtmb3IodmFyIGw9YS5kLHA9W2wsInBsbiJdLGQ9MCxnPWEuYS5tYXRjaCh5KXx8W10scj17fSxuPTAsej1nLmxlbmd0aDtuPHo7KytuKXt2YXIgZj1nW25dLGI9cltmXSxvPXZvaWQgMCxjO2lmKHR5cGVvZiBiPT09DQoic3RyaW5nIiljPSExO2Vsc2V7dmFyIGk9aFtmLmNoYXJBdCgwKV07aWYoaSlvPWYubWF0Y2goaVsxXSksYj1pWzBdO2Vsc2V7Zm9yKGM9MDtjPHQ7KytjKWlmKGk9bVtjXSxvPWYubWF0Y2goaVsxXSkpe2I9aVswXTticmVha31vfHwoYj0icGxuIil9aWYoKGM9Yi5sZW5ndGg+PTUmJiJsYW5nLSI9PT1iLnN1YnN0cmluZygwLDUpKSYmIShvJiZ0eXBlb2Ygb1sxXT09PSJzdHJpbmciKSljPSExLGI9InNyYyI7Y3x8KHJbZl09Yil9aT1kO2QrPWYubGVuZ3RoO2lmKGMpe2M9b1sxXTt2YXIgaj1mLmluZGV4T2YoYyksaz1qK2MubGVuZ3RoO29bMl0mJihrPWYubGVuZ3RoLW9bMl0ubGVuZ3RoLGo9ay1jLmxlbmd0aCk7Yj1iLnN1YnN0cmluZyg1KTtCKGwraSxmLnN1YnN0cmluZygwLGopLGUscCk7QihsK2kraixjLEMoYixjKSxwKTtCKGwraStrLGYuc3Vic3RyaW5nKGspLGUscCl9ZWxzZSBwLnB1c2gobCtpLGIpfWEuZT1wfXZhciBoPXt9LHk7KGZ1bmN0aW9uKCl7Zm9yKHZhciBlPWEuY29uY2F0KG0pLA0KbD1bXSxwPXt9LGQ9MCxnPWUubGVuZ3RoO2Q8ZzsrK2Qpe3ZhciByPWVbZF0sbj1yWzNdO2lmKG4pZm9yKHZhciBrPW4ubGVuZ3RoOy0taz49MDspaFtuLmNoYXJBdChrKV09cjtyPXJbMV07bj0iIityO3AuaGFzT3duUHJvcGVydHkobil8fChsLnB1c2gocikscFtuXT1xKX1sLnB1c2goL1tcU1xzXS8pO3k9TChsKX0pKCk7dmFyIHQ9bS5sZW5ndGg7cmV0dXJuIGV9ZnVuY3Rpb24gdShhKXt2YXIgbT1bXSxlPVtdO2EudHJpcGxlUXVvdGVkU3RyaW5ncz9tLnB1c2goWyJzdHIiLC9eKD86JycnKD86W14nXFxdfFxcW1xTXHNdfCcnPyg/PVteJ10pKSooPzonJyd8JCl8IiIiKD86W14iXFxdfFxcW1xTXHNdfCIiPyg/PVteIl0pKSooPzoiIiJ8JCl8Jyg/OlteJ1xcXXxcXFtcU1xzXSkqKD86J3wkKXwiKD86W14iXFxdfFxcW1xTXHNdKSooPzoifCQpKS8scSwiJ1wiIl0pOmEubXVsdGlMaW5lU3RyaW5ncz9tLnB1c2goWyJzdHIiLC9eKD86Jyg/OlteJ1xcXXxcXFtcU1xzXSkqKD86J3wkKXwiKD86W14iXFxdfFxcW1xTXHNdKSooPzoifCQpfGAoPzpbXlxcYF18XFxbXFNcc10pKig/OmB8JCkpLywNCnEsIidcImAiXSk6bS5wdXNoKFsic3RyIiwvXig/OicoPzpbXlxuXHInXFxdfFxcLikqKD86J3wkKXwiKD86W15cblxyIlxcXXxcXC4pKig/OiJ8JCkpLyxxLCJcIiciXSk7YS52ZXJiYXRpbVN0cmluZ3MmJmUucHVzaChbInN0ciIsL15AIig/OlteIl18IiIpKig/OiJ8JCkvLHFdKTt2YXIgaD1hLmhhc2hDb21tZW50cztoJiYoYS5jU3R5bGVDb21tZW50cz8oaD4xP20ucHVzaChbImNvbSIsL14jKD86IyMoPzpbXiNdfCMoPyEjIykpKig/OiMjI3wkKXwuKikvLHEsIiMiXSk6bS5wdXNoKFsiY29tIiwvXiMoPzooPzpkZWZpbmV8ZWxpZnxlbHNlfGVuZGlmfGVycm9yfGlmZGVmfGluY2x1ZGV8aWZuZGVmfGxpbmV8cHJhZ21hfHVuZGVmfHdhcm5pbmcpXGJ8W15cblxyXSopLyxxLCIjIl0pLGUucHVzaChbInN0ciIsL148KD86KD86KD86XC5cLlwvKSp8XC8/KSg/Oltcdy1dKyg/OlwvW1x3LV0rKSspP1tcdy1dK1wuaHxbYS16XVx3Kik+LyxxXSkpOm0ucHVzaChbImNvbSIsL14jW15cblxyXSovLA0KcSwiIyJdKSk7YS5jU3R5bGVDb21tZW50cyYmKGUucHVzaChbImNvbSIsL15cL1wvW15cblxyXSovLHFdKSxlLnB1c2goWyJjb20iLC9eXC9cKltcU1xzXSo/KD86XCpcL3wkKS8scV0pKTthLnJlZ2V4TGl0ZXJhbHMmJmUucHVzaChbImxhbmctcmVnZXgiLC9eKD86Xl5cLj98WyErLV18IT18IT09fCN8JXwlPXwmfCYmfCYmPXwmPXxcKHxcKnxcKj18XCs9fCx8LT18LT58XC98XC89fDp8Ojp8O3w8fDw8fDw8PXw8PXw9fD09fD09PXw+fD49fD4+fD4+PXw+Pj58Pj4+PXxbP0BbXl18XF49fFxeXF58XF5cXj18e3xcfHxcfD18XHxcfHxcfFx8PXx+fGJyZWFrfGNhc2V8Y29udGludWV8ZGVsZXRlfGRvfGVsc2V8ZmluYWxseXxpbnN0YW5jZW9mfHJldHVybnx0aHJvd3x0cnl8dHlwZW9mKVxzKihcLyg/PVteKi9dKSg/OlteL1tcXF18XFxbXFNcc118XFsoPzpbXlxcXF1dfFxcW1xTXHNdKSooPzpdfCQpKStcLykvXSk7KGg9YS50eXBlcykmJmUucHVzaChbInR5cCIsaF0pO2E9KCIiK2Eua2V5d29yZHMpLnJlcGxhY2UoL14gfCAkL2csDQoiIik7YS5sZW5ndGgmJmUucHVzaChbImt3ZCIsUmVnRXhwKCJeKD86IithLnJlcGxhY2UoL1tccyxdKy9nLCJ8IikrIilcXGIiKSxxXSk7bS5wdXNoKFsicGxuIiwvXlxzKy8scSwiIFxyXG5cdFx4YTAiXSk7ZS5wdXNoKFsibGl0IiwvXkBbJF9hLXpdW1x3JEBdKi9pLHFdLFsidHlwIiwvXig/OltAX10/W0EtWl0rW2Etel1bXHckQF0qfFx3K190XGIpLyxxXSxbInBsbiIsL15bJF9hLXpdW1x3JEBdKi9pLHFdLFsibGl0IiwvXig/OjB4W1xkYS1mXSt8KD86XGQoPzpfXGQrKSpcZCooPzpcLlxkKik/fFwuXGRcKykoPzplWystXT9cZCspPylbYS16XSovaSxxLCIwMTIzNDU2Nzg5Il0sWyJwbG4iLC9eXFxbXFNcc10/LyxxXSxbInB1biIsL14uW15cc1x3Ii0kJy4vQFxcYF0qLyxxXSk7cmV0dXJuIHgobSxlKX1mdW5jdGlvbiBEKGEsbSl7ZnVuY3Rpb24gZShhKXtzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSAxOmlmKGsudGVzdChhLmNsYXNzTmFtZSkpYnJlYWs7aWYoIkJSIj09PWEubm9kZU5hbWUpaChhKSwNCmEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpO2Vsc2UgZm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWUoYSk7YnJlYWs7Y2FzZSAzOmNhc2UgNDppZihwKXt2YXIgYj1hLm5vZGVWYWx1ZSxkPWIubWF0Y2godCk7aWYoZCl7dmFyIGM9Yi5zdWJzdHJpbmcoMCxkLmluZGV4KTthLm5vZGVWYWx1ZT1jOyhiPWIuc3Vic3RyaW5nKGQuaW5kZXgrZFswXS5sZW5ndGgpKSYmYS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzLmNyZWF0ZVRleHROb2RlKGIpLGEubmV4dFNpYmxpbmcpO2goYSk7Y3x8YS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpfX19fWZ1bmN0aW9uIGgoYSl7ZnVuY3Rpb24gYihhLGQpe3ZhciBlPWQ/YS5jbG9uZU5vZGUoITEpOmEsZj1hLnBhcmVudE5vZGU7aWYoZil7dmFyIGY9YihmLDEpLGc9YS5uZXh0U2libGluZztmLmFwcGVuZENoaWxkKGUpO2Zvcih2YXIgaD1nO2g7aD1nKWc9aC5uZXh0U2libGluZyxmLmFwcGVuZENoaWxkKGgpfXJldHVybiBlfQ0KZm9yKDshYS5uZXh0U2libGluZzspaWYoYT1hLnBhcmVudE5vZGUsIWEpcmV0dXJuO2Zvcih2YXIgYT1iKGEubmV4dFNpYmxpbmcsMCksZTsoZT1hLnBhcmVudE5vZGUpJiZlLm5vZGVUeXBlPT09MTspYT1lO2QucHVzaChhKX12YXIgaz0vKD86Xnxccylub2NvZGUoPzpcc3wkKS8sdD0vXHJcbj98XG4vLHM9YS5vd25lckRvY3VtZW50LGw7YS5jdXJyZW50U3R5bGU/bD1hLmN1cnJlbnRTdHlsZS53aGl0ZVNwYWNlOndpbmRvdy5nZXRDb21wdXRlZFN0eWxlJiYobD1zLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoYSxxKS5nZXRQcm9wZXJ0eVZhbHVlKCJ3aGl0ZS1zcGFjZSIpKTt2YXIgcD1sJiYicHJlIj09PWwuc3Vic3RyaW5nKDAsMyk7Zm9yKGw9cy5jcmVhdGVFbGVtZW50KCJMSSIpO2EuZmlyc3RDaGlsZDspbC5hcHBlbmRDaGlsZChhLmZpcnN0Q2hpbGQpO2Zvcih2YXIgZD1bbF0sZz0wO2c8ZC5sZW5ndGg7KytnKWUoZFtnXSk7bT09PShtfDApJiZkWzBdLnNldEF0dHJpYnV0ZSgidmFsdWUiLA0KbSk7dmFyIHI9cy5jcmVhdGVFbGVtZW50KCJPTCIpO3IuY2xhc3NOYW1lPSJsaW5lbnVtcyI7Zm9yKHZhciBuPU1hdGgubWF4KDAsbS0xfDApfHwwLGc9MCx6PWQubGVuZ3RoO2c8ejsrK2cpbD1kW2ddLGwuY2xhc3NOYW1lPSJMIisoZytuKSUxMCxsLmZpcnN0Q2hpbGR8fGwuYXBwZW5kQ2hpbGQocy5jcmVhdGVUZXh0Tm9kZSgiXHhhMCIpKSxyLmFwcGVuZENoaWxkKGwpO2EuYXBwZW5kQ2hpbGQocil9ZnVuY3Rpb24gayhhLG0pe2Zvcih2YXIgZT1tLmxlbmd0aDstLWU+PTA7KXt2YXIgaD1tW2VdO0EuaGFzT3duUHJvcGVydHkoaCk/d2luZG93LmNvbnNvbGUmJmNvbnNvbGUud2FybigiY2Fubm90IG92ZXJyaWRlIGxhbmd1YWdlIGhhbmRsZXIgJXMiLGgpOkFbaF09YX19ZnVuY3Rpb24gQyhhLG0pe2lmKCFhfHwhQS5oYXNPd25Qcm9wZXJ0eShhKSlhPS9eXHMqPC8udGVzdChtKT8iZGVmYXVsdC1tYXJrdXAiOiJkZWZhdWx0LWNvZGUiO3JldHVybiBBW2FdfWZ1bmN0aW9uIEUoYSl7dmFyIG09DQphLmc7dHJ5e3ZhciBlPU0oYS5oKSxoPWUuYTthLmE9aDthLmM9ZS5jO2EuZD0wO0MobSxoKShhKTt2YXIgaz0vXGJNU0lFXGIvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksbT0vXG4vZyx0PWEuYSxzPXQubGVuZ3RoLGU9MCxsPWEuYyxwPWwubGVuZ3RoLGg9MCxkPWEuZSxnPWQubGVuZ3RoLGE9MDtkW2ddPXM7dmFyIHIsbjtmb3Iobj1yPTA7bjxnOylkW25dIT09ZFtuKzJdPyhkW3IrK109ZFtuKytdLGRbcisrXT1kW24rK10pOm4rPTI7Zz1yO2ZvcihuPXI9MDtuPGc7KXtmb3IodmFyIHo9ZFtuXSxmPWRbbisxXSxiPW4rMjtiKzI8PWcmJmRbYisxXT09PWY7KWIrPTI7ZFtyKytdPXo7ZFtyKytdPWY7bj1ifWZvcihkLmxlbmd0aD1yO2g8cDspe3ZhciBvPWxbaCsyXXx8cyxjPWRbYSsyXXx8cyxiPU1hdGgubWluKG8sYyksaT1sW2grMV0sajtpZihpLm5vZGVUeXBlIT09MSYmKGo9dC5zdWJzdHJpbmcoZSxiKSkpe2smJihqPWoucmVwbGFjZShtLCJcciIpKTtpLm5vZGVWYWx1ZT0NCmo7dmFyIHU9aS5vd25lckRvY3VtZW50LHY9dS5jcmVhdGVFbGVtZW50KCJTUEFOIik7di5jbGFzc05hbWU9ZFthKzFdO3ZhciB4PWkucGFyZW50Tm9kZTt4LnJlcGxhY2VDaGlsZCh2LGkpO3YuYXBwZW5kQ2hpbGQoaSk7ZTxvJiYobFtoKzFdPWk9dS5jcmVhdGVUZXh0Tm9kZSh0LnN1YnN0cmluZyhiLG8pKSx4Lmluc2VydEJlZm9yZShpLHYubmV4dFNpYmxpbmcpKX1lPWI7ZT49byYmKGgrPTIpO2U+PWMmJihhKz0yKX19Y2F0Y2godyl7ImNvbnNvbGUiaW4gd2luZG93JiZjb25zb2xlLmxvZyh3JiZ3LnN0YWNrP3cuc3RhY2s6dyl9fXZhciB2PVsiYnJlYWssY29udGludWUsZG8sZWxzZSxmb3IsaWYscmV0dXJuLHdoaWxlIl0sdz1bW3YsImF1dG8sY2FzZSxjaGFyLGNvbnN0LGRlZmF1bHQsZG91YmxlLGVudW0sZXh0ZXJuLGZsb2F0LGdvdG8saW50LGxvbmcscmVnaXN0ZXIsc2hvcnQsc2lnbmVkLHNpemVvZixzdGF0aWMsc3RydWN0LHN3aXRjaCx0eXBlZGVmLHVuaW9uLHVuc2lnbmVkLHZvaWQsdm9sYXRpbGUiXSwNCiJjYXRjaCxjbGFzcyxkZWxldGUsZmFsc2UsaW1wb3J0LG5ldyxvcGVyYXRvcixwcml2YXRlLHByb3RlY3RlZCxwdWJsaWMsdGhpcyx0aHJvdyx0cnVlLHRyeSx0eXBlb2YiXSxGPVt3LCJhbGlnbm9mLGFsaWduX3VuaW9uLGFzbSxheGlvbSxib29sLGNvbmNlcHQsY29uY2VwdF9tYXAsY29uc3RfY2FzdCxjb25zdGV4cHIsZGVjbHR5cGUsZHluYW1pY19jYXN0LGV4cGxpY2l0LGV4cG9ydCxmcmllbmQsaW5saW5lLGxhdGVfY2hlY2ssbXV0YWJsZSxuYW1lc3BhY2UsbnVsbHB0cixyZWludGVycHJldF9jYXN0LHN0YXRpY19hc3NlcnQsc3RhdGljX2Nhc3QsdGVtcGxhdGUsdHlwZWlkLHR5cGVuYW1lLHVzaW5nLHZpcnR1YWwsd2hlcmUiXSxHPVt3LCJhYnN0cmFjdCxib29sZWFuLGJ5dGUsZXh0ZW5kcyxmaW5hbCxmaW5hbGx5LGltcGxlbWVudHMsaW1wb3J0LGluc3RhbmNlb2YsbnVsbCxuYXRpdmUscGFja2FnZSxzdHJpY3RmcCxzdXBlcixzeW5jaHJvbml6ZWQsdGhyb3dzLHRyYW5zaWVudCJdLA0KSD1bRywiYXMsYmFzZSxieSxjaGVja2VkLGRlY2ltYWwsZGVsZWdhdGUsZGVzY2VuZGluZyxkeW5hbWljLGV2ZW50LGZpeGVkLGZvcmVhY2gsZnJvbSxncm91cCxpbXBsaWNpdCxpbixpbnRlcmZhY2UsaW50ZXJuYWwsaW50byxpcyxsb2NrLG9iamVjdCxvdXQsb3ZlcnJpZGUsb3JkZXJieSxwYXJhbXMscGFydGlhbCxyZWFkb25seSxyZWYsc2J5dGUsc2VhbGVkLHN0YWNrYWxsb2Msc3RyaW5nLHNlbGVjdCx1aW50LHVsb25nLHVuY2hlY2tlZCx1bnNhZmUsdXNob3J0LHZhciJdLHc9W3csImRlYnVnZ2VyLGV2YWwsZXhwb3J0LGZ1bmN0aW9uLGdldCxudWxsLHNldCx1bmRlZmluZWQsdmFyLHdpdGgsSW5maW5pdHksTmFOIl0sST1bdiwiYW5kLGFzLGFzc2VydCxjbGFzcyxkZWYsZGVsLGVsaWYsZXhjZXB0LGV4ZWMsZmluYWxseSxmcm9tLGdsb2JhbCxpbXBvcnQsaW4saXMsbGFtYmRhLG5vbmxvY2FsLG5vdCxvcixwYXNzLHByaW50LHJhaXNlLHRyeSx3aXRoLHlpZWxkLEZhbHNlLFRydWUsTm9uZSJdLA0KSj1bdiwiYWxpYXMsYW5kLGJlZ2luLGNhc2UsY2xhc3MsZGVmLGRlZmluZWQsZWxzaWYsZW5kLGVuc3VyZSxmYWxzZSxpbixtb2R1bGUsbmV4dCxuaWwsbm90LG9yLHJlZG8scmVzY3VlLHJldHJ5LHNlbGYsc3VwZXIsdGhlbix0cnVlLHVuZGVmLHVubGVzcyx1bnRpbCx3aGVuLHlpZWxkLEJFR0lOLEVORCJdLHY9W3YsImNhc2UsZG9uZSxlbGlmLGVzYWMsZXZhbCxmaSxmdW5jdGlvbixpbixsb2NhbCxzZXQsdGhlbix1bnRpbCJdLEs9L14oRElSfEZJTEV8dmVjdG9yfChkZXxwcmlvcml0eV8pP3F1ZXVlfGxpc3R8c3RhY2t8KGNvbnN0Xyk/aXRlcmF0b3J8KG11bHRpKT8oc2V0fG1hcCl8Yml0c2V0fHU/KGludHxmbG9hdClcZCopLyxOPS9cUy8sTz11KHtrZXl3b3JkczpbRixILHcsImNhbGxlcixkZWxldGUsZGllLGRvLGR1bXAsZWxzaWYsZXZhbCxleGl0LGZvcmVhY2gsZm9yLGdvdG8saWYsaW1wb3J0LGxhc3QsbG9jYWwsbXksbmV4dCxubyxvdXIscHJpbnQscGFja2FnZSxyZWRvLHJlcXVpcmUsc3ViLHVuZGVmLHVubGVzcyx1bnRpbCx1c2Usd2FudGFycmF5LHdoaWxlLEJFR0lOLEVORCIrDQpJLEosdl0saGFzaENvbW1lbnRzOiEwLGNTdHlsZUNvbW1lbnRzOiEwLG11bHRpTGluZVN0cmluZ3M6ITAscmVnZXhMaXRlcmFsczohMH0pLEE9e307ayhPLFsiZGVmYXVsdC1jb2RlIl0pO2soeChbXSxbWyJwbG4iLC9eW148P10rL10sWyJkZWMiLC9ePCFcd1tePl0qKD86PnwkKS9dLFsiY29tIiwvXjxcIS0tW1xTXHNdKj8oPzotLVw+fCQpL10sWyJsYW5nLSIsL148XD8oW1xTXHNdKz8pKD86XD8+fCQpL10sWyJsYW5nLSIsL148JShbXFNcc10rPykoPzolPnwkKS9dLFsicHVuIiwvXig/OjxbJT9dfFslP10+KS9dLFsibGFuZy0iLC9ePHhtcFxiW14+XSo+KFtcU1xzXSs/KTxcL3htcFxiW14+XSo+L2ldLFsibGFuZy1qcyIsL148c2NyaXB0XGJbXj5dKj4oW1xTXHNdKj8pKDxcL3NjcmlwdFxiW14+XSo+KS9pXSxbImxhbmctY3NzIiwvXjxzdHlsZVxiW14+XSo+KFtcU1xzXSo/KSg8XC9zdHlsZVxiW14+XSo+KS9pXSxbImxhbmctaW4udGFnIiwvXig8XC8/W2Etel1bXjw+XSo+KS9pXV0pLA0KWyJkZWZhdWx0LW1hcmt1cCIsImh0bSIsImh0bWwiLCJteG1sIiwieGh0bWwiLCJ4bWwiLCJ4c2wiXSk7ayh4KFtbInBsbiIsL15ccysvLHEsIiBcdFxyXG4iXSxbImF0diIsL14oPzoiW14iXSoiP3wnW14nXSonPykvLHEsIlwiJyJdXSxbWyJ0YWciLC9eXjxcLz9bYS16XSg/Oltcdy0uOl0qXHcpP3xcLz8+JC9pXSxbImF0biIsL14oPyFzdHlsZVtccz1dfG9uKVthLXpdKD86W1x3Oi1dKlx3KT8vaV0sWyJsYW5nLXVxLnZhbCIsL149XHMqKFteXHMiJz5dKig/OlteXHMiJy8+XXxcLyg/PVxzKSkpL10sWyJwdW4iLC9eWy88LT5dKy9dLFsibGFuZy1qcyIsL15vblx3K1xzKj1ccyoiKFteIl0rKSIvaV0sWyJsYW5nLWpzIiwvXm9uXHcrXHMqPVxzKicoW14nXSspJy9pXSxbImxhbmctanMiLC9eb25cdytccyo9XHMqKFteXHMiJz5dKykvaV0sWyJsYW5nLWNzcyIsL15zdHlsZVxzKj1ccyoiKFteIl0rKSIvaV0sWyJsYW5nLWNzcyIsL15zdHlsZVxzKj1ccyonKFteJ10rKScvaV0sWyJsYW5nLWNzcyIsDQovXnN0eWxlXHMqPVxzKihbXlxzIic+XSspL2ldXSksWyJpbi50YWciXSk7ayh4KFtdLFtbImF0diIsL15bXFNcc10rL11dKSxbInVxLnZhbCJdKTtrKHUoe2tleXdvcmRzOkYsaGFzaENvbW1lbnRzOiEwLGNTdHlsZUNvbW1lbnRzOiEwLHR5cGVzOkt9KSxbImMiLCJjYyIsImNwcCIsImN4eCIsImN5YyIsIm0iXSk7ayh1KHtrZXl3b3JkczoibnVsbCx0cnVlLGZhbHNlIn0pLFsianNvbiJdKTtrKHUoe2tleXdvcmRzOkgsaGFzaENvbW1lbnRzOiEwLGNTdHlsZUNvbW1lbnRzOiEwLHZlcmJhdGltU3RyaW5nczohMCx0eXBlczpLfSksWyJjcyJdKTtrKHUoe2tleXdvcmRzOkcsY1N0eWxlQ29tbWVudHM6ITB9KSxbImphdmEiXSk7ayh1KHtrZXl3b3Jkczp2LGhhc2hDb21tZW50czohMCxtdWx0aUxpbmVTdHJpbmdzOiEwfSksWyJic2giLCJjc2giLCJzaCJdKTtrKHUoe2tleXdvcmRzOkksaGFzaENvbW1lbnRzOiEwLG11bHRpTGluZVN0cmluZ3M6ITAsdHJpcGxlUXVvdGVkU3RyaW5nczohMH0pLA0KWyJjdiIsInB5Il0pO2sodSh7a2V5d29yZHM6ImNhbGxlcixkZWxldGUsZGllLGRvLGR1bXAsZWxzaWYsZXZhbCxleGl0LGZvcmVhY2gsZm9yLGdvdG8saWYsaW1wb3J0LGxhc3QsbG9jYWwsbXksbmV4dCxubyxvdXIscHJpbnQscGFja2FnZSxyZWRvLHJlcXVpcmUsc3ViLHVuZGVmLHVubGVzcyx1bnRpbCx1c2Usd2FudGFycmF5LHdoaWxlLEJFR0lOLEVORCIsaGFzaENvbW1lbnRzOiEwLG11bHRpTGluZVN0cmluZ3M6ITAscmVnZXhMaXRlcmFsczohMH0pLFsicGVybCIsInBsIiwicG0iXSk7ayh1KHtrZXl3b3JkczpKLGhhc2hDb21tZW50czohMCxtdWx0aUxpbmVTdHJpbmdzOiEwLHJlZ2V4TGl0ZXJhbHM6ITB9KSxbInJiIl0pO2sodSh7a2V5d29yZHM6dyxjU3R5bGVDb21tZW50czohMCxyZWdleExpdGVyYWxzOiEwfSksWyJqcyJdKTtrKHUoe2tleXdvcmRzOiJhbGwsYW5kLGJ5LGNhdGNoLGNsYXNzLGVsc2UsZXh0ZW5kcyxmYWxzZSxmaW5hbGx5LGZvcixpZixpbixpcyxpc250LGxvb3AsbmV3LG5vLG5vdCxudWxsLG9mLG9mZixvbixvcixyZXR1cm4sc3VwZXIsdGhlbix0cnVlLHRyeSx1bmxlc3MsdW50aWwsd2hlbix3aGlsZSx5ZXMiLA0KaGFzaENvbW1lbnRzOjMsY1N0eWxlQ29tbWVudHM6ITAsbXVsdGlsaW5lU3RyaW5nczohMCx0cmlwbGVRdW90ZWRTdHJpbmdzOiEwLHJlZ2V4TGl0ZXJhbHM6ITB9KSxbImNvZmZlZSJdKTtrKHgoW10sW1sic3RyIiwvXltcU1xzXSsvXV0pLFsicmVnZXgiXSk7d2luZG93LnByZXR0eVByaW50T25lPWZ1bmN0aW9uKGEsbSxlKXt2YXIgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJQUkUiKTtoLmlubmVySFRNTD1hO2UmJkQoaCxlKTtFKHtnOm0saTplLGg6aH0pO3JldHVybiBoLmlubmVySFRNTH07d2luZG93LnByZXR0eVByaW50PWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIG0oKXtmb3IodmFyIGU9d2luZG93LlBSX1NIT1VMRF9VU0VfQ09OVElOVUFUSU9OP2wubm93KCkrMjUwOkluZmluaXR5O3A8aC5sZW5ndGgmJmwubm93KCk8ZTtwKyspe3ZhciBuPWhbcF0saz1uLmNsYXNzTmFtZTtpZihrLmluZGV4T2YoInByZXR0eXByaW50Iik+PTApe3ZhciBrPWsubWF0Y2goZyksZixiO2lmKGI9DQohayl7Yj1uO2Zvcih2YXIgbz12b2lkIDAsYz1iLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpdmFyIGk9Yy5ub2RlVHlwZSxvPWk9PT0xP28/YjpjOmk9PT0zP04udGVzdChjLm5vZGVWYWx1ZSk/YjpvOm87Yj0oZj1vPT09Yj92b2lkIDA6bykmJiJDT0RFIj09PWYudGFnTmFtZX1iJiYoaz1mLmNsYXNzTmFtZS5tYXRjaChnKSk7ayYmKGs9a1sxXSk7Yj0hMTtmb3Iobz1uLnBhcmVudE5vZGU7bztvPW8ucGFyZW50Tm9kZSlpZigoby50YWdOYW1lPT09InByZSJ8fG8udGFnTmFtZT09PSJjb2RlInx8by50YWdOYW1lPT09InhtcCIpJiZvLmNsYXNzTmFtZSYmby5jbGFzc05hbWUuaW5kZXhPZigicHJldHR5cHJpbnQiKT49MCl7Yj0hMDticmVha31ifHwoKGI9KGI9bi5jbGFzc05hbWUubWF0Y2goL1xibGluZW51bXNcYig/OjooXGQrKSk/LykpP2JbMV0mJmJbMV0ubGVuZ3RoPytiWzFdOiEwOiExKSYmRChuLGIpLGQ9e2c6ayxoOm4saTpifSxFKGQpKX19cDxoLmxlbmd0aD9zZXRUaW1lb3V0KG0sDQoyNTApOmEmJmEoKX1mb3IodmFyIGU9W2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwcmUiKSxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiY29kZSIpLGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ4bXAiKV0saD1bXSxrPTA7azxlLmxlbmd0aDsrK2spZm9yKHZhciB0PTAscz1lW2tdLmxlbmd0aDt0PHM7Kyt0KWgucHVzaChlW2tdW3RdKTt2YXIgZT1xLGw9RGF0ZTtsLm5vd3x8KGw9e25vdzpmdW5jdGlvbigpe3JldHVybituZXcgRGF0ZX19KTt2YXIgcD0wLGQsZz0vXGJsYW5nKD86dWFnZSk/LShbXHcuXSspKD8hXFMpLzttKCl9O3dpbmRvdy5QUj17Y3JlYXRlU2ltcGxlTGV4ZXI6eCxyZWdpc3RlckxhbmdIYW5kbGVyOmssc291cmNlRGVjb3JhdG9yOnUsUFJfQVRUUklCX05BTUU6ImF0biIsUFJfQVRUUklCX1ZBTFVFOiJhdHYiLFBSX0NPTU1FTlQ6ImNvbSIsUFJfREVDTEFSQVRJT046ImRlYyIsUFJfS0VZV09SRDoia3dkIixQUl9MSVRFUkFMOiJsaXQiLA0KUFJfTk9DT0RFOiJub2NvZGUiLFBSX1BMQUlOOiJwbG4iLFBSX1BVTkNUVUFUSU9OOiJwdW4iLFBSX1NPVVJDRToic3JjIixQUl9TVFJJTkc6InN0ciIsUFJfVEFHOiJ0YWciLFBSX1RZUEU6InR5cCJ9fSkoKTs="/>
                  <L7p:VariableToSet stringValue="output"/>
                </L7p:SetVariable>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="RIGHT.COMMENT"/>
                      <L7p:value stringValue="//prettify.js"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:Expression1 stringValue="${resource}"/>
                  <L7p:Expression2 stringValue="jquery.js"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item binary="included">
                      <L7p:RightValue stringValue="jquery.js"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="YXBwbGljYXRpb24veC1qYXZhc2NyaXB0O2NoYXJzZXQ9dXRmLTg="/>
                  <L7p:VariableToSet stringValue="content_type"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="LyohIGpRdWVyeSB2Mi4wLjMgfCAoYykgMjAwNSwgMjAxMyBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiB8IGpxdWVyeS5vcmcvbGljZW5zZQ0KLy9AIHNvdXJjZU1hcHBpbmdVUkw9anF1ZXJ5LTIuMC4zLm1pbi5tYXANCiovDQooZnVuY3Rpb24oZSx1bmRlZmluZWQpe3ZhciB0LG4scj10eXBlb2YgdW5kZWZpbmVkLGk9ZS5sb2NhdGlvbixvPWUuZG9jdW1lbnQscz1vLmRvY3VtZW50RWxlbWVudCxhPWUualF1ZXJ5LHU9ZS4kLGw9e30sYz1bXSxwPSIyLjAuMyIsZj1jLmNvbmNhdCxoPWMucHVzaCxkPWMuc2xpY2UsZz1jLmluZGV4T2YsbT1sLnRvU3RyaW5nLHk9bC5oYXNPd25Qcm9wZXJ0eSx2PXAudHJpbSx4PWZ1bmN0aW9uKGUsbil7cmV0dXJuIG5ldyB4LmZuLmluaXQoZSxuLHQpfSxiPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLHc9L1xTKy9nLFQ9L14oPzpccyooPFtcd1xXXSs+KVtePl0qfCMoW1x3LV0qKSkkLyxDPS9ePChcdyspXHMqXC8/Pig/OjxcL1wxPnwpJC8saz0vXi1tcy0vLE49Ly0oW1xkYS16XSkvZ2ksRT1mdW5jdGlvbihlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9LFM9ZnVuY3Rpb24oKXtvLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLFMsITEpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsUywhMSkseC5yZWFkeSgpfTt4LmZuPXgucHJvdG90eXBlPXtqcXVlcnk6cCxjb25zdHJ1Y3Rvcjp4LGluaXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoIWUpcmV0dXJuIHRoaXM7aWYoInN0cmluZyI9PXR5cGVvZiBlKXtpZihyPSI8Ij09PWUuY2hhckF0KDApJiYiPiI9PT1lLmNoYXJBdChlLmxlbmd0aC0xKSYmZS5sZW5ndGg+PTM/W251bGwsZSxudWxsXTpULmV4ZWMoZSksIXJ8fCFyWzFdJiZ0KXJldHVybiF0fHx0LmpxdWVyeT8odHx8bikuZmluZChlKTp0aGlzLmNvbnN0cnVjdG9yKHQpLmZpbmQoZSk7aWYoclsxXSl7aWYodD10IGluc3RhbmNlb2YgeD90WzBdOnQseC5tZXJnZSh0aGlzLHgucGFyc2VIVE1MKHJbMV0sdCYmdC5ub2RlVHlwZT90Lm93bmVyRG9jdW1lbnR8fHQ6bywhMCkpLEMudGVzdChyWzFdKSYmeC5pc1BsYWluT2JqZWN0KHQpKWZvcihyIGluIHQpeC5pc0Z1bmN0aW9uKHRoaXNbcl0pP3RoaXNbcl0odFtyXSk6dGhpcy5hdHRyKHIsdFtyXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGk9by5nZXRFbGVtZW50QnlJZChyWzJdKSxpJiZpLnBhcmVudE5vZGUmJih0aGlzLmxlbmd0aD0xLHRoaXNbMF09aSksdGhpcy5jb250ZXh0PW8sdGhpcy5zZWxlY3Rvcj1lLHRoaXN9cmV0dXJuIGUubm9kZVR5cGU/KHRoaXMuY29udGV4dD10aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTp4LmlzRnVuY3Rpb24oZSk/bi5yZWFkeShlKTooZS5zZWxlY3RvciE9PXVuZGVmaW5lZCYmKHRoaXMuc2VsZWN0b3I9ZS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9ZS5jb250ZXh0KSx4Lm1ha2VBcnJheShlLHRoaXMpKX0sc2VsZWN0b3I6IiIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBkLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT90aGlzLnRvQXJyYXkoKTowPmU/dGhpc1t0aGlzLmxlbmd0aCtlXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9eC5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHQuY29udGV4dD10aGlzLmNvbnRleHQsdH0sZWFjaDpmdW5jdGlvbihlLHQpe3JldHVybiB4LmVhY2godGhpcyxlLHQpfSxyZWFkeTpmdW5jdGlvbihlKXtyZXR1cm4geC5yZWFkeS5wcm9taXNlKCkuZG9uZShlKSx0aGlzfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhkLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGVuZ3RoLG49K2UrKDA+ZT90OjApO3JldHVybiB0aGlzLnB1c2hTdGFjayhuPj0wJiZ0Pm4/W3RoaXNbbl1dOltdKX0sbWFwOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayh4Lm1hcCh0aGlzLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuY2FsbCh0LG4sdCl9KSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IobnVsbCl9LHB1c2g6aCxzb3J0OltdLnNvcnQsc3BsaWNlOltdLnNwbGljZX0seC5mbi5pbml0LnByb3RvdHlwZT14LmZuLHguZXh0ZW5kPXguZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLHM9YXJndW1lbnRzWzBdfHx7fSxhPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIHMmJihsPXMscz1hcmd1bWVudHNbMV18fHt9LGE9MiksIm9iamVjdCI9PXR5cGVvZiBzfHx4LmlzRnVuY3Rpb24ocyl8fChzPXt9KSx1PT09YSYmKHM9dGhpcywtLWEpO3U+YTthKyspaWYobnVsbCE9KGU9YXJndW1lbnRzW2FdKSlmb3IodCBpbiBlKW49c1t0XSxyPWVbdF0scyE9PXImJihsJiZyJiYoeC5pc1BsYWluT2JqZWN0KHIpfHwoaT14LmlzQXJyYXkocikpKT8oaT8oaT0hMSxvPW4mJnguaXNBcnJheShuKT9uOltdKTpvPW4mJnguaXNQbGFpbk9iamVjdChuKT9uOnt9LHNbdF09eC5leHRlbmQobCxvLHIpKTpyIT09dW5kZWZpbmVkJiYoc1t0XT1yKSk7cmV0dXJuIHN9LHguZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKyhwK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLG5vQ29uZmxpY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIGUuJD09PXgmJihlLiQ9dSksdCYmZS5qUXVlcnk9PT14JiYoZS5qUXVlcnk9YSkseH0saXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxob2xkUmVhZHk6ZnVuY3Rpb24oZSl7ZT94LnJlYWR5V2FpdCsrOngucmVhZHkoITApfSxyZWFkeTpmdW5jdGlvbihlKXsoZT09PSEwPy0teC5yZWFkeVdhaXQ6eC5pc1JlYWR5KXx8KHguaXNSZWFkeT0hMCxlIT09ITAmJi0teC5yZWFkeVdhaXQ+MHx8KG4ucmVzb2x2ZVdpdGgobyxbeF0pLHguZm4udHJpZ2dlciYmeChvKS50cmlnZ2VyKCJyZWFkeSIpLm9mZigicmVhZHkiKSkpfSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PT14LnR5cGUoZSl9LGlzQXJyYXk6QXJyYXkuaXNBcnJheSxpc1dpbmRvdzpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxpc051bWVyaWM6ZnVuY3Rpb24oZSl7cmV0dXJuIWlzTmFOKHBhcnNlRmxvYXQoZSkpJiZpc0Zpbml0ZShlKX0sdHlwZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9lKyIiOiJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGU/bFttLmNhbGwoZSldfHwib2JqZWN0Ijp0eXBlb2YgZX0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXtpZigib2JqZWN0IiE9PXgudHlwZShlKXx8ZS5ub2RlVHlwZXx8eC5pc1dpbmRvdyhlKSlyZXR1cm4hMTt0cnl7aWYoZS5jb25zdHJ1Y3RvciYmIXkuY2FsbChlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExfWNhdGNoKHQpe3JldHVybiExfXJldHVybiEwfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUpcmV0dXJuITE7cmV0dXJuITB9LGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IEVycm9yKGUpfSxwYXJzZUhUTUw6ZnVuY3Rpb24oZSx0LG4pe2lmKCFlfHwic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIG51bGw7ImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0PXR8fG87dmFyIHI9Qy5leGVjKGUpLGk9IW4mJltdO3JldHVybiByP1t0LmNyZWF0ZUVsZW1lbnQoclsxXSldOihyPXguYnVpbGRGcmFnbWVudChbZV0sdCxpKSxpJiZ4KGkpLnJlbW92ZSgpLHgubWVyZ2UoW10sci5jaGlsZE5vZGVzKSl9LHBhcnNlSlNPTjpKU09OLnBhcnNlLHBhcnNlWE1MOmZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoIWV8fCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gbnVsbDt0cnl7bj1uZXcgRE9NUGFyc2VyLHQ9bi5wYXJzZUZyb21TdHJpbmcoZSwidGV4dC94bWwiKX1jYXRjaChyKXt0PXVuZGVmaW5lZH1yZXR1cm4oIXR8fHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RoKSYmeC5lcnJvcigiSW52YWxpZCBYTUw6ICIrZSksdH0sbm9vcDpmdW5jdGlvbigpe30sZ2xvYmFsRXZhbDpmdW5jdGlvbihlKXt2YXIgdCxuPWV2YWw7ZT14LnRyaW0oZSksZSYmKDE9PT1lLmluZGV4T2YoInVzZSBzdHJpY3QiKT8odD1vLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLHQudGV4dD1lLG8uaGVhZC5hcHBlbmRDaGlsZCh0KS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpKTpuKGUpKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoaywibXMtIikucmVwbGFjZShOLEUpfSxub2RlTmFtZTpmdW5jdGlvbihlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9MCxvPWUubGVuZ3RoLHM9aihlKTtpZihuKXtpZihzKXtmb3IoO28+aTtpKyspaWYocj10LmFwcGx5KGVbaV0sbikscj09PSExKWJyZWFrfWVsc2UgZm9yKGkgaW4gZSlpZihyPXQuYXBwbHkoZVtpXSxuKSxyPT09ITEpYnJlYWt9ZWxzZSBpZihzKXtmb3IoO28+aTtpKyspaWYocj10LmNhbGwoZVtpXSxpLGVbaV0pLHI9PT0hMSlicmVha31lbHNlIGZvcihpIGluIGUpaWYocj10LmNhbGwoZVtpXSxpLGVbaV0pLHI9PT0hMSlicmVhaztyZXR1cm4gZX0sdHJpbTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjp2LmNhbGwoZSl9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYoaihPYmplY3QoZSkpP3gubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOmguY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTpnLmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe3ZhciBuPXQubGVuZ3RoLHI9ZS5sZW5ndGgsaT0wO2lmKCJudW1iZXIiPT10eXBlb2Ygbilmb3IoO24+aTtpKyspZVtyKytdPXRbaV07ZWxzZSB3aGlsZSh0W2ldIT09dW5kZWZpbmVkKWVbcisrXT10W2krK107cmV0dXJuIGUubGVuZ3RoPXIsZX0sZ3JlcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT1bXSxvPTAscz1lLmxlbmd0aDtmb3Iobj0hIW47cz5vO28rKylyPSEhdChlW29dLG8pLG4hPT1yJiZpLnB1c2goZVtvXSk7cmV0dXJuIGl9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT0wLG89ZS5sZW5ndGgscz1qKGUpLGE9W107aWYocylmb3IoO28+aTtpKyspcj10KGVbaV0saSxuKSxudWxsIT1yJiYoYVthLmxlbmd0aF09cik7ZWxzZSBmb3IoaSBpbiBlKXI9dChlW2ldLGksbiksbnVsbCE9ciYmKGFbYS5sZW5ndGhdPXIpO3JldHVybiBmLmFwcGx5KFtdLGEpfSxndWlkOjEscHJveHk6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiYobj1lW3RdLHQ9ZSxlPW4pLHguaXNGdW5jdGlvbihlKT8ocj1kLmNhbGwoYXJndW1lbnRzLDIpLGk9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0fHx0aGlzLHIuY29uY2F0KGQuY2FsbChhcmd1bWVudHMpKSl9LGkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHx4Lmd1aWQrKyxpKTp1bmRlZmluZWR9LGFjY2VzczpmdW5jdGlvbihlLHQsbixyLGksbyxzKXt2YXIgYT0wLHU9ZS5sZW5ndGgsbD1udWxsPT1uO2lmKCJvYmplY3QiPT09eC50eXBlKG4pKXtpPSEwO2ZvcihhIGluIG4peC5hY2Nlc3MoZSx0LGEsblthXSwhMCxvLHMpfWVsc2UgaWYociE9PXVuZGVmaW5lZCYmKGk9ITAseC5pc0Z1bmN0aW9uKHIpfHwocz0hMCksbCYmKHM/KHQuY2FsbChlLHIpLHQ9bnVsbCk6KGw9dCx0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbC5jYWxsKHgoZSksbil9KSksdCkpZm9yKDt1PmE7YSsrKXQoZVthXSxuLHM/cjpyLmNhbGwoZVthXSxhLHQoZVthXSxuKSkpO3JldHVybiBpP2U6bD90LmNhbGwoZSk6dT90KGVbMF0sbik6b30sbm93OkRhdGUubm93LHN3YXA6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxzPXt9O2ZvcihvIGluIHQpc1tvXT1lLnN0eWxlW29dLGUuc3R5bGVbb109dFtvXTtpPW4uYXBwbHkoZSxyfHxbXSk7Zm9yKG8gaW4gdCllLnN0eWxlW29dPXNbb107cmV0dXJuIGl9fSkseC5yZWFkeS5wcm9taXNlPWZ1bmN0aW9uKHQpe3JldHVybiBufHwobj14LkRlZmVycmVkKCksImNvbXBsZXRlIj09PW8ucmVhZHlTdGF0ZT9zZXRUaW1lb3V0KHgucmVhZHkpOihvLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLFMsITEpLGUuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsUywhMSkpKSxuLnByb21pc2UodCl9LHguZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLHQpe2xbIltvYmplY3QgIit0KyJdIl09dC50b0xvd2VyQ2FzZSgpfSk7ZnVuY3Rpb24gaihlKXt2YXIgdD1lLmxlbmd0aCxuPXgudHlwZShlKTtyZXR1cm4geC5pc1dpbmRvdyhlKT8hMToxPT09ZS5ub2RlVHlwZSYmdD8hMDoiYXJyYXkiPT09bnx8ImZ1bmN0aW9uIiE9PW4mJigwPT09dHx8Im51bWJlciI9PXR5cGVvZiB0JiZ0PjAmJnQtMSBpbiBlKX10PXgobyksZnVuY3Rpb24oZSx1bmRlZmluZWQpe3ZhciB0LG4scixpLG8scyxhLHUsbCxjLHAsZixoLGQsZyxtLHksdj0ic2l6emxlIistbmV3IERhdGUsYj1lLmRvY3VtZW50LHc9MCxUPTAsQz1zdCgpLGs9c3QoKSxOPXN0KCksRT0hMSxTPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PyhFPSEwLDApOjB9LGo9dHlwZW9mIHVuZGVmaW5lZCxEPTE8PDMxLEE9e30uaGFzT3duUHJvcGVydHksTD1bXSxxPUwucG9wLEg9TC5wdXNoLE89TC5wdXNoLEY9TC5zbGljZSxQPUwuaW5kZXhPZnx8ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPXRoaXMubGVuZ3RoO2Zvcig7bj50O3QrKylpZih0aGlzW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX0sUj0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLE09IltcXHgyMFxcdFxcclxcblxcZl0iLFc9Iig/OlxcXFwufFtcXHctXXxbXlxceDAwLVxceGEwXSkrIiwkPVcucmVwbGFjZSgidyIsIncjIiksQj0iXFxbIitNKyIqKCIrVysiKSIrTSsiKig/OihbKl4kfCF+XT89KSIrTSsiKig/OihbJ1wiXSkoKD86XFxcXC58W15cXFxcXSkqPylcXDN8KCIrJCsiKXwpfCkiK00rIipcXF0iLEk9IjooIitXKyIpKD86XFwoKChbJ1wiXSkoKD86XFxcXC58W15cXFxcXSkqPylcXDN8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitCLnJlcGxhY2UoMyw4KSsiKSopfC4qKVxcKXwpIix6PVJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxfPVJlZ0V4cCgiXiIrTSsiKiwiK00rIioiKSxYPVJlZ0V4cCgiXiIrTSsiKihbPit+XXwiK00rIikiK00rIioiKSxVPVJlZ0V4cChNKyIqWyt+XSIpLFk9UmVnRXhwKCI9IitNKyIqKFteXFxdJ1wiXSopIitNKyIqXFxdIiwiZyIpLFY9UmVnRXhwKEkpLEc9UmVnRXhwKCJeIiskKyIkIiksSj17SUQ6UmVnRXhwKCJeIygiK1crIikiKSxDTEFTUzpSZWdFeHAoIl5cXC4oIitXKyIpIiksVEFHOlJlZ0V4cCgiXigiK1cucmVwbGFjZSgidyIsIncqIikrIikiKSxBVFRSOlJlZ0V4cCgiXiIrQiksUFNFVURPOlJlZ0V4cCgiXiIrSSksQ0hJTEQ6UmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK00rIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK00rIiooPzooWystXXwpIitNKyIqKFxcZCspfCkpIitNKyIqXFwpfCkiLCJpIiksYm9vbDpSZWdFeHAoIl4oPzoiK1IrIikkIiwiaSIpLG5lZWRzQ29udGV4dDpSZWdFeHAoIl4iK00rIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrTSsiKigoPzotXFxkKT9cXGQqKSIrTSsiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sUT0vXltee10rXHtccypcW25hdGl2ZSBcdy8sSz0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLFo9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxldD0vXmhcZCQvaSx0dD0vJ3xcXC9nLG50PVJlZ0V4cCgiXFxcXChbXFxkYS1mXXsxLDZ9IitNKyI/fCgiK00rIil8LikiLCJpZyIpLHJ0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0iMHgiK3QtNjU1MzY7cmV0dXJuIHIhPT1yfHxuP3Q6MD5yP1N0cmluZy5mcm9tQ2hhckNvZGUocis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxyPj4xMCw1NjMyMHwxMDIzJnIpfTt0cnl7Ty5hcHBseShMPUYuY2FsbChiLmNoaWxkTm9kZXMpLGIuY2hpbGROb2RlcyksTFtiLmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChpdCl7Tz17YXBwbHk6TC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtILmFwcGx5KGUsRi5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gb3QoZSx0LHIsaSl7dmFyIG8scyxhLHUsbCxmLGcsbSx4LHc7aWYoKHQ/dC5vd25lckRvY3VtZW50fHx0OmIpIT09cCYmYyh0KSx0PXR8fHAscj1yfHxbXSwhZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiByO2lmKDEhPT0odT10Lm5vZGVUeXBlKSYmOSE9PXUpcmV0dXJuW107aWYoaCYmIWkpe2lmKG89Sy5leGVjKGUpKWlmKGE9b1sxXSl7aWYoOT09PXUpe2lmKHM9dC5nZXRFbGVtZW50QnlJZChhKSwhc3x8IXMucGFyZW50Tm9kZSlyZXR1cm4gcjtpZihzLmlkPT09YSlyZXR1cm4gci5wdXNoKHMpLHJ9ZWxzZSBpZih0Lm93bmVyRG9jdW1lbnQmJihzPXQub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKSkmJnkodCxzKSYmcy5pZD09PWEpcmV0dXJuIHIucHVzaChzKSxyfWVsc2V7aWYob1syXSlyZXR1cm4gTy5hcHBseShyLHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSkpLHI7aWYoKGE9b1szXSkmJm4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBPLmFwcGx5KHIsdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpKSxyfWlmKG4ucXNhJiYoIWR8fCFkLnRlc3QoZSkpKXtpZihtPWc9dix4PXQsdz05PT09dSYmZSwxPT09dSYmIm9iamVjdCIhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2Y9Z3QoZSksKGc9dC5nZXRBdHRyaWJ1dGUoImlkIikpP209Zy5yZXBsYWNlKHR0LCJcXCQmIik6dC5zZXRBdHRyaWJ1dGUoImlkIixtKSxtPSJbaWQ9JyIrbSsiJ10gIixsPWYubGVuZ3RoO3doaWxlKGwtLSlmW2xdPW0rbXQoZltsXSk7eD1VLnRlc3QoZSkmJnQucGFyZW50Tm9kZXx8dCx3PWYuam9pbigiLCIpfWlmKHcpdHJ5e3JldHVybiBPLmFwcGx5KHIseC5xdWVyeVNlbGVjdG9yQWxsKHcpKSxyfWNhdGNoKFQpe31maW5hbGx5e2d8fHQucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGt0KGUucmVwbGFjZSh6LCIkMSIpLHQscixpKX1mdW5jdGlvbiBzdCgpe3ZhciBlPVtdO2Z1bmN0aW9uIHQobixyKXtyZXR1cm4gZS5wdXNoKG4rPSIgIik+aS5jYWNoZUxlbmd0aCYmZGVsZXRlIHRbZS5zaGlmdCgpXSx0W25dPXJ9cmV0dXJuIHR9ZnVuY3Rpb24gYXQoZSl7cmV0dXJuIGVbdl09ITAsZX1mdW5jdGlvbiB1dChlKXt2YXIgdD1wLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2gobil7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGx0KGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9ZS5sZW5ndGg7d2hpbGUoci0tKWkuYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIGN0KGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmKH50LnNvdXJjZUluZGV4fHxEKS0ofmUuc291cmNlSW5kZXh8fEQpO2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBwdChlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1uJiZ0LnR5cGU9PT1lfX1mdW5jdGlvbiBmdChlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybigiaW5wdXQiPT09bnx8ImJ1dHRvbiI9PT1uKSYmdC50eXBlPT09ZX19ZnVuY3Rpb24gaHQoZSl7cmV0dXJuIGF0KGZ1bmN0aW9uKHQpe3JldHVybiB0PSt0LGF0KGZ1bmN0aW9uKG4scil7dmFyIGksbz1lKFtdLG4ubGVuZ3RoLHQpLHM9by5sZW5ndGg7d2hpbGUocy0tKW5baT1vW3NdXSYmKG5baV09IShyW2ldPW5baV0pKX0pfSl9cz1vdC5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiYoZS5vd25lckRvY3VtZW50fHxlKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIHQ/IkhUTUwiIT09dC5ub2RlTmFtZTohMX0sbj1vdC5zdXBwb3J0PXt9LGM9b3Quc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZT9lLm93bmVyRG9jdW1lbnR8fGU6YixyPXQuZGVmYXVsdFZpZXc7cmV0dXJuIHQhPT1wJiY5PT09dC5ub2RlVHlwZSYmdC5kb2N1bWVudEVsZW1lbnQ/KHA9dCxmPXQuZG9jdW1lbnRFbGVtZW50LGg9IXModCksciYmci5hdHRhY2hFdmVudCYmciE9PXIudG9wJiZyLmF0dGFjaEV2ZW50KCJvbmJlZm9yZXVubG9hZCIsZnVuY3Rpb24oKXtjKCl9KSxuLmF0dHJpYnV0ZXM9dXQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPSJpIiwhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksbi5nZXRFbGVtZW50c0J5VGFnTmFtZT11dChmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZCh0LmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLG4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT11dChmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxkaXYgY2xhc3M9J2EnPjwvZGl2PjxkaXYgY2xhc3M9J2EgaSc+PC9kaXY+IixlLmZpcnN0Q2hpbGQuY2xhc3NOYW1lPSJpIiwyPT09ZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJpIikubGVuZ3RofSksbi5nZXRCeUlkPXV0KGZ1bmN0aW9uKGUpe3JldHVybiBmLmFwcGVuZENoaWxkKGUpLmlkPXYsIXQuZ2V0RWxlbWVudHNCeU5hbWV8fCF0LmdldEVsZW1lbnRzQnlOYW1lKHYpLmxlbmd0aH0pLG4uZ2V0QnlJZD8oaS5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYodHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQhPT1qJiZoKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuJiZuLnBhcmVudE5vZGU/W25dOltdfX0saS5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKG50LHJ0KTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlKCJpZCIpPT09dH19KTooZGVsZXRlIGkuZmluZC5JRCxpLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UobnQscnQpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj10eXBlb2YgZS5nZXRBdHRyaWJ1dGVOb2RlIT09aiYmZS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBuJiZuLnZhbHVlPT09dH19KSxpLmZpbmQuVEFHPW4uZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHlwZW9mIHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1qP3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk6dW5kZWZpbmVkfTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT0wLG89dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTtpZigiKiI9PT1lKXt3aGlsZShuPW9baSsrXSkxPT09bi5ub2RlVHlwZSYmci5wdXNoKG4pO3JldHVybiByfXJldHVybiBvfSxpLmZpbmQuQ0xBU1M9bi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihlLHQpe3JldHVybiB0eXBlb2YgdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lIT09aiYmaD90LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZSk6dW5kZWZpbmVkfSxnPVtdLGQ9W10sKG4ucXNhPVEudGVzdCh0LnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKHV0KGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8c2VsZWN0PjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IixlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fGQucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitSKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8ZC5wdXNoKCI6Y2hlY2tlZCIpfSksdXQoZnVuY3Rpb24oZSl7dmFyIG49dC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO24uc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIiksZS5hcHBlbmRDaGlsZChuKS5zZXRBdHRyaWJ1dGUoInQiLCIiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIlt0Xj0nJ10iKS5sZW5ndGgmJmQucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RofHxkLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IiksZC5wdXNoKCIsLio6Iil9KSksKG4ubWF0Y2hlc1NlbGVjdG9yPVEudGVzdChtPWYud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxmLm1vek1hdGNoZXNTZWxlY3Rvcnx8Zi5vTWF0Y2hlc1NlbGVjdG9yfHxmLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJnV0KGZ1bmN0aW9uKGUpe24uZGlzY29ubmVjdGVkTWF0Y2g9bS5jYWxsKGUsImRpdiIpLG0uY2FsbChlLCJbcyE9JyddOngiKSxnLnB1c2goIiE9IixJKX0pLGQ9ZC5sZW5ndGgmJlJlZ0V4cChkLmpvaW4oInwiKSksZz1nLmxlbmd0aCYmUmVnRXhwKGcuam9pbigifCIpKSx5PVEudGVzdChmLmNvbnRhaW5zKXx8Zi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9mdW5jdGlvbihlLHQpe3ZhciBuPTk9PT1lLm5vZGVUeXBlP2UuZG9jdW1lbnRFbGVtZW50OmUscj10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIGU9PT1yfHwhKCFyfHwxIT09ci5ub2RlVHlwZXx8IShuLmNvbnRhaW5zP24uY29udGFpbnMocik6ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihyKSkpfTpmdW5jdGlvbihlLHQpe2lmKHQpd2hpbGUodD10LnBhcmVudE5vZGUpaWYodD09PWUpcmV0dXJuITA7cmV0dXJuITF9LFM9Zi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9mdW5jdGlvbihlLHIpe2lmKGU9PT1yKXJldHVybiBFPSEwLDA7dmFyIGk9ci5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihyKTtyZXR1cm4gaT8xJml8fCFuLnNvcnREZXRhY2hlZCYmci5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PWk/ZT09PXR8fHkoYixlKT8tMTpyPT09dHx8eShiLHIpPzE6bD9QLmNhbGwobCxlKS1QLmNhbGwobCxyKTowOjQmaT8tMToxOmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24/LTE6MX06ZnVuY3Rpb24oZSxuKXt2YXIgcixpPTAsbz1lLnBhcmVudE5vZGUscz1uLnBhcmVudE5vZGUsYT1bZV0sdT1bbl07aWYoZT09PW4pcmV0dXJuIEU9ITAsMDtpZighb3x8IXMpcmV0dXJuIGU9PT10Py0xOm49PT10PzE6bz8tMTpzPzE6bD9QLmNhbGwobCxlKS1QLmNhbGwobCxuKTowO2lmKG89PT1zKXJldHVybiBjdChlLG4pO3I9ZTt3aGlsZShyPXIucGFyZW50Tm9kZSlhLnVuc2hpZnQocik7cj1uO3doaWxlKHI9ci5wYXJlbnROb2RlKXUudW5zaGlmdChyKTt3aGlsZShhW2ldPT09dVtpXSlpKys7cmV0dXJuIGk/Y3QoYVtpXSx1W2ldKTphW2ldPT09Yj8tMTp1W2ldPT09Yj8xOjB9LHQpOnB9LG90Lm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gb3QoZSxudWxsLG51bGwsdCl9LG90Lm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKChlLm93bmVyRG9jdW1lbnR8fGUpIT09cCYmYyhlKSx0PXQucmVwbGFjZShZLCI9JyQxJ10iKSwhKCFuLm1hdGNoZXNTZWxlY3Rvcnx8IWh8fGcmJmcudGVzdCh0KXx8ZCYmZC50ZXN0KHQpKSl0cnl7dmFyIHI9bS5jYWxsKGUsdCk7aWYocnx8bi5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiByfWNhdGNoKGkpe31yZXR1cm4gb3QodCxwLG51bGwsW2VdKS5sZW5ndGg+MH0sb3QuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZS5vd25lckRvY3VtZW50fHxlKSE9PXAmJmMoZSkseShlLHQpfSxvdC5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPT1wJiZjKGUpO3ZhciByPWkuYXR0ckhhbmRsZVt0LnRvTG93ZXJDYXNlKCldLG89ciYmQS5jYWxsKGkuYXR0ckhhbmRsZSx0LnRvTG93ZXJDYXNlKCkpP3IoZSx0LCFoKTp1bmRlZmluZWQ7cmV0dXJuIG89PT11bmRlZmluZWQ/bi5hdHRyaWJ1dGVzfHwhaD9lLmdldEF0dHJpYnV0ZSh0KToobz1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZvLnNwZWNpZmllZD9vLnZhbHVlOm51bGw6b30sb3QuZXJyb3I9ZnVuY3Rpb24oZSl7dGhyb3cgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LG90LnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQscj1bXSxpPTAsbz0wO2lmKEU9IW4uZGV0ZWN0RHVwbGljYXRlcyxsPSFuLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KFMpLEUpe3doaWxlKHQ9ZVtvKytdKXQ9PT1lW29dJiYoaT1yLnB1c2gobykpO3doaWxlKGktLSllLnNwbGljZShyW2ldLDEpfXJldHVybiBlfSxvPW90LmdldFRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj0iIixyPTAsaT1lLm5vZGVUeXBlO2lmKGkpe2lmKDE9PT1pfHw5PT09aXx8MTE9PT1pKXtpZigic3RyaW5nIj09dHlwZW9mIGUudGV4dENvbnRlbnQpcmV0dXJuIGUudGV4dENvbnRlbnQ7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKW4rPW8oZSl9ZWxzZSBpZigzPT09aXx8ND09PWkpcmV0dXJuIGUubm9kZVZhbHVlfWVsc2UgZm9yKDt0PWVbcl07cisrKW4rPW8odCk7cmV0dXJuIG59LGk9b3Quc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86YXQsbWF0Y2g6SixhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS5yZXBsYWNlKG50LHJ0KSxlWzNdPShlWzRdfHxlWzVdfHwiIikucmVwbGFjZShudCxydCksIn49Ij09PWVbMl0mJihlWzNdPSIgIitlWzNdKyIgIiksZS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT1lWzFdLnRvTG93ZXJDYXNlKCksIm50aCI9PT1lWzFdLnNsaWNlKDAsMyk/KGVbM118fG90LmVycm9yKGVbMF0pLGVbNF09KyhlWzRdP2VbNV0rKGVbNl18fDEpOjIqKCJldmVuIj09PWVbM118fCJvZGQiPT09ZVszXSkpLGVbNV09KyhlWzddK2VbOF18fCJvZGQiPT09ZVszXSkpOmVbM10mJm90LmVycm9yKGVbMF0pLGV9LFBTRVVETzpmdW5jdGlvbihlKXt2YXIgdCxuPSFlWzVdJiZlWzJdO3JldHVybiBKLkNISUxELnRlc3QoZVswXSk/bnVsbDooZVszXSYmZVs0XSE9PXVuZGVmaW5lZD9lWzJdPWVbNF06biYmVi50ZXN0KG4pJiYodD1ndChuLCEwKSkmJih0PW4uaW5kZXhPZigiKSIsbi5sZW5ndGgtdCktbi5sZW5ndGgpJiYoZVswXT1lWzBdLnNsaWNlKDAsdCksZVsyXT1uLnNsaWNlKDAsdCkpLGUuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UobnQscnQpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09ZT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlTmFtZSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dH19LENMQVNTOmZ1bmN0aW9uKGUpe3ZhciB0PUNbZSsiICJdO3JldHVybiB0fHwodD1SZWdFeHAoIihefCIrTSsiKSIrZSsiKCIrTSsifCQpIikpJiZDKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQudGVzdCgic3RyaW5nIj09dHlwZW9mIGUuY2xhc3NOYW1lJiZlLmNsYXNzTmFtZXx8dHlwZW9mIGUuZ2V0QXR0cmlidXRlIT09aiYmZS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIGk9b3QuYXR0cihyLGUpO3JldHVybiBudWxsPT1pPyIhPSI9PT10OnQ/KGkrPSIiLCI9Ij09PXQ/aT09PW46IiE9Ij09PXQ/aSE9PW46Il49Ij09PXQ/biYmMD09PWkuaW5kZXhPZihuKToiKj0iPT09dD9uJiZpLmluZGV4T2Yobik+LTE6IiQ9Ij09PXQ/biYmaS5zbGljZSgtbi5sZW5ndGgpPT09bjoifj0iPT09dD8oIiAiK2krIiAiKS5pbmRleE9mKG4pPi0xOiJ8PSI9PT10P2k9PT1ufHxpLnNsaWNlKDAsbi5sZW5ndGgrMSk9PT1uKyItIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvPSJudGgiIT09ZS5zbGljZSgwLDMpLHM9Imxhc3QiIT09ZS5zbGljZSgtNCksYT0ib2YtdHlwZSI9PT10O3JldHVybiAxPT09ciYmMD09PWk/ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmVudE5vZGV9OmZ1bmN0aW9uKHQsbix1KXt2YXIgbCxjLHAsZixoLGQsZz1vIT09cz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLG09dC5wYXJlbnROb2RlLHk9YSYmdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHg9IXUmJiFhO2lmKG0pe2lmKG8pe3doaWxlKGcpe3A9dDt3aGlsZShwPXBbZ10paWYoYT9wLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT15OjE9PT1wLm5vZGVUeXBlKXJldHVybiExO2Q9Zz0ib25seSI9PT1lJiYhZCYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZihkPVtzP20uZmlyc3RDaGlsZDptLmxhc3RDaGlsZF0scyYmeCl7Yz1tW3ZdfHwobVt2XT17fSksbD1jW2VdfHxbXSxoPWxbMF09PT13JiZsWzFdLGY9bFswXT09PXcmJmxbMl0scD1oJiZtLmNoaWxkTm9kZXNbaF07d2hpbGUocD0rK2gmJnAmJnBbZ118fChmPWg9MCl8fGQucG9wKCkpaWYoMT09PXAubm9kZVR5cGUmJisrZiYmcD09PXQpe2NbZV09W3csaCxmXTticmVha319ZWxzZSBpZih4JiYobD0odFt2XXx8KHRbdl09e30pKVtlXSkmJmxbMF09PT13KWY9bFsxXTtlbHNlIHdoaWxlKHA9KytoJiZwJiZwW2ddfHwoZj1oPTApfHxkLnBvcCgpKWlmKChhP3Aubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXk6MT09PXAubm9kZVR5cGUpJiYrK2YmJih4JiYoKHBbdl18fChwW3ZdPXt9KSlbZV09W3csZl0pLHA9PT10KSlicmVhaztyZXR1cm4gZi09aSxmPT09cnx8MD09PWYlciYmZi9yPj0wfX19LFBTRVVETzpmdW5jdGlvbihlLHQpe3ZhciBuLHI9aS5wc2V1ZG9zW2VdfHxpLnNldEZpbHRlcnNbZS50b0xvd2VyQ2FzZSgpXXx8b3QuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIitlKTtyZXR1cm4gclt2XT9yKHQpOnIubGVuZ3RoPjE/KG49W2UsZSwiIix0XSxpLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoZS50b0xvd2VyQ2FzZSgpKT9hdChmdW5jdGlvbihlLG4pe3ZhciBpLG89cihlLHQpLHM9by5sZW5ndGg7d2hpbGUocy0tKWk9UC5jYWxsKGUsb1tzXSksZVtpXT0hKG5baV09b1tzXSl9KTpmdW5jdGlvbihlKXtyZXR1cm4gcihlLDAsbil9KTpyfX0scHNldWRvczp7bm90OmF0KGZ1bmN0aW9uKGUpe3ZhciB0PVtdLG49W10scj1hKGUucmVwbGFjZSh6LCIkMSIpKTtyZXR1cm4gclt2XT9hdChmdW5jdGlvbihlLHQsbixpKXt2YXIgbyxzPXIoZSxudWxsLGksW10pLGE9ZS5sZW5ndGg7d2hpbGUoYS0tKShvPXNbYV0pJiYoZVthXT0hKHRbYV09bykpfSk6ZnVuY3Rpb24oZSxpLG8pe3JldHVybiB0WzBdPWUscih0LG51bGwsbyxuKSwhbi5wb3AoKX19KSxoYXM6YXQoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBvdChlLHQpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOmF0KGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4odC50ZXh0Q29udGVudHx8dC5pbm5lclRleHR8fG8odCkpLmluZGV4T2YoZSk+LTF9fSksbGFuZzphdChmdW5jdGlvbihlKXtyZXR1cm4gRy50ZXN0KGV8fCIiKXx8b3QuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrZSksZT1lLnJlcGxhY2UobnQscnQpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24odCl7dmFyIG47ZG8gaWYobj1oP3QubGFuZzp0LmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8dC5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4gbj1uLnRvTG93ZXJDYXNlKCksbj09PWV8fDA9PT1uLmluZGV4T2YoZSsiLSIpO3doaWxlKCh0PXQucGFyZW50Tm9kZSkmJjE9PT10Lm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24odCl7dmFyIG49ZS5sb2NhdGlvbiYmZS5sb2NhdGlvbi5oYXNoO3JldHVybiBuJiZuLnNsaWNlKDEpPT09dC5pZH0scm9vdDpmdW5jdGlvbihlKXtyZXR1cm4gZT09PWZ9LGZvY3VzOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09cC5hY3RpdmVFbGVtZW50JiYoIXAuaGFzRm9jdXN8fHAuaGFzRm9jdXMoKSkmJiEhKGUudHlwZXx8ZS5ocmVmfHx+ZS50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZWQ9PT0hMX0sZGlzYWJsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsZS5zZWxlY3RlZD09PSEwfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlTmFtZT4iQCJ8fDM9PT1lLm5vZGVUeXBlfHw0PT09ZS5ub2RlVHlwZSlyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGUpe3JldHVybiFpLnBzZXVkb3MuZW1wdHkoZSl9LGhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZXQudGVzdChlLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFoudGVzdChlLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmImJ1dHRvbiI9PT1lLnR5cGV8fCJidXR0b24iPT09dH0sdGV4dDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4iaW5wdXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1lLnR5cGUmJihudWxsPT0odD1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8dC50b0xvd2VyQ2FzZSgpPT09ZS50eXBlKX0sZmlyc3Q6aHQoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0Omh0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuW3QtMV19KSxlcTpodChmdW5jdGlvbihlLHQsbil7cmV0dXJuWzA+bj9uK3Q6bl19KSxldmVuOmh0KGZ1bmN0aW9uKGUsdCl7dmFyIG49MDtmb3IoO3Q+bjtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDpodChmdW5jdGlvbihlLHQpe3ZhciBuPTE7Zm9yKDt0Pm47bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxsdDpodChmdW5jdGlvbihlLHQsbil7dmFyIHI9MD5uP24rdDpuO2Zvcig7LS1yPj0wOyllLnB1c2gocik7cmV0dXJuIGV9KSxndDpodChmdW5jdGlvbihlLHQsbil7dmFyIHI9MD5uP24rdDpuO2Zvcig7dD4rK3I7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0saS5wc2V1ZG9zLm50aD1pLnBzZXVkb3MuZXE7Zm9yKHQgaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0paS5wc2V1ZG9zW3RdPXB0KHQpO2Zvcih0IGlue3N1Ym1pdDohMCxyZXNldDohMH0paS5wc2V1ZG9zW3RdPWZ0KHQpO2Z1bmN0aW9uIGR0KCl7fWR0LnByb3RvdHlwZT1pLmZpbHRlcnM9aS5wc2V1ZG9zLGkuc2V0RmlsdGVycz1uZXcgZHQ7ZnVuY3Rpb24gZ3QoZSx0KXt2YXIgbixyLG8scyxhLHUsbCxjPWtbZSsiICJdO2lmKGMpcmV0dXJuIHQ/MDpjLnNsaWNlKDApO2E9ZSx1PVtdLGw9aS5wcmVGaWx0ZXI7d2hpbGUoYSl7KCFufHwocj1fLmV4ZWMoYSkpKSYmKHImJihhPWEuc2xpY2UoclswXS5sZW5ndGgpfHxhKSx1LnB1c2gobz1bXSkpLG49ITEsKHI9WC5leGVjKGEpKSYmKG49ci5zaGlmdCgpLG8ucHVzaCh7dmFsdWU6bix0eXBlOnJbMF0ucmVwbGFjZSh6LCIgIil9KSxhPWEuc2xpY2Uobi5sZW5ndGgpKTtmb3IocyBpbiBpLmZpbHRlcikhKHI9SltzXS5leGVjKGEpKXx8bFtzXSYmIShyPWxbc10ocikpfHwobj1yLnNoaWZ0KCksby5wdXNoKHt2YWx1ZTpuLHR5cGU6cyxtYXRjaGVzOnJ9KSxhPWEuc2xpY2Uobi5sZW5ndGgpKTtpZighbilicmVha31yZXR1cm4gdD9hLmxlbmd0aDphP290LmVycm9yKGUpOmsoZSx1KS5zbGljZSgwKX1mdW5jdGlvbiBtdChlKXt2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjtmb3IoO24+dDt0Kyspcis9ZVt0XS52YWx1ZTtyZXR1cm4gcn1mdW5jdGlvbiB5dChlLHQsbil7dmFyIGk9dC5kaXIsbz1uJiYicGFyZW50Tm9kZSI9PT1pLHM9VCsrO3JldHVybiB0LmZpcnN0P2Z1bmN0aW9uKHQsbixyKXt3aGlsZSh0PXRbaV0paWYoMT09PXQubm9kZVR5cGV8fG8pcmV0dXJuIGUodCxuLHIpfTpmdW5jdGlvbih0LG4sYSl7dmFyIHUsbCxjLHA9dysiICIrcztpZihhKXt3aGlsZSh0PXRbaV0paWYoKDE9PT10Lm5vZGVUeXBlfHxvKSYmZSh0LG4sYSkpcmV0dXJuITB9ZWxzZSB3aGlsZSh0PXRbaV0paWYoMT09PXQubm9kZVR5cGV8fG8paWYoYz10W3ZdfHwodFt2XT17fSksKGw9Y1tpXSkmJmxbMF09PT1wKXtpZigodT1sWzFdKT09PSEwfHx1PT09cilyZXR1cm4gdT09PSEwfWVsc2UgaWYobD1jW2ldPVtwXSxsWzFdPWUodCxuLGEpfHxyLGxbMV09PT0hMClyZXR1cm4hMH19ZnVuY3Rpb24gdnQoZSl7cmV0dXJuIGUubGVuZ3RoPjE/ZnVuY3Rpb24odCxuLHIpe3ZhciBpPWUubGVuZ3RoO3doaWxlKGktLSlpZighZVtpXSh0LG4scikpcmV0dXJuITE7cmV0dXJuITB9OmVbMF19ZnVuY3Rpb24geHQoZSx0LG4scixpKXt2YXIgbyxzPVtdLGE9MCx1PWUubGVuZ3RoLGw9bnVsbCE9dDtmb3IoO3U+YTthKyspKG89ZVthXSkmJighbnx8bihvLHIsaSkpJiYocy5wdXNoKG8pLGwmJnQucHVzaChhKSk7cmV0dXJuIHN9ZnVuY3Rpb24gYnQoZSx0LG4scixpLG8pe3JldHVybiByJiYhclt2XSYmKHI9YnQocikpLGkmJiFpW3ZdJiYoaT1idChpLG8pKSxhdChmdW5jdGlvbihvLHMsYSx1KXt2YXIgbCxjLHAsZj1bXSxoPVtdLGQ9cy5sZW5ndGgsZz1vfHxDdCh0fHwiKiIsYS5ub2RlVHlwZT9bYV06YSxbXSksbT0hZXx8IW8mJnQ/Zzp4dChnLGYsZSxhLHUpLHk9bj9pfHwobz9lOmR8fHIpP1tdOnM6bTtpZihuJiZuKG0seSxhLHUpLHIpe2w9eHQoeSxoKSxyKGwsW10sYSx1KSxjPWwubGVuZ3RoO3doaWxlKGMtLSkocD1sW2NdKSYmKHlbaFtjXV09IShtW2hbY11dPXApKX1pZihvKXtpZihpfHxlKXtpZihpKXtsPVtdLGM9eS5sZW5ndGg7d2hpbGUoYy0tKShwPXlbY10pJiZsLnB1c2gobVtjXT1wKTtpKG51bGwseT1bXSxsLHUpfWM9eS5sZW5ndGg7d2hpbGUoYy0tKShwPXlbY10pJiYobD1pP1AuY2FsbChvLHApOmZbY10pPi0xJiYob1tsXT0hKHNbbF09cCkpfX1lbHNlIHk9eHQoeT09PXM/eS5zcGxpY2UoZCx5Lmxlbmd0aCk6eSksaT9pKG51bGwscyx5LHUpOk8uYXBwbHkocyx5KX0pfWZ1bmN0aW9uIHd0KGUpe3ZhciB0LG4scixvPWUubGVuZ3RoLHM9aS5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9c3x8aS5yZWxhdGl2ZVsiICJdLGw9cz8xOjAsYz15dChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9LGEsITApLHA9eXQoZnVuY3Rpb24oZSl7cmV0dXJuIFAuY2FsbCh0LGUpPi0xfSxhLCEwKSxmPVtmdW5jdGlvbihlLG4scil7cmV0dXJuIXMmJihyfHxuIT09dSl8fCgodD1uKS5ub2RlVHlwZT9jKGUsbixyKTpwKGUsbixyKSl9XTtmb3IoO28+bDtsKyspaWYobj1pLnJlbGF0aXZlW2VbbF0udHlwZV0pZj1beXQodnQoZiksbildO2Vsc2V7aWYobj1pLmZpbHRlcltlW2xdLnR5cGVdLmFwcGx5KG51bGwsZVtsXS5tYXRjaGVzKSxuW3ZdKXtmb3Iocj0rK2w7bz5yO3IrKylpZihpLnJlbGF0aXZlW2Vbcl0udHlwZV0pYnJlYWs7cmV0dXJuIGJ0KGw+MSYmdnQoZiksbD4xJiZtdChlLnNsaWNlKDAsbC0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWVbbC0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKHosIiQxIiksbixyPmwmJnd0KGUuc2xpY2UobCxyKSksbz5yJiZ3dChlPWUuc2xpY2UocikpLG8+ciYmbXQoZSkpfWYucHVzaChuKX1yZXR1cm4gdnQoZil9ZnVuY3Rpb24gVHQoZSx0KXt2YXIgbj0wLG89dC5sZW5ndGg+MCxzPWUubGVuZ3RoPjAsYT1mdW5jdGlvbihhLGwsYyxmLGgpe3ZhciBkLGcsbSx5PVtdLHY9MCx4PSIwIixiPWEmJltdLFQ9bnVsbCE9aCxDPXUsaz1hfHxzJiZpLmZpbmQuVEFHKCIqIixoJiZsLnBhcmVudE5vZGV8fGwpLE49dys9bnVsbD09Qz8xOk1hdGgucmFuZG9tKCl8fC4xO2ZvcihUJiYodT1sIT09cCYmbCxyPW4pO251bGwhPShkPWtbeF0pO3grKyl7aWYocyYmZCl7Zz0wO3doaWxlKG09ZVtnKytdKWlmKG0oZCxsLGMpKXtmLnB1c2goZCk7YnJlYWt9VCYmKHc9TixyPSsrbil9byYmKChkPSFtJiZkKSYmdi0tLGEmJmIucHVzaChkKSl9aWYodis9eCxvJiZ4IT09dil7Zz0wO3doaWxlKG09dFtnKytdKW0oYix5LGwsYyk7aWYoYSl7aWYodj4wKXdoaWxlKHgtLSliW3hdfHx5W3hdfHwoeVt4XT1xLmNhbGwoZikpO3k9eHQoeSl9Ty5hcHBseShmLHkpLFQmJiFhJiZ5Lmxlbmd0aD4wJiZ2K3QubGVuZ3RoPjEmJm90LnVuaXF1ZVNvcnQoZil9cmV0dXJuIFQmJih3PU4sdT1DKSxifTtyZXR1cm4gbz9hdChhKTphfWE9b3QuY29tcGlsZT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT1bXSxvPU5bZSsiICJdO2lmKCFvKXt0fHwodD1ndChlKSksbj10Lmxlbmd0aDt3aGlsZShuLS0pbz13dCh0W25dKSxvW3ZdP3IucHVzaChvKTppLnB1c2gobyk7bz1OKGUsVHQoaSxyKSl9cmV0dXJuIG99O2Z1bmN0aW9uIEN0KGUsdCxuKXt2YXIgcj0wLGk9dC5sZW5ndGg7Zm9yKDtpPnI7cisrKW90KGUsdFtyXSxuKTtyZXR1cm4gbn1mdW5jdGlvbiBrdChlLHQscixvKXt2YXIgcyx1LGwsYyxwLGY9Z3QoZSk7aWYoIW8mJjE9PT1mLmxlbmd0aCl7aWYodT1mWzBdPWZbMF0uc2xpY2UoMCksdS5sZW5ndGg+MiYmIklEIj09PShsPXVbMF0pLnR5cGUmJm4uZ2V0QnlJZCYmOT09PXQubm9kZVR5cGUmJmgmJmkucmVsYXRpdmVbdVsxXS50eXBlXSl7aWYodD0oaS5maW5kLklEKGwubWF0Y2hlc1swXS5yZXBsYWNlKG50LHJ0KSx0KXx8W10pWzBdLCF0KXJldHVybiByO2U9ZS5zbGljZSh1LnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1zPUoubmVlZHNDb250ZXh0LnRlc3QoZSk/MDp1Lmxlbmd0aDt3aGlsZShzLS0pe2lmKGw9dVtzXSxpLnJlbGF0aXZlW2M9bC50eXBlXSlicmVhaztpZigocD1pLmZpbmRbY10pJiYobz1wKGwubWF0Y2hlc1swXS5yZXBsYWNlKG50LHJ0KSxVLnRlc3QodVswXS50eXBlKSYmdC5wYXJlbnROb2RlfHx0KSkpe2lmKHUuc3BsaWNlKHMsMSksZT1vLmxlbmd0aCYmbXQodSksIWUpcmV0dXJuIE8uYXBwbHkocixvKSxyO2JyZWFrfX19cmV0dXJuIGEoZSxmKShvLHQsIWgscixVLnRlc3QoZSkpLHJ9bi5zb3J0U3RhYmxlPXYuc3BsaXQoIiIpLnNvcnQoUykuam9pbigiIik9PT12LG4uZGV0ZWN0RHVwbGljYXRlcz1FLGMoKSxuLnNvcnREZXRhY2hlZD11dChmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHAuY3JlYXRlRWxlbWVudCgiZGl2IikpfSksdXQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5uZXJIVE1MPSI8YSBocmVmPScjJz48L2E+IiwiIyI9PT1lLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIil9KXx8bHQoInR5cGV8aHJlZnxoZWlnaHR8d2lkdGgiLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbj91bmRlZmluZWQ6ZS5nZXRBdHRyaWJ1dGUodCwidHlwZSI9PT10LnRvTG93ZXJDYXNlKCk/MToyKX0pLG4uYXR0cmlidXRlcyYmdXQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5uZXJIVE1MPSI8aW5wdXQvPiIsZS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSwiIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KXx8bHQoInZhbHVlIixmdW5jdGlvbihlLHQsbil7cmV0dXJuIG58fCJpbnB1dCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/dW5kZWZpbmVkOmUuZGVmYXVsdFZhbHVlfSksdXQoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWUuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpfSl8fGx0KFIsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiBuP3VuZGVmaW5lZDoocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOmVbdF09PT0hMD90LnRvTG93ZXJDYXNlKCk6bnVsbH0pLHguZmluZD1vdCx4LmV4cHI9b3Quc2VsZWN0b3JzLHguZXhwclsiOiJdPXguZXhwci5wc2V1ZG9zLHgudW5pcXVlPW90LnVuaXF1ZVNvcnQseC50ZXh0PW90LmdldFRleHQseC5pc1hNTERvYz1vdC5pc1hNTCx4LmNvbnRhaW5zPW90LmNvbnRhaW5zfShlKTt2YXIgRD17fTtmdW5jdGlvbiBBKGUpe3ZhciB0PURbZV09e307cmV0dXJuIHguZWFjaChlLm1hdGNoKHcpfHxbXSxmdW5jdGlvbihlLG4pe3Rbbl09ITB9KSx0fXguQ2FsbGJhY2tzPWZ1bmN0aW9uKGUpe2U9InN0cmluZyI9PXR5cGVvZiBlP0RbZV18fEEoZSk6eC5leHRlbmQoe30sZSk7dmFyIHQsbixyLGksbyxzLGE9W10sdT0hZS5vbmNlJiZbXSxsPWZ1bmN0aW9uKHApe2Zvcih0PWUubWVtb3J5JiZwLG49ITAscz1pfHwwLGk9MCxvPWEubGVuZ3RoLHI9ITA7YSYmbz5zO3MrKylpZihhW3NdLmFwcGx5KHBbMF0scFsxXSk9PT0hMSYmZS5zdG9wT25GYWxzZSl7dD0hMTticmVha31yPSExLGEmJih1P3UubGVuZ3RoJiZsKHUuc2hpZnQoKSk6dD9hPVtdOmMuZGlzYWJsZSgpKX0sYz17YWRkOmZ1bmN0aW9uKCl7aWYoYSl7dmFyIG49YS5sZW5ndGg7KGZ1bmN0aW9uIHModCl7eC5lYWNoKHQsZnVuY3Rpb24odCxuKXt2YXIgcj14LnR5cGUobik7ImZ1bmN0aW9uIj09PXI/ZS51bmlxdWUmJmMuaGFzKG4pfHxhLnB1c2gobik6biYmbi5sZW5ndGgmJiJzdHJpbmciIT09ciYmcyhuKX0pfSkoYXJndW1lbnRzKSxyP289YS5sZW5ndGg6dCYmKGk9bixsKHQpKX1yZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGEmJnguZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgobj14LmluQXJyYXkodCxhLG4pKT4tMSlhLnNwbGljZShuLDEpLHImJihvPj1uJiZvLS0scz49biYmcy0tKX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT94LmluQXJyYXkoZSxhKT4tMTohKCFhfHwhYS5sZW5ndGgpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBhPVtdLG89MCx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGE9dT10PXVuZGVmaW5lZCx0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFhfSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIHU9dW5kZWZpbmVkLHR8fGMuZGlzYWJsZSgpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiF1fSxmaXJlV2l0aDpmdW5jdGlvbihlLHQpe3JldHVybiFhfHxuJiYhdXx8KHQ9dHx8W10sdD1bZSx0LnNsaWNlP3Quc2xpY2UoKTp0XSxyP3UucHVzaCh0KTpsKHQpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGMuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFufX07cmV0dXJuIGN9LHguZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgdD1bWyJyZXNvbHZlIiwiZG9uZSIseC5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIix4LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVqZWN0ZWQiXSxbIm5vdGlmeSIsInByb2dyZXNzIix4LkNhbGxiYWNrcygibWVtb3J5IildXSxuPSJwZW5kaW5nIixyPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBufSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gaS5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LHRoZW46ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7cmV0dXJuIHguRGVmZXJyZWQoZnVuY3Rpb24obil7eC5lYWNoKHQsZnVuY3Rpb24odCxvKXt2YXIgcz1vWzBdLGE9eC5pc0Z1bmN0aW9uKGVbdF0pJiZlW3RdO2lbb1sxXV0oZnVuY3Rpb24oKXt2YXIgZT1hJiZhLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlJiZ4LmlzRnVuY3Rpb24oZS5wcm9taXNlKT9lLnByb21pc2UoKS5kb25lKG4ucmVzb2x2ZSkuZmFpbChuLnJlamVjdCkucHJvZ3Jlc3Mobi5ub3RpZnkpOm5bcysiV2l0aCJdKHRoaXM9PT1yP24ucHJvbWlzZSgpOnRoaXMsYT9bZV06YXJndW1lbnRzKX0pfSksZT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lP3guZXh0ZW5kKGUscik6cn19LGk9e307cmV0dXJuIHIucGlwZT1yLnRoZW4seC5lYWNoKHQsZnVuY3Rpb24oZSxvKXt2YXIgcz1vWzJdLGE9b1szXTtyW29bMV1dPXMuYWRkLGEmJnMuYWRkKGZ1bmN0aW9uKCl7bj1hfSx0WzFeZV1bMl0uZGlzYWJsZSx0WzJdWzJdLmxvY2spLGlbb1swXV09ZnVuY3Rpb24oKXtyZXR1cm4gaVtvWzBdKyJXaXRoIl0odGhpcz09PWk/cjp0aGlzLGFyZ3VtZW50cyksdGhpc30saVtvWzBdKyJXaXRoIl09cy5maXJlV2l0aH0pLHIucHJvbWlzZShpKSxlJiZlLmNhbGwoaSxpKSxpfSx3aGVuOmZ1bmN0aW9uKGUpe3ZhciB0PTAsbj1kLmNhbGwoYXJndW1lbnRzKSxyPW4ubGVuZ3RoLGk9MSE9PXJ8fGUmJnguaXNGdW5jdGlvbihlLnByb21pc2UpP3I6MCxvPTE9PT1pP2U6eC5EZWZlcnJlZCgpLHM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbihyKXt0W2VdPXRoaXMsbltlXT1hcmd1bWVudHMubGVuZ3RoPjE/ZC5jYWxsKGFyZ3VtZW50cyk6cixuPT09YT9vLm5vdGlmeVdpdGgodCxuKTotLWl8fG8ucmVzb2x2ZVdpdGgodCxuKX19LGEsdSxsO2lmKHI+MSlmb3IoYT1BcnJheShyKSx1PUFycmF5KHIpLGw9QXJyYXkocik7cj50O3QrKyluW3RdJiZ4LmlzRnVuY3Rpb24oblt0XS5wcm9taXNlKT9uW3RdLnByb21pc2UoKS5kb25lKHModCxsLG4pKS5mYWlsKG8ucmVqZWN0KS5wcm9ncmVzcyhzKHQsdSxhKSk6LS1pO3JldHVybiBpfHxvLnJlc29sdmVXaXRoKGwsbiksby5wcm9taXNlKCl9fSkseC5zdXBwb3J0PWZ1bmN0aW9uKHQpe3ZhciBuPW8uY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxyPW8uY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGk9by5jcmVhdGVFbGVtZW50KCJkaXYiKSxzPW8uY3JlYXRlRWxlbWVudCgic2VsZWN0IiksYT1zLmFwcGVuZENoaWxkKG8uY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO3JldHVybiBuLnR5cGU/KG4udHlwZT0iY2hlY2tib3giLHQuY2hlY2tPbj0iIiE9PW4udmFsdWUsdC5vcHRTZWxlY3RlZD1hLnNlbGVjdGVkLHQucmVsaWFibGVNYXJnaW5SaWdodD0hMCx0LmJveFNpemluZ1JlbGlhYmxlPSEwLHQucGl4ZWxQb3NpdGlvbj0hMSxuLmNoZWNrZWQ9ITAsdC5ub0Nsb25lQ2hlY2tlZD1uLmNsb25lTm9kZSghMCkuY2hlY2tlZCxzLmRpc2FibGVkPSEwLHQub3B0RGlzYWJsZWQ9IWEuZGlzYWJsZWQsbj1vLmNyZWF0ZUVsZW1lbnQoImlucHV0Iiksbi52YWx1ZT0idCIsbi50eXBlPSJyYWRpbyIsdC5yYWRpb1ZhbHVlPSJ0Ij09PW4udmFsdWUsbi5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJ0Iiksbi5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJ0Iiksci5hcHBlbmRDaGlsZChuKSx0LmNoZWNrQ2xvbmU9ci5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsdC5mb2N1c2luQnViYmxlcz0ib25mb2N1c2luImluIGUsaS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iY29udGVudC1ib3giLGkuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iIix0LmNsZWFyQ2xvbmVTdHlsZT0iY29udGVudC1ib3giPT09aS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCx4KGZ1bmN0aW9uKCl7dmFyIG4scixzPSJwYWRkaW5nOjA7bWFyZ2luOjA7Ym9yZGVyOjA7ZGlzcGxheTpibG9jazstd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7LW1vei1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JveC1zaXppbmc6Y29udGVudC1ib3giLGE9by5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdO2EmJihuPW8uY3JlYXRlRWxlbWVudCgiZGl2Iiksbi5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6LTk5OTlweDttYXJnaW4tdG9wOjFweCIsYS5hcHBlbmRDaGlsZChuKS5hcHBlbmRDaGlsZChpKSxpLmlubmVySFRNTD0iIixpLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtwYWRkaW5nOjFweDtib3JkZXI6MXB4O2Rpc3BsYXk6YmxvY2s7d2lkdGg6NHB4O21hcmdpbi10b3A6MSU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjElIix4LnN3YXAoYSxudWxsIT1hLnN0eWxlLnpvb20/e3pvb206MX06e30sZnVuY3Rpb24oKXt0LmJveFNpemluZz00PT09aS5vZmZzZXRXaWR0aH0pLGUuZ2V0Q29tcHV0ZWRTdHlsZSYmKHQucGl4ZWxQb3NpdGlvbj0iMSUiIT09KGUuZ2V0Q29tcHV0ZWRTdHlsZShpLG51bGwpfHx7fSkudG9wLHQuYm94U2l6aW5nUmVsaWFibGU9IjRweCI9PT0oZS5nZXRDb21wdXRlZFN0eWxlKGksbnVsbCl8fHt3aWR0aDoiNHB4In0pLndpZHRoLHI9aS5hcHBlbmRDaGlsZChvLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxyLnN0eWxlLmNzc1RleHQ9aS5zdHlsZS5jc3NUZXh0PXMsci5zdHlsZS5tYXJnaW5SaWdodD1yLnN0eWxlLndpZHRoPSIwIixpLnN0eWxlLndpZHRoPSIxcHgiLHQucmVsaWFibGVNYXJnaW5SaWdodD0hcGFyc2VGbG9hdCgoZS5nZXRDb21wdXRlZFN0eWxlKHIsbnVsbCl8fHt9KS5tYXJnaW5SaWdodCkpLGEucmVtb3ZlQ2hpbGQobikpfSksdCk6dH0oe30pO3ZhciBMLHEsSD0vKD86XHtbXHNcU10qXH18XFtbXHNcU10qXF0pJC8sTz0vKFtBLVpdKS9nO2Z1bmN0aW9uIEYoKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5jYWNoZT17fSwwLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57fX19KSx0aGlzLmV4cGFuZG89eC5leHBhbmRvK01hdGgucmFuZG9tKCl9Ri51aWQ9MSxGLmFjY2VwdHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZVR5cGU/MT09PWUubm9kZVR5cGV8fDk9PT1lLm5vZGVUeXBlOiEwfSxGLnByb3RvdHlwZT17a2V5OmZ1bmN0aW9uKGUpe2lmKCFGLmFjY2VwdHMoZSkpcmV0dXJuIDA7dmFyIHQ9e30sbj1lW3RoaXMuZXhwYW5kb107aWYoIW4pe249Ri51aWQrKzt0cnl7dFt0aGlzLmV4cGFuZG9dPXt2YWx1ZTpufSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHQpfWNhdGNoKHIpe3RbdGhpcy5leHBhbmRvXT1uLHguZXh0ZW5kKGUsdCl9fXJldHVybiB0aGlzLmNhY2hlW25dfHwodGhpcy5jYWNoZVtuXT17fSksbn0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPXRoaXMua2V5KGUpLG89dGhpcy5jYWNoZVtpXTtpZigic3RyaW5nIj09dHlwZW9mIHQpb1t0XT1uO2Vsc2UgaWYoeC5pc0VtcHR5T2JqZWN0KG8pKXguZXh0ZW5kKHRoaXMuY2FjaGVbaV0sdCk7ZWxzZSBmb3IociBpbiB0KW9bcl09dFtyXTtyZXR1cm4gb30sZ2V0OmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5jYWNoZVt0aGlzLmtleShlKV07cmV0dXJuIHQ9PT11bmRlZmluZWQ/bjpuW3RdfSxhY2Nlc3M6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB0PT09dW5kZWZpbmVkfHx0JiYic3RyaW5nIj09dHlwZW9mIHQmJm49PT11bmRlZmluZWQ/KHI9dGhpcy5nZXQoZSx0KSxyIT09dW5kZWZpbmVkP3I6dGhpcy5nZXQoZSx4LmNhbWVsQ2FzZSh0KSkpOih0aGlzLnNldChlLHQsbiksbiE9PXVuZGVmaW5lZD9uOnQpfSxyZW1vdmU6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbz10aGlzLmtleShlKSxzPXRoaXMuY2FjaGVbb107aWYodD09PXVuZGVmaW5lZCl0aGlzLmNhY2hlW29dPXt9O2Vsc2V7eC5pc0FycmF5KHQpP3I9dC5jb25jYXQodC5tYXAoeC5jYW1lbENhc2UpKTooaT14LmNhbWVsQ2FzZSh0KSx0IGluIHM/cj1bdCxpXToocj1pLHI9ciBpbiBzP1tyXTpyLm1hdGNoKHcpfHxbXSkpLG49ci5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSBzW3Jbbl1dfX0saGFzRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4heC5pc0VtcHR5T2JqZWN0KHRoaXMuY2FjaGVbZVt0aGlzLmV4cGFuZG9dXXx8e30pfSxkaXNjYXJkOmZ1bmN0aW9uKGUpe2VbdGhpcy5leHBhbmRvXSYmZGVsZXRlIHRoaXMuY2FjaGVbZVt0aGlzLmV4cGFuZG9dXX19LEw9bmV3IEYscT1uZXcgRix4LmV4dGVuZCh7YWNjZXB0RGF0YTpGLmFjY2VwdHMsaGFzRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gTC5oYXNEYXRhKGUpfHxxLmhhc0RhdGEoZSl9LGRhdGE6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBMLmFjY2VzcyhlLHQsbil9LHJlbW92ZURhdGE6ZnVuY3Rpb24oZSx0KXtMLnJlbW92ZShlLHQpfSxfZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHEuYWNjZXNzKGUsdCxuKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oZSx0KXtxLnJlbW92ZShlLHQpfX0pLHguZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPXRoaXNbMF0sbz0wLHM9bnVsbDtpZihlPT09dW5kZWZpbmVkKXtpZih0aGlzLmxlbmd0aCYmKHM9TC5nZXQoaSksMT09PWkubm9kZVR5cGUmJiFxLmdldChpLCJoYXNEYXRhQXR0cnMiKSkpe2ZvcihuPWkuYXR0cmlidXRlcztuLmxlbmd0aD5vO28rKylyPW5bb10ubmFtZSwwPT09ci5pbmRleE9mKCJkYXRhLSIpJiYocj14LmNhbWVsQ2FzZShyLnNsaWNlKDUpKSxQKGkscixzW3JdKSk7cS5zZXQoaSwiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIHN9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP3RoaXMuZWFjaChmdW5jdGlvbigpe0wuc2V0KHRoaXMsZSl9KTp4LmFjY2Vzcyh0aGlzLGZ1bmN0aW9uKHQpe3ZhciBuLHI9eC5jYW1lbENhc2UoZSk7aWYoaSYmdD09PXVuZGVmaW5lZCl7aWYobj1MLmdldChpLGUpLG4hPT11bmRlZmluZWQpcmV0dXJuIG47aWYobj1MLmdldChpLHIpLG4hPT11bmRlZmluZWQpcmV0dXJuIG47aWYobj1QKGkscix1bmRlZmluZWQpLG4hPT11bmRlZmluZWQpcmV0dXJuIG59ZWxzZSB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbj1MLmdldCh0aGlzLHIpO0wuc2V0KHRoaXMscix0KSwtMSE9PWUuaW5kZXhPZigiLSIpJiZuIT09dW5kZWZpbmVkJiZMLnNldCh0aGlzLGUsdCl9KX0sbnVsbCx0LGFyZ3VtZW50cy5sZW5ndGg+MSxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7TC5yZW1vdmUodGhpcyxlKX0pfX0pO2Z1bmN0aW9uIFAoZSx0LG4pe3ZhciByO2lmKG49PT11bmRlZmluZWQmJjE9PT1lLm5vZGVUeXBlKWlmKHI9ImRhdGEtIit0LnJlcGxhY2UoTywiLSQxIikudG9Mb3dlckNhc2UoKSxuPWUuZ2V0QXR0cmlidXRlKHIpLCJzdHJpbmciPT10eXBlb2Ygbil7dHJ5e249InRydWUiPT09bj8hMDoiZmFsc2UiPT09bj8hMToibnVsbCI9PT1uP251bGw6K24rIiI9PT1uPytuOkgudGVzdChuKT9KU09OLnBhcnNlKG4pOm59Y2F0Y2goaSl7fUwuc2V0KGUsdCxuKX1lbHNlIG49dW5kZWZpbmVkO3JldHVybiBufXguZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI7cmV0dXJuIGU/KHQ9KHR8fCJmeCIpKyJxdWV1ZSIscj1xLmdldChlLHQpLG4mJighcnx8eC5pc0FycmF5KG4pP3I9cS5hY2Nlc3MoZSx0LHgubWFrZUFycmF5KG4pKTpyLnB1c2gobikpLHJ8fFtdKTp1bmRlZmluZWR9LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49eC5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz14Ll9xdWV1ZUhvb2tzKGUsdCkscz1mdW5jdGlvbigpe3guZGVxdWV1ZShlLHQpDQp9OyJpbnByb2dyZXNzIj09PWkmJihpPW4uc2hpZnQoKSxyLS0pLGkmJigiZngiPT09dCYmbi51bnNoaWZ0KCJpbnByb2dyZXNzIiksZGVsZXRlIG8uc3RvcCxpLmNhbGwoZSxzLG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIHEuZ2V0KGUsbil8fHEuYWNjZXNzKGUsbix7ZW1wdHk6eC5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7cS5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSkseC5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iZngiLG4tLSksbj5hcmd1bWVudHMubGVuZ3RoP3gucXVldWUodGhpc1swXSxlKTp0PT09dW5kZWZpbmVkP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49eC5xdWV1ZSh0aGlzLGUsdCk7eC5fcXVldWVIb29rcyh0aGlzLGUpLCJmeCI9PT1lJiYiaW5wcm9ncmVzcyIhPT1uWzBdJiZ4LmRlcXVldWUodGhpcyxlKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt4LmRlcXVldWUodGhpcyxlKX0pfSxkZWxheTpmdW5jdGlvbihlLHQpe3JldHVybiBlPXguZng/eC5meC5zcGVlZHNbZV18fGU6ZSx0PXR8fCJmeCIsdGhpcy5xdWV1ZSh0LGZ1bmN0aW9uKHQsbil7dmFyIHI9c2V0VGltZW91dCh0LGUpO24uc3RvcD1mdW5jdGlvbigpe2NsZWFyVGltZW91dChyKX19KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5xdWV1ZShlfHwiZngiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MSxpPXguRGVmZXJyZWQoKSxvPXRoaXMscz10aGlzLmxlbmd0aCxhPWZ1bmN0aW9uKCl7LS1yfHxpLnJlc29sdmVXaXRoKG8sW29dKX07InN0cmluZyIhPXR5cGVvZiBlJiYodD1lLGU9dW5kZWZpbmVkKSxlPWV8fCJmeCI7d2hpbGUocy0tKW49cS5nZXQob1tzXSxlKyJxdWV1ZUhvb2tzIiksbiYmbi5lbXB0eSYmKHIrKyxuLmVtcHR5LmFkZChhKSk7cmV0dXJuIGEoKSxpLnByb21pc2UodCl9fSk7dmFyIFIsTSxXPS9bXHRcclxuXGZdL2csJD0vXHIvZyxCPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2k7eC5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geC5hY2Nlc3ModGhpcyx4LmF0dHIsZSx0LGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3gucmVtb3ZlQXR0cih0aGlzLGUpfSl9LHByb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geC5hY2Nlc3ModGhpcyx4LnByb3AsZSx0LGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW3gucHJvcEZpeFtlXXx8ZV19KX0sYWRkQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbyxzPTAsYT10aGlzLmxlbmd0aCx1PSJzdHJpbmciPT10eXBlb2YgZSYmZTtpZih4LmlzRnVuY3Rpb24oZSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXt4KHRoaXMpLmFkZENsYXNzKGUuY2FsbCh0aGlzLHQsdGhpcy5jbGFzc05hbWUpKX0pO2lmKHUpZm9yKHQ9KGV8fCIiKS5tYXRjaCh3KXx8W107YT5zO3MrKylpZihuPXRoaXNbc10scj0xPT09bi5ub2RlVHlwZSYmKG4uY2xhc3NOYW1lPygiICIrbi5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKFcsIiAiKToiICIpKXtvPTA7d2hpbGUoaT10W28rK10pMD5yLmluZGV4T2YoIiAiK2krIiAiKSYmKHIrPWkrIiAiKTtuLmNsYXNzTmFtZT14LnRyaW0ocil9cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLG8scz0wLGE9dGhpcy5sZW5ndGgsdT0wPT09YXJndW1lbnRzLmxlbmd0aHx8InN0cmluZyI9PXR5cGVvZiBlJiZlO2lmKHguaXNGdW5jdGlvbihlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3godGhpcykucmVtb3ZlQ2xhc3MoZS5jYWxsKHRoaXMsdCx0aGlzLmNsYXNzTmFtZSkpfSk7aWYodSlmb3IodD0oZXx8IiIpLm1hdGNoKHcpfHxbXTthPnM7cysrKWlmKG49dGhpc1tzXSxyPTE9PT1uLm5vZGVUeXBlJiYobi5jbGFzc05hbWU/KCIgIituLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoVywiICIpOiIiKSl7bz0wO3doaWxlKGk9dFtvKytdKXdoaWxlKHIuaW5kZXhPZigiICIraSsiICIpPj0wKXI9ci5yZXBsYWNlKCIgIitpKyIgIiwiICIpO24uY2xhc3NOYW1lPWU/eC50cmltKHIpOiIifXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihlLHQpe3ZhciBuPXR5cGVvZiBlO3JldHVybiJib29sZWFuIj09dHlwZW9mIHQmJiJzdHJpbmciPT09bj90P3RoaXMuYWRkQ2xhc3MoZSk6dGhpcy5yZW1vdmVDbGFzcyhlKTp4LmlzRnVuY3Rpb24oZSk/dGhpcy5lYWNoKGZ1bmN0aW9uKG4pe3godGhpcykudG9nZ2xlQ2xhc3MoZS5jYWxsKHRoaXMsbix0aGlzLmNsYXNzTmFtZSx0KSx0KX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe2lmKCJzdHJpbmciPT09bil7dmFyIHQsaT0wLG89eCh0aGlzKSxzPWUubWF0Y2godyl8fFtdO3doaWxlKHQ9c1tpKytdKW8uaGFzQ2xhc3ModCk/by5yZW1vdmVDbGFzcyh0KTpvLmFkZENsYXNzKHQpfWVsc2Uobj09PXJ8fCJib29sZWFuIj09PW4pJiYodGhpcy5jbGFzc05hbWUmJnEuc2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iLHRoaXMuY2xhc3NOYW1lKSx0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFtZXx8ZT09PSExPyIiOnEuZ2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0PSIgIitlKyIgIixuPTAscj10aGlzLmxlbmd0aDtmb3IoO3I+bjtuKyspaWYoMT09PXRoaXNbbl0ubm9kZVR5cGUmJigiICIrdGhpc1tuXS5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKFcsIiAiKS5pbmRleE9mKHQpPj0wKXJldHVybiEwO3JldHVybiExfSx2YWw6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9dGhpc1swXTt7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gcj14LmlzRnVuY3Rpb24oZSksdGhpcy5lYWNoKGZ1bmN0aW9uKG4pe3ZhciBpOzE9PT10aGlzLm5vZGVUeXBlJiYoaT1yP2UuY2FsbCh0aGlzLG4seCh0aGlzKS52YWwoKSk6ZSxudWxsPT1pP2k9IiI6Im51bWJlciI9PXR5cGVvZiBpP2krPSIiOnguaXNBcnJheShpKSYmKGk9eC5tYXAoaSxmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjplKyIifSkpLHQ9eC52YWxIb29rc1t0aGlzLnR5cGVdfHx4LnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sdCYmInNldCJpbiB0JiZ0LnNldCh0aGlzLGksInZhbHVlIikhPT11bmRlZmluZWR8fCh0aGlzLnZhbHVlPWkpKX0pO2lmKGkpcmV0dXJuIHQ9eC52YWxIb29rc1tpLnR5cGVdfHx4LnZhbEhvb2tzW2kubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sdCYmImdldCJpbiB0JiYobj10LmdldChpLCJ2YWx1ZSIpKSE9PXVuZGVmaW5lZD9uOihuPWkudmFsdWUsInN0cmluZyI9PXR5cGVvZiBuP24ucmVwbGFjZSgkLCIiKTpudWxsPT1uPyIiOm4pfX19KSx4LmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUuYXR0cmlidXRlcy52YWx1ZTtyZXR1cm4hdHx8dC5zcGVjaWZpZWQ/ZS52YWx1ZTplLnRleHR9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9ZS5vcHRpb25zLGk9ZS5zZWxlY3RlZEluZGV4LG89InNlbGVjdC1vbmUiPT09ZS50eXBlfHwwPmkscz1vP251bGw6W10sYT1vP2krMTpyLmxlbmd0aCx1PTA+aT9hOm8/aTowO2Zvcig7YT51O3UrKylpZihuPXJbdV0sISghbi5zZWxlY3RlZCYmdSE9PWl8fCh4LnN1cHBvcnQub3B0RGlzYWJsZWQ/bi5kaXNhYmxlZDpudWxsIT09bi5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIikpfHxuLnBhcmVudE5vZGUuZGlzYWJsZWQmJngubm9kZU5hbWUobi5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYodD14KG4pLnZhbCgpLG8pcmV0dXJuIHQ7cy5wdXNoKHQpfXJldHVybiBzfSxzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk9ZS5vcHRpb25zLG89eC5tYWtlQXJyYXkodCkscz1pLmxlbmd0aDt3aGlsZShzLS0pcj1pW3NdLChyLnNlbGVjdGVkPXguaW5BcnJheSh4KHIpLnZhbCgpLG8pPj0wKSYmKG49ITApO3JldHVybiBufHwoZS5zZWxlY3RlZEluZGV4PS0xKSxvfX19LGF0dHI6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLG8scz1lLm5vZGVUeXBlO2lmKGUmJjMhPT1zJiY4IT09cyYmMiE9PXMpcmV0dXJuIHR5cGVvZiBlLmdldEF0dHJpYnV0ZT09PXI/eC5wcm9wKGUsdCxuKTooMT09PXMmJnguaXNYTUxEb2MoZSl8fCh0PXQudG9Mb3dlckNhc2UoKSxpPXguYXR0ckhvb2tzW3RdfHwoeC5leHByLm1hdGNoLmJvb2wudGVzdCh0KT9NOlIpKSxuPT09dW5kZWZpbmVkP2kmJiJnZXQiaW4gaSYmbnVsbCE9PShvPWkuZ2V0KGUsdCkpP286KG89eC5maW5kLmF0dHIoZSx0KSxudWxsPT1vP3VuZGVmaW5lZDpvKTpudWxsIT09bj9pJiYic2V0ImluIGkmJihvPWkuc2V0KGUsbix0KSkhPT11bmRlZmluZWQ/bzooZS5zZXRBdHRyaWJ1dGUodCxuKyIiKSxuKTooeC5yZW1vdmVBdHRyKGUsdCksdW5kZWZpbmVkKSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk9MCxvPXQmJnQubWF0Y2godyk7aWYobyYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1vW2krK10pcj14LnByb3BGaXhbbl18fG4seC5leHByLm1hdGNoLmJvb2wudGVzdChuKSYmKGVbcl09ITEpLGUucmVtb3ZlQXR0cmlidXRlKG4pfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihlLHQpe2lmKCF4LnN1cHBvcnQucmFkaW9WYWx1ZSYmInJhZGlvIj09PXQmJngubm9kZU5hbWUoZSwiaW5wdXQiKSl7dmFyIG49ZS52YWx1ZTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoInR5cGUiLHQpLG4mJihlLnZhbHVlPW4pLHR9fX19LHByb3BGaXg6eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUifSxwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8scz1lLm5vZGVUeXBlO2lmKGUmJjMhPT1zJiY4IT09cyYmMiE9PXMpcmV0dXJuIG89MSE9PXN8fCF4LmlzWE1MRG9jKGUpLG8mJih0PXgucHJvcEZpeFt0XXx8dCxpPXgucHJvcEhvb2tzW3RdKSxuIT09dW5kZWZpbmVkP2kmJiJzZXQiaW4gaSYmKHI9aS5zZXQoZSxuLHQpKSE9PXVuZGVmaW5lZD9yOmVbdF09bjppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOmVbdF19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihlKXtyZXR1cm4gZS5oYXNBdHRyaWJ1dGUoInRhYmluZGV4Iil8fEIudGVzdChlLm5vZGVOYW1lKXx8ZS5ocmVmP2UudGFiSW5kZXg6LTF9fX19KSxNPXtzZXQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0PT09ITE/eC5yZW1vdmVBdHRyKGUsbik6ZS5zZXRBdHRyaWJ1dGUobixuKSxufX0seC5lYWNoKHguZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXHcrL2cpLGZ1bmN0aW9uKGUsdCl7dmFyIG49eC5leHByLmF0dHJIYW5kbGVbdF18fHguZmluZC5hdHRyO3guZXhwci5hdHRySGFuZGxlW3RdPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT14LmV4cHIuYXR0ckhhbmRsZVt0XSxvPXI/dW5kZWZpbmVkOih4LmV4cHIuYXR0ckhhbmRsZVt0XT11bmRlZmluZWQpIT1uKGUsdCxyKT90LnRvTG93ZXJDYXNlKCk6bnVsbDtyZXR1cm4geC5leHByLmF0dHJIYW5kbGVbdF09aSxvfX0pLHguc3VwcG9ydC5vcHRTZWxlY3RlZHx8KHgucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9fSkseC5lYWNoKFsidGFiSW5kZXgiLCJyZWFkT25seSIsIm1heExlbmd0aCIsImNlbGxTcGFjaW5nIiwiY2VsbFBhZGRpbmciLCJyb3dTcGFuIiwiY29sU3BhbiIsInVzZU1hcCIsImZyYW1lQm9yZGVyIiwiY29udGVudEVkaXRhYmxlIl0sZnVuY3Rpb24oKXt4LnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSkseC5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7eC52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHguaXNBcnJheSh0KT9lLmNoZWNrZWQ9eC5pbkFycmF5KHgoZSkudmFsKCksdCk+PTA6dW5kZWZpbmVkfX0seC5zdXBwb3J0LmNoZWNrT258fCh4LnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWUuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6ZS52YWx1ZX0pfSk7dmFyIEk9L15rZXkvLHo9L14oPzptb3VzZXxjb250ZXh0bWVudSl8Y2xpY2svLF89L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLFg9L14oW14uXSopKD86XC4oLispfCkkLztmdW5jdGlvbiBVKCl7cmV0dXJuITB9ZnVuY3Rpb24gWSgpe3JldHVybiExfWZ1bmN0aW9uIFYoKXt0cnl7cmV0dXJuIG8uYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fXguZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oZSx0LG4saSxvKXt2YXIgcyxhLHUsbCxjLHAsZixoLGQsZyxtLHk9cS5nZXQoZSk7aWYoeSl7bi5oYW5kbGVyJiYocz1uLG49cy5oYW5kbGVyLG89cy5zZWxlY3Rvciksbi5ndWlkfHwobi5ndWlkPXguZ3VpZCsrKSwobD15LmV2ZW50cyl8fChsPXkuZXZlbnRzPXt9KSwoYT15LmhhbmRsZSl8fChhPXkuaGFuZGxlPWZ1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgeD09PXJ8fGUmJnguZXZlbnQudHJpZ2dlcmVkPT09ZS50eXBlP3VuZGVmaW5lZDp4LmV2ZW50LmRpc3BhdGNoLmFwcGx5KGEuZWxlbSxhcmd1bWVudHMpfSxhLmVsZW09ZSksdD0odHx8IiIpLm1hdGNoKHcpfHxbIiJdLGM9dC5sZW5ndGg7d2hpbGUoYy0tKXU9WC5leGVjKHRbY10pfHxbXSxkPW09dVsxXSxnPSh1WzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksZCYmKGY9eC5ldmVudC5zcGVjaWFsW2RdfHx7fSxkPShvP2YuZGVsZWdhdGVUeXBlOmYuYmluZFR5cGUpfHxkLGY9eC5ldmVudC5zcGVjaWFsW2RdfHx7fSxwPXguZXh0ZW5kKHt0eXBlOmQsb3JpZ1R5cGU6bSxkYXRhOmksaGFuZGxlcjpuLGd1aWQ6bi5ndWlkLHNlbGVjdG9yOm8sbmVlZHNDb250ZXh0Om8mJnguZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChvKSxuYW1lc3BhY2U6Zy5qb2luKCIuIil9LHMpLChoPWxbZF0pfHwoaD1sW2RdPVtdLGguZGVsZWdhdGVDb3VudD0wLGYuc2V0dXAmJmYuc2V0dXAuY2FsbChlLGksZyxhKSE9PSExfHxlLmFkZEV2ZW50TGlzdGVuZXImJmUuYWRkRXZlbnRMaXN0ZW5lcihkLGEsITEpKSxmLmFkZCYmKGYuYWRkLmNhbGwoZSxwKSxwLmhhbmRsZXIuZ3VpZHx8KHAuaGFuZGxlci5ndWlkPW4uZ3VpZCkpLG8/aC5zcGxpY2UoaC5kZWxlZ2F0ZUNvdW50KyssMCxwKTpoLnB1c2gocCkseC5ldmVudC5nbG9iYWxbZF09ITApO2U9bnVsbH19LHJlbW92ZTpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvLHMsYSx1LGwsYyxwLGYsaCxkLGcsbT1xLmhhc0RhdGEoZSkmJnEuZ2V0KGUpO2lmKG0mJih1PW0uZXZlbnRzKSl7dD0odHx8IiIpLm1hdGNoKHcpfHxbIiJdLGw9dC5sZW5ndGg7d2hpbGUobC0tKWlmKGE9WC5leGVjKHRbbF0pfHxbXSxoPWc9YVsxXSxkPShhWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksaCl7cD14LmV2ZW50LnNwZWNpYWxbaF18fHt9LGg9KHI/cC5kZWxlZ2F0ZVR5cGU6cC5iaW5kVHlwZSl8fGgsZj11W2hdfHxbXSxhPWFbMl0mJlJlZ0V4cCgiKF58XFwuKSIrZC5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKSxzPW89Zi5sZW5ndGg7d2hpbGUoby0tKWM9ZltvXSwhaSYmZyE9PWMub3JpZ1R5cGV8fG4mJm4uZ3VpZCE9PWMuZ3VpZHx8YSYmIWEudGVzdChjLm5hbWVzcGFjZSl8fHImJnIhPT1jLnNlbGVjdG9yJiYoIioqIiE9PXJ8fCFjLnNlbGVjdG9yKXx8KGYuc3BsaWNlKG8sMSksYy5zZWxlY3RvciYmZi5kZWxlZ2F0ZUNvdW50LS0scC5yZW1vdmUmJnAucmVtb3ZlLmNhbGwoZSxjKSk7cyYmIWYubGVuZ3RoJiYocC50ZWFyZG93biYmcC50ZWFyZG93bi5jYWxsKGUsZCxtLmhhbmRsZSkhPT0hMXx8eC5yZW1vdmVFdmVudChlLGgsbS5oYW5kbGUpLGRlbGV0ZSB1W2hdKX1lbHNlIGZvcihoIGluIHUpeC5ldmVudC5yZW1vdmUoZSxoK3RbbF0sbixyLCEwKTt4LmlzRW1wdHlPYmplY3QodSkmJihkZWxldGUgbS5oYW5kbGUscS5yZW1vdmUoZSwiZXZlbnRzIikpfX0sdHJpZ2dlcjpmdW5jdGlvbih0LG4scixpKXt2YXIgcyxhLHUsbCxjLHAsZixoPVtyfHxvXSxkPXkuY2FsbCh0LCJ0eXBlIik/dC50eXBlOnQsZz15LmNhbGwodCwibmFtZXNwYWNlIik/dC5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihhPXU9cj1yfHxvLDMhPT1yLm5vZGVUeXBlJiY4IT09ci5ub2RlVHlwZSYmIV8udGVzdChkK3guZXZlbnQudHJpZ2dlcmVkKSYmKGQuaW5kZXhPZigiLiIpPj0wJiYoZz1kLnNwbGl0KCIuIiksZD1nLnNoaWZ0KCksZy5zb3J0KCkpLGM9MD5kLmluZGV4T2YoIjoiKSYmIm9uIitkLHQ9dFt4LmV4cGFuZG9dP3Q6bmV3IHguRXZlbnQoZCwib2JqZWN0Ij09dHlwZW9mIHQmJnQpLHQuaXNUcmlnZ2VyPWk/MjozLHQubmFtZXNwYWNlPWcuam9pbigiLiIpLHQubmFtZXNwYWNlX3JlPXQubmFtZXNwYWNlP1JlZ0V4cCgiKF58XFwuKSIrZy5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsLHQucmVzdWx0PXVuZGVmaW5lZCx0LnRhcmdldHx8KHQudGFyZ2V0PXIpLG49bnVsbD09bj9bdF06eC5tYWtlQXJyYXkobixbdF0pLGY9eC5ldmVudC5zcGVjaWFsW2RdfHx7fSxpfHwhZi50cmlnZ2VyfHxmLnRyaWdnZXIuYXBwbHkocixuKSE9PSExKSl7aWYoIWkmJiFmLm5vQnViYmxlJiYheC5pc1dpbmRvdyhyKSl7Zm9yKGw9Zi5kZWxlZ2F0ZVR5cGV8fGQsXy50ZXN0KGwrZCl8fChhPWEucGFyZW50Tm9kZSk7YTthPWEucGFyZW50Tm9kZSloLnB1c2goYSksdT1hO3U9PT0oci5vd25lckRvY3VtZW50fHxvKSYmaC5wdXNoKHUuZGVmYXVsdFZpZXd8fHUucGFyZW50V2luZG93fHxlKX1zPTA7d2hpbGUoKGE9aFtzKytdKSYmIXQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl0LnR5cGU9cz4xP2w6Zi5iaW5kVHlwZXx8ZCxwPShxLmdldChhLCJldmVudHMiKXx8e30pW3QudHlwZV0mJnEuZ2V0KGEsImhhbmRsZSIpLHAmJnAuYXBwbHkoYSxuKSxwPWMmJmFbY10scCYmeC5hY2NlcHREYXRhKGEpJiZwLmFwcGx5JiZwLmFwcGx5KGEsbik9PT0hMSYmdC5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiB0LnR5cGU9ZCxpfHx0LmlzRGVmYXVsdFByZXZlbnRlZCgpfHxmLl9kZWZhdWx0JiZmLl9kZWZhdWx0LmFwcGx5KGgucG9wKCksbikhPT0hMXx8IXguYWNjZXB0RGF0YShyKXx8YyYmeC5pc0Z1bmN0aW9uKHJbZF0pJiYheC5pc1dpbmRvdyhyKSYmKHU9cltjXSx1JiYocltjXT1udWxsKSx4LmV2ZW50LnRyaWdnZXJlZD1kLHJbZF0oKSx4LmV2ZW50LnRyaWdnZXJlZD11bmRlZmluZWQsdSYmKHJbY109dSkpLHQucmVzdWx0fX0sZGlzcGF0Y2g6ZnVuY3Rpb24oZSl7ZT14LmV2ZW50LmZpeChlKTt2YXIgdCxuLHIsaSxvLHM9W10sYT1kLmNhbGwoYXJndW1lbnRzKSx1PShxLmdldCh0aGlzLCJldmVudHMiKXx8e30pW2UudHlwZV18fFtdLGw9eC5ldmVudC5zcGVjaWFsW2UudHlwZV18fHt9O2lmKGFbMF09ZSxlLmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWwucHJlRGlzcGF0Y2h8fGwucHJlRGlzcGF0Y2guY2FsbCh0aGlzLGUpIT09ITEpe3M9eC5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsZSx1KSx0PTA7d2hpbGUoKGk9c1t0KytdKSYmIWUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7ZS5jdXJyZW50VGFyZ2V0PWkuZWxlbSxuPTA7d2hpbGUoKG89aS5oYW5kbGVyc1tuKytdKSYmIWUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkoIWUubmFtZXNwYWNlX3JlfHxlLm5hbWVzcGFjZV9yZS50ZXN0KG8ubmFtZXNwYWNlKSkmJihlLmhhbmRsZU9iaj1vLGUuZGF0YT1vLmRhdGEscj0oKHguZXZlbnQuc3BlY2lhbFtvLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8by5oYW5kbGVyKS5hcHBseShpLmVsZW0sYSksciE9PXVuZGVmaW5lZCYmKGUucmVzdWx0PXIpPT09ITEmJihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBsLnBvc3REaXNwYXRjaCYmbC5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLGUpLGUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxzPVtdLGE9dC5kZWxlZ2F0ZUNvdW50LHU9ZS50YXJnZXQ7aWYoYSYmdS5ub2RlVHlwZSYmKCFlLmJ1dHRvbnx8ImNsaWNrIiE9PWUudHlwZSkpZm9yKDt1IT09dGhpczt1PXUucGFyZW50Tm9kZXx8dGhpcylpZih1LmRpc2FibGVkIT09ITB8fCJjbGljayIhPT1lLnR5cGUpe2ZvcihyPVtdLG49MDthPm47bisrKW89dFtuXSxpPW8uc2VsZWN0b3IrIiAiLHJbaV09PT11bmRlZmluZWQmJihyW2ldPW8ubmVlZHNDb250ZXh0P3goaSx0aGlzKS5pbmRleCh1KT49MDp4LmZpbmQoaSx0aGlzLG51bGwsW3VdKS5sZW5ndGgpLHJbaV0mJnIucHVzaChvKTtyLmxlbmd0aCYmcy5wdXNoKHtlbGVtOnUsaGFuZGxlcnM6cn0pfXJldHVybiB0Lmxlbmd0aD5hJiZzLnB1c2goe2VsZW06dGhpcyxoYW5kbGVyczp0LnNsaWNlKGEpfSksc30scHJvcHM6ImFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBjdXJyZW50VGFyZ2V0IGV2ZW50UGhhc2UgbWV0YUtleSByZWxhdGVkVGFyZ2V0IHNoaWZ0S2V5IHRhcmdldCB0aW1lU3RhbXAgdmlldyB3aGljaCIuc3BsaXQoIiAiKSxmaXhIb29rczp7fSxrZXlIb29rczp7cHJvcHM6ImNoYXIgY2hhckNvZGUga2V5IGtleUNvZGUiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWUud2hpY2gmJihlLndoaWNoPW51bGwhPXQuY2hhckNvZGU/dC5jaGFyQ29kZTp0LmtleUNvZGUpLGV9fSxtb3VzZUhvb2tzOntwcm9wczoiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50Ii5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxzPXQuYnV0dG9uO3JldHVybiBudWxsPT1lLnBhZ2VYJiZudWxsIT10LmNsaWVudFgmJihuPWUudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fG8scj1uLmRvY3VtZW50RWxlbWVudCxpPW4uYm9keSxlLnBhZ2VYPXQuY2xpZW50WCsociYmci5zY3JvbGxMZWZ0fHxpJiZpLnNjcm9sbExlZnR8fDApLShyJiZyLmNsaWVudExlZnR8fGkmJmkuY2xpZW50TGVmdHx8MCksZS5wYWdlWT10LmNsaWVudFkrKHImJnIuc2Nyb2xsVG9wfHxpJiZpLnNjcm9sbFRvcHx8MCktKHImJnIuY2xpZW50VG9wfHxpJiZpLmNsaWVudFRvcHx8MCkpLGUud2hpY2h8fHM9PT11bmRlZmluZWR8fChlLndoaWNoPTEmcz8xOjImcz8zOjQmcz8yOjApLGV9fSxmaXg6ZnVuY3Rpb24oZSl7aWYoZVt4LmV4cGFuZG9dKXJldHVybiBlO3ZhciB0LG4scixpPWUudHlwZSxzPWUsYT10aGlzLmZpeEhvb2tzW2ldO2F8fCh0aGlzLmZpeEhvb2tzW2ldPWE9ei50ZXN0KGkpP3RoaXMubW91c2VIb29rczpJLnRlc3QoaSk/dGhpcy5rZXlIb29rczp7fSkscj1hLnByb3BzP3RoaXMucHJvcHMuY29uY2F0KGEucHJvcHMpOnRoaXMucHJvcHMsZT1uZXcgeC5FdmVudChzKSx0PXIubGVuZ3RoO3doaWxlKHQtLSluPXJbdF0sZVtuXT1zW25dO3JldHVybiBlLnRhcmdldHx8KGUudGFyZ2V0PW8pLDM9PT1lLnRhcmdldC5ub2RlVHlwZSYmKGUudGFyZ2V0PWUudGFyZ2V0LnBhcmVudE5vZGUpLGEuZmlsdGVyP2EuZmlsdGVyKGUscyk6ZX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMhPT1WKCkmJnRoaXMuZm9jdXM/KHRoaXMuZm9jdXMoKSwhMSk6dW5kZWZpbmVkfSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1WKCkmJnRoaXMuYmx1cj8odGhpcy5ibHVyKCksITEpOnVuZGVmaW5lZH0sZGVsZWdhdGVUeXBlOiJmb2N1c291dCJ9LGNsaWNrOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuImNoZWNrYm94Ij09PXRoaXMudHlwZSYmdGhpcy5jbGljayYmeC5ub2RlTmFtZSh0aGlzLCJpbnB1dCIpPyh0aGlzLmNsaWNrKCksITEpOnVuZGVmaW5lZH0sX2RlZmF1bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHgubm9kZU5hbWUoZS50YXJnZXQsImEiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGUpe2UucmVzdWx0IT09dW5kZWZpbmVkJiYoZS5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlPWUucmVzdWx0KX19fSxzaW11bGF0ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT14LmV4dGVuZChuZXcgeC5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITAsb3JpZ2luYWxFdmVudDp7fX0pO3I/eC5ldmVudC50cmlnZ2VyKGksbnVsbCx0KTp4LmV2ZW50LmRpc3BhdGNoLmNhbGwodCxpKSxpLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZuLnByZXZlbnREZWZhdWx0KCl9fSx4LnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXImJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4sITEpfSx4LkV2ZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiB4LkV2ZW50PyhlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHxlLmdldFByZXZlbnREZWZhdWx0JiZlLmdldFByZXZlbnREZWZhdWx0KCk/VTpZKTp0aGlzLnR5cGU9ZSx0JiZ4LmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHx4Lm5vdygpLHRoaXNbeC5leHBhbmRvXT0hMCx1bmRlZmluZWQpOm5ldyB4LkV2ZW50KGUsdCl9LHguRXZlbnQucHJvdG90eXBlPXtpc0RlZmF1bHRQcmV2ZW50ZWQ6WSxpc1Byb3BhZ2F0aW9uU3RvcHBlZDpZLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlkscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9VSxlJiZlLnByZXZlbnREZWZhdWx0JiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPVUsZSYmZS5zdG9wUHJvcGFnYXRpb24mJmUuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9VSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0seC5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0In0sZnVuY3Rpb24oZSx0KXt4LmV2ZW50LnNwZWNpYWxbZV09e2RlbGVnYXRlVHlwZTp0LGJpbmRUeXBlOnQsaGFuZGxlOmZ1bmN0aW9uKGUpe3ZhciBuLHI9dGhpcyxpPWUucmVsYXRlZFRhcmdldCxvPWUuaGFuZGxlT2JqO3JldHVybighaXx8aSE9PXImJiF4LmNvbnRhaW5zKHIsaSkpJiYoZS50eXBlPW8ub3JpZ1R5cGUsbj1vLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT10KSxufX19KSx4LnN1cHBvcnQuZm9jdXNpbkJ1YmJsZXN8fHguZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXt2YXIgbj0wLHI9ZnVuY3Rpb24oZSl7eC5ldmVudC5zaW11bGF0ZSh0LGUudGFyZ2V0LHguZXZlbnQuZml4KGUpLCEwKX07eC5ldmVudC5zcGVjaWFsW3RdPXtzZXR1cDpmdW5jdGlvbigpezA9PT1uKysmJm8uYWRkRXZlbnRMaXN0ZW5lcihlLHIsITApfSx0ZWFyZG93bjpmdW5jdGlvbigpezA9PT0tLW4mJm8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHIsITApfX19KSx4LmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxzO2lmKCJvYmplY3QiPT10eXBlb2YgZSl7InN0cmluZyIhPXR5cGVvZiB0JiYobj1ufHx0LHQ9dW5kZWZpbmVkKTtmb3IocyBpbiBlKXRoaXMub24ocyx0LG4sZVtzXSxpKTtyZXR1cm4gdGhpc31pZihudWxsPT1uJiZudWxsPT1yPyhyPXQsbj10PXVuZGVmaW5lZCk6bnVsbD09ciYmKCJzdHJpbmciPT10eXBlb2YgdD8ocj1uLG49dW5kZWZpbmVkKToocj1uLG49dCx0PXVuZGVmaW5lZCkpLHI9PT0hMSlyPVk7ZWxzZSBpZighcilyZXR1cm4gdGhpcztyZXR1cm4gMT09PWkmJihvPXIscj1mdW5jdGlvbihlKXtyZXR1cm4geCgpLm9mZihlKSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sci5ndWlkPW8uZ3VpZHx8KG8uZ3VpZD14Lmd1aWQrKykpLHRoaXMuZWFjaChmdW5jdGlvbigpe3guZXZlbnQuYWRkKHRoaXMsZSxyLG4sdCl9KX0sb25lOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKGUsdCxuLHIsMSl9LG9mZjpmdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZihlJiZlLnByZXZlbnREZWZhdWx0JiZlLmhhbmRsZU9iailyZXR1cm4gcj1lLmhhbmRsZU9iaix4KGUuZGVsZWdhdGVUYXJnZXQpLm9mZihyLm5hbWVzcGFjZT9yLm9yaWdUeXBlKyIuIityLm5hbWVzcGFjZTpyLm9yaWdUeXBlLHIuc2VsZWN0b3Isci5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgZSl7Zm9yKGkgaW4gZSl0aGlzLm9mZihpLHQsZVtpXSk7cmV0dXJuIHRoaXN9cmV0dXJuKHQ9PT0hMXx8ImZ1bmN0aW9uIj09dHlwZW9mIHQpJiYobj10LHQ9dW5kZWZpbmVkKSxuPT09ITEmJihuPVkpLHRoaXMuZWFjaChmdW5jdGlvbigpe3guZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7eC5ldmVudC50cmlnZ2VyKGUsdCx0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXNbMF07cmV0dXJuIG4/eC5ldmVudC50cmlnZ2VyKGUsdCxuLCEwKTp1bmRlZmluZWR9fSk7dmFyIEc9L14uW146I1xbXC4sXSokLyxKPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLFE9eC5leHByLm1hdGNoLm5lZWRzQ29udGV4dCxLPXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O3guZm4uZXh0ZW5kKHtmaW5kOmZ1bmN0aW9uKGUpe3ZhciB0LG49W10scj10aGlzLGk9ci5sZW5ndGg7aWYoInN0cmluZyIhPXR5cGVvZiBlKXJldHVybiB0aGlzLnB1c2hTdGFjayh4KGUpLmZpbHRlcihmdW5jdGlvbigpe2Zvcih0PTA7aT50O3QrKylpZih4LmNvbnRhaW5zKHJbdF0sdGhpcykpcmV0dXJuITB9KSk7Zm9yKHQ9MDtpPnQ7dCsrKXguZmluZChlLHJbdF0sbik7cmV0dXJuIG49dGhpcy5wdXNoU3RhY2soaT4xP3gudW5pcXVlKG4pOm4pLG4uc2VsZWN0b3I9dGhpcy5zZWxlY3Rvcj90aGlzLnNlbGVjdG9yKyIgIitlOmUsbn0saGFzOmZ1bmN0aW9uKGUpe3ZhciB0PXgoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe3ZhciBlPTA7Zm9yKDtuPmU7ZSsrKWlmKHguY29udGFpbnModGhpcyx0W2VdKSlyZXR1cm4hMH0pfSxub3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGV0KHRoaXMsZXx8W10sITApKX0sZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhldCh0aGlzLGV8fFtdLCExKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhZXQodGhpcywic3RyaW5nIj09dHlwZW9mIGUmJlEudGVzdChlKT94KGUpOmV8fFtdLCExKS5sZW5ndGh9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLHM9US50ZXN0KGUpfHwic3RyaW5nIiE9dHlwZW9mIGU/eChlLHR8fHRoaXMuY29udGV4dCk6MDtmb3IoO2k+cjtyKyspZm9yKG49dGhpc1tyXTtuJiZuIT09dDtuPW4ucGFyZW50Tm9kZSlpZigxMT5uLm5vZGVUeXBlJiYocz9zLmluZGV4KG4pPi0xOjE9PT1uLm5vZGVUeXBlJiZ4LmZpbmQubWF0Y2hlc1NlbGVjdG9yKG4sZSkpKXtuPW8ucHVzaChuKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soby5sZW5ndGg+MT94LnVuaXF1ZShvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP2cuY2FsbCh4KGUpLHRoaXNbMF0pOmcuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj0ic3RyaW5nIj09dHlwZW9mIGU/eChlLHQpOngubWFrZUFycmF5KGUmJmUubm9kZVR5cGU/W2VdOmUpLHI9eC5tZXJnZSh0aGlzLmdldCgpLG4pO3JldHVybiB0aGlzLnB1c2hTdGFjayh4LnVuaXF1ZShyKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pO2Z1bmN0aW9uIFooZSx0KXt3aGlsZSgoZT1lW3RdKSYmMSE9PWUubm9kZVR5cGUpO3JldHVybiBlfXguZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4geC5kaXIoZSwicGFyZW50Tm9kZSIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB4LmRpcihlLCJwYXJlbnROb2RlIixuKX0sbmV4dDpmdW5jdGlvbihlKXtyZXR1cm4gWihlLCJuZXh0U2libGluZyIpfSxwcmV2OmZ1bmN0aW9uKGUpe3JldHVybiBaKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0QWxsOmZ1bmN0aW9uKGUpe3JldHVybiB4LmRpcihlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiB4LmRpcihlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4geC5kaXIoZSwibmV4dFNpYmxpbmciLG4pfSxwcmV2VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB4LmRpcihlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4geC5zaWJsaW5nKChlLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGUpfSxjaGlsZHJlbjpmdW5jdGlvbihlKXtyZXR1cm4geC5zaWJsaW5nKGUuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnRlbnREb2N1bWVudHx8eC5tZXJnZShbXSxlLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24oZSx0KXt4LmZuW2VdPWZ1bmN0aW9uKG4scil7dmFyIGk9eC5tYXAodGhpcyx0LG4pO3JldHVybiJVbnRpbCIhPT1lLnNsaWNlKC01KSYmKHI9biksciYmInN0cmluZyI9PXR5cGVvZiByJiYoaT14LmZpbHRlcihyLGkpKSx0aGlzLmxlbmd0aD4xJiYoS1tlXXx8eC51bmlxdWUoaSksSi50ZXN0KGUpJiZpLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2soaSl9fSkseC5leHRlbmQoe2ZpbHRlcjpmdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT94LmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOnguZmluZC5tYXRjaGVzKGUseC5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxkaXI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9biE9PXVuZGVmaW5lZDt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJngoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxzaWJsaW5nOmZ1bmN0aW9uKGUsdCl7dmFyIG49W107Zm9yKDtlO2U9ZS5uZXh0U2libGluZykxPT09ZS5ub2RlVHlwZSYmZSE9PXQmJm4ucHVzaChlKTtyZXR1cm4gbn19KTtmdW5jdGlvbiBldChlLHQsbil7aWYoeC5pc0Z1bmN0aW9uKHQpKXJldHVybiB4LmdyZXAoZSxmdW5jdGlvbihlLHIpe3JldHVybiEhdC5jYWxsKGUscixlKSE9PW59KTtpZih0Lm5vZGVUeXBlKXJldHVybiB4LmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQhPT1ufSk7aWYoInN0cmluZyI9PXR5cGVvZiB0KXtpZihHLnRlc3QodCkpcmV0dXJuIHguZmlsdGVyKHQsZSxuKTt0PXguZmlsdGVyKHQsZSl9cmV0dXJuIHguZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiBnLmNhbGwodCxlKT49MCE9PW59KX12YXIgdHQ9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1x3Ol0rKVtePl0qKVwvPi9naSxudD0vPChbXHc6XSspLyxydD0vPHwmIz9cdys7LyxpdD0vPCg/OnNjcmlwdHxzdHlsZXxsaW5rKS9pLG90PS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pLHN0PS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLGF0PS9eJHxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSx1dD0vXnRydWVcLyguKikvLGx0PS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZyxjdD17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0sdGhlYWQ6WzEsIjx0YWJsZT4iLCI8L3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjxjb2xncm91cD4iLCI8L2NvbGdyb3VwPjwvdGFibGU+Il0sdHI6WzIsIjx0YWJsZT48dGJvZHk+IiwiPC90Ym9keT48L3RhYmxlPiJdLHRkOlszLCI8dGFibGU+PHRib2R5Pjx0cj4iLCI8L3RyPjwvdGJvZHk+PC90YWJsZT4iXSxfZGVmYXVsdDpbMCwiIiwiIl19O2N0Lm9wdGdyb3VwPWN0Lm9wdGlvbixjdC50Ym9keT1jdC50Zm9vdD1jdC5jb2xncm91cD1jdC5jYXB0aW9uPWN0LnRoZWFkLGN0LnRoPWN0LnRkLHguZm4uZXh0ZW5kKHt0ZXh0OmZ1bmN0aW9uKGUpe3JldHVybiB4LmFjY2Vzcyh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dW5kZWZpbmVkP3gudGV4dCh0aGlzKTp0aGlzLmVtcHR5KCkuYXBwZW5kKCh0aGlzWzBdJiZ0aGlzWzBdLm93bmVyRG9jdW1lbnR8fG8pLmNyZWF0ZVRleHROb2RlKGUpKX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciB0PXB0KHRoaXMsZSk7dC5hcHBlbmRDaGlsZChlKX19KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9cHQodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxyZW1vdmU6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWU/eC5maWx0ZXIoZSx0aGlzKTp0aGlzLGk9MDtmb3IoO251bGwhPShuPXJbaV0pO2krKyl0fHwxIT09bi5ub2RlVHlwZXx8eC5jbGVhbkRhdGEobXQobikpLG4ucGFyZW50Tm9kZSYmKHQmJnguY29udGFpbnMobi5vd25lckRvY3VtZW50LG4pJiZkdChtdChuLCJzY3JpcHQiKSksbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pKTtyZXR1cm4gdGhpc30sZW1wdHk6ZnVuY3Rpb24oKXt2YXIgZSx0PTA7Zm9yKDtudWxsIT0oZT10aGlzW3RdKTt0KyspMT09PWUubm9kZVR5cGUmJih4LmNsZWFuRGF0YShtdChlLCExKSksZS50ZXh0Q29udGVudD0iIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bnVsbD09ZT8hMTplLHQ9bnVsbD09dD9lOnQsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4geC5jbG9uZSh0aGlzLGUsdCl9KX0saHRtbDpmdW5jdGlvbihlKXtyZXR1cm4geC5hY2Nlc3ModGhpcyxmdW5jdGlvbihlKXt2YXIgdD10aGlzWzBdfHx7fSxuPTAscj10aGlzLmxlbmd0aDtpZihlPT09dW5kZWZpbmVkJiYxPT09dC5ub2RlVHlwZSlyZXR1cm4gdC5pbm5lckhUTUw7aWYoInN0cmluZyI9PXR5cGVvZiBlJiYhaXQudGVzdChlKSYmIWN0WyhudC5leGVjKGUpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7ZT1lLnJlcGxhY2UodHQsIjwkMT48LyQyPiIpO3RyeXtmb3IoO3I+bjtuKyspdD10aGlzW25dfHx7fSwxPT09dC5ub2RlVHlwZSYmKHguY2xlYW5EYXRhKG10KHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goaSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIGU9eC5tYXAodGhpcyxmdW5jdGlvbihlKXtyZXR1cm5bZS5uZXh0U2libGluZyxlLnBhcmVudE5vZGVdfSksdD0wO3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihuKXt2YXIgcj1lW3QrK10saT1lW3QrK107aSYmKHImJnIucGFyZW50Tm9kZSE9PWkmJihyPXRoaXMubmV4dFNpYmxpbmcpLHgodGhpcykucmVtb3ZlKCksaS5pbnNlcnRCZWZvcmUobixyKSl9LCEwKSx0P3RoaXM6dGhpcy5yZW1vdmUoKX0sZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlbW92ZShlLCEwKX0sZG9tTWFuaXA6ZnVuY3Rpb24oZSx0LG4pe2U9Zi5hcHBseShbXSxlKTt2YXIgcixpLG8scyxhLHUsbD0wLGM9dGhpcy5sZW5ndGgscD10aGlzLGg9Yy0xLGQ9ZVswXSxnPXguaXNGdW5jdGlvbihkKTtpZihnfHwhKDE+PWN8fCJzdHJpbmciIT10eXBlb2YgZHx8eC5zdXBwb3J0LmNoZWNrQ2xvbmUpJiZzdC50ZXN0KGQpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24ocil7dmFyIGk9cC5lcShyKTtnJiYoZVswXT1kLmNhbGwodGhpcyxyLGkuaHRtbCgpKSksaS5kb21NYW5pcChlLHQsbil9KTtpZihjJiYocj14LmJ1aWxkRnJhZ21lbnQoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQsITEsIW4mJnRoaXMpLGk9ci5maXJzdENoaWxkLDE9PT1yLmNoaWxkTm9kZXMubGVuZ3RoJiYocj1pKSxpKSl7Zm9yKG89eC5tYXAobXQociwic2NyaXB0IiksZnQpLHM9by5sZW5ndGg7Yz5sO2wrKylhPXIsbCE9PWgmJihhPXguY2xvbmUoYSwhMCwhMCkscyYmeC5tZXJnZShvLG10KGEsInNjcmlwdCIpKSksdC5jYWxsKHRoaXNbbF0sYSxsKTtpZihzKWZvcih1PW9bby5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCx4Lm1hcChvLGh0KSxsPTA7cz5sO2wrKylhPW9bbF0sYXQudGVzdChhLnR5cGV8fCIiKSYmIXEuYWNjZXNzKGEsImdsb2JhbEV2YWwiKSYmeC5jb250YWlucyh1LGEpJiYoYS5zcmM/eC5fZXZhbFVybChhLnNyYyk6eC5nbG9iYWxFdmFsKGEudGV4dENvbnRlbnQucmVwbGFjZShsdCwiIikpKX1yZXR1cm4gdGhpc319KSx4LmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihlLHQpe3guZm5bZV09ZnVuY3Rpb24oZSl7dmFyIG4scj1bXSxpPXgoZSksbz1pLmxlbmd0aC0xLHM9MDtmb3IoO28+PXM7cysrKW49cz09PW8/dGhpczp0aGlzLmNsb25lKCEwKSx4KGlbc10pW3RdKG4pLGguYXBwbHkocixuLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2socil9fSkseC5leHRlbmQoe2Nsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8scyxhPWUuY2xvbmVOb2RlKCEwKSx1PXguY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpO2lmKCEoeC5zdXBwb3J0Lm5vQ2xvbmVDaGVja2VkfHwxIT09ZS5ub2RlVHlwZSYmMTEhPT1lLm5vZGVUeXBlfHx4LmlzWE1MRG9jKGUpKSlmb3Iocz1tdChhKSxvPW10KGUpLHI9MCxpPW8ubGVuZ3RoO2k+cjtyKyspeXQob1tyXSxzW3JdKTtpZih0KWlmKG4pZm9yKG89b3x8bXQoZSkscz1zfHxtdChhKSxyPTAsaT1vLmxlbmd0aDtpPnI7cisrKWd0KG9bcl0sc1tyXSk7ZWxzZSBndChlLGEpO3JldHVybiBzPW10KGEsInNjcmlwdCIpLHMubGVuZ3RoPjAmJmR0KHMsIXUmJm10KGUsInNjcmlwdCIpKSxhfSxidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8scyxhLHUsbCxjPTAscD1lLmxlbmd0aCxmPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGg9W107Zm9yKDtwPmM7YysrKWlmKGk9ZVtjXSxpfHwwPT09aSlpZigib2JqZWN0Ij09PXgudHlwZShpKSl4Lm1lcmdlKGgsaS5ub2RlVHlwZT9baV06aSk7ZWxzZSBpZihydC50ZXN0KGkpKXtvPW98fGYuYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50KCJkaXYiKSkscz0obnQuZXhlYyhpKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKSxhPWN0W3NdfHxjdC5fZGVmYXVsdCxvLmlubmVySFRNTD1hWzFdK2kucmVwbGFjZSh0dCwiPCQxPjwvJDI+IikrYVsyXSxsPWFbMF07d2hpbGUobC0tKW89by5sYXN0Q2hpbGQ7eC5tZXJnZShoLG8uY2hpbGROb2Rlcyksbz1mLmZpcnN0Q2hpbGQsby50ZXh0Q29udGVudD0iIn1lbHNlIGgucHVzaCh0LmNyZWF0ZVRleHROb2RlKGkpKTtmLnRleHRDb250ZW50PSIiLGM9MDt3aGlsZShpPWhbYysrXSlpZigoIXJ8fC0xPT09eC5pbkFycmF5KGkscikpJiYodT14LmNvbnRhaW5zKGkub3duZXJEb2N1bWVudCxpKSxvPW10KGYuYXBwZW5kQ2hpbGQoaSksInNjcmlwdCIpLHUmJmR0KG8pLG4pKXtsPTA7d2hpbGUoaT1vW2wrK10pYXQudGVzdChpLnR5cGV8fCIiKSYmbi5wdXNoKGkpfXJldHVybiBmfSxjbGVhbkRhdGE6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbyxzLGE9eC5ldmVudC5zcGVjaWFsLHU9MDtmb3IoOyhuPWVbdV0pIT09dW5kZWZpbmVkO3UrKyl7aWYoRi5hY2NlcHRzKG4pJiYobz1uW3EuZXhwYW5kb10sbyYmKHQ9cS5jYWNoZVtvXSkpKXtpZihyPU9iamVjdC5rZXlzKHQuZXZlbnRzfHx7fSksci5sZW5ndGgpZm9yKHM9MDsoaT1yW3NdKSE9PXVuZGVmaW5lZDtzKyspYVtpXT94LmV2ZW50LnJlbW92ZShuLGkpOngucmVtb3ZlRXZlbnQobixpLHQuaGFuZGxlKTtxLmNhY2hlW29dJiZkZWxldGUgcS5jYWNoZVtvXX1kZWxldGUgTC5jYWNoZVtuW0wuZXhwYW5kb11dfX0sX2V2YWxVcmw6ZnVuY3Rpb24oZSl7cmV0dXJuIHguYWpheCh7dXJsOmUsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0Iixhc3luYzohMSxnbG9iYWw6ITEsInRocm93cyI6ITB9KX19KTtmdW5jdGlvbiBwdChlLHQpe3JldHVybiB4Lm5vZGVOYW1lKGUsInRhYmxlIikmJngubm9kZU5hbWUoMT09PXQubm9kZVR5cGU/dDp0LmZpcnN0Q2hpbGQsInRyIik/ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKVswXXx8ZS5hcHBlbmRDaGlsZChlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSk6ZX1mdW5jdGlvbiBmdChlKXtyZXR1cm4gZS50eXBlPShudWxsIT09ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSkrIi8iK2UudHlwZSxlfWZ1bmN0aW9uIGh0KGUpe3ZhciB0PXV0LmV4ZWMoZS50eXBlKTtyZXR1cm4gdD9lLnR5cGU9dFsxXTplLnJlbW92ZUF0dHJpYnV0ZSgidHlwZSIpLGV9ZnVuY3Rpb24gZHQoZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7Zm9yKDtuPnI7cisrKXEuc2V0KGVbcl0sImdsb2JhbEV2YWwiLCF0fHxxLmdldCh0W3JdLCJnbG9iYWxFdmFsIikpfWZ1bmN0aW9uIGd0KGUsdCl7dmFyIG4scixpLG8scyxhLHUsbDtpZigxPT09dC5ub2RlVHlwZSl7aWYocS5oYXNEYXRhKGUpJiYobz1xLmFjY2VzcyhlKSxzPXEuc2V0KHQsbyksbD1vLmV2ZW50cykpe2RlbGV0ZSBzLmhhbmRsZSxzLmV2ZW50cz17fTtmb3IoaSBpbiBsKWZvcihuPTAscj1sW2ldLmxlbmd0aDtyPm47bisrKXguZXZlbnQuYWRkKHQsaSxsW2ldW25dKX1MLmhhc0RhdGEoZSkmJihhPUwuYWNjZXNzKGUpLHU9eC5leHRlbmQoe30sYSksTC5zZXQodCx1KSl9fWZ1bmN0aW9uIG10KGUsdCl7dmFyIG49ZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6ZS5xdWVyeVNlbGVjdG9yQWxsP2UucXVlcnlTZWxlY3RvckFsbCh0fHwiKiIpOltdO3JldHVybiB0PT09dW5kZWZpbmVkfHx0JiZ4Lm5vZGVOYW1lKGUsdCk/eC5tZXJnZShbZV0sbik6bn1mdW5jdGlvbiB5dChlLHQpe3ZhciBuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsiaW5wdXQiPT09biYmb3QudGVzdChlLnR5cGUpP3QuY2hlY2tlZD1lLmNoZWNrZWQ6KCJpbnB1dCI9PT1ufHwidGV4dGFyZWEiPT09bikmJih0LmRlZmF1bHRWYWx1ZT1lLmRlZmF1bHRWYWx1ZSl9eC5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHguaXNGdW5jdGlvbihlKT90aGlzLmVhY2goZnVuY3Rpb24odCl7eCh0aGlzKS53cmFwQWxsKGUuY2FsbCh0aGlzLHQpKX0pOih0aGlzWzBdJiYodD14KGUsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZ0Lmluc2VydEJlZm9yZSh0aGlzWzBdKSx0Lm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXM7d2hpbGUoZS5maXJzdEVsZW1lbnRDaGlsZCllPWUuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIGV9KS5hcHBlbmQodGhpcykpLHRoaXMpfSx3cmFwSW5uZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHguaXNGdW5jdGlvbihlKT90aGlzLmVhY2goZnVuY3Rpb24odCl7eCh0aGlzKS53cmFwSW5uZXIoZS5jYWxsKHRoaXMsdCkpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9eCh0aGlzKSxuPXQuY29udGVudHMoKTtuLmxlbmd0aD9uLndyYXBBbGwoZSk6dC5hcHBlbmQoZSl9KX0sd3JhcDpmdW5jdGlvbihlKXt2YXIgdD14LmlzRnVuY3Rpb24oZSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihuKXt4KHRoaXMpLndyYXBBbGwodD9lLmNhbGwodGhpcyxuKTplKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7eC5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fHgodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pO3ZhciB2dCx4dCxidD0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sd3Q9L15tYXJnaW4vLFR0PVJlZ0V4cCgiXigiK2IrIikoLiopJCIsImkiKSxDdD1SZWdFeHAoIl4oIitiKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksa3Q9UmVnRXhwKCJeKFsrLV0pPSgiK2IrIikiLCJpIiksTnQ9e0JPRFk6ImJsb2NrIn0sRXQ9e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdmlzaWJpbGl0eToiaGlkZGVuIixkaXNwbGF5OiJibG9jayJ9LFN0PXtsZXR0ZXJTcGFjaW5nOjAsZm9udFdlaWdodDo0MDB9LGp0PVsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sRHQ9WyJXZWJraXQiLCJPIiwiTW96IiwibXMiXTtmdW5jdGlvbiBBdChlLHQpe2lmKHQgaW4gZSlyZXR1cm4gdDt2YXIgbj10LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSkscj10LGk9RHQubGVuZ3RoO3doaWxlKGktLSlpZih0PUR0W2ldK24sdCBpbiBlKXJldHVybiB0O3JldHVybiByfWZ1bmN0aW9uIEx0KGUsdCl7cmV0dXJuIGU9dHx8ZSwibm9uZSI9PT14LmNzcyhlLCJkaXNwbGF5Iil8fCF4LmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX1mdW5jdGlvbiBxdCh0KXtyZXR1cm4gZS5nZXRDb21wdXRlZFN0eWxlKHQsbnVsbCl9ZnVuY3Rpb24gSHQoZSx0KXt2YXIgbixyLGksbz1bXSxzPTAsYT1lLmxlbmd0aDtmb3IoO2E+cztzKyspcj1lW3NdLHIuc3R5bGUmJihvW3NdPXEuZ2V0KHIsIm9sZGRpc3BsYXkiKSxuPXIuc3R5bGUuZGlzcGxheSx0PyhvW3NdfHwibm9uZSIhPT1ufHwoci5zdHlsZS5kaXNwbGF5PSIiKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmTHQocikmJihvW3NdPXEuYWNjZXNzKHIsIm9sZGRpc3BsYXkiLFJ0KHIubm9kZU5hbWUpKSkpOm9bc118fChpPUx0KHIpLChuJiYibm9uZSIhPT1ufHwhaSkmJnEuc2V0KHIsIm9sZGRpc3BsYXkiLGk/bjp4LmNzcyhyLCJkaXNwbGF5IikpKSk7Zm9yKHM9MDthPnM7cysrKXI9ZVtzXSxyLnN0eWxlJiYodCYmIm5vbmUiIT09ci5zdHlsZS5kaXNwbGF5JiYiIiE9PXIuc3R5bGUuZGlzcGxheXx8KHIuc3R5bGUuZGlzcGxheT10P29bc118fCIiOiJub25lIikpO3JldHVybiBlfXguZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geC5hY2Nlc3ModGhpcyxmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9LHM9MDtpZih4LmlzQXJyYXkodCkpe2ZvcihyPXF0KGUpLGk9dC5sZW5ndGg7aT5zO3MrKylvW3Rbc11dPXguY3NzKGUsdFtzXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gbiE9PXVuZGVmaW5lZD94LnN0eWxlKGUsdCxuKTp4LmNzcyhlLHQpfSxlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBIdCh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBIdCh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtMdCh0aGlzKT94KHRoaXMpLnNob3coKTp4KHRoaXMpLmhpZGUoKX0pfX0pLHguZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGUsdCl7aWYodCl7dmFyIG49dnQoZSwib3BhY2l0eSIpO3JldHVybiIiPT09bj8iMSI6bn19fX0sY3NzTnVtYmVyOntjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6ImNzc0Zsb2F0In0sc3R5bGU6ZnVuY3Rpb24oZSx0LG4scil7aWYoZSYmMyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlJiZlLnN0eWxlKXt2YXIgaSxvLHMsYT14LmNhbWVsQ2FzZSh0KSx1PWUuc3R5bGU7cmV0dXJuIHQ9eC5jc3NQcm9wc1thXXx8KHguY3NzUHJvcHNbYV09QXQodSxhKSkscz14LmNzc0hvb2tzW3RdfHx4LmNzc0hvb2tzW2FdLG49PT11bmRlZmluZWQ/cyYmImdldCJpbiBzJiYoaT1zLmdldChlLCExLHIpKSE9PXVuZGVmaW5lZD9pOnVbdF06KG89dHlwZW9mIG4sInN0cmluZyI9PT1vJiYoaT1rdC5leGVjKG4pKSYmKG49KGlbMV0rMSkqaVsyXStwYXJzZUZsb2F0KHguY3NzKGUsdCkpLG89Im51bWJlciIpLG51bGw9PW58fCJudW1iZXIiPT09byYmaXNOYU4obil8fCgibnVtYmVyIiE9PW98fHguY3NzTnVtYmVyW2FdfHwobis9InB4IikseC5zdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZXx8IiIhPT1ufHwwIT09dC5pbmRleE9mKCJiYWNrZ3JvdW5kIil8fCh1W3RdPSJpbmhlcml0IikscyYmInNldCJpbiBzJiYobj1zLnNldChlLG4scikpPT09dW5kZWZpbmVkfHwodVt0XT1uKSksdW5kZWZpbmVkKX19LGNzczpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLHMsYT14LmNhbWVsQ2FzZSh0KTtyZXR1cm4gdD14LmNzc1Byb3BzW2FdfHwoeC5jc3NQcm9wc1thXT1BdChlLnN0eWxlLGEpKSxzPXguY3NzSG9va3NbdF18fHguY3NzSG9va3NbYV0scyYmImdldCJpbiBzJiYoaT1zLmdldChlLCEwLG4pKSxpPT09dW5kZWZpbmVkJiYoaT12dChlLHQscikpLCJub3JtYWwiPT09aSYmdCBpbiBTdCYmKGk9U3RbdF0pLCIiPT09bnx8bj8obz1wYXJzZUZsb2F0KGkpLG49PT0hMHx8eC5pc051bWVyaWMobyk/b3x8MDppKTppfX0pLHZ0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8scz1ufHxxdChlKSxhPXM/cy5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxzW3RdOnVuZGVmaW5lZCx1PWUuc3R5bGU7cmV0dXJuIHMmJigiIiE9PWF8fHguY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpfHwoYT14LnN0eWxlKGUsdCkpLEN0LnRlc3QoYSkmJnd0LnRlc3QodCkmJihyPXUud2lkdGgsaT11Lm1pbldpZHRoLG89dS5tYXhXaWR0aCx1Lm1pbldpZHRoPXUubWF4V2lkdGg9dS53aWR0aD1hLGE9cy53aWR0aCx1LndpZHRoPXIsdS5taW5XaWR0aD1pLHUubWF4V2lkdGg9bykpLGF9O2Z1bmN0aW9uIE90KGUsdCxuKXt2YXIgcj1UdC5leGVjKHQpO3JldHVybiByP01hdGgubWF4KDAsclsxXS0obnx8MCkpKyhyWzJdfHwicHgiKTp0fWZ1bmN0aW9uIEZ0KGUsdCxuLHIsaSl7dmFyIG89bj09PShyPyJib3JkZXIiOiJjb250ZW50Iik/NDoid2lkdGgiPT09dD8xOjAscz0wO2Zvcig7ND5vO28rPTIpIm1hcmdpbiI9PT1uJiYocys9eC5jc3MoZSxuK2p0W29dLCEwLGkpKSxyPygiY29udGVudCI9PT1uJiYocy09eC5jc3MoZSwicGFkZGluZyIranRbb10sITAsaSkpLCJtYXJnaW4iIT09biYmKHMtPXguY3NzKGUsImJvcmRlciIranRbb10rIldpZHRoIiwhMCxpKSkpOihzKz14LmNzcyhlLCJwYWRkaW5nIitqdFtvXSwhMCxpKSwicGFkZGluZyIhPT1uJiYocys9eC5jc3MoZSwiYm9yZGVyIitqdFtvXSsiV2lkdGgiLCEwLGkpKSk7cmV0dXJuIHN9ZnVuY3Rpb24gUHQoZSx0LG4pe3ZhciByPSEwLGk9IndpZHRoIj09PXQ/ZS5vZmZzZXRXaWR0aDplLm9mZnNldEhlaWdodCxvPXF0KGUpLHM9eC5zdXBwb3J0LmJveFNpemluZyYmImJvcmRlci1ib3giPT09eC5jc3MoZSwiYm94U2l6aW5nIiwhMSxvKTtpZigwPj1pfHxudWxsPT1pKXtpZihpPXZ0KGUsdCxvKSwoMD5pfHxudWxsPT1pKSYmKGk9ZS5zdHlsZVt0XSksQ3QudGVzdChpKSlyZXR1cm4gaTtyPXMmJih4LnN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGV8fGk9PT1lLnN0eWxlW3RdKSxpPXBhcnNlRmxvYXQoaSl8fDB9cmV0dXJuIGkrRnQoZSx0LG58fChzPyJib3JkZXIiOiJjb250ZW50IikscixvKSsicHgifWZ1bmN0aW9uIFJ0KGUpe3ZhciB0PW8sbj1OdFtlXTtyZXR1cm4gbnx8KG49TXQoZSx0KSwibm9uZSIhPT1uJiZufHwoeHQ9KHh0fHx4KCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+IikuY3NzKCJjc3NUZXh0IiwiZGlzcGxheTpibG9jayAhaW1wb3J0YW50IikpLmFwcGVuZFRvKHQuZG9jdW1lbnRFbGVtZW50KSx0PSh4dFswXS5jb250ZW50V2luZG93fHx4dFswXS5jb250ZW50RG9jdW1lbnQpLmRvY3VtZW50LHQud3JpdGUoIjwhZG9jdHlwZSBodG1sPjxodG1sPjxib2R5PiIpLHQuY2xvc2UoKSxuPU10KGUsdCkseHQuZGV0YWNoKCkpLE50W2VdPW4pLG59ZnVuY3Rpb24gTXQoZSx0KXt2YXIgbj14KHQuY3JlYXRlRWxlbWVudChlKSkuYXBwZW5kVG8odC5ib2R5KSxyPXguY3NzKG5bMF0sImRpc3BsYXkiKTtyZXR1cm4gbi5yZW1vdmUoKSxyfXguZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSx0KXt4LmNzc0hvb2tzW3RdPXtnZXQ6ZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuPzA9PT1lLm9mZnNldFdpZHRoJiZidC50ZXN0KHguY3NzKGUsImRpc3BsYXkiKSk/eC5zd2FwKGUsRXQsZnVuY3Rpb24oKXtyZXR1cm4gUHQoZSx0LHIpfSk6UHQoZSx0LHIpOnVuZGVmaW5lZH0sc2V0OmZ1bmN0aW9uKGUsbixyKXt2YXIgaT1yJiZxdChlKTtyZXR1cm4gT3QoZSxuLHI/RnQoZSx0LHIseC5zdXBwb3J0LmJveFNpemluZyYmImJvcmRlci1ib3giPT09eC5jc3MoZSwiYm94U2l6aW5nIiwhMSxpKSxpKTowKX19fSkseChmdW5jdGlvbigpe3guc3VwcG9ydC5yZWxpYWJsZU1hcmdpblJpZ2h0fHwoeC5jc3NIb29rcy5tYXJnaW5SaWdodD17Z2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/eC5zd2FwKGUse2Rpc3BsYXk6ImlubGluZS1ibG9jayJ9LHZ0LFtlLCJtYXJnaW5SaWdodCJdKTp1bmRlZmluZWR9fSksIXguc3VwcG9ydC5waXhlbFBvc2l0aW9uJiZ4LmZuLnBvc2l0aW9uJiZ4LmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSx0KXt4LmNzc0hvb2tzW3RdPXtnZXQ6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gbj8obj12dChlLHQpLEN0LnRlc3Qobik/eChlKS5wb3NpdGlvbigpW3RdKyJweCI6bik6dW5kZWZpbmVkfX19KX0pLHguZXhwciYmeC5leHByLmZpbHRlcnMmJih4LmV4cHIuZmlsdGVycy5oaWRkZW49ZnVuY3Rpb24oZSl7cmV0dXJuIDA+PWUub2Zmc2V0V2lkdGgmJjA+PWUub2Zmc2V0SGVpZ2h0fSx4LmV4cHIuZmlsdGVycy52aXNpYmxlPWZ1bmN0aW9uKGUpe3JldHVybiF4LmV4cHIuZmlsdGVycy5oaWRkZW4oZSl9KSx4LmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihlLHQpe3guY3NzSG9va3NbZSt0XT17ZXhwYW5kOmZ1bmN0aW9uKG4pe3ZhciByPTAsaT17fSxvPSJzdHJpbmciPT10eXBlb2Ygbj9uLnNwbGl0KCIgIik6W25dO2Zvcig7ND5yO3IrKylpW2UranRbcl0rdF09b1tyXXx8b1tyLTJdfHxvWzBdO3JldHVybiBpfX0sd3QudGVzdChlKXx8KHguY3NzSG9va3NbZSt0XS5zZXQ9T3QpfSk7dmFyIFd0PS8lMjAvZywkdD0vXFtcXSQvLEJ0PS9ccj9cbi9nLEl0PS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSx6dD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7eC5mbi5leHRlbmQoe3NlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiB4LnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9eC5wcm9wKHRoaXMsImVsZW1lbnRzIik7cmV0dXJuIGU/eC5tYWtlQXJyYXkoZSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBlPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYheCh0aGlzKS5pcygiOmRpc2FibGVkIikmJnp0LnRlc3QodGhpcy5ub2RlTmFtZSkmJiFJdC50ZXN0KGUpJiYodGhpcy5jaGVja2VkfHwhb3QudGVzdChlKSl9KS5tYXAoZnVuY3Rpb24oZSx0KXt2YXIgbj14KHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1uP251bGw6eC5pc0FycmF5KG4pP3gubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShCdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoQnQsIlxyXG4iKX19KS5nZXQoKX19KSx4LnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dD14LmlzRnVuY3Rpb24odCk/dCgpOm51bGw9PXQ/IiI6dCxyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudCh0KX07aWYodD09PXVuZGVmaW5lZCYmKHQ9eC5hamF4U2V0dGluZ3MmJnguYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKSx4LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYheC5pc1BsYWluT2JqZWN0KGUpKXguZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpX3QobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpLnJlcGxhY2UoV3QsIisiKX07ZnVuY3Rpb24gX3QoZSx0LG4scil7dmFyIGk7aWYoeC5pc0FycmF5KHQpKXguZWFjaCh0LGZ1bmN0aW9uKHQsaSl7bnx8JHQudGVzdChlKT9yKGUsaSk6X3QoZSsiWyIrKCJvYmplY3QiPT10eXBlb2YgaT90OiIiKSsiXSIsaSxuLHIpfSk7ZWxzZSBpZihufHwib2JqZWN0IiE9PXgudHlwZSh0KSlyKGUsdCk7ZWxzZSBmb3IoaSBpbiB0KV90KGUrIlsiK2krIl0iLHRbaV0sbixyKX14LmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXt4LmZuW3RdPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKHQsbnVsbCxlLG4pOnRoaXMudHJpZ2dlcih0KX19KSx4LmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGUpLm1vdXNlbGVhdmUodHx8ZSl9LGJpbmQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLm9uKGUsbnVsbCx0LG4pfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vZmYoZSxudWxsLHQpDQp9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9fSk7dmFyIFh0LFV0LFl0PXgubm93KCksVnQ9L1w/LyxHdD0vIy4qJC8sSnQ9LyhbPyZdKV89W14mXSovLFF0PS9eKC4qPyk6WyBcdF0qKFteXHJcbl0qKSQvZ20sS3Q9L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sWnQ9L14oPzpHRVR8SEVBRCkkLyxlbj0vXlwvXC8vLHRuPS9eKFtcdy4rLV0rOikoPzpcL1wvKFteXC8/IzpdKikoPzo6KFxkKyl8KXwpLyxubj14LmZuLmxvYWQscm49e30sb249e30sc249IiovIi5jb25jYXQoIioiKTt0cnl7VXQ9aS5ocmVmfWNhdGNoKGFuKXtVdD1vLmNyZWF0ZUVsZW1lbnQoImEiKSxVdC5ocmVmPSIiLFV0PVV0LmhyZWZ9WHQ9dG4uZXhlYyhVdC50b0xvd2VyQ2FzZSgpKXx8W107ZnVuY3Rpb24gdW4oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7InN0cmluZyIhPXR5cGVvZiB0JiYobj10LHQ9IioiKTt2YXIgcixpPTAsbz10LnRvTG93ZXJDYXNlKCkubWF0Y2godyl8fFtdO2lmKHguaXNGdW5jdGlvbihuKSl3aGlsZShyPW9baSsrXSkiKyI9PT1yWzBdPyhyPXIuc2xpY2UoMSl8fCIqIiwoZVtyXT1lW3JdfHxbXSkudW5zaGlmdChuKSk6KGVbcl09ZVtyXXx8W10pLnB1c2gobil9fWZ1bmN0aW9uIGxuKGUsdCxuLHIpe3ZhciBpPXt9LG89ZT09PW9uO2Z1bmN0aW9uIHMoYSl7dmFyIHU7cmV0dXJuIGlbYV09ITAseC5lYWNoKGVbYV18fFtdLGZ1bmN0aW9uKGUsYSl7dmFyIGw9YSh0LG4scik7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBsfHxvfHxpW2xdP28/ISh1PWwpOnVuZGVmaW5lZDoodC5kYXRhVHlwZXMudW5zaGlmdChsKSxzKGwpLCExKX0pLHV9cmV0dXJuIHModC5kYXRhVHlwZXNbMF0pfHwhaVsiKiJdJiZzKCIqIil9ZnVuY3Rpb24gY24oZSx0KXt2YXIgbixyLGk9eC5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdFtuXSE9PXVuZGVmaW5lZCYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmeC5leHRlbmQoITAsZSxyKSxlfXguZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7aWYoInN0cmluZyIhPXR5cGVvZiBlJiZubilyZXR1cm4gbm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciByLGksbyxzPXRoaXMsYT1lLmluZGV4T2YoIiAiKTtyZXR1cm4gYT49MCYmKHI9ZS5zbGljZShhKSxlPWUuc2xpY2UoMCxhKSkseC5pc0Z1bmN0aW9uKHQpPyhuPXQsdD11bmRlZmluZWQpOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmKGk9IlBPU1QiKSxzLmxlbmd0aD4wJiZ4LmFqYXgoe3VybDplLHR5cGU6aSxkYXRhVHlwZToiaHRtbCIsZGF0YTp0fSkuZG9uZShmdW5jdGlvbihlKXtvPWFyZ3VtZW50cyxzLmh0bWwocj94KCI8ZGl2PiIpLmFwcGVuZCh4LnBhcnNlSFRNTChlKSkuZmluZChyKTplKX0pLmNvbXBsZXRlKG4mJmZ1bmN0aW9uKGUsdCl7cy5lYWNoKG4sb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSksdGhpc30seC5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24oZSx0KXt4LmZuW3RdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9uKHQsZSl9fSkseC5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOlV0LHR5cGU6IkdFVCIsaXNMb2NhbDpLdC50ZXN0KFh0WzFdKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsYWNjZXB0czp7IioiOnNuLHRleHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIseG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQifSxjb250ZW50czp7eG1sOi94bWwvLGh0bWw6L2h0bWwvLGpzb246L2pzb24vfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6eC5wYXJzZUpTT04sInRleHQgeG1sIjp4LnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9jbihjbihlLHguYWpheFNldHRpbmdzKSx0KTpjbih4LmFqYXhTZXR0aW5ncyxlKX0sYWpheFByZWZpbHRlcjp1bihybiksYWpheFRyYW5zcG9ydDp1bihvbiksYWpheDpmdW5jdGlvbihlLHQpeyJvYmplY3QiPT10eXBlb2YgZSYmKHQ9ZSxlPXVuZGVmaW5lZCksdD10fHx7fTt2YXIgbixyLGksbyxzLGEsdSxsLGM9eC5hamF4U2V0dXAoe30sdCkscD1jLmNvbnRleHR8fGMsZj1jLmNvbnRleHQmJihwLm5vZGVUeXBlfHxwLmpxdWVyeSk/eChwKTp4LmV2ZW50LGg9eC5EZWZlcnJlZCgpLGQ9eC5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksZz1jLnN0YXR1c0NvZGV8fHt9LG09e30seT17fSx2PTAsYj0iY2FuY2VsZWQiLFQ9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihlKXt2YXIgdDtpZigyPT09dil7aWYoIW8pe289e307d2hpbGUodD1RdC5leGVjKGkpKW9bdFsxXS50b0xvd2VyQ2FzZSgpXT10WzJdfXQ9b1tlLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT10P251bGw6dH0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT12P2k6bnVsbH0sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihlLHQpe3ZhciBuPWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gdnx8KGU9eVtuXT15W25dfHxlLG1bZV09dCksdGhpc30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihlKXtyZXR1cm4gdnx8KGMubWltZVR5cGU9ZSksdGhpc30sc3RhdHVzQ29kZTpmdW5jdGlvbihlKXt2YXIgdDtpZihlKWlmKDI+dilmb3IodCBpbiBlKWdbdF09W2dbdF0sZVt0XV07ZWxzZSBULmFsd2F5cyhlW1Quc3RhdHVzXSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGUpe3ZhciB0PWV8fGI7cmV0dXJuIG4mJm4uYWJvcnQodCksaygwLHQpLHRoaXN9fTtpZihoLnByb21pc2UoVCkuY29tcGxldGU9ZC5hZGQsVC5zdWNjZXNzPVQuZG9uZSxULmVycm9yPVQuZmFpbCxjLnVybD0oKGV8fGMudXJsfHxVdCkrIiIpLnJlcGxhY2UoR3QsIiIpLnJlcGxhY2UoZW4sWHRbMV0rIi8vIiksYy50eXBlPXQubWV0aG9kfHx0LnR5cGV8fGMubWV0aG9kfHxjLnR5cGUsYy5kYXRhVHlwZXM9eC50cmltKGMuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5tYXRjaCh3KXx8WyIiXSxudWxsPT1jLmNyb3NzRG9tYWluJiYoYT10bi5leGVjKGMudXJsLnRvTG93ZXJDYXNlKCkpLGMuY3Jvc3NEb21haW49ISghYXx8YVsxXT09PVh0WzFdJiZhWzJdPT09WHRbMl0mJihhWzNdfHwoImh0dHA6Ij09PWFbMV0/IjgwIjoiNDQzIikpPT09KFh0WzNdfHwoImh0dHA6Ij09PVh0WzFdPyI4MCI6IjQ0MyIpKSkpLGMuZGF0YSYmYy5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiBjLmRhdGEmJihjLmRhdGE9eC5wYXJhbShjLmRhdGEsYy50cmFkaXRpb25hbCkpLGxuKHJuLGMsdCxUKSwyPT09dilyZXR1cm4gVDt1PWMuZ2xvYmFsLHUmJjA9PT14LmFjdGl2ZSsrJiZ4LmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLGMudHlwZT1jLnR5cGUudG9VcHBlckNhc2UoKSxjLmhhc0NvbnRlbnQ9IVp0LnRlc3QoYy50eXBlKSxyPWMudXJsLGMuaGFzQ29udGVudHx8KGMuZGF0YSYmKHI9Yy51cmwrPShWdC50ZXN0KHIpPyImIjoiPyIpK2MuZGF0YSxkZWxldGUgYy5kYXRhKSxjLmNhY2hlPT09ITEmJihjLnVybD1KdC50ZXN0KHIpP3IucmVwbGFjZShKdCwiJDFfPSIrWXQrKyk6cisoVnQudGVzdChyKT8iJiI6Ij8iKSsiXz0iK1l0KyspKSxjLmlmTW9kaWZpZWQmJih4Lmxhc3RNb2RpZmllZFtyXSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIseC5sYXN0TW9kaWZpZWRbcl0pLHguZXRhZ1tyXSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIix4LmV0YWdbcl0pKSwoYy5kYXRhJiZjLmhhc0NvbnRlbnQmJmMuY29udGVudFR5cGUhPT0hMXx8dC5jb250ZW50VHlwZSkmJlQuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixjLmNvbnRlbnRUeXBlKSxULnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsYy5kYXRhVHlwZXNbMF0mJmMuYWNjZXB0c1tjLmRhdGFUeXBlc1swXV0/Yy5hY2NlcHRzW2MuZGF0YVR5cGVzWzBdXSsoIioiIT09Yy5kYXRhVHlwZXNbMF0/IiwgIitzbisiOyBxPTAuMDEiOiIiKTpjLmFjY2VwdHNbIioiXSk7Zm9yKGwgaW4gYy5oZWFkZXJzKVQuc2V0UmVxdWVzdEhlYWRlcihsLGMuaGVhZGVyc1tsXSk7aWYoYy5iZWZvcmVTZW5kJiYoYy5iZWZvcmVTZW5kLmNhbGwocCxULGMpPT09ITF8fDI9PT12KSlyZXR1cm4gVC5hYm9ydCgpO2I9ImFib3J0Ijtmb3IobCBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSlUW2xdKGNbbF0pO2lmKG49bG4ob24sYyx0LFQpKXtULnJlYWR5U3RhdGU9MSx1JiZmLnRyaWdnZXIoImFqYXhTZW5kIixbVCxjXSksYy5hc3luYyYmYy50aW1lb3V0PjAmJihzPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtULmFib3J0KCJ0aW1lb3V0Iil9LGMudGltZW91dCkpO3RyeXt2PTEsbi5zZW5kKG0sayl9Y2F0Y2goQyl7aWYoISgyPnYpKXRocm93IEM7aygtMSxDKX19ZWxzZSBrKC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiBrKGUsdCxvLGEpe3ZhciBsLG0seSxiLHcsQz10OzIhPT12JiYodj0yLHMmJmNsZWFyVGltZW91dChzKSxuPXVuZGVmaW5lZCxpPWF8fCIiLFQucmVhZHlTdGF0ZT1lPjA/NDowLGw9ZT49MjAwJiYzMDA+ZXx8MzA0PT09ZSxvJiYoYj1wbihjLFQsbykpLGI9Zm4oYyxiLFQsbCksbD8oYy5pZk1vZGlmaWVkJiYodz1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIiksdyYmKHgubGFzdE1vZGlmaWVkW3JdPXcpLHc9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpLHcmJih4LmV0YWdbcl09dykpLDIwND09PWV8fCJIRUFEIj09PWMudHlwZT9DPSJub2NvbnRlbnQiOjMwND09PWU/Qz0ibm90bW9kaWZpZWQiOihDPWIuc3RhdGUsbT1iLmRhdGEseT1iLmVycm9yLGw9IXkpKTooeT1DLChlfHwhQykmJihDPSJlcnJvciIsMD5lJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxDKSsiIixsP2gucmVzb2x2ZVdpdGgocCxbbSxDLFRdKTpoLnJlamVjdFdpdGgocCxbVCxDLHldKSxULnN0YXR1c0NvZGUoZyksZz11bmRlZmluZWQsdSYmZi50cmlnZ2VyKGw/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCxjLGw/bTp5XSksZC5maXJlV2l0aChwLFtULENdKSx1JiYoZi50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULGNdKSwtLXguYWN0aXZlfHx4LmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHguZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiB4LmdldChlLHVuZGVmaW5lZCx0LCJzY3JpcHQiKX19KSx4LmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSx0KXt4W3RdPWZ1bmN0aW9uKGUsbixyLGkpe3JldHVybiB4LmlzRnVuY3Rpb24obikmJihpPWl8fHIscj1uLG49dW5kZWZpbmVkKSx4LmFqYXgoe3VybDplLHR5cGU6dCxkYXRhVHlwZTppLGRhdGE6bixzdWNjZXNzOnJ9KX19KTtmdW5jdGlvbiBwbihlLHQsbil7dmFyIHIsaSxvLHMsYT1lLmNvbnRlbnRzLHU9ZS5kYXRhVHlwZXM7d2hpbGUoIioiPT09dVswXSl1LnNoaWZ0KCkscj09PXVuZGVmaW5lZCYmKHI9ZS5taW1lVHlwZXx8dC5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIikpO2lmKHIpZm9yKGkgaW4gYSlpZihhW2ldJiZhW2ldLnRlc3Qocikpe3UudW5zaGlmdChpKTticmVha31pZih1WzBdaW4gbilvPXVbMF07ZWxzZXtmb3IoaSBpbiBuKXtpZighdVswXXx8ZS5jb252ZXJ0ZXJzW2krIiAiK3VbMF1dKXtvPWk7YnJlYWt9c3x8KHM9aSl9bz1vfHxzfXJldHVybiBvPyhvIT09dVswXSYmdS51bnNoaWZ0KG8pLG5bb10pOnVuZGVmaW5lZH1mdW5jdGlvbiBmbihlLHQsbixyKXt2YXIgaSxvLHMsYSx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKHMgaW4gZS5jb252ZXJ0ZXJzKWxbcy50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbc107bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKHM9bFt1KyIgIitvXXx8bFsiKiAiK29dLCFzKWZvcihpIGluIGwpaWYoYT1pLnNwbGl0KCIgIiksYVsxXT09PW8mJihzPWxbdSsiICIrYVswXV18fGxbIiogIithWzBdXSkpe3M9PT0hMD9zPWxbaV06bFtpXSE9PSEwJiYobz1hWzBdLGMudW5zaGlmdChhWzFdKSk7YnJlYWt9aWYocyE9PSEwKWlmKHMmJmVbInRocm93cyJdKXQ9cyh0KTtlbHNlIHRyeXt0PXModCl9Y2F0Y2gocCl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6cz9wOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fXguYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovKD86amF2YXxlY21hKXNjcmlwdC99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHguZ2xvYmFsRXZhbChlKSxlfX19KSx4LmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsZnVuY3Rpb24oZSl7ZS5jYWNoZT09PXVuZGVmaW5lZCYmKGUuY2FjaGU9ITEpLGUuY3Jvc3NEb21haW4mJihlLnR5cGU9IkdFVCIpfSkseC5hamF4VHJhbnNwb3J0KCJzY3JpcHQiLGZ1bmN0aW9uKGUpe2lmKGUuY3Jvc3NEb21haW4pe3ZhciB0LG47cmV0dXJue3NlbmQ6ZnVuY3Rpb24ocixpKXt0PXgoIjxzY3JpcHQ+IikucHJvcCh7YXN5bmM6ITAsY2hhcnNldDplLnNjcmlwdENoYXJzZXQsc3JjOmUudXJsfSkub24oImxvYWQgZXJyb3IiLG49ZnVuY3Rpb24oZSl7dC5yZW1vdmUoKSxuPW51bGwsZSYmaSgiZXJyb3IiPT09ZS50eXBlPzQwNDoyMDAsZS50eXBlKX0pLG8uaGVhZC5hcHBlbmRDaGlsZCh0WzBdKX0sYWJvcnQ6ZnVuY3Rpb24oKXtuJiZuKCl9fX19KTt2YXIgaG49W10sZG49Lyg9KVw/KD89JnwkKXxcP1w/Lzt4LmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9aG4ucG9wKCl8fHguZXhwYW5kbysiXyIrWXQrKztyZXR1cm4gdGhpc1tlXT0hMCxlfX0pLHguYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24odCxuLHIpe3ZhciBpLG8scyxhPXQuanNvbnAhPT0hMSYmKGRuLnRlc3QodC51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgdC5kYXRhJiYhKHQuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmZG4udGVzdCh0LmRhdGEpJiYiZGF0YSIpO3JldHVybiBhfHwianNvbnAiPT09dC5kYXRhVHlwZXNbMF0/KGk9dC5qc29ucENhbGxiYWNrPXguaXNGdW5jdGlvbih0Lmpzb25wQ2FsbGJhY2spP3QuanNvbnBDYWxsYmFjaygpOnQuanNvbnBDYWxsYmFjayxhP3RbYV09dFthXS5yZXBsYWNlKGRuLCIkMSIraSk6dC5qc29ucCE9PSExJiYodC51cmwrPShWdC50ZXN0KHQudXJsKT8iJiI6Ij8iKSt0Lmpzb25wKyI9IitpKSx0LmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gc3x8eC5lcnJvcihpKyIgd2FzIG5vdCBjYWxsZWQiKSxzWzBdfSx0LmRhdGFUeXBlc1swXT0ianNvbiIsbz1lW2ldLGVbaV09ZnVuY3Rpb24oKXtzPWFyZ3VtZW50c30sci5hbHdheXMoZnVuY3Rpb24oKXtlW2ldPW8sdFtpXSYmKHQuanNvbnBDYWxsYmFjaz1uLmpzb25wQ2FsbGJhY2ssaG4ucHVzaChpKSkscyYmeC5pc0Z1bmN0aW9uKG8pJiZvKHNbMF0pLHM9bz11bmRlZmluZWR9KSwic2NyaXB0Iik6dW5kZWZpbmVkfSkseC5hamF4U2V0dGluZ3MueGhyPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIGduPXguYWpheFNldHRpbmdzLnhocigpLG1uPXswOjIwMCwxMjIzOjIwNH0seW49MCx2bj17fTtlLkFjdGl2ZVhPYmplY3QmJngoZSkub24oInVubG9hZCIsZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdm4pdm5bZV0oKTt2bj11bmRlZmluZWR9KSx4LnN1cHBvcnQuY29ycz0hIWduJiYid2l0aENyZWRlbnRpYWxzImluIGduLHguc3VwcG9ydC5hamF4PWduPSEhZ24seC5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB4LnN1cHBvcnQuY29yc3x8Z24mJiFlLmNyb3NzRG9tYWluP3tzZW5kOmZ1bmN0aW9uKG4scil7dmFyIGksbyxzPWUueGhyKCk7aWYocy5vcGVuKGUudHlwZSxlLnVybCxlLmFzeW5jLGUudXNlcm5hbWUsZS5wYXNzd29yZCksZS54aHJGaWVsZHMpZm9yKGkgaW4gZS54aHJGaWVsZHMpc1tpXT1lLnhockZpZWxkc1tpXTtlLm1pbWVUeXBlJiZzLm92ZXJyaWRlTWltZVR5cGUmJnMub3ZlcnJpZGVNaW1lVHlwZShlLm1pbWVUeXBlKSxlLmNyb3NzRG9tYWlufHxuWyJYLVJlcXVlc3RlZC1XaXRoIl18fChuWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0Iik7Zm9yKGkgaW4gbilzLnNldFJlcXVlc3RIZWFkZXIoaSxuW2ldKTt0PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3QmJihkZWxldGUgdm5bb10sdD1zLm9ubG9hZD1zLm9uZXJyb3I9bnVsbCwiYWJvcnQiPT09ZT9zLmFib3J0KCk6ImVycm9yIj09PWU/cihzLnN0YXR1c3x8NDA0LHMuc3RhdHVzVGV4dCk6cihtbltzLnN0YXR1c118fHMuc3RhdHVzLHMuc3RhdHVzVGV4dCwic3RyaW5nIj09dHlwZW9mIHMucmVzcG9uc2VUZXh0P3t0ZXh0OnMucmVzcG9uc2VUZXh0fTp1bmRlZmluZWQscy5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0scy5vbmxvYWQ9dCgpLHMub25lcnJvcj10KCJlcnJvciIpLHQ9dm5bbz15bisrXT10KCJhYm9ydCIpLHMuc2VuZChlLmhhc0NvbnRlbnQmJmUuZGF0YXx8bnVsbCl9LGFib3J0OmZ1bmN0aW9uKCl7dCYmdCgpfX06dW5kZWZpbmVkfSk7dmFyIHhuLGJuLHduPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxUbj1SZWdFeHAoIl4oPzooWystXSk9fCkoIitiKyIpKFthLXolXSopJCIsImkiKSxDbj0vcXVldWVIb29rcyQvLGtuPVtBbl0sTm49eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCkscj1uLmN1cigpLGk9VG4uZXhlYyh0KSxvPWkmJmlbM118fCh4LmNzc051bWJlcltlXT8iIjoicHgiKSxzPSh4LmNzc051bWJlcltlXXx8InB4IiE9PW8mJityKSYmVG4uZXhlYyh4LmNzcyhuLmVsZW0sZSkpLGE9MSx1PTIwO2lmKHMmJnNbM10hPT1vKXtvPW98fHNbM10saT1pfHxbXSxzPStyfHwxO2RvIGE9YXx8Ii41IixzLz1hLHguc3R5bGUobi5lbGVtLGUscytvKTt3aGlsZShhIT09KGE9bi5jdXIoKS9yKSYmMSE9PWEmJi0tdSl9cmV0dXJuIGkmJihzPW4uc3RhcnQ9K3N8fCtyfHwwLG4udW5pdD1vLG4uZW5kPWlbMV0/cysoaVsxXSsxKSppWzJdOitpWzJdKSxufV19O2Z1bmN0aW9uIEVuKCl7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXt4bj11bmRlZmluZWR9KSx4bj14Lm5vdygpfWZ1bmN0aW9uIFNuKGUsdCxuKXt2YXIgcixpPShOblt0XXx8W10pLmNvbmNhdChOblsiKiJdKSxvPTAscz1pLmxlbmd0aDtmb3IoO3M+bztvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIGpuKGUsdCxuKXt2YXIgcixpLG89MCxzPWtuLmxlbmd0aCxhPXguRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgdS5lbGVtfSksdT1mdW5jdGlvbigpe2lmKGkpcmV0dXJuITE7dmFyIHQ9eG58fEVuKCksbj1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tdCkscj1uL2wuZHVyYXRpb258fDAsbz0xLXIscz0wLHU9bC50d2VlbnMubGVuZ3RoO2Zvcig7dT5zO3MrKylsLnR3ZWVuc1tzXS5ydW4obyk7cmV0dXJuIGEubm90aWZ5V2l0aChlLFtsLG8sbl0pLDE+byYmdT9uOihhLnJlc29sdmVXaXRoKGUsW2xdKSwhMSl9LGw9YS5wcm9taXNlKHtlbGVtOmUscHJvcHM6eC5leHRlbmQoe30sdCksb3B0czp4LmV4dGVuZCghMCx7c3BlY2lhbEVhc2luZzp7fX0sbiksb3JpZ2luYWxQcm9wZXJ0aWVzOnQsb3JpZ2luYWxPcHRpb25zOm4sc3RhcnRUaW1lOnhufHxFbigpLGR1cmF0aW9uOm4uZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKHQsbil7dmFyIHI9eC5Ud2VlbihlLGwub3B0cyx0LG4sbC5vcHRzLnNwZWNpYWxFYXNpbmdbdF18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKHIpLHJ9LHN0b3A6ZnVuY3Rpb24odCl7dmFyIG49MCxyPXQ/bC50d2VlbnMubGVuZ3RoOjA7aWYoaSlyZXR1cm4gdGhpcztmb3IoaT0hMDtyPm47bisrKWwudHdlZW5zW25dLnJ1bigxKTtyZXR1cm4gdD9hLnJlc29sdmVXaXRoKGUsW2wsdF0pOmEucmVqZWN0V2l0aChlLFtsLHRdKSx0aGlzfX0pLGM9bC5wcm9wcztmb3IoRG4oYyxsLm9wdHMuc3BlY2lhbEVhc2luZyk7cz5vO28rKylpZihyPWtuW29dLmNhbGwobCxlLGMsbC5vcHRzKSlyZXR1cm4gcjtyZXR1cm4geC5tYXAoYyxTbixsKSx4LmlzRnVuY3Rpb24obC5vcHRzLnN0YXJ0KSYmbC5vcHRzLnN0YXJ0LmNhbGwoZSxsKSx4LmZ4LnRpbWVyKHguZXh0ZW5kKHUse2VsZW06ZSxhbmltOmwscXVldWU6bC5vcHRzLnF1ZXVlfSkpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpfWZ1bmN0aW9uIERuKGUsdCl7dmFyIG4scixpLG8scztmb3IobiBpbiBlKWlmKHI9eC5jYW1lbENhc2UobiksaT10W3JdLG89ZVtuXSx4LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSxzPXguY3NzSG9va3Nbcl0scyYmImV4cGFuZCJpbiBzKXtvPXMuZXhwYW5kKG8pLGRlbGV0ZSBlW3JdO2ZvcihuIGluIG8pbiBpbiBlfHwoZVtuXT1vW25dLHRbbl09aSl9ZWxzZSB0W3JdPWl9eC5BbmltYXRpb249eC5leHRlbmQoam4se3R3ZWVuZXI6ZnVuY3Rpb24oZSx0KXt4LmlzRnVuY3Rpb24oZSk/KHQ9ZSxlPVsiKiJdKTplPWUuc3BsaXQoIiAiKTt2YXIgbixyPTAsaT1lLmxlbmd0aDtmb3IoO2k+cjtyKyspbj1lW3JdLE5uW25dPU5uW25dfHxbXSxObltuXS51bnNoaWZ0KHQpfSxwcmVmaWx0ZXI6ZnVuY3Rpb24oZSx0KXt0P2tuLnVuc2hpZnQoZSk6a24ucHVzaChlKX19KTtmdW5jdGlvbiBBbihlLHQsbil7dmFyIHIsaSxvLHMsYSx1LGw9dGhpcyxjPXt9LHA9ZS5zdHlsZSxmPWUubm9kZVR5cGUmJkx0KGUpLGg9cS5nZXQoZSwiZnhzaG93Iik7bi5xdWV1ZXx8KGE9eC5fcXVldWVIb29rcyhlLCJmeCIpLG51bGw9PWEudW5xdWV1ZWQmJihhLnVucXVldWVkPTAsdT1hLmVtcHR5LmZpcmUsYS5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7YS51bnF1ZXVlZHx8dSgpfSksYS51bnF1ZXVlZCsrLGwuYWx3YXlzKGZ1bmN0aW9uKCl7bC5hbHdheXMoZnVuY3Rpb24oKXthLnVucXVldWVkLS0seC5xdWV1ZShlLCJmeCIpLmxlbmd0aHx8YS5lbXB0eS5maXJlKCl9KX0pKSwxPT09ZS5ub2RlVHlwZSYmKCJoZWlnaHQiaW4gdHx8IndpZHRoImluIHQpJiYobi5vdmVyZmxvdz1bcC5vdmVyZmxvdyxwLm92ZXJmbG93WCxwLm92ZXJmbG93WV0sImlubGluZSI9PT14LmNzcyhlLCJkaXNwbGF5IikmJiJub25lIj09PXguY3NzKGUsImZsb2F0IikmJihwLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYocC5vdmVyZmxvdz0iaGlkZGVuIixsLmFsd2F5cyhmdW5jdGlvbigpe3Aub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxwLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLHAub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSk7Zm9yKHIgaW4gdClpZihpPXRbcl0sd24uZXhlYyhpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShmPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1pfHwhaHx8aFtyXT09PXVuZGVmaW5lZCljb250aW51ZTtmPSEwfWNbcl09aCYmaFtyXXx8eC5zdHlsZShlLHIpfWlmKCF4LmlzRW1wdHlPYmplY3QoYykpe2g/ImhpZGRlbiJpbiBoJiYoZj1oLmhpZGRlbik6aD1xLmFjY2VzcyhlLCJmeHNob3ciLHt9KSxvJiYoaC5oaWRkZW49IWYpLGY/eChlKS5zaG93KCk6bC5kb25lKGZ1bmN0aW9uKCl7eChlKS5oaWRlKCl9KSxsLmRvbmUoZnVuY3Rpb24oKXt2YXIgdDtxLnJlbW92ZShlLCJmeHNob3ciKTtmb3IodCBpbiBjKXguc3R5bGUoZSx0LGNbdF0pfSk7Zm9yKHIgaW4gYylzPVNuKGY/aFtyXTowLHIsbCksciBpbiBofHwoaFtyXT1zLnN0YXJ0LGYmJihzLmVuZD1zLnN0YXJ0LHMuc3RhcnQ9IndpZHRoIj09PXJ8fCJoZWlnaHQiPT09cj8xOjApKX19ZnVuY3Rpb24gTG4oZSx0LG4scixpKXtyZXR1cm4gbmV3IExuLnByb3RvdHlwZS5pbml0KGUsdCxuLHIsaSl9eC5Ud2Vlbj1MbixMbi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkxuLGluaXQ6ZnVuY3Rpb24oZSx0LG4scixpLG8pe3RoaXMuZWxlbT1lLHRoaXMucHJvcD1uLHRoaXMuZWFzaW5nPWl8fCJzd2luZyIsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fCh4LmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9TG4ucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOkxuLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPUxuLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLnBvcz10PXRoaXMub3B0aW9ucy5kdXJhdGlvbj94LmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTplLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSp0K3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLG4mJm4uc2V0P24uc2V0KHRoaXMpOkxuLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LExuLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1Mbi5wcm90b3R5cGUsTG4ucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBudWxsPT1lLmVsZW1bZS5wcm9wXXx8ZS5lbGVtLnN0eWxlJiZudWxsIT1lLmVsZW0uc3R5bGVbZS5wcm9wXT8odD14LmNzcyhlLmVsZW0sZS5wcm9wLCIiKSx0JiYiYXV0byIhPT10P3Q6MCk6ZS5lbGVtW2UucHJvcF19LHNldDpmdW5jdGlvbihlKXt4LmZ4LnN0ZXBbZS5wcm9wXT94LmZ4LnN0ZXBbZS5wcm9wXShlKTplLmVsZW0uc3R5bGUmJihudWxsIT1lLmVsZW0uc3R5bGVbeC5jc3NQcm9wc1tlLnByb3BdXXx8eC5jc3NIb29rc1tlLnByb3BdKT94LnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KTplLmVsZW1bZS5wcm9wXT1lLm5vd319fSxMbi5wcm9wSG9va3Muc2Nyb2xsVG9wPUxuLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LHguZWFjaChbInRvZ2dsZSIsInNob3ciLCJoaWRlIl0sZnVuY3Rpb24oZSx0KXt2YXIgbj14LmZuW3RdO3guZm5bdF09ZnVuY3Rpb24oZSxyLGkpe3JldHVybiBudWxsPT1lfHwiYm9vbGVhbiI9PXR5cGVvZiBlP24uYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuYW5pbWF0ZShxbih0LCEwKSxlLHIsaSl9fSkseC5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5maWx0ZXIoTHQpLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6dH0sZSxuLHIpfSxhbmltYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXguaXNFbXB0eU9iamVjdChlKSxvPXguc3BlZWQodCxuLHIpLHM9ZnVuY3Rpb24oKXt2YXIgdD1qbih0aGlzLHguZXh0ZW5kKHt9LGUpLG8pOyhpfHxxLmdldCh0aGlzLCJmaW5pc2giKSkmJnQuc3RvcCghMCl9O3JldHVybiBzLmZpbmlzaD1zLGl8fG8ucXVldWU9PT0hMT90aGlzLmVhY2gocyk6dGhpcy5xdWV1ZShvLnF1ZXVlLHMpfSxzdG9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdD1lLnN0b3A7ZGVsZXRlIGUuc3RvcCx0KG4pfTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGUmJihuPXQsdD1lLGU9dW5kZWZpbmVkKSx0JiZlIT09ITEmJnRoaXMucXVldWUoZXx8ImZ4IixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ITAsaT1udWxsIT1lJiZlKyJxdWV1ZUhvb2tzIixvPXgudGltZXJzLHM9cS5nZXQodGhpcyk7aWYoaSlzW2ldJiZzW2ldLnN0b3AmJnIoc1tpXSk7ZWxzZSBmb3IoaSBpbiBzKXNbaV0mJnNbaV0uc3RvcCYmQ24udGVzdChpKSYmcihzW2ldKTtmb3IoaT1vLmxlbmd0aDtpLS07KW9baV0uZWxlbSE9PXRoaXN8fG51bGwhPWUmJm9baV0ucXVldWUhPT1lfHwob1tpXS5hbmltLnN0b3AobiksdD0hMSxvLnNwbGljZShpLDEpKTsodHx8IW4pJiZ4LmRlcXVldWUodGhpcyxlKX0pfSxmaW5pc2g6ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT0hMSYmKGU9ZXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQsbj1xLmdldCh0aGlzKSxyPW5bZSsicXVldWUiXSxpPW5bZSsicXVldWVIb29rcyJdLG89eC50aW1lcnMscz1yP3IubGVuZ3RoOjA7Zm9yKG4uZmluaXNoPSEwLHgucXVldWUodGhpcyxlLFtdKSxpJiZpLnN0b3AmJmkuc3RvcC5jYWxsKHRoaXMsITApLHQ9by5sZW5ndGg7dC0tOylvW3RdLmVsZW09PT10aGlzJiZvW3RdLnF1ZXVlPT09ZSYmKG9bdF0uYW5pbS5zdG9wKCEwKSxvLnNwbGljZSh0LDEpKTtmb3IodD0wO3M+dDt0Kyspclt0XSYmclt0XS5maW5pc2gmJnJbdF0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIG4uZmluaXNofSl9fSk7ZnVuY3Rpb24gcW4oZSx0KXt2YXIgbixyPXtoZWlnaHQ6ZX0saT0wO2Zvcih0PXQ/MTowOzQ+aTtpKz0yLXQpbj1qdFtpXSxyWyJtYXJnaW4iK25dPXJbInBhZGRpbmciK25dPWU7cmV0dXJuIHQmJihyLm9wYWNpdHk9ci53aWR0aD1lKSxyfXguZWFjaCh7c2xpZGVEb3duOnFuKCJzaG93Iiksc2xpZGVVcDpxbigiaGlkZSIpLHNsaWRlVG9nZ2xlOnFuKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGUsdCl7eC5mbltlXT1mdW5jdGlvbihlLG4scil7cmV0dXJuIHRoaXMuYW5pbWF0ZSh0LGUsbixyKX19KSx4LnNwZWVkPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lJiYib2JqZWN0Ij09dHlwZW9mIGU/eC5leHRlbmQoe30sZSk6e2NvbXBsZXRlOm58fCFuJiZ0fHx4LmlzRnVuY3Rpb24oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIXguaXNGdW5jdGlvbih0KSYmdH07cmV0dXJuIHIuZHVyYXRpb249eC5meC5vZmY/MDoibnVtYmVyIj09dHlwZW9mIHIuZHVyYXRpb24/ci5kdXJhdGlvbjpyLmR1cmF0aW9uIGluIHguZnguc3BlZWRzP3guZnguc3BlZWRzW3IuZHVyYXRpb25dOnguZnguc3BlZWRzLl9kZWZhdWx0LChudWxsPT1yLnF1ZXVlfHxyLnF1ZXVlPT09ITApJiYoci5xdWV1ZT0iZngiKSxyLm9sZD1yLmNvbXBsZXRlLHIuY29tcGxldGU9ZnVuY3Rpb24oKXt4LmlzRnVuY3Rpb24oci5vbGQpJiZyLm9sZC5jYWxsKHRoaXMpLHIucXVldWUmJnguZGVxdWV1ZSh0aGlzLHIucXVldWUpfSxyfSx4LmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGUpe3JldHVybiBlfSxzd2luZzpmdW5jdGlvbihlKXtyZXR1cm4uNS1NYXRoLmNvcyhlKk1hdGguUEkpLzJ9fSx4LnRpbWVycz1bXSx4LmZ4PUxuLnByb3RvdHlwZS5pbml0LHguZngudGljaz1mdW5jdGlvbigpe3ZhciBlLHQ9eC50aW1lcnMsbj0wO2Zvcih4bj14Lm5vdygpO3QubGVuZ3RoPm47bisrKWU9dFtuXSxlKCl8fHRbbl0hPT1lfHx0LnNwbGljZShuLS0sMSk7dC5sZW5ndGh8fHguZnguc3RvcCgpLHhuPXVuZGVmaW5lZH0seC5meC50aW1lcj1mdW5jdGlvbihlKXtlKCkmJngudGltZXJzLnB1c2goZSkmJnguZnguc3RhcnQoKX0seC5meC5pbnRlcnZhbD0xMyx4LmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7Ym58fChibj1zZXRJbnRlcnZhbCh4LmZ4LnRpY2sseC5meC5pbnRlcnZhbCkpfSx4LmZ4LnN0b3A9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKGJuKSxibj1udWxsfSx4LmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSx4LmZ4LnN0ZXA9e30seC5leHByJiZ4LmV4cHIuZmlsdGVycyYmKHguZXhwci5maWx0ZXJzLmFuaW1hdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB4LmdyZXAoeC50aW1lcnMsZnVuY3Rpb24odCl7cmV0dXJuIGU9PT10LmVsZW19KS5sZW5ndGh9KSx4LmZuLm9mZnNldD1mdW5jdGlvbihlKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBlPT09dW5kZWZpbmVkP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3gub2Zmc2V0LnNldE9mZnNldCh0aGlzLGUsdCl9KTt2YXIgdCxuLGk9dGhpc1swXSxvPXt0b3A6MCxsZWZ0OjB9LHM9aSYmaS5vd25lckRvY3VtZW50O2lmKHMpcmV0dXJuIHQ9cy5kb2N1bWVudEVsZW1lbnQseC5jb250YWlucyh0LGkpPyh0eXBlb2YgaS5nZXRCb3VuZGluZ0NsaWVudFJlY3QhPT1yJiYobz1pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxuPUhuKHMpLHt0b3A6by50b3Arbi5wYWdlWU9mZnNldC10LmNsaWVudFRvcCxsZWZ0Om8ubGVmdCtuLnBhZ2VYT2Zmc2V0LXQuY2xpZW50TGVmdH0pOm99LHgub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxzLGEsdSxsLGM9eC5jc3MoZSwicG9zaXRpb24iKSxwPXgoZSksZj17fTsic3RhdGljIj09PWMmJihlLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLGE9cC5vZmZzZXQoKSxvPXguY3NzKGUsInRvcCIpLHU9eC5jc3MoZSwibGVmdCIpLGw9KCJhYnNvbHV0ZSI9PT1jfHwiZml4ZWQiPT09YykmJihvK3UpLmluZGV4T2YoImF1dG8iKT4tMSxsPyhyPXAucG9zaXRpb24oKSxzPXIudG9wLGk9ci5sZWZ0KToocz1wYXJzZUZsb2F0KG8pfHwwLGk9cGFyc2VGbG9hdCh1KXx8MCkseC5pc0Z1bmN0aW9uKHQpJiYodD10LmNhbGwoZSxuLGEpKSxudWxsIT10LnRvcCYmKGYudG9wPXQudG9wLWEudG9wK3MpLG51bGwhPXQubGVmdCYmKGYubGVmdD10LmxlZnQtYS5sZWZ0K2kpLCJ1c2luZyJpbiB0P3QudXNpbmcuY2FsbChlLGYpOnAuY3NzKGYpfX0seC5mbi5leHRlbmQoe3Bvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuPXRoaXNbMF0scj17dG9wOjAsbGVmdDowfTtyZXR1cm4iZml4ZWQiPT09eC5jc3MobiwicG9zaXRpb24iKT90PW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGU9dGhpcy5vZmZzZXRQYXJlbnQoKSx0PXRoaXMub2Zmc2V0KCkseC5ub2RlTmFtZShlWzBdLCJodG1sIil8fChyPWUub2Zmc2V0KCkpLHIudG9wKz14LmNzcyhlWzBdLCJib3JkZXJUb3BXaWR0aCIsITApLHIubGVmdCs9eC5jc3MoZVswXSwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpLHt0b3A6dC50b3Atci50b3AteC5jc3MobiwibWFyZ2luVG9wIiwhMCksbGVmdDp0LmxlZnQtci5sZWZ0LXguY3NzKG4sIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9mZnNldFBhcmVudHx8czt3aGlsZShlJiYheC5ub2RlTmFtZShlLCJodG1sIikmJiJzdGF0aWMiPT09eC5jc3MoZSwicG9zaXRpb24iKSllPWUub2Zmc2V0UGFyZW50O3JldHVybiBlfHxzfSl9fSkseC5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKHQsbil7dmFyIHI9InBhZ2VZT2Zmc2V0Ij09PW47eC5mblt0XT1mdW5jdGlvbihpKXtyZXR1cm4geC5hY2Nlc3ModGhpcyxmdW5jdGlvbih0LGksbyl7dmFyIHM9SG4odCk7cmV0dXJuIG89PT11bmRlZmluZWQ/cz9zW25dOnRbaV06KHM/cy5zY3JvbGxUbyhyP2UucGFnZVhPZmZzZXQ6byxyP286ZS5wYWdlWU9mZnNldCk6dFtpXT1vLHVuZGVmaW5lZCl9LHQsaSxhcmd1bWVudHMubGVuZ3RoLG51bGwpfX0pO2Z1bmN0aW9uIEhuKGUpe3JldHVybiB4LmlzV2luZG93KGUpP2U6OT09PWUubm9kZVR5cGUmJmUuZGVmYXVsdFZpZXd9eC5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24oZSx0KXt4LmVhY2goe3BhZGRpbmc6ImlubmVyIitlLGNvbnRlbnQ6dCwiIjoib3V0ZXIiK2V9LGZ1bmN0aW9uKG4scil7eC5mbltyXT1mdW5jdGlvbihyLGkpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGgmJihufHwiYm9vbGVhbiIhPXR5cGVvZiByKSxzPW58fChyPT09ITB8fGk9PT0hMD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIHguYWNjZXNzKHRoaXMsZnVuY3Rpb24odCxuLHIpe3ZhciBpO3JldHVybiB4LmlzV2luZG93KHQpP3QuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2VdOjk9PT10Lm5vZGVUeXBlPyhpPXQuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KHQuYm9keVsic2Nyb2xsIitlXSxpWyJzY3JvbGwiK2VdLHQuYm9keVsib2Zmc2V0IitlXSxpWyJvZmZzZXQiK2VdLGlbImNsaWVudCIrZV0pKTpyPT09dW5kZWZpbmVkP3guY3NzKHQsbixzKTp4LnN0eWxlKHQsbixyLHMpfSx0LG8/cjp1bmRlZmluZWQsbyxudWxsKX19KX0pLHguZm4uc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0seC5mbi5hbmRTZWxmPXguZm4uYWRkQmFjaywib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPXg6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSwib2JqZWN0Ij09dHlwZW9mIGUmJiJvYmplY3QiPT10eXBlb2YgZS5kb2N1bWVudCYmKGUualF1ZXJ5PWUuJD14KX0pKHdpbmRvdyk7"/>
                  <L7p:VariableToSet stringValue="output"/>
                </L7p:SetVariable>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="RIGHT.COMMENT"/>
                      <L7p:value stringValue="//jquery.js"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:Expression1 stringValue="${resource}"/>
                  <L7p:Expression2 stringValue="bootstrap.js"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item binary="included">
                      <L7p:RightValue stringValue="bootstrap.js"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="YXBwbGljYXRpb24veC1qYXZhc2NyaXB0O2NoYXJzZXQ9dXRmLTg="/>
                  <L7p:VariableToSet stringValue="content_type"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogKiBib290c3RyYXAtdHJhbnNpdGlvbi5qcyB2Mi4wLjMNCiAqIGh0dHA6Ly90d2l0dGVyLmdpdGh1Yi5jb20vYm9vdHN0cmFwL2phdmFzY3JpcHQuaHRtbCN0cmFuc2l0aW9ucw0KICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogKiBDb3B5cmlnaHQgMjAxMiBUd2l0dGVyLCBJbmMuDQogKg0KICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7DQogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuDQogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlDQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLA0KICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuDQogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kDQogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4NCiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCg0KDQohZnVuY3Rpb24gKCQpIHsNCg0KICAkKGZ1bmN0aW9uICgpIHsNCg0KICAgICJ1c2Ugc3RyaWN0IjsgLy8ganNoaW50IDtfOw0KDQoNCiAgICAvKiBDU1MgVFJBTlNJVElPTiBTVVBQT1JUIChodHRwOi8vd3d3Lm1vZGVybml6ci5jb20vKQ0KICAgICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCg0KICAgICQuc3VwcG9ydC50cmFuc2l0aW9uID0gKGZ1bmN0aW9uICgpIHsNCg0KICAgICAgdmFyIHRyYW5zaXRpb25FbmQgPSAoZnVuY3Rpb24gKCkgew0KDQogICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Jvb3RzdHJhcCcpDQogICAgICAgICAgLCB0cmFuc0VuZEV2ZW50TmFtZXMgPSB7DQogICAgICAgICAgICAgICAnV2Via2l0VHJhbnNpdGlvbicgOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcNCiAgICAgICAgICAgICwgICdNb3pUcmFuc2l0aW9uJyAgICA6ICd0cmFuc2l0aW9uZW5kJw0KICAgICAgICAgICAgLCAgJ09UcmFuc2l0aW9uJyAgICAgIDogJ29UcmFuc2l0aW9uRW5kJw0KICAgICAgICAgICAgLCAgJ21zVHJhbnNpdGlvbicgICAgIDogJ01TVHJhbnNpdGlvbkVuZCcNCiAgICAgICAgICAgICwgICd0cmFuc2l0aW9uJyAgICAgICA6ICd0cmFuc2l0aW9uZW5kJw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICwgbmFtZQ0KDQogICAgICAgIGZvciAobmFtZSBpbiB0cmFuc0VuZEV2ZW50TmFtZXMpew0KICAgICAgICAgIGlmIChlbC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICByZXR1cm4gdHJhbnNFbmRFdmVudE5hbWVzW25hbWVdDQogICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgIH0oKSkNCg0KICAgICAgcmV0dXJuIHRyYW5zaXRpb25FbmQgJiYgew0KICAgICAgICBlbmQ6IHRyYW5zaXRpb25FbmQNCiAgICAgIH0NCg0KICAgIH0pKCkNCg0KICB9KQ0KDQp9KHdpbmRvdy5qUXVlcnkpOw0KLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogKiBib290c3RyYXAtbW9kYWwuanMgdjIuMC4zDQogKiBodHRwOi8vdHdpdHRlci5naXRodWIuY29tL2Jvb3RzdHJhcC9qYXZhc2NyaXB0Lmh0bWwjbW9kYWxzDQogKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiAqIENvcHlyaWdodCAyMDEyIFR3aXR0ZXIsIEluYy4NCiAqDQogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsNCiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4NCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoNCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUNCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsDQogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4NCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQNCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLg0KICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovDQoNCg0KIWZ1bmN0aW9uICgkKSB7DQoNCiAgInVzZSBzdHJpY3QiOyAvLyBqc2hpbnQgO187DQoNCg0KIC8qIE1PREFMIENMQVNTIERFRklOSVRJT04NCiAgKiA9PT09PT09PT09PT09PT09PT09PT09ICovDQoNCiAgdmFyIE1vZGFsID0gZnVuY3Rpb24gKGNvbnRlbnQsIG9wdGlvbnMpIHsNCiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zDQogICAgdGhpcy4kZWxlbWVudCA9ICQoY29udGVudCkNCiAgICAgIC5kZWxlZ2F0ZSgnW2RhdGEtZGlzbWlzcz0ibW9kYWwiXScsICdjbGljay5kaXNtaXNzLm1vZGFsJywgJC5wcm94eSh0aGlzLmhpZGUsIHRoaXMpKQ0KICB9DQoNCiAgTW9kYWwucHJvdG90eXBlID0gew0KDQogICAgICBjb25zdHJ1Y3RvcjogTW9kYWwNCg0KICAgICwgdG9nZ2xlOiBmdW5jdGlvbiAoKSB7DQogICAgICAgIHJldHVybiB0aGlzWyF0aGlzLmlzU2hvd24gPyAnc2hvdycgOiAnaGlkZSddKCkNCiAgICAgIH0NCg0KICAgICwgc2hvdzogZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgdGhhdCA9IHRoaXMNCiAgICAgICAgICAsIGUgPSAkLkV2ZW50KCdzaG93JykNCg0KICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSkNCg0KICAgICAgICBpZiAodGhpcy5pc1Nob3duIHx8IGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybg0KDQogICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnbW9kYWwtb3BlbicpDQoNCiAgICAgICAgdGhpcy5pc1Nob3duID0gdHJ1ZQ0KDQogICAgICAgIGVzY2FwZS5jYWxsKHRoaXMpDQogICAgICAgIGJhY2tkcm9wLmNhbGwodGhpcywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgIHZhciB0cmFuc2l0aW9uID0gJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhhdC4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpDQoNCiAgICAgICAgICBpZiAoIXRoYXQuJGVsZW1lbnQucGFyZW50KCkubGVuZ3RoKSB7DQogICAgICAgICAgICB0aGF0LiRlbGVtZW50LmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpIC8vZG9uJ3QgbW92ZSBtb2RhbHMgZG9tIHBvc2l0aW9uDQogICAgICAgICAgfQ0KDQogICAgICAgICAgdGhhdC4kZWxlbWVudA0KICAgICAgICAgICAgLnNob3coKQ0KDQogICAgICAgICAgaWYgKHRyYW5zaXRpb24pIHsNCiAgICAgICAgICAgIHRoYXQuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93DQogICAgICAgICAgfQ0KDQogICAgICAgICAgdGhhdC4kZWxlbWVudC5hZGRDbGFzcygnaW4nKQ0KDQogICAgICAgICAgdHJhbnNpdGlvbiA/DQogICAgICAgICAgICB0aGF0LiRlbGVtZW50Lm9uZSgkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsIGZ1bmN0aW9uICgpIHsgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdzaG93bicpIH0pIDoNCiAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignc2hvd24nKQ0KDQogICAgICAgIH0pDQogICAgICB9DQoNCiAgICAsIGhpZGU6IGZ1bmN0aW9uIChlKSB7DQogICAgICAgIGUgJiYgZS5wcmV2ZW50RGVmYXVsdCgpDQoNCiAgICAgICAgdmFyIHRoYXQgPSB0aGlzDQoNCiAgICAgICAgZSA9ICQuRXZlbnQoJ2hpZGUnKQ0KDQogICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKQ0KDQogICAgICAgIGlmICghdGhpcy5pc1Nob3duIHx8IGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybg0KDQogICAgICAgIHRoaXMuaXNTaG93biA9IGZhbHNlDQoNCiAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJykNCg0KICAgICAgICBlc2NhcGUuY2FsbCh0aGlzKQ0KDQogICAgICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2luJykNCg0KICAgICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgPw0KICAgICAgICAgIGhpZGVXaXRoVHJhbnNpdGlvbi5jYWxsKHRoaXMpIDoNCiAgICAgICAgICBoaWRlTW9kYWwuY2FsbCh0aGlzKQ0KICAgICAgfQ0KDQogIH0NCg0KDQogLyogTU9EQUwgUFJJVkFURSBNRVRIT0RTDQogICogPT09PT09PT09PT09PT09PT09PT09ICovDQoNCiAgZnVuY3Rpb24gaGlkZVdpdGhUcmFuc2l0aW9uKCkgew0KICAgIHZhciB0aGF0ID0gdGhpcw0KICAgICAgLCB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgdGhhdC4kZWxlbWVudC5vZmYoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKQ0KICAgICAgICAgIGhpZGVNb2RhbC5jYWxsKHRoYXQpDQogICAgICAgIH0sIDUwMCkNCg0KICAgIHRoaXMuJGVsZW1lbnQub25lKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCwgZnVuY3Rpb24gKCkgew0KICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpDQogICAgICBoaWRlTW9kYWwuY2FsbCh0aGF0KQ0KICAgIH0pDQogIH0NCg0KICBmdW5jdGlvbiBoaWRlTW9kYWwodGhhdCkgew0KICAgIHRoaXMuJGVsZW1lbnQNCiAgICAgIC5oaWRlKCkNCiAgICAgIC50cmlnZ2VyKCdoaWRkZW4nKQ0KDQogICAgYmFja2Ryb3AuY2FsbCh0aGlzKQ0KICB9DQoNCiAgZnVuY3Rpb24gYmFja2Ryb3AoY2FsbGJhY2spIHsNCiAgICB2YXIgdGhhdCA9IHRoaXMNCiAgICAgICwgYW5pbWF0ZSA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/ICdmYWRlJyA6ICcnDQoNCiAgICBpZiAodGhpcy5pc1Nob3duICYmIHRoaXMub3B0aW9ucy5iYWNrZHJvcCkgew0KICAgICAgdmFyIGRvQW5pbWF0ZSA9ICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIGFuaW1hdGUNCg0KICAgICAgdGhpcy4kYmFja2Ryb3AgPSAkKCc8ZGl2IGNsYXNzPSJtb2RhbC1iYWNrZHJvcCAnICsgYW5pbWF0ZSArICciIC8+JykNCiAgICAgICAgLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpDQoNCiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYmFja2Ryb3AgIT0gJ3N0YXRpYycpIHsNCiAgICAgICAgdGhpcy4kYmFja2Ryb3AuY2xpY2soJC5wcm94eSh0aGlzLmhpZGUsIHRoaXMpKQ0KICAgICAgfQ0KDQogICAgICBpZiAoZG9BbmltYXRlKSB0aGlzLiRiYWNrZHJvcFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3cNCg0KICAgICAgdGhpcy4kYmFja2Ryb3AuYWRkQ2xhc3MoJ2luJykNCg0KICAgICAgZG9BbmltYXRlID8NCiAgICAgICAgdGhpcy4kYmFja2Ryb3Aub25lKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCwgY2FsbGJhY2spIDoNCiAgICAgICAgY2FsbGJhY2soKQ0KDQogICAgfSBlbHNlIGlmICghdGhpcy5pc1Nob3duICYmIHRoaXMuJGJhY2tkcm9wKSB7DQogICAgICB0aGlzLiRiYWNrZHJvcC5yZW1vdmVDbGFzcygnaW4nKQ0KDQogICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJyk/DQogICAgICAgIHRoaXMuJGJhY2tkcm9wLm9uZSgkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsICQucHJveHkocmVtb3ZlQmFja2Ryb3AsIHRoaXMpKSA6DQogICAgICAgIHJlbW92ZUJhY2tkcm9wLmNhbGwodGhpcykNCg0KICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHsNCiAgICAgIGNhbGxiYWNrKCkNCiAgICB9DQogIH0NCg0KICBmdW5jdGlvbiByZW1vdmVCYWNrZHJvcCgpIHsNCiAgICB0aGlzLiRiYWNrZHJvcC5yZW1vdmUoKQ0KICAgIHRoaXMuJGJhY2tkcm9wID0gbnVsbA0KICB9DQoNCiAgZnVuY3Rpb24gZXNjYXBlKCkgew0KICAgIHZhciB0aGF0ID0gdGhpcw0KICAgIGlmICh0aGlzLmlzU2hvd24gJiYgdGhpcy5vcHRpb25zLmtleWJvYXJkKSB7DQogICAgICAkKGRvY3VtZW50KS5vbigna2V5dXAuZGlzbWlzcy5tb2RhbCcsIGZ1bmN0aW9uICggZSApIHsNCiAgICAgICAgZS53aGljaCA9PSAyNyAmJiB0aGF0LmhpZGUoKQ0KICAgICAgfSkNCiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzU2hvd24pIHsNCiAgICAgICQoZG9jdW1lbnQpLm9mZigna2V5dXAuZGlzbWlzcy5tb2RhbCcpDQogICAgfQ0KICB9DQoNCg0KIC8qIE1PREFMIFBMVUdJTiBERUZJTklUSU9ODQogICogPT09PT09PT09PT09PT09PT09PT09PT0gKi8NCg0KICAkLmZuLm1vZGFsID0gZnVuY3Rpb24gKG9wdGlvbikgew0KICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgew0KICAgICAgdmFyICR0aGlzID0gJCh0aGlzKQ0KICAgICAgICAsIGRhdGEgPSAkdGhpcy5kYXRhKCdtb2RhbCcpDQogICAgICAgICwgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCAkLmZuLm1vZGFsLmRlZmF1bHRzLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKQ0KICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdtb2RhbCcsIChkYXRhID0gbmV3IE1vZGFsKHRoaXMsIG9wdGlvbnMpKSkNCiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKQ0KICAgICAgZWxzZSBpZiAob3B0aW9ucy5zaG93KSBkYXRhLnNob3coKQ0KICAgIH0pDQogIH0NCg0KICAkLmZuLm1vZGFsLmRlZmF1bHRzID0gew0KICAgICAgYmFja2Ryb3A6IHRydWUNCiAgICAsIGtleWJvYXJkOiB0cnVlDQogICAgLCBzaG93OiB0cnVlDQogIH0NCg0KICAkLmZuLm1vZGFsLkNvbnN0cnVjdG9yID0gTW9kYWwNCg0KDQogLyogTU9EQUwgREFUQS1BUEkNCiAgKiA9PT09PT09PT09PT09PSAqLw0KDQogICQoZnVuY3Rpb24gKCkgew0KICAgICQoJ2JvZHknKS5vbignY2xpY2subW9kYWwuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPSJtb2RhbCJdJywgZnVuY3Rpb24gKCBlICkgew0KICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSwgaHJlZg0KICAgICAgICAsICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgKGhyZWYgPSAkdGhpcy5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cc10rJCkvLCAnJykpIC8vc3RyaXAgZm9yIGllNw0KICAgICAgICAsIG9wdGlvbiA9ICR0YXJnZXQuZGF0YSgnbW9kYWwnKSA/ICd0b2dnbGUnIDogJC5leHRlbmQoe30sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpDQoNCiAgICAgIGUucHJldmVudERlZmF1bHQoKQ0KICAgICAgJHRhcmdldC5tb2RhbChvcHRpb24pDQogICAgfSkNCiAgfSkNCg0KfSh3aW5kb3cualF1ZXJ5KTsNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KICogYm9vdHN0cmFwLWRyb3Bkb3duLmpzIHYyLjAuMw0KICogaHR0cDovL3R3aXR0ZXIuZ2l0aHViLmNvbS9ib290c3RyYXAvamF2YXNjcmlwdC5odG1sI2Ryb3Bkb3ducw0KICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogKiBDb3B5cmlnaHQgMjAxMiBUd2l0dGVyLCBJbmMuDQogKg0KICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7DQogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuDQogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlDQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLA0KICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuDQogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kDQogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4NCiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KDQoNCiFmdW5jdGlvbiAoJCkgew0KDQogICJ1c2Ugc3RyaWN0IjsgLy8ganNoaW50IDtfOw0KDQoNCiAvKiBEUk9QRE9XTiBDTEFTUyBERUZJTklUSU9ODQogICogPT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KDQogIHZhciB0b2dnbGUgPSAnW2RhdGEtdG9nZ2xlPSJkcm9wZG93biJdJw0KICAgICwgRHJvcGRvd24gPSBmdW5jdGlvbiAoZWxlbWVudCkgew0KICAgICAgICB2YXIgJGVsID0gJChlbGVtZW50KS5vbignY2xpY2suZHJvcGRvd24uZGF0YS1hcGknLCB0aGlzLnRvZ2dsZSkNCiAgICAgICAgJCgnaHRtbCcpLm9uKCdjbGljay5kcm9wZG93bi5kYXRhLWFwaScsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAkZWwucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ29wZW4nKQ0KICAgICAgICB9KQ0KICAgICAgfQ0KDQogIERyb3Bkb3duLnByb3RvdHlwZSA9IHsNCg0KICAgIGNvbnN0cnVjdG9yOiBEcm9wZG93bg0KDQogICwgdG9nZ2xlOiBmdW5jdGlvbiAoZSkgew0KICAgICAgdmFyICR0aGlzID0gJCh0aGlzKQ0KICAgICAgICAsICRwYXJlbnQNCiAgICAgICAgLCBzZWxlY3Rvcg0KICAgICAgICAsIGlzQWN0aXZlDQoNCiAgICAgIGlmICgkdGhpcy5pcygnLmRpc2FibGVkLCA6ZGlzYWJsZWQnKSkgcmV0dXJuDQoNCiAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKQ0KDQogICAgICBpZiAoIXNlbGVjdG9yKSB7DQogICAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignaHJlZicpDQogICAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cc10qJCkvLCAnJykgLy9zdHJpcCBmb3IgaWU3DQogICAgICB9DQoNCiAgICAgICRwYXJlbnQgPSAkKHNlbGVjdG9yKQ0KICAgICAgJHBhcmVudC5sZW5ndGggfHwgKCRwYXJlbnQgPSAkdGhpcy5wYXJlbnQoKSkNCg0KICAgICAgaXNBY3RpdmUgPSAkcGFyZW50Lmhhc0NsYXNzKCdvcGVuJykNCg0KICAgICAgY2xlYXJNZW51cygpDQoNCiAgICAgIGlmICghaXNBY3RpdmUpICRwYXJlbnQudG9nZ2xlQ2xhc3MoJ29wZW4nKQ0KDQogICAgICByZXR1cm4gZmFsc2UNCiAgICB9DQoNCiAgfQ0KDQogIGZ1bmN0aW9uIGNsZWFyTWVudXMoKSB7DQogICAgJCh0b2dnbGUpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdvcGVuJykNCiAgfQ0KDQoNCiAgLyogRFJPUERPV04gUExVR0lOIERFRklOSVRJT04NCiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCg0KICAkLmZuLmRyb3Bkb3duID0gZnVuY3Rpb24gKG9wdGlvbikgew0KICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgew0KICAgICAgdmFyICR0aGlzID0gJCh0aGlzKQ0KICAgICAgICAsIGRhdGEgPSAkdGhpcy5kYXRhKCdkcm9wZG93bicpDQogICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2Ryb3Bkb3duJywgKGRhdGEgPSBuZXcgRHJvcGRvd24odGhpcykpKQ0KICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKQ0KICAgIH0pDQogIH0NCg0KICAkLmZuLmRyb3Bkb3duLkNvbnN0cnVjdG9yID0gRHJvcGRvd24NCg0KDQogIC8qIEFQUExZIFRPIFNUQU5EQVJEIERST1BET1dOIEVMRU1FTlRTDQogICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovDQoNCiAgJChmdW5jdGlvbiAoKSB7DQogICAgJCgnaHRtbCcpLm9uKCdjbGljay5kcm9wZG93bi5kYXRhLWFwaScsIGNsZWFyTWVudXMpDQogICAgJCgnYm9keScpDQogICAgICAub24oJ2NsaWNrLmRyb3Bkb3duJywgJy5kcm9wZG93biBmb3JtJywgZnVuY3Rpb24gKGUpIHsgZS5zdG9wUHJvcGFnYXRpb24oKSB9KQ0KICAgICAgLm9uKCdjbGljay5kcm9wZG93bi5kYXRhLWFwaScsIHRvZ2dsZSwgRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSkNCiAgfSkNCg0KfSh3aW5kb3cualF1ZXJ5KTsNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiAqIGJvb3RzdHJhcC1zY3JvbGxzcHkuanMgdjIuMC4zDQogKiBodHRwOi8vdHdpdHRlci5naXRodWIuY29tL2Jvb3RzdHJhcC9qYXZhc2NyaXB0Lmh0bWwjc2Nyb2xsc3B5DQogKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogKiBDb3B5cmlnaHQgMjAxMiBUd2l0dGVyLCBJbmMuDQogKg0KICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7DQogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuDQogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlDQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLA0KICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuDQogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kDQogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4NCiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovDQoNCg0KIWZ1bmN0aW9uICgkKSB7DQoNCiAgInVzZSBzdHJpY3QiOyAvLyBqc2hpbnQgO187DQoNCg0KICAvKiBTQ1JPTExTUFkgQ0xBU1MgREVGSU5JVElPTg0KICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KDQogIGZ1bmN0aW9uIFNjcm9sbFNweSggZWxlbWVudCwgb3B0aW9ucykgew0KICAgIHZhciBwcm9jZXNzID0gJC5wcm94eSh0aGlzLnByb2Nlc3MsIHRoaXMpDQogICAgICAsICRlbGVtZW50ID0gJChlbGVtZW50KS5pcygnYm9keScpID8gJCh3aW5kb3cpIDogJChlbGVtZW50KQ0KICAgICAgLCBocmVmDQogICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sICQuZm4uc2Nyb2xsc3B5LmRlZmF1bHRzLCBvcHRpb25zKQ0KICAgIHRoaXMuJHNjcm9sbEVsZW1lbnQgPSAkZWxlbWVudC5vbignc2Nyb2xsLnNjcm9sbC5kYXRhLWFwaScsIHByb2Nlc3MpDQogICAgdGhpcy5zZWxlY3RvciA9ICh0aGlzLm9wdGlvbnMudGFyZ2V0DQogICAgICB8fCAoKGhyZWYgPSAkKGVsZW1lbnQpLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxzXSskKS8sICcnKSkgLy9zdHJpcCBmb3IgaWU3DQogICAgICB8fCAnJykgKyAnIC5uYXYgbGkgPiBhJw0KICAgIHRoaXMuJGJvZHkgPSAkKCdib2R5JykNCiAgICB0aGlzLnJlZnJlc2goKQ0KICAgIHRoaXMucHJvY2VzcygpDQogIH0NCg0KICBTY3JvbGxTcHkucHJvdG90eXBlID0gew0KDQogICAgICBjb25zdHJ1Y3RvcjogU2Nyb2xsU3B5DQoNCiAgICAsIHJlZnJlc2g6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdmFyIHNlbGYgPSB0aGlzDQogICAgICAgICAgLCAkdGFyZ2V0cw0KDQogICAgICAgIHRoaXMub2Zmc2V0cyA9ICQoW10pDQogICAgICAgIHRoaXMudGFyZ2V0cyA9ICQoW10pDQoNCiAgICAgICAgJHRhcmdldHMgPSB0aGlzLiRib2R5DQogICAgICAgICAgLmZpbmQodGhpcy5zZWxlY3RvcikNCiAgICAgICAgICAubWFwKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciAkZWwgPSAkKHRoaXMpDQogICAgICAgICAgICAgICwgaHJlZiA9ICRlbC5kYXRhKCd0YXJnZXQnKSB8fCAkZWwuYXR0cignaHJlZicpDQogICAgICAgICAgICAgICwgJGhyZWYgPSAvXiNcdy8udGVzdChocmVmKSAmJiAkKGhyZWYpDQogICAgICAgICAgICByZXR1cm4gKCAkaHJlZg0KICAgICAgICAgICAgICAmJiBocmVmLmxlbmd0aA0KICAgICAgICAgICAgICAmJiBbWyAkaHJlZi5wb3NpdGlvbigpLnRvcCwgaHJlZiBdXSApIHx8IG51bGwNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhWzBdIC0gYlswXSB9KQ0KICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHNlbGYub2Zmc2V0cy5wdXNoKHRoaXNbMF0pDQogICAgICAgICAgICBzZWxmLnRhcmdldHMucHVzaCh0aGlzWzFdKQ0KICAgICAgICAgIH0pDQogICAgICB9DQoNCiAgICAsIHByb2Nlc3M6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdmFyIHNjcm9sbFRvcCA9IHRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKCkgKyB0aGlzLm9wdGlvbnMub2Zmc2V0DQogICAgICAgICAgLCBzY3JvbGxIZWlnaHQgPSB0aGlzLiRzY3JvbGxFbGVtZW50WzBdLnNjcm9sbEhlaWdodCB8fCB0aGlzLiRib2R5WzBdLnNjcm9sbEhlaWdodA0KICAgICAgICAgICwgbWF4U2Nyb2xsID0gc2Nyb2xsSGVpZ2h0IC0gdGhpcy4kc2Nyb2xsRWxlbWVudC5oZWlnaHQoKQ0KICAgICAgICAgICwgb2Zmc2V0cyA9IHRoaXMub2Zmc2V0cw0KICAgICAgICAgICwgdGFyZ2V0cyA9IHRoaXMudGFyZ2V0cw0KICAgICAgICAgICwgYWN0aXZlVGFyZ2V0ID0gdGhpcy5hY3RpdmVUYXJnZXQNCiAgICAgICAgICAsIGkNCg0KICAgICAgICBpZiAoc2Nyb2xsVG9wID49IG1heFNjcm9sbCkgew0KICAgICAgICAgIHJldHVybiBhY3RpdmVUYXJnZXQgIT0gKGkgPSB0YXJnZXRzLmxhc3QoKVswXSkNCiAgICAgICAgICAgICYmIHRoaXMuYWN0aXZhdGUgKCBpICkNCiAgICAgICAgfQ0KDQogICAgICAgIGZvciAoaSA9IG9mZnNldHMubGVuZ3RoOyBpLS07KSB7DQogICAgICAgICAgYWN0aXZlVGFyZ2V0ICE9IHRhcmdldHNbaV0NCiAgICAgICAgICAgICYmIHNjcm9sbFRvcCA+PSBvZmZzZXRzW2ldDQogICAgICAgICAgICAmJiAoIW9mZnNldHNbaSArIDFdIHx8IHNjcm9sbFRvcCA8PSBvZmZzZXRzW2kgKyAxXSkNCiAgICAgICAgICAgICYmIHRoaXMuYWN0aXZhdGUoIHRhcmdldHNbaV0gKQ0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAsIGFjdGl2YXRlOiBmdW5jdGlvbiAodGFyZ2V0KSB7DQogICAgICAgIHZhciBhY3RpdmUNCiAgICAgICAgICAsIHNlbGVjdG9yDQoNCiAgICAgICAgdGhpcy5hY3RpdmVUYXJnZXQgPSB0YXJnZXQNCg0KICAgICAgICAkKHRoaXMuc2VsZWN0b3IpDQogICAgICAgICAgLnBhcmVudCgnLmFjdGl2ZScpDQogICAgICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKQ0KDQogICAgICAgIHNlbGVjdG9yID0gdGhpcy5zZWxlY3Rvcg0KICAgICAgICAgICsgJ1tkYXRhLXRhcmdldD0iJyArIHRhcmdldCArICciXSwnDQogICAgICAgICAgKyB0aGlzLnNlbGVjdG9yICsgJ1tocmVmPSInICsgdGFyZ2V0ICsgJyJdJw0KDQogICAgICAgIGFjdGl2ZSA9ICQoc2VsZWN0b3IpDQogICAgICAgICAgLnBhcmVudCgnbGknKQ0KICAgICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJykNCg0KICAgICAgICBpZiAoYWN0aXZlLnBhcmVudCgnLmRyb3Bkb3duLW1lbnUnKSkgIHsNCiAgICAgICAgICBhY3RpdmUgPSBhY3RpdmUuY2xvc2VzdCgnbGkuZHJvcGRvd24nKS5hZGRDbGFzcygnYWN0aXZlJykNCiAgICAgICAgfQ0KDQogICAgICAgIGFjdGl2ZS50cmlnZ2VyKCdhY3RpdmF0ZScpDQogICAgICB9DQoNCiAgfQ0KDQoNCiAvKiBTQ1JPTExTUFkgUExVR0lOIERFRklOSVRJT04NCiAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCg0KICAkLmZuLnNjcm9sbHNweSA9IGZ1bmN0aW9uICggb3B0aW9uICkgew0KICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgew0KICAgICAgdmFyICR0aGlzID0gJCh0aGlzKQ0KICAgICAgICAsIGRhdGEgPSAkdGhpcy5kYXRhKCdzY3JvbGxzcHknKQ0KICAgICAgICAsIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbg0KICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdzY3JvbGxzcHknLCAoZGF0YSA9IG5ldyBTY3JvbGxTcHkodGhpcywgb3B0aW9ucykpKQ0KICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpDQogICAgfSkNCiAgfQ0KDQogICQuZm4uc2Nyb2xsc3B5LkNvbnN0cnVjdG9yID0gU2Nyb2xsU3B5DQoNCiAgJC5mbi5zY3JvbGxzcHkuZGVmYXVsdHMgPSB7DQogICAgb2Zmc2V0OiAxMA0KICB9DQoNCg0KIC8qIFNDUk9MTFNQWSBEQVRBLUFQSQ0KICAqID09PT09PT09PT09PT09PT09PSAqLw0KDQogICQoZnVuY3Rpb24gKCkgew0KICAgICQoJ1tkYXRhLXNweT0ic2Nyb2xsIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHsNCiAgICAgIHZhciAkc3B5ID0gJCh0aGlzKQ0KICAgICAgJHNweS5zY3JvbGxzcHkoJHNweS5kYXRhKCkpDQogICAgfSkNCiAgfSkNCg0KfSh3aW5kb3cualF1ZXJ5KTsNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogKiBib290c3RyYXAtdGFiLmpzIHYyLjAuMw0KICogaHR0cDovL3R3aXR0ZXIuZ2l0aHViLmNvbS9ib290c3RyYXAvamF2YXNjcmlwdC5odG1sI3RhYnMNCiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogKiBDb3B5cmlnaHQgMjAxMiBUd2l0dGVyLCBJbmMuDQogKg0KICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7DQogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuDQogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlDQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLA0KICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuDQogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kDQogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4NCiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovDQoNCg0KIWZ1bmN0aW9uICgkKSB7DQoNCiAgInVzZSBzdHJpY3QiOyAvLyBqc2hpbnQgO187DQoNCg0KIC8qIFRBQiBDTEFTUyBERUZJTklUSU9ODQogICogPT09PT09PT09PT09PT09PT09PT0gKi8NCg0KICB2YXIgVGFiID0gZnVuY3Rpb24gKCBlbGVtZW50ICkgew0KICAgIHRoaXMuZWxlbWVudCA9ICQoZWxlbWVudCkNCiAgfQ0KDQogIFRhYi5wcm90b3R5cGUgPSB7DQoNCiAgICBjb25zdHJ1Y3RvcjogVGFiDQoNCiAgLCBzaG93OiBmdW5jdGlvbiAoKSB7DQogICAgICB2YXIgJHRoaXMgPSB0aGlzLmVsZW1lbnQNCiAgICAgICAgLCAkdWwgPSAkdGhpcy5jbG9zZXN0KCd1bDpub3QoLmRyb3Bkb3duLW1lbnUpJykNCiAgICAgICAgLCBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykNCiAgICAgICAgLCBwcmV2aW91cw0KICAgICAgICAsICR0YXJnZXQNCiAgICAgICAgLCBlDQoNCiAgICAgIGlmICghc2VsZWN0b3IpIHsNCiAgICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJykNCiAgICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxzXSokKS8sICcnKSAvL3N0cmlwIGZvciBpZTcNCiAgICAgIH0NCg0KICAgICAgaWYgKCAkdGhpcy5wYXJlbnQoJ2xpJykuaGFzQ2xhc3MoJ2FjdGl2ZScpICkgcmV0dXJuDQoNCiAgICAgIHByZXZpb3VzID0gJHVsLmZpbmQoJy5hY3RpdmUgYScpLmxhc3QoKVswXQ0KDQogICAgICBlID0gJC5FdmVudCgnc2hvdycsIHsNCiAgICAgICAgcmVsYXRlZFRhcmdldDogcHJldmlvdXMNCiAgICAgIH0pDQoNCiAgICAgICR0aGlzLnRyaWdnZXIoZSkNCg0KICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybg0KDQogICAgICAkdGFyZ2V0ID0gJChzZWxlY3RvcikNCg0KICAgICAgdGhpcy5hY3RpdmF0ZSgkdGhpcy5wYXJlbnQoJ2xpJyksICR1bCkNCiAgICAgIHRoaXMuYWN0aXZhdGUoJHRhcmdldCwgJHRhcmdldC5wYXJlbnQoKSwgZnVuY3Rpb24gKCkgew0KICAgICAgICAkdGhpcy50cmlnZ2VyKHsNCiAgICAgICAgICB0eXBlOiAnc2hvd24nDQogICAgICAgICwgcmVsYXRlZFRhcmdldDogcHJldmlvdXMNCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgfQ0KDQogICwgYWN0aXZhdGU6IGZ1bmN0aW9uICggZWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykgew0KICAgICAgdmFyICRhY3RpdmUgPSBjb250YWluZXIuZmluZCgnPiAuYWN0aXZlJykNCiAgICAgICAgLCB0cmFuc2l0aW9uID0gY2FsbGJhY2sNCiAgICAgICAgICAgICYmICQuc3VwcG9ydC50cmFuc2l0aW9uDQogICAgICAgICAgICAmJiAkYWN0aXZlLmhhc0NsYXNzKCdmYWRlJykNCg0KICAgICAgZnVuY3Rpb24gbmV4dCgpIHsNCiAgICAgICAgJGFjdGl2ZQ0KICAgICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJykNCiAgICAgICAgICAuZmluZCgnPiAuZHJvcGRvd24tbWVudSA+IC5hY3RpdmUnKQ0KICAgICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJykNCg0KICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdhY3RpdmUnKQ0KDQogICAgICAgIGlmICh0cmFuc2l0aW9uKSB7DQogICAgICAgICAgZWxlbWVudFswXS5vZmZzZXRXaWR0aCAvLyByZWZsb3cgZm9yIHRyYW5zaXRpb24NCiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdpbicpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnZmFkZScpDQogICAgICAgIH0NCg0KICAgICAgICBpZiAoIGVsZW1lbnQucGFyZW50KCcuZHJvcGRvd24tbWVudScpICkgew0KICAgICAgICAgIGVsZW1lbnQuY2xvc2VzdCgnbGkuZHJvcGRvd24nKS5hZGRDbGFzcygnYWN0aXZlJykNCiAgICAgICAgfQ0KDQogICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCkNCiAgICAgIH0NCg0KICAgICAgdHJhbnNpdGlvbiA/DQogICAgICAgICRhY3RpdmUub25lKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCwgbmV4dCkgOg0KICAgICAgICBuZXh0KCkNCg0KICAgICAgJGFjdGl2ZS5yZW1vdmVDbGFzcygnaW4nKQ0KICAgIH0NCiAgfQ0KDQoNCiAvKiBUQUIgUExVR0lOIERFRklOSVRJT04NCiAgKiA9PT09PT09PT09PT09PT09PT09PT0gKi8NCg0KICAkLmZuLnRhYiA9IGZ1bmN0aW9uICggb3B0aW9uICkgew0KICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgew0KICAgICAgdmFyICR0aGlzID0gJCh0aGlzKQ0KICAgICAgICAsIGRhdGEgPSAkdGhpcy5kYXRhKCd0YWInKQ0KICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCd0YWInLCAoZGF0YSA9IG5ldyBUYWIodGhpcykpKQ0KICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpDQogICAgfSkNCiAgfQ0KDQogICQuZm4udGFiLkNvbnN0cnVjdG9yID0gVGFiDQoNCg0KIC8qIFRBQiBEQVRBLUFQSQ0KICAqID09PT09PT09PT09PSAqLw0KDQogICQoZnVuY3Rpb24gKCkgew0KICAgICQoJ2JvZHknKS5vbignY2xpY2sudGFiLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT0idGFiIl0sIFtkYXRhLXRvZ2dsZT0icGlsbCJdJywgZnVuY3Rpb24gKGUpIHsNCiAgICAgIGUucHJldmVudERlZmF1bHQoKQ0KICAgICAgJCh0aGlzKS50YWIoJ3Nob3cnKQ0KICAgIH0pDQogIH0pDQoNCn0od2luZG93LmpRdWVyeSk7DQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KICogYm9vdHN0cmFwLXRvb2x0aXAuanMgdjIuMC4zDQogKiBodHRwOi8vdHdpdHRlci5naXRodWIuY29tL2Jvb3RzdHJhcC9qYXZhc2NyaXB0Lmh0bWwjdG9vbHRpcHMNCiAqIEluc3BpcmVkIGJ5IHRoZSBvcmlnaW5hbCBqUXVlcnkudGlwc3kgYnkgSmFzb24gRnJhbWUNCiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogKiBDb3B5cmlnaHQgMjAxMiBUd2l0dGVyLCBJbmMuDQogKg0KICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7DQogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuDQogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlDQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLA0KICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuDQogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kDQogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4NCiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCg0KDQohZnVuY3Rpb24gKCQpIHsNCg0KICAidXNlIHN0cmljdCI7IC8vIGpzaGludCA7XzsNCg0KDQogLyogVE9PTFRJUCBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTg0KICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCg0KICB2YXIgVG9vbHRpcCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7DQogICAgdGhpcy5pbml0KCd0b29sdGlwJywgZWxlbWVudCwgb3B0aW9ucykNCiAgfQ0KDQogIFRvb2x0aXAucHJvdG90eXBlID0gew0KDQogICAgY29uc3RydWN0b3I6IFRvb2x0aXANCg0KICAsIGluaXQ6IGZ1bmN0aW9uICh0eXBlLCBlbGVtZW50LCBvcHRpb25zKSB7DQogICAgICB2YXIgZXZlbnRJbg0KICAgICAgICAsIGV2ZW50T3V0DQoNCiAgICAgIHRoaXMudHlwZSA9IHR5cGUNCiAgICAgIHRoaXMuJGVsZW1lbnQgPSAkKGVsZW1lbnQpDQogICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMob3B0aW9ucykNCiAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWUNCg0KICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmlnZ2VyICE9ICdtYW51YWwnKSB7DQogICAgICAgIGV2ZW50SW4gID0gdGhpcy5vcHRpb25zLnRyaWdnZXIgPT0gJ2hvdmVyJyA/ICdtb3VzZWVudGVyJyA6ICdmb2N1cycNCiAgICAgICAgZXZlbnRPdXQgPSB0aGlzLm9wdGlvbnMudHJpZ2dlciA9PSAnaG92ZXInID8gJ21vdXNlbGVhdmUnIDogJ2JsdXInDQogICAgICAgIHRoaXMuJGVsZW1lbnQub24oZXZlbnRJbiwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMuZW50ZXIsIHRoaXMpKQ0KICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKGV2ZW50T3V0LCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy5sZWF2ZSwgdGhpcykpDQogICAgICB9DQoNCiAgICAgIHRoaXMub3B0aW9ucy5zZWxlY3RvciA/DQogICAgICAgICh0aGlzLl9vcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgeyB0cmlnZ2VyOiAnbWFudWFsJywgc2VsZWN0b3I6ICcnIH0pKSA6DQogICAgICAgIHRoaXMuZml4VGl0bGUoKQ0KICAgIH0NCg0KICAsIGdldE9wdGlvbnM6IGZ1bmN0aW9uIChvcHRpb25zKSB7DQogICAgICBvcHRpb25zID0gJC5leHRlbmQoe30sICQuZm5bdGhpcy50eXBlXS5kZWZhdWx0cywgb3B0aW9ucywgdGhpcy4kZWxlbWVudC5kYXRhKCkpDQoNCiAgICAgIGlmIChvcHRpb25zLmRlbGF5ICYmIHR5cGVvZiBvcHRpb25zLmRlbGF5ID09ICdudW1iZXInKSB7DQogICAgICAgIG9wdGlvbnMuZGVsYXkgPSB7DQogICAgICAgICAgc2hvdzogb3B0aW9ucy5kZWxheQ0KICAgICAgICAsIGhpZGU6IG9wdGlvbnMuZGVsYXkNCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgICByZXR1cm4gb3B0aW9ucw0KICAgIH0NCg0KICAsIGVudGVyOiBmdW5jdGlvbiAoZSkgew0KICAgICAgdmFyIHNlbGYgPSAkKGUuY3VycmVudFRhcmdldClbdGhpcy50eXBlXSh0aGlzLl9vcHRpb25zKS5kYXRhKHRoaXMudHlwZSkNCg0KICAgICAgaWYgKCFzZWxmLm9wdGlvbnMuZGVsYXkgfHwgIXNlbGYub3B0aW9ucy5kZWxheS5zaG93KSByZXR1cm4gc2VsZi5zaG93KCkNCg0KICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCkNCiAgICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdpbicNCiAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7DQogICAgICAgIGlmIChzZWxmLmhvdmVyU3RhdGUgPT0gJ2luJykgc2VsZi5zaG93KCkNCiAgICAgIH0sIHNlbGYub3B0aW9ucy5kZWxheS5zaG93KQ0KICAgIH0NCg0KICAsIGxlYXZlOiBmdW5jdGlvbiAoZSkgew0KICAgICAgdmFyIHNlbGYgPSAkKGUuY3VycmVudFRhcmdldClbdGhpcy50eXBlXSh0aGlzLl9vcHRpb25zKS5kYXRhKHRoaXMudHlwZSkNCg0KICAgICAgaWYgKCFzZWxmLm9wdGlvbnMuZGVsYXkgfHwgIXNlbGYub3B0aW9ucy5kZWxheS5oaWRlKSByZXR1cm4gc2VsZi5oaWRlKCkNCg0KICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCkNCiAgICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdvdXQnDQogICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KICAgICAgICBpZiAoc2VsZi5ob3ZlclN0YXRlID09ICdvdXQnKSBzZWxmLmhpZGUoKQ0KICAgICAgfSwgc2VsZi5vcHRpb25zLmRlbGF5LmhpZGUpDQogICAgfQ0KDQogICwgc2hvdzogZnVuY3Rpb24gKCkgew0KICAgICAgdmFyICR0aXANCiAgICAgICAgLCBpbnNpZGUNCiAgICAgICAgLCBwb3MNCiAgICAgICAgLCBhY3R1YWxXaWR0aA0KICAgICAgICAsIGFjdHVhbEhlaWdodA0KICAgICAgICAsIHBsYWNlbWVudA0KICAgICAgICAsIHRwDQoNCiAgICAgIGlmICh0aGlzLmhhc0NvbnRlbnQoKSAmJiB0aGlzLmVuYWJsZWQpIHsNCiAgICAgICAgJHRpcCA9IHRoaXMudGlwKCkNCiAgICAgICAgdGhpcy5zZXRDb250ZW50KCkNCg0KICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGlvbikgew0KICAgICAgICAgICR0aXAuYWRkQ2xhc3MoJ2ZhZGUnKQ0KICAgICAgICB9DQoNCiAgICAgICAgcGxhY2VtZW50ID0gdHlwZW9mIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQgPT0gJ2Z1bmN0aW9uJyA/DQogICAgICAgICAgdGhpcy5vcHRpb25zLnBsYWNlbWVudC5jYWxsKHRoaXMsICR0aXBbMF0sIHRoaXMuJGVsZW1lbnRbMF0pIDoNCiAgICAgICAgICB0aGlzLm9wdGlvbnMucGxhY2VtZW50DQoNCiAgICAgICAgaW5zaWRlID0gL2luLy50ZXN0KHBsYWNlbWVudCkNCg0KICAgICAgICAkdGlwDQogICAgICAgICAgLnJlbW92ZSgpDQogICAgICAgICAgLmNzcyh7IHRvcDogMCwgbGVmdDogMCwgZGlzcGxheTogJ2Jsb2NrJyB9KQ0KICAgICAgICAgIC5hcHBlbmRUbyhpbnNpZGUgPyB0aGlzLiRlbGVtZW50IDogZG9jdW1lbnQuYm9keSkNCg0KICAgICAgICBwb3MgPSB0aGlzLmdldFBvc2l0aW9uKGluc2lkZSkNCg0KICAgICAgICBhY3R1YWxXaWR0aCA9ICR0aXBbMF0ub2Zmc2V0V2lkdGgNCiAgICAgICAgYWN0dWFsSGVpZ2h0ID0gJHRpcFswXS5vZmZzZXRIZWlnaHQNCg0KICAgICAgICBzd2l0Y2ggKGluc2lkZSA/IHBsYWNlbWVudC5zcGxpdCgnICcpWzFdIDogcGxhY2VtZW50KSB7DQogICAgICAgICAgY2FzZSAnYm90dG9tJzoNCiAgICAgICAgICAgIHRwID0ge3RvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQsIGxlZnQ6IHBvcy5sZWZ0ICsgcG9zLndpZHRoIC8gMiAtIGFjdHVhbFdpZHRoIC8gMn0NCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgY2FzZSAndG9wJzoNCiAgICAgICAgICAgIHRwID0ge3RvcDogcG9zLnRvcCAtIGFjdHVhbEhlaWdodCwgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggLyAyIC0gYWN0dWFsV2lkdGggLyAyfQ0KICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICBjYXNlICdsZWZ0JzoNCiAgICAgICAgICAgIHRwID0ge3RvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQgLyAyIC0gYWN0dWFsSGVpZ2h0IC8gMiwgbGVmdDogcG9zLmxlZnQgLSBhY3R1YWxXaWR0aH0NCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgY2FzZSAncmlnaHQnOg0KICAgICAgICAgICAgdHAgPSB7dG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCAvIDIgLSBhY3R1YWxIZWlnaHQgLyAyLCBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aH0NCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgIH0NCg0KICAgICAgICAkdGlwDQogICAgICAgICAgLmNzcyh0cCkNCiAgICAgICAgICAuYWRkQ2xhc3MocGxhY2VtZW50KQ0KICAgICAgICAgIC5hZGRDbGFzcygnaW4nKQ0KICAgICAgfQ0KICAgIH0NCg0KICAsIGlzSFRNTDogZnVuY3Rpb24odGV4dCkgew0KICAgICAgLy8gaHRtbCBzdHJpbmcgZGV0ZWN0aW9uIGxvZ2ljIGFkYXB0ZWQgZnJvbSBqUXVlcnkNCiAgICAgIHJldHVybiB0eXBlb2YgdGV4dCAhPSAnc3RyaW5nJw0KICAgICAgICB8fCAoIHRleHQuY2hhckF0KDApID09PSAiPCINCiAgICAgICAgICAmJiB0ZXh0LmNoYXJBdCggdGV4dC5sZW5ndGggLSAxICkgPT09ICI+Ig0KICAgICAgICAgICYmIHRleHQubGVuZ3RoID49IDMNCiAgICAgICAgKSB8fCAvXig/OltePF0qPFtcd1xXXSs+W14+XSokKS8uZXhlYyh0ZXh0KQ0KICAgIH0NCg0KICAsIHNldENvbnRlbnQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHZhciAkdGlwID0gdGhpcy50aXAoKQ0KICAgICAgICAsIHRpdGxlID0gdGhpcy5nZXRUaXRsZSgpDQoNCiAgICAgICR0aXAuZmluZCgnLnRvb2x0aXAtaW5uZXInKVt0aGlzLmlzSFRNTCh0aXRsZSkgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKQ0KICAgICAgJHRpcC5yZW1vdmVDbGFzcygnZmFkZSBpbiB0b3AgYm90dG9tIGxlZnQgcmlnaHQnKQ0KICAgIH0NCg0KICAsIGhpZGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHZhciB0aGF0ID0gdGhpcw0KICAgICAgICAsICR0aXAgPSB0aGlzLnRpcCgpDQoNCiAgICAgICR0aXAucmVtb3ZlQ2xhc3MoJ2luJykNCg0KICAgICAgZnVuY3Rpb24gcmVtb3ZlV2l0aEFuaW1hdGlvbigpIHsNCiAgICAgICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAkdGlwLm9mZigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpLnJlbW92ZSgpDQogICAgICAgIH0sIDUwMCkNCg0KICAgICAgICAkdGlwLm9uZSgkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCkNCiAgICAgICAgICAkdGlwLnJlbW92ZSgpDQogICAgICAgIH0pDQogICAgICB9DQoNCiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJHRpcC5oYXNDbGFzcygnZmFkZScpID8NCiAgICAgICAgcmVtb3ZlV2l0aEFuaW1hdGlvbigpIDoNCiAgICAgICAgJHRpcC5yZW1vdmUoKQ0KICAgIH0NCg0KICAsIGZpeFRpdGxlOiBmdW5jdGlvbiAoKSB7DQogICAgICB2YXIgJGUgPSB0aGlzLiRlbGVtZW50DQogICAgICBpZiAoJGUuYXR0cigndGl0bGUnKSB8fCB0eXBlb2YoJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScpKSAhPSAnc3RyaW5nJykgew0KICAgICAgICAkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJywgJGUuYXR0cigndGl0bGUnKSB8fCAnJykucmVtb3ZlQXR0cigndGl0bGUnKQ0KICAgICAgfQ0KICAgIH0NCg0KICAsIGhhc0NvbnRlbnQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHJldHVybiB0aGlzLmdldFRpdGxlKCkNCiAgICB9DQoNCiAgLCBnZXRQb3NpdGlvbjogZnVuY3Rpb24gKGluc2lkZSkgew0KICAgICAgcmV0dXJuICQuZXh0ZW5kKHt9LCAoaW5zaWRlID8ge3RvcDogMCwgbGVmdDogMH0gOiB0aGlzLiRlbGVtZW50Lm9mZnNldCgpKSwgew0KICAgICAgICB3aWR0aDogdGhpcy4kZWxlbWVudFswXS5vZmZzZXRXaWR0aA0KICAgICAgLCBoZWlnaHQ6IHRoaXMuJGVsZW1lbnRbMF0ub2Zmc2V0SGVpZ2h0DQogICAgICB9KQ0KICAgIH0NCg0KICAsIGdldFRpdGxlOiBmdW5jdGlvbiAoKSB7DQogICAgICB2YXIgdGl0bGUNCiAgICAgICAgLCAkZSA9IHRoaXMuJGVsZW1lbnQNCiAgICAgICAgLCBvID0gdGhpcy5vcHRpb25zDQoNCiAgICAgIHRpdGxlID0gJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScpDQogICAgICAgIHx8ICh0eXBlb2Ygby50aXRsZSA9PSAnZnVuY3Rpb24nID8gby50aXRsZS5jYWxsKCRlWzBdKSA6ICBvLnRpdGxlKQ0KDQogICAgICByZXR1cm4gdGl0bGUNCiAgICB9DQoNCiAgLCB0aXA6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHJldHVybiB0aGlzLiR0aXAgPSB0aGlzLiR0aXAgfHwgJCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpDQogICAgfQ0KDQogICwgdmFsaWRhdGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgIGlmICghdGhpcy4kZWxlbWVudFswXS5wYXJlbnROb2RlKSB7DQogICAgICAgIHRoaXMuaGlkZSgpDQogICAgICAgIHRoaXMuJGVsZW1lbnQgPSBudWxsDQogICAgICAgIHRoaXMub3B0aW9ucyA9IG51bGwNCiAgICAgIH0NCiAgICB9DQoNCiAgLCBlbmFibGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWUNCiAgICB9DQoNCiAgLCBkaXNhYmxlOiBmdW5jdGlvbiAoKSB7DQogICAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZQ0KICAgIH0NCg0KICAsIHRvZ2dsZUVuYWJsZWQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHRoaXMuZW5hYmxlZCA9ICF0aGlzLmVuYWJsZWQNCiAgICB9DQoNCiAgLCB0b2dnbGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHRoaXNbdGhpcy50aXAoKS5oYXNDbGFzcygnaW4nKSA/ICdoaWRlJyA6ICdzaG93J10oKQ0KICAgIH0NCg0KICB9DQoNCg0KIC8qIFRPT0xUSVAgUExVR0lOIERFRklOSVRJT04NCiAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09ICovDQoNCiAgJC5mbi50b29sdGlwID0gZnVuY3Rpb24gKCBvcHRpb24gKSB7DQogICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7DQogICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpDQogICAgICAgICwgZGF0YSA9ICR0aGlzLmRhdGEoJ3Rvb2x0aXAnKQ0KICAgICAgICAsIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbg0KICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCd0b29sdGlwJywgKGRhdGEgPSBuZXcgVG9vbHRpcCh0aGlzLCBvcHRpb25zKSkpDQogICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKCkNCiAgICB9KQ0KICB9DQoNCiAgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yID0gVG9vbHRpcA0KDQogICQuZm4udG9vbHRpcC5kZWZhdWx0cyA9IHsNCiAgICBhbmltYXRpb246IHRydWUNCiAgLCBwbGFjZW1lbnQ6ICd0b3AnDQogICwgc2VsZWN0b3I6IGZhbHNlDQogICwgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPSJ0b29sdGlwIj48ZGl2IGNsYXNzPSJ0b29sdGlwLWFycm93Ij48L2Rpdj48ZGl2IGNsYXNzPSJ0b29sdGlwLWlubmVyIj48L2Rpdj48L2Rpdj4nDQogICwgdHJpZ2dlcjogJ2hvdmVyJw0KICAsIHRpdGxlOiAnJw0KICAsIGRlbGF5OiAwDQogIH0NCg0KfSh3aW5kb3cualF1ZXJ5KTsNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogKiBib290c3RyYXAtcG9wb3Zlci5qcyB2Mi4wLjMNCiAqIGh0dHA6Ly90d2l0dGVyLmdpdGh1Yi5jb20vYm9vdHN0cmFwL2phdmFzY3JpcHQuaHRtbCNwb3BvdmVycw0KICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiAqIENvcHlyaWdodCAyMDEyIFR3aXR0ZXIsIEluYy4NCiAqDQogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsNCiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4NCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoNCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUNCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsDQogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4NCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQNCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLg0KICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCg0KDQohZnVuY3Rpb24gKCQpIHsNCg0KICAidXNlIHN0cmljdCI7IC8vIGpzaGludCA7XzsNCg0KDQogLyogUE9QT1ZFUiBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTg0KICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCg0KICB2YXIgUG9wb3ZlciA9IGZ1bmN0aW9uICggZWxlbWVudCwgb3B0aW9ucyApIHsNCiAgICB0aGlzLmluaXQoJ3BvcG92ZXInLCBlbGVtZW50LCBvcHRpb25zKQ0KICB9DQoNCg0KICAvKiBOT1RFOiBQT1BPVkVSIEVYVEVORFMgQk9PVFNUUkFQLVRPT0xUSVAuanMNCiAgICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovDQoNCiAgUG9wb3Zlci5wcm90b3R5cGUgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLnByb3RvdHlwZSwgew0KDQogICAgY29uc3RydWN0b3I6IFBvcG92ZXINCg0KICAsIHNldENvbnRlbnQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHZhciAkdGlwID0gdGhpcy50aXAoKQ0KICAgICAgICAsIHRpdGxlID0gdGhpcy5nZXRUaXRsZSgpDQogICAgICAgICwgY29udGVudCA9IHRoaXMuZ2V0Q29udGVudCgpDQoNCiAgICAgICR0aXAuZmluZCgnLnBvcG92ZXItdGl0bGUnKVt0aGlzLmlzSFRNTCh0aXRsZSkgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKQ0KICAgICAgJHRpcC5maW5kKCcucG9wb3Zlci1jb250ZW50ID4gKicpW3RoaXMuaXNIVE1MKGNvbnRlbnQpID8gJ2h0bWwnIDogJ3RleHQnXShjb250ZW50KQ0KDQogICAgICAkdGlwLnJlbW92ZUNsYXNzKCdmYWRlIHRvcCBib3R0b20gbGVmdCByaWdodCBpbicpDQogICAgfQ0KDQogICwgaGFzQ29udGVudDogZnVuY3Rpb24gKCkgew0KICAgICAgcmV0dXJuIHRoaXMuZ2V0VGl0bGUoKSB8fCB0aGlzLmdldENvbnRlbnQoKQ0KICAgIH0NCg0KICAsIGdldENvbnRlbnQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHZhciBjb250ZW50DQogICAgICAgICwgJGUgPSB0aGlzLiRlbGVtZW50DQogICAgICAgICwgbyA9IHRoaXMub3B0aW9ucw0KDQogICAgICBjb250ZW50ID0gJGUuYXR0cignZGF0YS1jb250ZW50JykNCiAgICAgICAgfHwgKHR5cGVvZiBvLmNvbnRlbnQgPT0gJ2Z1bmN0aW9uJyA/IG8uY29udGVudC5jYWxsKCRlWzBdKSA6ICBvLmNvbnRlbnQpDQoNCiAgICAgIHJldHVybiBjb250ZW50DQogICAgfQ0KDQogICwgdGlwOiBmdW5jdGlvbiAoKSB7DQogICAgICBpZiAoIXRoaXMuJHRpcCkgew0KICAgICAgICB0aGlzLiR0aXAgPSAkKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSkNCiAgICAgIH0NCiAgICAgIHJldHVybiB0aGlzLiR0aXANCiAgICB9DQoNCiAgfSkNCg0KDQogLyogUE9QT1ZFUiBQTFVHSU4gREVGSU5JVElPTg0KICAqID09PT09PT09PT09PT09PT09PT09PT09ICovDQoNCiAgJC5mbi5wb3BvdmVyID0gZnVuY3Rpb24gKG9wdGlvbikgew0KICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgew0KICAgICAgdmFyICR0aGlzID0gJCh0aGlzKQ0KICAgICAgICAsIGRhdGEgPSAkdGhpcy5kYXRhKCdwb3BvdmVyJykNCiAgICAgICAgLCBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24NCiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgncG9wb3ZlcicsIChkYXRhID0gbmV3IFBvcG92ZXIodGhpcywgb3B0aW9ucykpKQ0KICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpDQogICAgfSkNCiAgfQ0KDQogICQuZm4ucG9wb3Zlci5Db25zdHJ1Y3RvciA9IFBvcG92ZXINCg0KICAkLmZuLnBvcG92ZXIuZGVmYXVsdHMgPSAkLmV4dGVuZCh7fSAsICQuZm4udG9vbHRpcC5kZWZhdWx0cywgew0KICAgIHBsYWNlbWVudDogJ3JpZ2h0Jw0KICAsIGNvbnRlbnQ6ICcnDQogICwgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPSJwb3BvdmVyIj48ZGl2IGNsYXNzPSJhcnJvdyI+PC9kaXY+PGRpdiBjbGFzcz0icG9wb3Zlci1pbm5lciI+PGgzIGNsYXNzPSJwb3BvdmVyLXRpdGxlIj48L2gzPjxkaXYgY2xhc3M9InBvcG92ZXItY29udGVudCI+PHA+PC9wPjwvZGl2PjwvZGl2PjwvZGl2PicNCiAgfSkNCg0KfSh3aW5kb3cualF1ZXJ5KTsNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiAqIGJvb3RzdHJhcC1hbGVydC5qcyB2Mi4wLjMNCiAqIGh0dHA6Ly90d2l0dGVyLmdpdGh1Yi5jb20vYm9vdHN0cmFwL2phdmFzY3JpcHQuaHRtbCNhbGVydHMNCiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiAqIENvcHlyaWdodCAyMDEyIFR3aXR0ZXIsIEluYy4NCiAqDQogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsNCiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4NCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoNCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUNCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsDQogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4NCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQNCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLg0KICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KDQoNCiFmdW5jdGlvbiAoJCkgew0KDQogICJ1c2Ugc3RyaWN0IjsgLy8ganNoaW50IDtfOw0KDQoNCiAvKiBBTEVSVCBDTEFTUyBERUZJTklUSU9ODQogICogPT09PT09PT09PT09PT09PT09PT09PSAqLw0KDQogIHZhciBkaXNtaXNzID0gJ1tkYXRhLWRpc21pc3M9ImFsZXJ0Il0nDQogICAgLCBBbGVydCA9IGZ1bmN0aW9uIChlbCkgew0KICAgICAgICAkKGVsKS5vbignY2xpY2snLCBkaXNtaXNzLCB0aGlzLmNsb3NlKQ0KICAgICAgfQ0KDQogIEFsZXJ0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uIChlKSB7DQogICAgdmFyICR0aGlzID0gJCh0aGlzKQ0KICAgICAgLCBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykNCiAgICAgICwgJHBhcmVudA0KDQogICAgaWYgKCFzZWxlY3Rvcikgew0KICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJykNCiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cc10qJCkvLCAnJykgLy9zdHJpcCBmb3IgaWU3DQogICAgfQ0KDQogICAgJHBhcmVudCA9ICQoc2VsZWN0b3IpDQoNCiAgICBlICYmIGUucHJldmVudERlZmF1bHQoKQ0KDQogICAgJHBhcmVudC5sZW5ndGggfHwgKCRwYXJlbnQgPSAkdGhpcy5oYXNDbGFzcygnYWxlcnQnKSA/ICR0aGlzIDogJHRoaXMucGFyZW50KCkpDQoNCiAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2Nsb3NlJykpDQoNCiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuDQoNCiAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdpbicpDQoNCiAgICBmdW5jdGlvbiByZW1vdmVFbGVtZW50KCkgew0KICAgICAgJHBhcmVudA0KICAgICAgICAudHJpZ2dlcignY2xvc2VkJykNCiAgICAgICAgLnJlbW92ZSgpDQogICAgfQ0KDQogICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgJHBhcmVudC5oYXNDbGFzcygnZmFkZScpID8NCiAgICAgICRwYXJlbnQub24oJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLCByZW1vdmVFbGVtZW50KSA6DQogICAgICByZW1vdmVFbGVtZW50KCkNCiAgfQ0KDQoNCiAvKiBBTEVSVCBQTFVHSU4gREVGSU5JVElPTg0KICAqID09PT09PT09PT09PT09PT09PT09PT09ICovDQoNCiAgJC5mbi5hbGVydCA9IGZ1bmN0aW9uIChvcHRpb24pIHsNCiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsNCiAgICAgIHZhciAkdGhpcyA9ICQodGhpcykNCiAgICAgICAgLCBkYXRhID0gJHRoaXMuZGF0YSgnYWxlcnQnKQ0KICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdhbGVydCcsIChkYXRhID0gbmV3IEFsZXJ0KHRoaXMpKSkNCiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0uY2FsbCgkdGhpcykNCiAgICB9KQ0KICB9DQoNCiAgJC5mbi5hbGVydC5Db25zdHJ1Y3RvciA9IEFsZXJ0DQoNCg0KIC8qIEFMRVJUIERBVEEtQVBJDQogICogPT09PT09PT09PT09PT0gKi8NCg0KICAkKGZ1bmN0aW9uICgpIHsNCiAgICAkKCdib2R5Jykub24oJ2NsaWNrLmFsZXJ0LmRhdGEtYXBpJywgZGlzbWlzcywgQWxlcnQucHJvdG90eXBlLmNsb3NlKQ0KICB9KQ0KDQp9KHdpbmRvdy5qUXVlcnkpOw0KLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogKiBib290c3RyYXAtYnV0dG9uLmpzIHYyLjAuMw0KICogaHR0cDovL3R3aXR0ZXIuZ2l0aHViLmNvbS9ib290c3RyYXAvamF2YXNjcmlwdC5odG1sI2J1dHRvbnMNCiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KICogQ29weXJpZ2h0IDIwMTIgVHdpdHRlciwgSW5jLg0KICoNCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOw0KICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLg0KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0DQogKg0KICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQ0KICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywNCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLg0KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZA0KICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuDQogKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCg0KDQohZnVuY3Rpb24gKCQpIHsNCg0KICAidXNlIHN0cmljdCI7IC8vIGpzaGludCA7XzsNCg0KDQogLyogQlVUVE9OIFBVQkxJQyBDTEFTUyBERUZJTklUSU9ODQogICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovDQoNCiAgdmFyIEJ1dHRvbiA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7DQogICAgdGhpcy4kZWxlbWVudCA9ICQoZWxlbWVudCkNCiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJC5mbi5idXR0b24uZGVmYXVsdHMsIG9wdGlvbnMpDQogIH0NCg0KICBCdXR0b24ucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7DQogICAgdmFyIGQgPSAnZGlzYWJsZWQnDQogICAgICAsICRlbCA9IHRoaXMuJGVsZW1lbnQNCiAgICAgICwgZGF0YSA9ICRlbC5kYXRhKCkNCiAgICAgICwgdmFsID0gJGVsLmlzKCdpbnB1dCcpID8gJ3ZhbCcgOiAnaHRtbCcNCg0KICAgIHN0YXRlID0gc3RhdGUgKyAnVGV4dCcNCiAgICBkYXRhLnJlc2V0VGV4dCB8fCAkZWwuZGF0YSgncmVzZXRUZXh0JywgJGVsW3ZhbF0oKSkNCg0KICAgICRlbFt2YWxdKGRhdGFbc3RhdGVdIHx8IHRoaXMub3B0aW9uc1tzdGF0ZV0pDQoNCiAgICAvLyBwdXNoIHRvIGV2ZW50IGxvb3AgdG8gYWxsb3cgZm9ybXMgdG8gc3VibWl0DQogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQogICAgICBzdGF0ZSA9PSAnbG9hZGluZ1RleHQnID8NCiAgICAgICAgJGVsLmFkZENsYXNzKGQpLmF0dHIoZCwgZCkgOg0KICAgICAgICAkZWwucmVtb3ZlQ2xhc3MoZCkucmVtb3ZlQXR0cihkKQ0KICAgIH0sIDApDQogIH0NCg0KICBCdXR0b24ucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHsNCiAgICB2YXIgJHBhcmVudCA9IHRoaXMuJGVsZW1lbnQucGFyZW50KCdbZGF0YS10b2dnbGU9ImJ1dHRvbnMtcmFkaW8iXScpDQoNCiAgICAkcGFyZW50ICYmICRwYXJlbnQNCiAgICAgIC5maW5kKCcuYWN0aXZlJykNCiAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJykNCg0KICAgIHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpDQogIH0NCg0KDQogLyogQlVUVE9OIFBMVUdJTiBERUZJTklUSU9ODQogICogPT09PT09PT09PT09PT09PT09PT09PT09ICovDQoNCiAgJC5mbi5idXR0b24gPSBmdW5jdGlvbiAob3B0aW9uKSB7DQogICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7DQogICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpDQogICAgICAgICwgZGF0YSA9ICR0aGlzLmRhdGEoJ2J1dHRvbicpDQogICAgICAgICwgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uDQogICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2J1dHRvbicsIChkYXRhID0gbmV3IEJ1dHRvbih0aGlzLCBvcHRpb25zKSkpDQogICAgICBpZiAob3B0aW9uID09ICd0b2dnbGUnKSBkYXRhLnRvZ2dsZSgpDQogICAgICBlbHNlIGlmIChvcHRpb24pIGRhdGEuc2V0U3RhdGUob3B0aW9uKQ0KICAgIH0pDQogIH0NCg0KICAkLmZuLmJ1dHRvbi5kZWZhdWx0cyA9IHsNCiAgICBsb2FkaW5nVGV4dDogJ2xvYWRpbmcuLi4nDQogIH0NCg0KICAkLmZuLmJ1dHRvbi5Db25zdHJ1Y3RvciA9IEJ1dHRvbg0KDQoNCiAvKiBCVVRUT04gREFUQS1BUEkNCiAgKiA9PT09PT09PT09PT09PT0gKi8NCg0KICAkKGZ1bmN0aW9uICgpIHsNCiAgICAkKCdib2R5Jykub24oJ2NsaWNrLmJ1dHRvbi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGVePWJ1dHRvbl0nLCBmdW5jdGlvbiAoIGUgKSB7DQogICAgICB2YXIgJGJ0biA9ICQoZS50YXJnZXQpDQogICAgICBpZiAoISRidG4uaGFzQ2xhc3MoJ2J0bicpKSAkYnRuID0gJGJ0bi5jbG9zZXN0KCcuYnRuJykNCiAgICAgICRidG4uYnV0dG9uKCd0b2dnbGUnKQ0KICAgIH0pDQogIH0pDQoNCn0od2luZG93LmpRdWVyeSk7DQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogKiBib290c3RyYXAtY29sbGFwc2UuanMgdjIuMC4zDQogKiBodHRwOi8vdHdpdHRlci5naXRodWIuY29tL2Jvb3RzdHJhcC9qYXZhc2NyaXB0Lmh0bWwjY29sbGFwc2UNCiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiAqIENvcHlyaWdodCAyMDEyIFR3aXR0ZXIsIEluYy4NCiAqDQogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsNCiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4NCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoNCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMA0KICoNCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUNCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsDQogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4NCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQNCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLg0KICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovDQoNCg0KIWZ1bmN0aW9uICgkKSB7DQoNCiAgInVzZSBzdHJpY3QiOyAvLyBqc2hpbnQgO187DQoNCg0KIC8qIENPTExBUFNFIFBVQkxJQyBDTEFTUyBERUZJTklUSU9ODQogICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCg0KICB2YXIgQ29sbGFwc2UgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykgew0KICAgIHRoaXMuJGVsZW1lbnQgPSAkKGVsZW1lbnQpDQogICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sICQuZm4uY29sbGFwc2UuZGVmYXVsdHMsIG9wdGlvbnMpDQoNCiAgICBpZiAodGhpcy5vcHRpb25zLnBhcmVudCkgew0KICAgICAgdGhpcy4kcGFyZW50ID0gJCh0aGlzLm9wdGlvbnMucGFyZW50KQ0KICAgIH0NCg0KICAgIHRoaXMub3B0aW9ucy50b2dnbGUgJiYgdGhpcy50b2dnbGUoKQ0KICB9DQoNCiAgQ29sbGFwc2UucHJvdG90eXBlID0gew0KDQogICAgY29uc3RydWN0b3I6IENvbGxhcHNlDQoNCiAgLCBkaW1lbnNpb246IGZ1bmN0aW9uICgpIHsNCiAgICAgIHZhciBoYXNXaWR0aCA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3dpZHRoJykNCiAgICAgIHJldHVybiBoYXNXaWR0aCA/ICd3aWR0aCcgOiAnaGVpZ2h0Jw0KICAgIH0NCg0KICAsIHNob3c6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHZhciBkaW1lbnNpb24NCiAgICAgICAgLCBzY3JvbGwNCiAgICAgICAgLCBhY3RpdmVzDQogICAgICAgICwgaGFzRGF0YQ0KDQogICAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nKSByZXR1cm4NCg0KICAgICAgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKQ0KICAgICAgc2Nyb2xsID0gJC5jYW1lbENhc2UoWydzY3JvbGwnLCBkaW1lbnNpb25dLmpvaW4oJy0nKSkNCiAgICAgIGFjdGl2ZXMgPSB0aGlzLiRwYXJlbnQgJiYgdGhpcy4kcGFyZW50LmZpbmQoJz4gLmFjY29yZGlvbi1ncm91cCA+IC5pbicpDQoNCiAgICAgIGlmIChhY3RpdmVzICYmIGFjdGl2ZXMubGVuZ3RoKSB7DQogICAgICAgIGhhc0RhdGEgPSBhY3RpdmVzLmRhdGEoJ2NvbGxhcHNlJykNCiAgICAgICAgaWYgKGhhc0RhdGEgJiYgaGFzRGF0YS50cmFuc2l0aW9uaW5nKSByZXR1cm4NCiAgICAgICAgYWN0aXZlcy5jb2xsYXBzZSgnaGlkZScpDQogICAgICAgIGhhc0RhdGEgfHwgYWN0aXZlcy5kYXRhKCdjb2xsYXBzZScsIG51bGwpDQogICAgICB9DQoNCiAgICAgIHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSgwKQ0KICAgICAgdGhpcy50cmFuc2l0aW9uKCdhZGRDbGFzcycsICQuRXZlbnQoJ3Nob3cnKSwgJ3Nob3duJykNCiAgICAgIHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50WzBdW3Njcm9sbF0pDQogICAgfQ0KDQogICwgaGlkZTogZnVuY3Rpb24gKCkgew0KICAgICAgdmFyIGRpbWVuc2lvbg0KICAgICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZykgcmV0dXJuDQogICAgICBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpDQogICAgICB0aGlzLnJlc2V0KHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSgpKQ0KICAgICAgdGhpcy50cmFuc2l0aW9uKCdyZW1vdmVDbGFzcycsICQuRXZlbnQoJ2hpZGUnKSwgJ2hpZGRlbicpDQogICAgICB0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0oMCkNCiAgICB9DQoNCiAgLCByZXNldDogZnVuY3Rpb24gKHNpemUpIHsNCiAgICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpDQoNCiAgICAgIHRoaXMuJGVsZW1lbnQNCiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpDQogICAgICAgIFtkaW1lbnNpb25dKHNpemUgfHwgJ2F1dG8nKQ0KICAgICAgICBbMF0ub2Zmc2V0V2lkdGgNCg0KICAgICAgdGhpcy4kZWxlbWVudFtzaXplICE9PSBudWxsID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKCdjb2xsYXBzZScpDQoNCiAgICAgIHJldHVybiB0aGlzDQogICAgfQ0KDQogICwgdHJhbnNpdGlvbjogZnVuY3Rpb24gKG1ldGhvZCwgc3RhcnRFdmVudCwgY29tcGxldGVFdmVudCkgew0KICAgICAgdmFyIHRoYXQgPSB0aGlzDQogICAgICAgICwgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBpZiAoc3RhcnRFdmVudC50eXBlID09ICdzaG93JykgdGhhdC5yZXNldCgpDQogICAgICAgICAgICB0aGF0LnRyYW5zaXRpb25pbmcgPSAwDQogICAgICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoY29tcGxldGVFdmVudCkNCiAgICAgICAgICB9DQoNCiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KQ0KDQogICAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuDQoNCiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDENCg0KICAgICAgdGhpcy4kZWxlbWVudFttZXRob2RdKCdpbicpDQoNCiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2NvbGxhcHNlJykgPw0KICAgICAgICB0aGlzLiRlbGVtZW50Lm9uZSgkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsIGNvbXBsZXRlKSA6DQogICAgICAgIGNvbXBsZXRlKCkNCiAgICB9DQoNCiAgLCB0b2dnbGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHRoaXNbdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSA/ICdoaWRlJyA6ICdzaG93J10oKQ0KICAgIH0NCg0KICB9DQoNCg0KIC8qIENPTExBUFNJQkxFIFBMVUdJTiBERUZJTklUSU9ODQogICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovDQoNCiAgJC5mbi5jb2xsYXBzZSA9IGZ1bmN0aW9uIChvcHRpb24pIHsNCiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsNCiAgICAgIHZhciAkdGhpcyA9ICQodGhpcykNCiAgICAgICAgLCBkYXRhID0gJHRoaXMuZGF0YSgnY29sbGFwc2UnKQ0KICAgICAgICAsIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbg0KICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdjb2xsYXBzZScsIChkYXRhID0gbmV3IENvbGxhcHNlKHRoaXMsIG9wdGlvbnMpKSkNCiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKQ0KICAgIH0pDQogIH0NCg0KICAkLmZuLmNvbGxhcHNlLmRlZmF1bHRzID0gew0KICAgIHRvZ2dsZTogdHJ1ZQ0KICB9DQoNCiAgJC5mbi5jb2xsYXBzZS5Db25zdHJ1Y3RvciA9IENvbGxhcHNlDQoNCg0KIC8qIENPTExBUFNJQkxFIERBVEEtQVBJDQogICogPT09PT09PT09PT09PT09PT09PT0gKi8NCg0KICAkKGZ1bmN0aW9uICgpIHsNCiAgICAkKCdib2R5Jykub24oJ2NsaWNrLmNvbGxhcHNlLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1jb2xsYXBzZV0nLCBmdW5jdGlvbiAoIGUgKSB7DQogICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLCBocmVmDQogICAgICAgICwgdGFyZ2V0ID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKQ0KICAgICAgICAgIHx8IGUucHJldmVudERlZmF1bHQoKQ0KICAgICAgICAgIHx8IChocmVmID0gJHRoaXMuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXHNdKyQpLywgJycpIC8vc3RyaXAgZm9yIGllNw0KICAgICAgICAsIG9wdGlvbiA9ICQodGFyZ2V0KS5kYXRhKCdjb2xsYXBzZScpID8gJ3RvZ2dsZScgOiAkdGhpcy5kYXRhKCkNCiAgICAgICQodGFyZ2V0KS5jb2xsYXBzZShvcHRpb24pDQogICAgfSkNCiAgfSkNCg0KfSh3aW5kb3cualF1ZXJ5KTsNCi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiAqIGJvb3RzdHJhcC1jYXJvdXNlbC5qcyB2Mi4wLjMNCiAqIGh0dHA6Ly90d2l0dGVyLmdpdGh1Yi5jb20vYm9vdHN0cmFwL2phdmFzY3JpcHQuaHRtbCNjYXJvdXNlbA0KICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KICogQ29weXJpZ2h0IDIwMTIgVHdpdHRlciwgSW5jLg0KICoNCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOw0KICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLg0KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0DQogKg0KICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQ0KICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywNCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLg0KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZA0KICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuDQogKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovDQoNCg0KIWZ1bmN0aW9uICgkKSB7DQoNCiAgInVzZSBzdHJpY3QiOyAvLyBqc2hpbnQgO187DQoNCg0KIC8qIENBUk9VU0VMIENMQVNTIERFRklOSVRJT04NCiAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09ICovDQoNCiAgdmFyIENhcm91c2VsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHsNCiAgICB0aGlzLiRlbGVtZW50ID0gJChlbGVtZW50KQ0KICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMNCiAgICB0aGlzLm9wdGlvbnMuc2xpZGUgJiYgdGhpcy5zbGlkZSh0aGlzLm9wdGlvbnMuc2xpZGUpDQogICAgdGhpcy5vcHRpb25zLnBhdXNlID09ICdob3ZlcicgJiYgdGhpcy4kZWxlbWVudA0KICAgICAgLm9uKCdtb3VzZWVudGVyJywgJC5wcm94eSh0aGlzLnBhdXNlLCB0aGlzKSkNCiAgICAgIC5vbignbW91c2VsZWF2ZScsICQucHJveHkodGhpcy5jeWNsZSwgdGhpcykpDQogIH0NCg0KICBDYXJvdXNlbC5wcm90b3R5cGUgPSB7DQoNCiAgICBjeWNsZTogZnVuY3Rpb24gKGUpIHsNCiAgICAgIGlmICghZSkgdGhpcy5wYXVzZWQgPSBmYWxzZQ0KICAgICAgdGhpcy5vcHRpb25zLmludGVydmFsDQogICAgICAgICYmICF0aGlzLnBhdXNlZA0KICAgICAgICAmJiAodGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCQucHJveHkodGhpcy5uZXh0LCB0aGlzKSwgdGhpcy5vcHRpb25zLmludGVydmFsKSkNCiAgICAgIHJldHVybiB0aGlzDQogICAgfQ0KDQogICwgdG86IGZ1bmN0aW9uIChwb3MpIHsNCiAgICAgIHZhciAkYWN0aXZlID0gdGhpcy4kZWxlbWVudC5maW5kKCcuYWN0aXZlJykNCiAgICAgICAgLCBjaGlsZHJlbiA9ICRhY3RpdmUucGFyZW50KCkuY2hpbGRyZW4oKQ0KICAgICAgICAsIGFjdGl2ZVBvcyA9IGNoaWxkcmVuLmluZGV4KCRhY3RpdmUpDQogICAgICAgICwgdGhhdCA9IHRoaXMNCg0KICAgICAgaWYgKHBvcyA+IChjaGlsZHJlbi5sZW5ndGggLSAxKSB8fCBwb3MgPCAwKSByZXR1cm4NCg0KICAgICAgaWYgKHRoaXMuc2xpZGluZykgew0KICAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudC5vbmUoJ3NsaWQnLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgdGhhdC50byhwb3MpDQogICAgICAgIH0pDQogICAgICB9DQoNCiAgICAgIGlmIChhY3RpdmVQb3MgPT0gcG9zKSB7DQogICAgICAgIHJldHVybiB0aGlzLnBhdXNlKCkuY3ljbGUoKQ0KICAgICAgfQ0KDQogICAgICByZXR1cm4gdGhpcy5zbGlkZShwb3MgPiBhY3RpdmVQb3MgPyAnbmV4dCcgOiAncHJldicsICQoY2hpbGRyZW5bcG9zXSkpDQogICAgfQ0KDQogICwgcGF1c2U6IGZ1bmN0aW9uIChlKSB7DQogICAgICBpZiAoIWUpIHRoaXMucGF1c2VkID0gdHJ1ZQ0KICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKQ0KICAgICAgdGhpcy5pbnRlcnZhbCA9IG51bGwNCiAgICAgIHJldHVybiB0aGlzDQogICAgfQ0KDQogICwgbmV4dDogZnVuY3Rpb24gKCkgew0KICAgICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuDQogICAgICByZXR1cm4gdGhpcy5zbGlkZSgnbmV4dCcpDQogICAgfQ0KDQogICwgcHJldjogZnVuY3Rpb24gKCkgew0KICAgICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuDQogICAgICByZXR1cm4gdGhpcy5zbGlkZSgncHJldicpDQogICAgfQ0KDQogICwgc2xpZGU6IGZ1bmN0aW9uICh0eXBlLCBuZXh0KSB7DQogICAgICB2YXIgJGFjdGl2ZSA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmFjdGl2ZScpDQogICAgICAgICwgJG5leHQgPSBuZXh0IHx8ICRhY3RpdmVbdHlwZV0oKQ0KICAgICAgICAsIGlzQ3ljbGluZyA9IHRoaXMuaW50ZXJ2YWwNCiAgICAgICAgLCBkaXJlY3Rpb24gPSB0eXBlID09ICduZXh0JyA/ICdsZWZ0JyA6ICdyaWdodCcNCiAgICAgICAgLCBmYWxsYmFjayAgPSB0eXBlID09ICduZXh0JyA/ICdmaXJzdCcgOiAnbGFzdCcNCiAgICAgICAgLCB0aGF0ID0gdGhpcw0KICAgICAgICAsIGUgPSAkLkV2ZW50KCdzbGlkZScpDQoNCiAgICAgIHRoaXMuc2xpZGluZyA9IHRydWUNCg0KICAgICAgaXNDeWNsaW5nICYmIHRoaXMucGF1c2UoKQ0KDQogICAgICAkbmV4dCA9ICRuZXh0Lmxlbmd0aCA/ICRuZXh0IDogdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbScpW2ZhbGxiYWNrXSgpDQoNCiAgICAgIGlmICgkbmV4dC5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVybg0KDQogICAgICBpZiAoJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnc2xpZGUnKSkgew0KICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSkNCiAgICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybg0KICAgICAgICAkbmV4dC5hZGRDbGFzcyh0eXBlKQ0KICAgICAgICAkbmV4dFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3cNCiAgICAgICAgJGFjdGl2ZS5hZGRDbGFzcyhkaXJlY3Rpb24pDQogICAgICAgICRuZXh0LmFkZENsYXNzKGRpcmVjdGlvbikNCiAgICAgICAgdGhpcy4kZWxlbWVudC5vbmUoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgJG5leHQucmVtb3ZlQ2xhc3MoW3R5cGUsIGRpcmVjdGlvbl0uam9pbignICcpKS5hZGRDbGFzcygnYWN0aXZlJykNCiAgICAgICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKFsnYWN0aXZlJywgZGlyZWN0aW9uXS5qb2luKCcgJykpDQogICAgICAgICAgdGhhdC5zbGlkaW5nID0gZmFsc2UNCiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdzbGlkJykgfSwgMCkNCiAgICAgICAgfSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKQ0KICAgICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuDQogICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpDQogICAgICAgICRuZXh0LmFkZENsYXNzKCdhY3RpdmUnKQ0KICAgICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZQ0KICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ3NsaWQnKQ0KICAgICAgfQ0KDQogICAgICBpc0N5Y2xpbmcgJiYgdGhpcy5jeWNsZSgpDQoNCiAgICAgIHJldHVybiB0aGlzDQogICAgfQ0KDQogIH0NCg0KDQogLyogQ0FST1VTRUwgUExVR0lOIERFRklOSVRJT04NCiAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KDQogICQuZm4uY2Fyb3VzZWwgPSBmdW5jdGlvbiAob3B0aW9uKSB7DQogICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7DQogICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpDQogICAgICAgICwgZGF0YSA9ICR0aGlzLmRhdGEoJ2Nhcm91c2VsJykNCiAgICAgICAgLCBvcHRpb25zID0gJC5leHRlbmQoe30sICQuZm4uY2Fyb3VzZWwuZGVmYXVsdHMsIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKQ0KICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdjYXJvdXNlbCcsIChkYXRhID0gbmV3IENhcm91c2VsKHRoaXMsIG9wdGlvbnMpKSkNCiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdudW1iZXInKSBkYXRhLnRvKG9wdGlvbikNCiAgICAgIGVsc2UgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycgfHwgKG9wdGlvbiA9IG9wdGlvbnMuc2xpZGUpKSBkYXRhW29wdGlvbl0oKQ0KICAgICAgZWxzZSBpZiAob3B0aW9ucy5pbnRlcnZhbCkgZGF0YS5jeWNsZSgpDQogICAgfSkNCiAgfQ0KDQogICQuZm4uY2Fyb3VzZWwuZGVmYXVsdHMgPSB7DQogICAgaW50ZXJ2YWw6IDUwMDANCiAgLCBwYXVzZTogJ2hvdmVyJw0KICB9DQoNCiAgJC5mbi5jYXJvdXNlbC5Db25zdHJ1Y3RvciA9IENhcm91c2VsDQoNCg0KIC8qIENBUk9VU0VMIERBVEEtQVBJDQogICogPT09PT09PT09PT09PT09PT0gKi8NCg0KICAkKGZ1bmN0aW9uICgpIHsNCiAgICAkKCdib2R5Jykub24oJ2NsaWNrLmNhcm91c2VsLmRhdGEtYXBpJywgJ1tkYXRhLXNsaWRlXScsIGZ1bmN0aW9uICggZSApIHsNCiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksIGhyZWYNCiAgICAgICAgLCAkdGFyZ2V0ID0gJCgkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpIHx8IChocmVmID0gJHRoaXMuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXHNdKyQpLywgJycpKSAvL3N0cmlwIGZvciBpZTcNCiAgICAgICAgLCBvcHRpb25zID0gISR0YXJnZXQuZGF0YSgnbW9kYWwnKSAmJiAkLmV4dGVuZCh7fSwgJHRhcmdldC5kYXRhKCksICR0aGlzLmRhdGEoKSkNCiAgICAgICR0YXJnZXQuY2Fyb3VzZWwob3B0aW9ucykNCiAgICAgIGUucHJldmVudERlZmF1bHQoKQ0KICAgIH0pDQogIH0pDQoNCn0od2luZG93LmpRdWVyeSk7DQovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogKiBib290c3RyYXAtdHlwZWFoZWFkLmpzIHYyLjAuMw0KICogaHR0cDovL3R3aXR0ZXIuZ2l0aHViLmNvbS9ib290c3RyYXAvamF2YXNjcmlwdC5odG1sI3R5cGVhaGVhZA0KICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KICogQ29weXJpZ2h0IDIwMTIgVHdpdHRlciwgSW5jLg0KICoNCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOw0KICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLg0KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0DQogKg0KICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQ0KICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywNCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLg0KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZA0KICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuDQogKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8NCg0KDQohZnVuY3Rpb24oJCl7DQoNCiAgInVzZSBzdHJpY3QiOyAvLyBqc2hpbnQgO187DQoNCg0KIC8qIFRZUEVBSEVBRCBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTg0KICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLw0KDQogIHZhciBUeXBlYWhlYWQgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykgew0KICAgIHRoaXMuJGVsZW1lbnQgPSAkKGVsZW1lbnQpDQogICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sICQuZm4udHlwZWFoZWFkLmRlZmF1bHRzLCBvcHRpb25zKQ0KICAgIHRoaXMubWF0Y2hlciA9IHRoaXMub3B0aW9ucy5tYXRjaGVyIHx8IHRoaXMubWF0Y2hlcg0KICAgIHRoaXMuc29ydGVyID0gdGhpcy5vcHRpb25zLnNvcnRlciB8fCB0aGlzLnNvcnRlcg0KICAgIHRoaXMuaGlnaGxpZ2h0ZXIgPSB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0ZXIgfHwgdGhpcy5oaWdobGlnaHRlcg0KICAgIHRoaXMudXBkYXRlciA9IHRoaXMub3B0aW9ucy51cGRhdGVyIHx8IHRoaXMudXBkYXRlcg0KICAgIHRoaXMuJG1lbnUgPSAkKHRoaXMub3B0aW9ucy5tZW51KS5hcHBlbmRUbygnYm9keScpDQogICAgdGhpcy5zb3VyY2UgPSB0aGlzLm9wdGlvbnMuc291cmNlDQogICAgdGhpcy5zaG93biA9IGZhbHNlDQogICAgdGhpcy5saXN0ZW4oKQ0KICB9DQoNCiAgVHlwZWFoZWFkLnByb3RvdHlwZSA9IHsNCg0KICAgIGNvbnN0cnVjdG9yOiBUeXBlYWhlYWQNCg0KICAsIHNlbGVjdDogZnVuY3Rpb24gKCkgew0KICAgICAgdmFyIHZhbCA9IHRoaXMuJG1lbnUuZmluZCgnLmFjdGl2ZScpLmF0dHIoJ2RhdGEtdmFsdWUnKQ0KICAgICAgdGhpcy4kZWxlbWVudA0KICAgICAgICAudmFsKHRoaXMudXBkYXRlcih2YWwpKQ0KICAgICAgICAuY2hhbmdlKCkNCiAgICAgIHJldHVybiB0aGlzLmhpZGUoKQ0KICAgIH0NCg0KICAsIHVwZGF0ZXI6IGZ1bmN0aW9uIChpdGVtKSB7DQogICAgICByZXR1cm4gaXRlbQ0KICAgIH0NCg0KICAsIHNob3c6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHZhciBwb3MgPSAkLmV4dGVuZCh7fSwgdGhpcy4kZWxlbWVudC5vZmZzZXQoKSwgew0KICAgICAgICBoZWlnaHQ6IHRoaXMuJGVsZW1lbnRbMF0ub2Zmc2V0SGVpZ2h0DQogICAgICB9KQ0KDQogICAgICB0aGlzLiRtZW51LmNzcyh7DQogICAgICAgIHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQNCiAgICAgICwgbGVmdDogcG9zLmxlZnQNCiAgICAgIH0pDQoNCiAgICAgIHRoaXMuJG1lbnUuc2hvdygpDQogICAgICB0aGlzLnNob3duID0gdHJ1ZQ0KICAgICAgcmV0dXJuIHRoaXMNCiAgICB9DQoNCiAgLCBoaWRlOiBmdW5jdGlvbiAoKSB7DQogICAgICB0aGlzLiRtZW51LmhpZGUoKQ0KICAgICAgdGhpcy5zaG93biA9IGZhbHNlDQogICAgICByZXR1cm4gdGhpcw0KICAgIH0NCg0KICAsIGxvb2t1cDogZnVuY3Rpb24gKGV2ZW50KSB7DQogICAgICB2YXIgdGhhdCA9IHRoaXMNCiAgICAgICAgLCBpdGVtcw0KICAgICAgICAsIHENCg0KICAgICAgdGhpcy5xdWVyeSA9IHRoaXMuJGVsZW1lbnQudmFsKCkNCg0KICAgICAgaWYgKCF0aGlzLnF1ZXJ5KSB7DQogICAgICAgIHJldHVybiB0aGlzLnNob3duID8gdGhpcy5oaWRlKCkgOiB0aGlzDQogICAgICB9DQoNCiAgICAgIGl0ZW1zID0gJC5ncmVwKHRoaXMuc291cmNlLCBmdW5jdGlvbiAoaXRlbSkgew0KICAgICAgICByZXR1cm4gdGhhdC5tYXRjaGVyKGl0ZW0pDQogICAgICB9KQ0KDQogICAgICBpdGVtcyA9IHRoaXMuc29ydGVyKGl0ZW1zKQ0KDQogICAgICBpZiAoIWl0ZW1zLmxlbmd0aCkgew0KICAgICAgICByZXR1cm4gdGhpcy5zaG93biA/IHRoaXMuaGlkZSgpIDogdGhpcw0KICAgICAgfQ0KDQogICAgICByZXR1cm4gdGhpcy5yZW5kZXIoaXRlbXMuc2xpY2UoMCwgdGhpcy5vcHRpb25zLml0ZW1zKSkuc2hvdygpDQogICAgfQ0KDQogICwgbWF0Y2hlcjogZnVuY3Rpb24gKGl0ZW0pIHsNCiAgICAgIHJldHVybiB+aXRlbS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodGhpcy5xdWVyeS50b0xvd2VyQ2FzZSgpKQ0KICAgIH0NCg0KICAsIHNvcnRlcjogZnVuY3Rpb24gKGl0ZW1zKSB7DQogICAgICB2YXIgYmVnaW5zd2l0aCA9IFtdDQogICAgICAgICwgY2FzZVNlbnNpdGl2ZSA9IFtdDQogICAgICAgICwgY2FzZUluc2Vuc2l0aXZlID0gW10NCiAgICAgICAgLCBpdGVtDQoNCiAgICAgIHdoaWxlIChpdGVtID0gaXRlbXMuc2hpZnQoKSkgew0KICAgICAgICBpZiAoIWl0ZW0udG9Mb3dlckNhc2UoKS5pbmRleE9mKHRoaXMucXVlcnkudG9Mb3dlckNhc2UoKSkpIGJlZ2luc3dpdGgucHVzaChpdGVtKQ0KICAgICAgICBlbHNlIGlmICh+aXRlbS5pbmRleE9mKHRoaXMucXVlcnkpKSBjYXNlU2Vuc2l0aXZlLnB1c2goaXRlbSkNCiAgICAgICAgZWxzZSBjYXNlSW5zZW5zaXRpdmUucHVzaChpdGVtKQ0KICAgICAgfQ0KDQogICAgICByZXR1cm4gYmVnaW5zd2l0aC5jb25jYXQoY2FzZVNlbnNpdGl2ZSwgY2FzZUluc2Vuc2l0aXZlKQ0KICAgIH0NCg0KICAsIGhpZ2hsaWdodGVyOiBmdW5jdGlvbiAoaXRlbSkgew0KICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5xdWVyeS5yZXBsYWNlKC9bXC1cW1xde30oKSorPy4sXFxcXiR8I1xzXS9nLCAnXFwkJicpDQogICAgICByZXR1cm4gaXRlbS5yZXBsYWNlKG5ldyBSZWdFeHAoJygnICsgcXVlcnkgKyAnKScsICdpZycpLCBmdW5jdGlvbiAoJDEsIG1hdGNoKSB7DQogICAgICAgIHJldHVybiAnPHN0cm9uZz4nICsgbWF0Y2ggKyAnPC9zdHJvbmc+Jw0KICAgICAgfSkNCiAgICB9DQoNCiAgLCByZW5kZXI6IGZ1bmN0aW9uIChpdGVtcykgew0KICAgICAgdmFyIHRoYXQgPSB0aGlzDQoNCiAgICAgIGl0ZW1zID0gJChpdGVtcykubWFwKGZ1bmN0aW9uIChpLCBpdGVtKSB7DQogICAgICAgIGkgPSAkKHRoYXQub3B0aW9ucy5pdGVtKS5hdHRyKCdkYXRhLXZhbHVlJywgaXRlbSkNCiAgICAgICAgaS5maW5kKCdhJykuaHRtbCh0aGF0LmhpZ2hsaWdodGVyKGl0ZW0pKQ0KICAgICAgICByZXR1cm4gaVswXQ0KICAgICAgfSkNCg0KICAgICAgaXRlbXMuZmlyc3QoKS5hZGRDbGFzcygnYWN0aXZlJykNCiAgICAgIHRoaXMuJG1lbnUuaHRtbChpdGVtcykNCiAgICAgIHJldHVybiB0aGlzDQogICAgfQ0KDQogICwgbmV4dDogZnVuY3Rpb24gKGV2ZW50KSB7DQogICAgICB2YXIgYWN0aXZlID0gdGhpcy4kbWVudS5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpDQogICAgICAgICwgbmV4dCA9IGFjdGl2ZS5uZXh0KCkNCg0KICAgICAgaWYgKCFuZXh0Lmxlbmd0aCkgew0KICAgICAgICBuZXh0ID0gJCh0aGlzLiRtZW51LmZpbmQoJ2xpJylbMF0pDQogICAgICB9DQoNCiAgICAgIG5leHQuYWRkQ2xhc3MoJ2FjdGl2ZScpDQogICAgfQ0KDQogICwgcHJldjogZnVuY3Rpb24gKGV2ZW50KSB7DQogICAgICB2YXIgYWN0aXZlID0gdGhpcy4kbWVudS5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpDQogICAgICAgICwgcHJldiA9IGFjdGl2ZS5wcmV2KCkNCg0KICAgICAgaWYgKCFwcmV2Lmxlbmd0aCkgew0KICAgICAgICBwcmV2ID0gdGhpcy4kbWVudS5maW5kKCdsaScpLmxhc3QoKQ0KICAgICAgfQ0KDQogICAgICBwcmV2LmFkZENsYXNzKCdhY3RpdmUnKQ0KICAgIH0NCg0KICAsIGxpc3RlbjogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy4kZWxlbWVudA0KICAgICAgICAub24oJ2JsdXInLCAgICAgJC5wcm94eSh0aGlzLmJsdXIsIHRoaXMpKQ0KICAgICAgICAub24oJ2tleXByZXNzJywgJC5wcm94eSh0aGlzLmtleXByZXNzLCB0aGlzKSkNCiAgICAgICAgLm9uKCdrZXl1cCcsICAgICQucHJveHkodGhpcy5rZXl1cCwgdGhpcykpDQoNCiAgICAgIGlmICgkLmJyb3dzZXIud2Via2l0IHx8ICQuYnJvd3Nlci5tc2llKSB7DQogICAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2tleWRvd24nLCAkLnByb3h5KHRoaXMua2V5cHJlc3MsIHRoaXMpKQ0KICAgICAgfQ0KDQogICAgICB0aGlzLiRtZW51DQogICAgICAgIC5vbignY2xpY2snLCAkLnByb3h5KHRoaXMuY2xpY2ssIHRoaXMpKQ0KICAgICAgICAub24oJ21vdXNlZW50ZXInLCAnbGknLCAkLnByb3h5KHRoaXMubW91c2VlbnRlciwgdGhpcykpDQogICAgfQ0KDQogICwga2V5dXA6IGZ1bmN0aW9uIChlKSB7DQogICAgICBzd2l0Y2goZS5rZXlDb2RlKSB7DQogICAgICAgIGNhc2UgNDA6IC8vIGRvd24gYXJyb3cNCiAgICAgICAgY2FzZSAzODogLy8gdXAgYXJyb3cNCiAgICAgICAgICBicmVhaw0KDQogICAgICAgIGNhc2UgOTogLy8gdGFiDQogICAgICAgIGNhc2UgMTM6IC8vIGVudGVyDQogICAgICAgICAgaWYgKCF0aGlzLnNob3duKSByZXR1cm4NCiAgICAgICAgICB0aGlzLnNlbGVjdCgpDQogICAgICAgICAgYnJlYWsNCg0KICAgICAgICBjYXNlIDI3OiAvLyBlc2NhcGUNCiAgICAgICAgICBpZiAoIXRoaXMuc2hvd24pIHJldHVybg0KICAgICAgICAgIHRoaXMuaGlkZSgpDQogICAgICAgICAgYnJlYWsNCg0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgIHRoaXMubG9va3VwKCkNCiAgICAgIH0NCg0KICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKQ0KICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpDQogIH0NCg0KICAsIGtleXByZXNzOiBmdW5jdGlvbiAoZSkgew0KICAgICAgaWYgKCF0aGlzLnNob3duKSByZXR1cm4NCg0KICAgICAgc3dpdGNoKGUua2V5Q29kZSkgew0KICAgICAgICBjYXNlIDk6IC8vIHRhYg0KICAgICAgICBjYXNlIDEzOiAvLyBlbnRlcg0KICAgICAgICBjYXNlIDI3OiAvLyBlc2NhcGUNCiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCkNCiAgICAgICAgICBicmVhaw0KDQogICAgICAgIGNhc2UgMzg6IC8vIHVwIGFycm93DQogICAgICAgICAgaWYgKGUudHlwZSAhPSAna2V5ZG93bicpIGJyZWFrDQogICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpDQogICAgICAgICAgdGhpcy5wcmV2KCkNCiAgICAgICAgICBicmVhaw0KDQogICAgICAgIGNhc2UgNDA6IC8vIGRvd24gYXJyb3cNCiAgICAgICAgICBpZiAoZS50eXBlICE9ICdrZXlkb3duJykgYnJlYWsNCiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCkNCiAgICAgICAgICB0aGlzLm5leHQoKQ0KICAgICAgICAgIGJyZWFrDQogICAgICB9DQoNCiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCkNCiAgICB9DQoNCiAgLCBibHVyOiBmdW5jdGlvbiAoZSkgew0KICAgICAgdmFyIHRoYXQgPSB0aGlzDQogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgdGhhdC5oaWRlKCkgfSwgMTUwKQ0KICAgIH0NCg0KICAsIGNsaWNrOiBmdW5jdGlvbiAoZSkgew0KICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKQ0KICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpDQogICAgICB0aGlzLnNlbGVjdCgpDQogICAgfQ0KDQogICwgbW91c2VlbnRlcjogZnVuY3Rpb24gKGUpIHsNCiAgICAgIHRoaXMuJG1lbnUuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKQ0KICAgICAgJChlLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCdhY3RpdmUnKQ0KICAgIH0NCg0KICB9DQoNCg0KICAvKiBUWVBFQUhFQUQgUExVR0lOIERFRklOSVRJT04NCiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09ICovDQoNCiAgJC5mbi50eXBlYWhlYWQgPSBmdW5jdGlvbiAob3B0aW9uKSB7DQogICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7DQogICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpDQogICAgICAgICwgZGF0YSA9ICR0aGlzLmRhdGEoJ3R5cGVhaGVhZCcpDQogICAgICAgICwgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uDQogICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ3R5cGVhaGVhZCcsIChkYXRhID0gbmV3IFR5cGVhaGVhZCh0aGlzLCBvcHRpb25zKSkpDQogICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKCkNCiAgICB9KQ0KICB9DQoNCiAgJC5mbi50eXBlYWhlYWQuZGVmYXVsdHMgPSB7DQogICAgc291cmNlOiBbXQ0KICAsIGl0ZW1zOiA4DQogICwgbWVudTogJzx1bCBjbGFzcz0idHlwZWFoZWFkIGRyb3Bkb3duLW1lbnUiPjwvdWw+Jw0KICAsIGl0ZW06ICc8bGk+PGEgaHJlZj0iIyI+PC9hPjwvbGk+Jw0KICB9DQoNCiAgJC5mbi50eXBlYWhlYWQuQ29uc3RydWN0b3IgPSBUeXBlYWhlYWQNCg0KDQogLyogVFlQRUFIRUFEIERBVEEtQVBJDQogICogPT09PT09PT09PT09PT09PT09ICovDQoNCiAgJChmdW5jdGlvbiAoKSB7DQogICAgJCgnYm9keScpLm9uKCdmb2N1cy50eXBlYWhlYWQuZGF0YS1hcGknLCAnW2RhdGEtcHJvdmlkZT0idHlwZWFoZWFkIl0nLCBmdW5jdGlvbiAoZSkgew0KICAgICAgdmFyICR0aGlzID0gJCh0aGlzKQ0KICAgICAgaWYgKCR0aGlzLmRhdGEoJ3R5cGVhaGVhZCcpKSByZXR1cm4NCiAgICAgIGUucHJldmVudERlZmF1bHQoKQ0KICAgICAgJHRoaXMudHlwZWFoZWFkKCR0aGlzLmRhdGEoKSkNCiAgICB9KQ0KICB9KQ0KDQp9KHdpbmRvdy5qUXVlcnkpOw=="/>
                  <L7p:VariableToSet stringValue="output"/>
                </L7p:SetVariable>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="RIGHT.COMMENT"/>
                      <L7p:value stringValue="//bootsrap.js"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:Expression1 stringValue="${resource}"/>
                  <L7p:Expression2 stringValue="bootstrap.css"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item binary="included">
                      <L7p:RightValue stringValue="bootstrap.css"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="dGV4dC9jc3M7Y2hhcnNldD11dGYtOA=="/>
                  <L7p:VariableToSet stringValue="content_type"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="LyohDQogKiBCb290c3RyYXAgdjIuMC4zDQogKg0KICogQ29weXJpZ2h0IDIwMTIgVHdpdHRlciwgSW5jDQogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UgdjIuMA0KICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0KICogRGVzaWduZWQgYW5kIGJ1aWx0IHdpdGggYWxsIHRoZSBsb3ZlIGluIHRoZSB3b3JsZCBAdHdpdHRlciBieSBAbWRvIGFuZCBAZmF0Lg0KICovDQouY2xlYXJmaXggew0KICAqem9vbTogMTsNCn0NCi5jbGVhcmZpeDpiZWZvcmUsDQouY2xlYXJmaXg6YWZ0ZXIgew0KICBkaXNwbGF5OiB0YWJsZTsNCiAgY29udGVudDogIiI7DQp9DQouY2xlYXJmaXg6YWZ0ZXIgew0KICBjbGVhcjogYm90aDsNCn0NCi5oaWRlLXRleHQgew0KICBmb250OiAwLzAgYTsNCiAgY29sb3I6IHRyYW5zcGFyZW50Ow0KICB0ZXh0LXNoYWRvdzogbm9uZTsNCiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7DQogIGJvcmRlcjogMDsNCn0NCi5pbnB1dC1ibG9jay1sZXZlbCB7DQogIGRpc3BsYXk6IGJsb2NrOw0KICB3aWR0aDogMTAwJTsNCiAgbWluLWhlaWdodDogMjhweDsNCiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogIC1tcy1ib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KfQ0KYXJ0aWNsZSwNCmFzaWRlLA0KZGV0YWlscywNCmZpZ2NhcHRpb24sDQpmaWd1cmUsDQpmb290ZXIsDQpoZWFkZXIsDQpoZ3JvdXAsDQpuYXYsDQpzZWN0aW9uIHsNCiAgZGlzcGxheTogYmxvY2s7DQp9DQphdWRpbywNCmNhbnZhcywNCnZpZGVvIHsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAqZGlzcGxheTogaW5saW5lOw0KICAqem9vbTogMTsNCn0NCmF1ZGlvOm5vdChbY29udHJvbHNdKSB7DQogIGRpc3BsYXk6IG5vbmU7DQp9DQpodG1sIHsNCiAgZm9udC1zaXplOiAxMDAlOw0KICAtd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6IDEwMCU7DQogIC1tcy10ZXh0LXNpemUtYWRqdXN0OiAxMDAlOw0KfQ0KYTpmb2N1cyB7DQogIG91dGxpbmU6IHRoaW4gZG90dGVkICMzMzM7DQogIG91dGxpbmU6IDVweCBhdXRvIC13ZWJraXQtZm9jdXMtcmluZy1jb2xvcjsNCiAgb3V0bGluZS1vZmZzZXQ6IC0ycHg7DQp9DQphOmhvdmVyLA0KYTphY3RpdmUgew0KICBvdXRsaW5lOiAwOw0KfQ0Kc3ViLA0Kc3VwIHsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KICBmb250LXNpemU6IDc1JTsNCiAgbGluZS1oZWlnaHQ6IDA7DQogIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTsNCn0NCnN1cCB7DQogIHRvcDogLTAuNWVtOw0KfQ0Kc3ViIHsNCiAgYm90dG9tOiAtMC4yNWVtOw0KfQ0KaW1nIHsNCiAgbWF4LXdpZHRoOiAxMDAlOw0KICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOw0KICBib3JkZXI6IDA7DQogIC1tcy1pbnRlcnBvbGF0aW9uLW1vZGU6IGJpY3ViaWM7DQp9DQpidXR0b24sDQppbnB1dCwNCnNlbGVjdCwNCnRleHRhcmVhIHsNCiAgbWFyZ2luOiAwOw0KICBmb250LXNpemU6IDEwMCU7DQogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7DQp9DQpidXR0b24sDQppbnB1dCB7DQogICpvdmVyZmxvdzogdmlzaWJsZTsNCiAgbGluZS1oZWlnaHQ6IG5vcm1hbDsNCn0NCmJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lciwNCmlucHV0OjotbW96LWZvY3VzLWlubmVyIHsNCiAgcGFkZGluZzogMDsNCiAgYm9yZGVyOiAwOw0KfQ0KYnV0dG9uLA0KaW5wdXRbdHlwZT0iYnV0dG9uIl0sDQppbnB1dFt0eXBlPSJyZXNldCJdLA0KaW5wdXRbdHlwZT0ic3VibWl0Il0gew0KICBjdXJzb3I6IHBvaW50ZXI7DQogIC13ZWJraXQtYXBwZWFyYW5jZTogYnV0dG9uOw0KfQ0KaW5wdXRbdHlwZT0ic2VhcmNoIl0gew0KICAtd2Via2l0LWJveC1zaXppbmc6IGNvbnRlbnQtYm94Ow0KICAtbW96LWJveC1zaXppbmc6IGNvbnRlbnQtYm94Ow0KICBib3gtc2l6aW5nOiBjb250ZW50LWJveDsNCiAgLXdlYmtpdC1hcHBlYXJhbmNlOiB0ZXh0ZmllbGQ7DQp9DQppbnB1dFt0eXBlPSJzZWFyY2giXTo6LXdlYmtpdC1zZWFyY2gtZGVjb3JhdGlvbiwNCmlucHV0W3R5cGU9InNlYXJjaCJdOjotd2Via2l0LXNlYXJjaC1jYW5jZWwtYnV0dG9uIHsNCiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lOw0KfQ0KdGV4dGFyZWEgew0KICBvdmVyZmxvdzogYXV0bzsNCiAgdmVydGljYWwtYWxpZ246IHRvcDsNCn0NCmJvZHkgew0KICBtYXJnaW46IDA7DQogIGZvbnQtZmFtaWx5OiAiSGVsdmV0aWNhIE5ldWUiLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmOw0KICBmb250LXNpemU6IDEzcHg7DQogIGxpbmUtaGVpZ2h0OiAxOHB4Ow0KICBjb2xvcjogIzMzMzMzMzsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsNCn0NCmEgew0KICBjb2xvcjogIzAwODhjYzsNCiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KfQ0KYTpob3ZlciB7DQogIGNvbG9yOiAjMDA1NTgwOw0KICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsNCn0NCi5yb3cgew0KICBtYXJnaW4tbGVmdDogLTIwcHg7DQogICp6b29tOiAxOw0KfQ0KLnJvdzpiZWZvcmUsDQoucm93OmFmdGVyIHsNCiAgZGlzcGxheTogdGFibGU7DQogIGNvbnRlbnQ6ICIiOw0KfQ0KLnJvdzphZnRlciB7DQogIGNsZWFyOiBib3RoOw0KfQ0KW2NsYXNzKj0ic3BhbiJdIHsNCiAgZmxvYXQ6IGxlZnQ7DQogIG1hcmdpbi1sZWZ0OiAyMHB4Ow0KfQ0KLmNvbnRhaW5lciwNCi5uYXZiYXItZml4ZWQtdG9wIC5jb250YWluZXIsDQoubmF2YmFyLWZpeGVkLWJvdHRvbSAuY29udGFpbmVyIHsNCiAgd2lkdGg6IDk0MHB4Ow0KfQ0KLnNwYW4xMiB7DQogIHdpZHRoOiA5NDBweDsNCn0NCi5zcGFuMTEgew0KICB3aWR0aDogODYwcHg7DQp9DQouc3BhbjEwIHsNCiAgd2lkdGg6IDc4MHB4Ow0KfQ0KLnNwYW45IHsNCiAgd2lkdGg6IDcwMHB4Ow0KfQ0KLnNwYW44IHsNCiAgd2lkdGg6IDYyMHB4Ow0KfQ0KLnNwYW43IHsNCiAgd2lkdGg6IDU0MHB4Ow0KfQ0KLnNwYW42IHsNCiAgd2lkdGg6IDQ2MHB4Ow0KfQ0KLnNwYW41IHsNCiAgd2lkdGg6IDM4MHB4Ow0KfQ0KLnNwYW40IHsNCiAgd2lkdGg6IDMwMHB4Ow0KfQ0KLnNwYW4zIHsNCiAgd2lkdGg6IDIyMHB4Ow0KfQ0KLnNwYW4yIHsNCiAgd2lkdGg6IDE0MHB4Ow0KfQ0KLnNwYW4xIHsNCiAgd2lkdGg6IDYwcHg7DQp9DQoub2Zmc2V0MTIgew0KICBtYXJnaW4tbGVmdDogOTgwcHg7DQp9DQoub2Zmc2V0MTEgew0KICBtYXJnaW4tbGVmdDogOTAwcHg7DQp9DQoub2Zmc2V0MTAgew0KICBtYXJnaW4tbGVmdDogODIwcHg7DQp9DQoub2Zmc2V0OSB7DQogIG1hcmdpbi1sZWZ0OiA3NDBweDsNCn0NCi5vZmZzZXQ4IHsNCiAgbWFyZ2luLWxlZnQ6IDY2MHB4Ow0KfQ0KLm9mZnNldDcgew0KICBtYXJnaW4tbGVmdDogNTgwcHg7DQp9DQoub2Zmc2V0NiB7DQogIG1hcmdpbi1sZWZ0OiA1MDBweDsNCn0NCi5vZmZzZXQ1IHsNCiAgbWFyZ2luLWxlZnQ6IDQyMHB4Ow0KfQ0KLm9mZnNldDQgew0KICBtYXJnaW4tbGVmdDogMzQwcHg7DQp9DQoub2Zmc2V0MyB7DQogIG1hcmdpbi1sZWZ0OiAyNjBweDsNCn0NCi5vZmZzZXQyIHsNCiAgbWFyZ2luLWxlZnQ6IDE4MHB4Ow0KfQ0KLm9mZnNldDEgew0KICBtYXJnaW4tbGVmdDogMTAwcHg7DQp9DQoucm93LWZsdWlkIHsNCiAgd2lkdGg6IDEwMCU7DQogICp6b29tOiAxOw0KfQ0KLnJvdy1mbHVpZDpiZWZvcmUsDQoucm93LWZsdWlkOmFmdGVyIHsNCiAgZGlzcGxheTogdGFibGU7DQogIGNvbnRlbnQ6ICIiOw0KfQ0KLnJvdy1mbHVpZDphZnRlciB7DQogIGNsZWFyOiBib3RoOw0KfQ0KLnJvdy1mbHVpZCBbY2xhc3MqPSJzcGFuIl0gew0KICBkaXNwbGF5OiBibG9jazsNCiAgd2lkdGg6IDEwMCU7DQogIG1pbi1oZWlnaHQ6IDI4cHg7DQogIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAtbXMtYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgZmxvYXQ6IGxlZnQ7DQogIG1hcmdpbi1sZWZ0OiAyLjEyNzY1OTU3NCU7DQogICptYXJnaW4tbGVmdDogMi4wNzQ0NjgwODQ2MzgyOTc3JTsNCn0NCi5yb3ctZmx1aWQgW2NsYXNzKj0ic3BhbiJdOmZpcnN0LWNoaWxkIHsNCiAgbWFyZ2luLWxlZnQ6IDA7DQp9DQoucm93LWZsdWlkIC5zcGFuMTIgew0KICB3aWR0aDogOTkuOTk5OTk5OTg5OTk5OTklOw0KICAqd2lkdGg6IDk5Ljk0NjgwODUwMDYzODI4JTsNCn0NCi5yb3ctZmx1aWQgLnNwYW4xMSB7DQogIHdpZHRoOiA5MS40ODkzNjE2OTMlOw0KICAqd2lkdGg6IDkxLjQzNjE3MDIwMzYzODMlOw0KfQ0KLnJvdy1mbHVpZCAuc3BhbjEwIHsNCiAgd2lkdGg6IDgyLjk3ODcyMzM5NTk5OTk5JTsNCiAgKndpZHRoOiA4Mi45MjU1MzE5MDY2MzgyOCU7DQp9DQoucm93LWZsdWlkIC5zcGFuOSB7DQogIHdpZHRoOiA3NC40NjgwODUwOTklOw0KICAqd2lkdGg6IDc0LjQxNDg5MzYwOTYzODMlOw0KfQ0KLnJvdy1mbHVpZCAuc3Bhbjggew0KICB3aWR0aDogNjUuOTU3NDQ2ODAxOTk5OTklOw0KICAqd2lkdGg6IDY1LjkwNDI1NTMxMjYzODI4JTsNCn0NCi5yb3ctZmx1aWQgLnNwYW43IHsNCiAgd2lkdGg6IDU3LjQ0NjgwODUwNSU7DQogICp3aWR0aDogNTcuMzkzNjE3MDE1NjM4MyU7DQp9DQoucm93LWZsdWlkIC5zcGFuNiB7DQogIHdpZHRoOiA0OC45MzYxNzAyMDc5OTk5OSU7DQogICp3aWR0aDogNDguODgyOTc4NzE4NjM4MjklOw0KfQ0KLnJvdy1mbHVpZCAuc3BhbjUgew0KICB3aWR0aDogNDAuNDI1NTMxOTExJTsNCiAgKndpZHRoOiA0MC4zNzIzNDA0MjE2MzgzJTsNCn0NCi5yb3ctZmx1aWQgLnNwYW40IHsNCiAgd2lkdGg6IDMxLjkxNDg5MzYxNCU7DQogICp3aWR0aDogMzEuODYxNzAyMTI0NjM4MyU7DQp9DQoucm93LWZsdWlkIC5zcGFuMyB7DQogIHdpZHRoOiAyMy40MDQyNTUzMTclOw0KICAqd2lkdGg6IDIzLjM1MTA2MzgyNzYzODMlOw0KfQ0KLnJvdy1mbHVpZCAuc3BhbjIgew0KICB3aWR0aDogMTQuODkzNjE3MDIlOw0KICAqd2lkdGg6IDE0Ljg0MDQyNTUzMDYzODMlOw0KfQ0KLnJvdy1mbHVpZCAuc3BhbjEgew0KICB3aWR0aDogNi4zODI5Nzg3MjMlOw0KICAqd2lkdGg6IDYuMzI5Nzg3MjMzNjM4Mjk4JTsNCn0NCi5jb250YWluZXIgew0KICBtYXJnaW4tcmlnaHQ6IGF1dG87DQogIG1hcmdpbi1sZWZ0OiBhdXRvOw0KICAqem9vbTogMTsNCn0NCi5jb250YWluZXI6YmVmb3JlLA0KLmNvbnRhaW5lcjphZnRlciB7DQogIGRpc3BsYXk6IHRhYmxlOw0KICBjb250ZW50OiAiIjsNCn0NCi5jb250YWluZXI6YWZ0ZXIgew0KICBjbGVhcjogYm90aDsNCn0NCi5jb250YWluZXItZmx1aWQgew0KICBwYWRkaW5nLXJpZ2h0OiAyMHB4Ow0KICBwYWRkaW5nLWxlZnQ6IDIwcHg7DQogICp6b29tOiAxOw0KfQ0KLmNvbnRhaW5lci1mbHVpZDpiZWZvcmUsDQouY29udGFpbmVyLWZsdWlkOmFmdGVyIHsNCiAgZGlzcGxheTogdGFibGU7DQogIGNvbnRlbnQ6ICIiOw0KfQ0KLmNvbnRhaW5lci1mbHVpZDphZnRlciB7DQogIGNsZWFyOiBib3RoOw0KfQ0KcCB7DQogIG1hcmdpbjogMCAwIDlweDsNCiAgZm9udC1mYW1pbHk6ICJIZWx2ZXRpY2EgTmV1ZSIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7DQogIGZvbnQtc2l6ZTogMTNweDsNCiAgbGluZS1oZWlnaHQ6IDE4cHg7DQp9DQpwIHNtYWxsIHsNCiAgZm9udC1zaXplOiAxMXB4Ow0KICBjb2xvcjogIzk5OTk5OTsNCn0NCi5sZWFkIHsNCiAgbWFyZ2luLWJvdHRvbTogMThweDsNCiAgZm9udC1zaXplOiAyMHB4Ow0KICBmb250LXdlaWdodDogMjAwOw0KICBsaW5lLWhlaWdodDogMjdweDsNCn0NCmgxLA0KaDIsDQpoMywNCmg0LA0KaDUsDQpoNiB7DQogIG1hcmdpbjogMDsNCiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7DQogIGZvbnQtd2VpZ2h0OiBib2xkOw0KICBjb2xvcjogaW5oZXJpdDsNCiAgdGV4dC1yZW5kZXJpbmc6IG9wdGltaXplbGVnaWJpbGl0eTsNCn0NCmgxIHNtYWxsLA0KaDIgc21hbGwsDQpoMyBzbWFsbCwNCmg0IHNtYWxsLA0KaDUgc21hbGwsDQpoNiBzbWFsbCB7DQogIGZvbnQtd2VpZ2h0OiBub3JtYWw7DQogIGNvbG9yOiAjOTk5OTk5Ow0KfQ0KaDEgew0KICBmb250LXNpemU6IDMwcHg7DQogIGxpbmUtaGVpZ2h0OiAzNnB4Ow0KfQ0KaDEgc21hbGwgew0KICBmb250LXNpemU6IDE4cHg7DQp9DQpoMiB7DQogIGZvbnQtc2l6ZTogMjRweDsNCiAgbGluZS1oZWlnaHQ6IDM2cHg7DQp9DQpoMiBzbWFsbCB7DQogIGZvbnQtc2l6ZTogMThweDsNCn0NCmgzIHsNCiAgZm9udC1zaXplOiAxOHB4Ow0KICBsaW5lLWhlaWdodDogMjdweDsNCn0NCmgzIHNtYWxsIHsNCiAgZm9udC1zaXplOiAxNHB4Ow0KfQ0KaDQsDQpoNSwNCmg2IHsNCiAgbGluZS1oZWlnaHQ6IDE4cHg7DQp9DQpoNCB7DQogIGZvbnQtc2l6ZTogMTRweDsNCn0NCmg0IHNtYWxsIHsNCiAgZm9udC1zaXplOiAxMnB4Ow0KfQ0KaDUgew0KICBmb250LXNpemU6IDEycHg7DQp9DQpoNiB7DQogIGZvbnQtc2l6ZTogMTFweDsNCiAgY29sb3I6ICM5OTk5OTk7DQogIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7DQp9DQoucGFnZS1oZWFkZXIgew0KICBwYWRkaW5nLWJvdHRvbTogMTdweDsNCiAgbWFyZ2luOiAxOHB4IDA7DQogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlZWVlOw0KfQ0KLnBhZ2UtaGVhZGVyIGgxIHsNCiAgbGluZS1oZWlnaHQ6IDE7DQp9DQp1bCwNCm9sIHsNCiAgcGFkZGluZzogMDsNCiAgbWFyZ2luOiAwIDAgOXB4IDI1cHg7DQp9DQp1bCB1bCwNCnVsIG9sLA0Kb2wgb2wsDQpvbCB1bCB7DQogIG1hcmdpbi1ib3R0b206IDA7DQp9DQp1bCB7DQogIGxpc3Qtc3R5bGU6IGRpc2M7DQp9DQpvbCB7DQogIGxpc3Qtc3R5bGU6IGRlY2ltYWw7DQp9DQpsaSB7DQogIGxpbmUtaGVpZ2h0OiAxOHB4Ow0KfQ0KdWwudW5zdHlsZWQsDQpvbC51bnN0eWxlZCB7DQogIG1hcmdpbi1sZWZ0OiAwOw0KICBsaXN0LXN0eWxlOiBub25lOw0KfQ0KZGwgew0KICBtYXJnaW4tYm90dG9tOiAxOHB4Ow0KfQ0KZHQsDQpkZCB7DQogIGxpbmUtaGVpZ2h0OiAxOHB4Ow0KfQ0KZHQgew0KICBmb250LXdlaWdodDogYm9sZDsNCiAgbGluZS1oZWlnaHQ6IDE3cHg7DQp9DQpkZCB7DQogIG1hcmdpbi1sZWZ0OiA5cHg7DQp9DQouZGwtaG9yaXpvbnRhbCBkdCB7DQogIGZsb2F0OiBsZWZ0Ow0KICB3aWR0aDogMTIwcHg7DQogIGNsZWFyOiBsZWZ0Ow0KICB0ZXh0LWFsaWduOiByaWdodDsNCiAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7DQogIHdoaXRlLXNwYWNlOiBub3dyYXA7DQp9DQouZGwtaG9yaXpvbnRhbCBkZCB7DQogIG1hcmdpbi1sZWZ0OiAxMzBweDsNCn0NCmhyIHsNCiAgbWFyZ2luOiAxOHB4IDA7DQogIGJvcmRlcjogMDsNCiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWVlZWU7DQogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZmZmZmZmOw0KfQ0Kc3Ryb25nIHsNCiAgZm9udC13ZWlnaHQ6IGJvbGQ7DQp9DQplbSB7DQogIGZvbnQtc3R5bGU6IGl0YWxpYzsNCn0NCi5tdXRlZCB7DQogIGNvbG9yOiAjOTk5OTk5Ow0KfQ0KYWJiclt0aXRsZV0gew0KICBjdXJzb3I6IGhlbHA7DQogIGJvcmRlci1ib3R0b206IDFweCBkb3R0ZWQgI2RkZDsNCn0NCmFiYnIuaW5pdGlhbGlzbSB7DQogIGZvbnQtc2l6ZTogOTAlOw0KICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOw0KfQ0KYmxvY2txdW90ZSB7DQogIHBhZGRpbmc6IDAgMCAwIDE1cHg7DQogIG1hcmdpbjogMCAwIDE4cHg7DQogIGJvcmRlci1sZWZ0OiA1cHggc29saWQgI2VlZWVlZTsNCn0NCmJsb2NrcXVvdGUgcCB7DQogIG1hcmdpbi1ib3R0b206IDA7DQogIGZvbnQtc2l6ZTogMTZweDsNCiAgZm9udC13ZWlnaHQ6IDMwMDsNCiAgbGluZS1oZWlnaHQ6IDIyLjVweDsNCn0NCmJsb2NrcXVvdGUgc21hbGwgew0KICBkaXNwbGF5OiBibG9jazsNCiAgbGluZS1oZWlnaHQ6IDE4cHg7DQogIGNvbG9yOiAjOTk5OTk5Ow0KfQ0KYmxvY2txdW90ZSBzbWFsbDpiZWZvcmUgew0KICBjb250ZW50OiAnXDIwMTQgXDAwQTAnOw0KfQ0KYmxvY2txdW90ZS5wdWxsLXJpZ2h0IHsNCiAgZmxvYXQ6IHJpZ2h0Ow0KICBwYWRkaW5nLXJpZ2h0OiAxNXB4Ow0KICBwYWRkaW5nLWxlZnQ6IDA7DQogIGJvcmRlci1yaWdodDogNXB4IHNvbGlkICNlZWVlZWU7DQogIGJvcmRlci1sZWZ0OiAwOw0KfQ0KYmxvY2txdW90ZS5wdWxsLXJpZ2h0IHAsDQpibG9ja3F1b3RlLnB1bGwtcmlnaHQgc21hbGwgew0KICB0ZXh0LWFsaWduOiByaWdodDsNCn0NCnE6YmVmb3JlLA0KcTphZnRlciwNCmJsb2NrcXVvdGU6YmVmb3JlLA0KYmxvY2txdW90ZTphZnRlciB7DQogIGNvbnRlbnQ6ICIiOw0KfQ0KYWRkcmVzcyB7DQogIGRpc3BsYXk6IGJsb2NrOw0KICBtYXJnaW4tYm90dG9tOiAxOHB4Ow0KICBmb250LXN0eWxlOiBub3JtYWw7DQogIGxpbmUtaGVpZ2h0OiAxOHB4Ow0KfQ0Kc21hbGwgew0KICBmb250LXNpemU6IDEwMCU7DQp9DQpjaXRlIHsNCiAgZm9udC1zdHlsZTogbm9ybWFsOw0KfQ0KY29kZSwNCnByZSB7DQogIHBhZGRpbmc6IDAgM3B4IDJweDsNCiAgZm9udC1mYW1pbHk6IE1lbmxvLCBNb25hY28sIENvbnNvbGFzLCAiQ291cmllciBOZXciLCBtb25vc3BhY2U7DQogIGZvbnQtc2l6ZTogMTJweDsNCiAgY29sb3I6ICMzMzMzMzM7DQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogM3B4Ow0KICAtbW96LWJvcmRlci1yYWRpdXM6IDNweDsNCiAgYm9yZGVyLXJhZGl1czogM3B4Ow0KfQ0KY29kZSB7DQogIHBhZGRpbmc6IDJweCA0cHg7DQogIGNvbG9yOiAjZDE0Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y5Ow0KICBib3JkZXI6IDFweCBzb2xpZCAjZTFlMWU4Ow0KfQ0KcHJlIHsNCiAgZGlzcGxheTogYmxvY2s7DQogIHBhZGRpbmc6IDguNXB4Ow0KICBtYXJnaW46IDAgMCA5cHg7DQogIGZvbnQtc2l6ZTogMTIuMDI1cHg7DQogIGxpbmUtaGVpZ2h0OiAxOHB4Ow0KICB3b3JkLWJyZWFrOiBicmVhay1hbGw7DQogIHdvcmQtd3JhcDogYnJlYWstd29yZDsNCiAgd2hpdGUtc3BhY2U6IHByZTsNCiAgd2hpdGUtc3BhY2U6IHByZS13cmFwOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1Ow0KICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOw0KICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMTUpOw0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDRweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiA0cHg7DQogIGJvcmRlci1yYWRpdXM6IDRweDsNCn0NCnByZS5wcmV0dHlwcmludCB7DQogIG1hcmdpbi1ib3R0b206IDE4cHg7DQp9DQpwcmUgY29kZSB7DQogIHBhZGRpbmc6IDA7DQogIGNvbG9yOiBpbmhlcml0Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsNCiAgYm9yZGVyOiAwOw0KfQ0KLnByZS1zY3JvbGxhYmxlIHsNCiAgbWF4LWhlaWdodDogMzQwcHg7DQogIG92ZXJmbG93LXk6IHNjcm9sbDsNCn0NCi5sYWJlbCwNCi5iYWRnZSB7DQogIGZvbnQtc2l6ZTogMTAuOTk4cHg7DQogIGZvbnQtd2VpZ2h0OiBib2xkOw0KICBsaW5lLWhlaWdodDogMTRweDsNCiAgY29sb3I6ICNmZmZmZmY7DQogIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTsNCiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgdGV4dC1zaGFkb3c6IDAgLTFweCAwIHJnYmEoMCwgMCwgMCwgMC4yNSk7DQogIGJhY2tncm91bmQtY29sb3I6ICM5OTk5OTk7DQp9DQoubGFiZWwgew0KICBwYWRkaW5nOiAxcHggNHB4IDJweDsNCiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAzcHg7DQogIC1tb3otYm9yZGVyLXJhZGl1czogM3B4Ow0KICBib3JkZXItcmFkaXVzOiAzcHg7DQp9DQouYmFkZ2Ugew0KICBwYWRkaW5nOiAxcHggOXB4IDJweDsNCiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA5cHg7DQogIC1tb3otYm9yZGVyLXJhZGl1czogOXB4Ow0KICBib3JkZXItcmFkaXVzOiA5cHg7DQp9DQphLmxhYmVsOmhvdmVyLA0KYS5iYWRnZTpob3ZlciB7DQogIGNvbG9yOiAjZmZmZmZmOw0KICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQogIGN1cnNvcjogcG9pbnRlcjsNCn0NCi5sYWJlbC1pbXBvcnRhbnQsDQouYmFkZ2UtaW1wb3J0YW50IHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2I5NGE0ODsNCn0NCi5sYWJlbC1pbXBvcnRhbnRbaHJlZl0sDQouYmFkZ2UtaW1wb3J0YW50W2hyZWZdIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzk1M2IzOTsNCn0NCi5sYWJlbC13YXJuaW5nLA0KLmJhZGdlLXdhcm5pbmcgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjg5NDA2Ow0KfQ0KLmxhYmVsLXdhcm5pbmdbaHJlZl0sDQouYmFkZ2Utd2FybmluZ1tocmVmXSB7DQogIGJhY2tncm91bmQtY29sb3I6ICNjNjc2MDU7DQp9DQoubGFiZWwtc3VjY2VzcywNCi5iYWRnZS1zdWNjZXNzIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzQ2ODg0NzsNCn0NCi5sYWJlbC1zdWNjZXNzW2hyZWZdLA0KLmJhZGdlLXN1Y2Nlc3NbaHJlZl0gew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzU2NjM1Ow0KfQ0KLmxhYmVsLWluZm8sDQouYmFkZ2UtaW5mbyB7DQogIGJhY2tncm91bmQtY29sb3I6ICMzYTg3YWQ7DQp9DQoubGFiZWwtaW5mb1tocmVmXSwNCi5iYWRnZS1pbmZvW2hyZWZdIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzJkNjk4NzsNCn0NCi5sYWJlbC1pbnZlcnNlLA0KLmJhZGdlLWludmVyc2Ugew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzOw0KfQ0KLmxhYmVsLWludmVyc2VbaHJlZl0sDQouYmFkZ2UtaW52ZXJzZVtocmVmXSB7DQogIGJhY2tncm91bmQtY29sb3I6ICMxYTFhMWE7DQp9DQp0YWJsZSB7DQogIG1heC13aWR0aDogMTAwJTsNCiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7DQogIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7DQogIGJvcmRlci1zcGFjaW5nOiAwOw0KfQ0KLnRhYmxlIHsNCiAgd2lkdGg6IDEwMCU7DQogIG1hcmdpbi1ib3R0b206IDE4cHg7DQp9DQoudGFibGUgdGgsDQoudGFibGUgdGQgew0KICBwYWRkaW5nOiA4cHg7DQogIGxpbmUtaGVpZ2h0OiAxOHB4Ow0KICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICB2ZXJ0aWNhbC1hbGlnbjogdG9wOw0KICBib3JkZXItdG9wOiAxcHggc29saWQgI2RkZGRkZDsNCn0NCi50YWJsZSB0aCB7DQogIGZvbnQtd2VpZ2h0OiBib2xkOw0KfQ0KLnRhYmxlIHRoZWFkIHRoIHsNCiAgdmVydGljYWwtYWxpZ246IGJvdHRvbTsNCn0NCi50YWJsZSBjYXB0aW9uICsgdGhlYWQgdHI6Zmlyc3QtY2hpbGQgdGgsDQoudGFibGUgY2FwdGlvbiArIHRoZWFkIHRyOmZpcnN0LWNoaWxkIHRkLA0KLnRhYmxlIGNvbGdyb3VwICsgdGhlYWQgdHI6Zmlyc3QtY2hpbGQgdGgsDQoudGFibGUgY29sZ3JvdXAgKyB0aGVhZCB0cjpmaXJzdC1jaGlsZCB0ZCwNCi50YWJsZSB0aGVhZDpmaXJzdC1jaGlsZCB0cjpmaXJzdC1jaGlsZCB0aCwNCi50YWJsZSB0aGVhZDpmaXJzdC1jaGlsZCB0cjpmaXJzdC1jaGlsZCB0ZCB7DQogIGJvcmRlci10b3A6IDA7DQp9DQoudGFibGUgdGJvZHkgKyB0Ym9keSB7DQogIGJvcmRlci10b3A6IDJweCBzb2xpZCAjZGRkZGRkOw0KfQ0KLnRhYmxlLWNvbmRlbnNlZCB0aCwNCi50YWJsZS1jb25kZW5zZWQgdGQgew0KICBwYWRkaW5nOiA0cHggNXB4Ow0KfQ0KLnRhYmxlLWJvcmRlcmVkIHsNCiAgYm9yZGVyOiAxcHggc29saWQgI2RkZGRkZDsNCiAgYm9yZGVyLWNvbGxhcHNlOiBzZXBhcmF0ZTsNCiAgKmJvcmRlci1jb2xsYXBzZTogY29sbGFwc2VkOw0KICBib3JkZXItbGVmdDogMDsNCiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA0cHg7DQogIC1tb3otYm9yZGVyLXJhZGl1czogNHB4Ow0KICBib3JkZXItcmFkaXVzOiA0cHg7DQp9DQoudGFibGUtYm9yZGVyZWQgdGgsDQoudGFibGUtYm9yZGVyZWQgdGQgew0KICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNkZGRkZGQ7DQp9DQoudGFibGUtYm9yZGVyZWQgY2FwdGlvbiArIHRoZWFkIHRyOmZpcnN0LWNoaWxkIHRoLA0KLnRhYmxlLWJvcmRlcmVkIGNhcHRpb24gKyB0Ym9keSB0cjpmaXJzdC1jaGlsZCB0aCwNCi50YWJsZS1ib3JkZXJlZCBjYXB0aW9uICsgdGJvZHkgdHI6Zmlyc3QtY2hpbGQgdGQsDQoudGFibGUtYm9yZGVyZWQgY29sZ3JvdXAgKyB0aGVhZCB0cjpmaXJzdC1jaGlsZCB0aCwNCi50YWJsZS1ib3JkZXJlZCBjb2xncm91cCArIHRib2R5IHRyOmZpcnN0LWNoaWxkIHRoLA0KLnRhYmxlLWJvcmRlcmVkIGNvbGdyb3VwICsgdGJvZHkgdHI6Zmlyc3QtY2hpbGQgdGQsDQoudGFibGUtYm9yZGVyZWQgdGhlYWQ6Zmlyc3QtY2hpbGQgdHI6Zmlyc3QtY2hpbGQgdGgsDQoudGFibGUtYm9yZGVyZWQgdGJvZHk6Zmlyc3QtY2hpbGQgdHI6Zmlyc3QtY2hpbGQgdGgsDQoudGFibGUtYm9yZGVyZWQgdGJvZHk6Zmlyc3QtY2hpbGQgdHI6Zmlyc3QtY2hpbGQgdGQgew0KICBib3JkZXItdG9wOiAwOw0KfQ0KLnRhYmxlLWJvcmRlcmVkIHRoZWFkOmZpcnN0LWNoaWxkIHRyOmZpcnN0LWNoaWxkIHRoOmZpcnN0LWNoaWxkLA0KLnRhYmxlLWJvcmRlcmVkIHRib2R5OmZpcnN0LWNoaWxkIHRyOmZpcnN0LWNoaWxkIHRkOmZpcnN0LWNoaWxkIHsNCiAgLXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzOiA0cHg7DQogIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDRweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzLXRvcGxlZnQ6IDRweDsNCn0NCi50YWJsZS1ib3JkZXJlZCB0aGVhZDpmaXJzdC1jaGlsZCB0cjpmaXJzdC1jaGlsZCB0aDpsYXN0LWNoaWxkLA0KLnRhYmxlLWJvcmRlcmVkIHRib2R5OmZpcnN0LWNoaWxkIHRyOmZpcnN0LWNoaWxkIHRkOmxhc3QtY2hpbGQgew0KICAtd2Via2l0LWJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiA0cHg7DQogIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiA0cHg7DQogIC1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodDogNHB4Ow0KfQ0KLnRhYmxlLWJvcmRlcmVkIHRoZWFkOmxhc3QtY2hpbGQgdHI6bGFzdC1jaGlsZCB0aDpmaXJzdC1jaGlsZCwNCi50YWJsZS1ib3JkZXJlZCB0Ym9keTpsYXN0LWNoaWxkIHRyOmxhc3QtY2hpbGQgdGQ6Zmlyc3QtY2hpbGQgew0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDAgMCAwIDRweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiAwIDAgMCA0cHg7DQogIGJvcmRlci1yYWRpdXM6IDAgMCAwIDRweDsNCiAgLXdlYmtpdC1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA0cHg7DQogIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDRweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbWxlZnQ6IDRweDsNCn0NCi50YWJsZS1ib3JkZXJlZCB0aGVhZDpsYXN0LWNoaWxkIHRyOmxhc3QtY2hpbGQgdGg6bGFzdC1jaGlsZCwNCi50YWJsZS1ib3JkZXJlZCB0Ym9keTpsYXN0LWNoaWxkIHRyOmxhc3QtY2hpbGQgdGQ6bGFzdC1jaGlsZCB7DQogIC13ZWJraXQtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDRweDsNCiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDRweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbXJpZ2h0OiA0cHg7DQp9DQoudGFibGUtc3RyaXBlZCB0Ym9keSB0cjpudGgtY2hpbGQob2RkKSB0ZCwNCi50YWJsZS1zdHJpcGVkIHRib2R5IHRyOm50aC1jaGlsZChvZGQpIHRoIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTsNCn0NCi50YWJsZSB0Ym9keSB0cjpob3ZlciB0ZCwNCi50YWJsZSB0Ym9keSB0cjpob3ZlciB0aCB7DQogIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7DQp9DQp0YWJsZSAuc3BhbjEgew0KICBmbG9hdDogbm9uZTsNCiAgd2lkdGg6IDQ0cHg7DQogIG1hcmdpbi1sZWZ0OiAwOw0KfQ0KdGFibGUgLnNwYW4yIHsNCiAgZmxvYXQ6IG5vbmU7DQogIHdpZHRoOiAxMjRweDsNCiAgbWFyZ2luLWxlZnQ6IDA7DQp9DQp0YWJsZSAuc3BhbjMgew0KICBmbG9hdDogbm9uZTsNCiAgd2lkdGg6IDIwNHB4Ow0KICBtYXJnaW4tbGVmdDogMDsNCn0NCnRhYmxlIC5zcGFuNCB7DQogIGZsb2F0OiBub25lOw0KICB3aWR0aDogMjg0cHg7DQogIG1hcmdpbi1sZWZ0OiAwOw0KfQ0KdGFibGUgLnNwYW41IHsNCiAgZmxvYXQ6IG5vbmU7DQogIHdpZHRoOiAzNjRweDsNCiAgbWFyZ2luLWxlZnQ6IDA7DQp9DQp0YWJsZSAuc3BhbjYgew0KICBmbG9hdDogbm9uZTsNCiAgd2lkdGg6IDQ0NHB4Ow0KICBtYXJnaW4tbGVmdDogMDsNCn0NCnRhYmxlIC5zcGFuNyB7DQogIGZsb2F0OiBub25lOw0KICB3aWR0aDogNTI0cHg7DQogIG1hcmdpbi1sZWZ0OiAwOw0KfQ0KdGFibGUgLnNwYW44IHsNCiAgZmxvYXQ6IG5vbmU7DQogIHdpZHRoOiA2MDRweDsNCiAgbWFyZ2luLWxlZnQ6IDA7DQp9DQp0YWJsZSAuc3Bhbjkgew0KICBmbG9hdDogbm9uZTsNCiAgd2lkdGg6IDY4NHB4Ow0KICBtYXJnaW4tbGVmdDogMDsNCn0NCnRhYmxlIC5zcGFuMTAgew0KICBmbG9hdDogbm9uZTsNCiAgd2lkdGg6IDc2NHB4Ow0KICBtYXJnaW4tbGVmdDogMDsNCn0NCnRhYmxlIC5zcGFuMTEgew0KICBmbG9hdDogbm9uZTsNCiAgd2lkdGg6IDg0NHB4Ow0KICBtYXJnaW4tbGVmdDogMDsNCn0NCnRhYmxlIC5zcGFuMTIgew0KICBmbG9hdDogbm9uZTsNCiAgd2lkdGg6IDkyNHB4Ow0KICBtYXJnaW4tbGVmdDogMDsNCn0NCnRhYmxlIC5zcGFuMTMgew0KICBmbG9hdDogbm9uZTsNCiAgd2lkdGg6IDEwMDRweDsNCiAgbWFyZ2luLWxlZnQ6IDA7DQp9DQp0YWJsZSAuc3BhbjE0IHsNCiAgZmxvYXQ6IG5vbmU7DQogIHdpZHRoOiAxMDg0cHg7DQogIG1hcmdpbi1sZWZ0OiAwOw0KfQ0KdGFibGUgLnNwYW4xNSB7DQogIGZsb2F0OiBub25lOw0KICB3aWR0aDogMTE2NHB4Ow0KICBtYXJnaW4tbGVmdDogMDsNCn0NCnRhYmxlIC5zcGFuMTYgew0KICBmbG9hdDogbm9uZTsNCiAgd2lkdGg6IDEyNDRweDsNCiAgbWFyZ2luLWxlZnQ6IDA7DQp9DQp0YWJsZSAuc3BhbjE3IHsNCiAgZmxvYXQ6IG5vbmU7DQogIHdpZHRoOiAxMzI0cHg7DQogIG1hcmdpbi1sZWZ0OiAwOw0KfQ0KdGFibGUgLnNwYW4xOCB7DQogIGZsb2F0OiBub25lOw0KICB3aWR0aDogMTQwNHB4Ow0KICBtYXJnaW4tbGVmdDogMDsNCn0NCnRhYmxlIC5zcGFuMTkgew0KICBmbG9hdDogbm9uZTsNCiAgd2lkdGg6IDE0ODRweDsNCiAgbWFyZ2luLWxlZnQ6IDA7DQp9DQp0YWJsZSAuc3BhbjIwIHsNCiAgZmxvYXQ6IG5vbmU7DQogIHdpZHRoOiAxNTY0cHg7DQogIG1hcmdpbi1sZWZ0OiAwOw0KfQ0KdGFibGUgLnNwYW4yMSB7DQogIGZsb2F0OiBub25lOw0KICB3aWR0aDogMTY0NHB4Ow0KICBtYXJnaW4tbGVmdDogMDsNCn0NCnRhYmxlIC5zcGFuMjIgew0KICBmbG9hdDogbm9uZTsNCiAgd2lkdGg6IDE3MjRweDsNCiAgbWFyZ2luLWxlZnQ6IDA7DQp9DQp0YWJsZSAuc3BhbjIzIHsNCiAgZmxvYXQ6IG5vbmU7DQogIHdpZHRoOiAxODA0cHg7DQogIG1hcmdpbi1sZWZ0OiAwOw0KfQ0KdGFibGUgLnNwYW4yNCB7DQogIGZsb2F0OiBub25lOw0KICB3aWR0aDogMTg4NHB4Ow0KICBtYXJnaW4tbGVmdDogMDsNCn0NCmZvcm0gew0KICBtYXJnaW46IDAgMCAxOHB4Ow0KfQ0KZmllbGRzZXQgew0KICBwYWRkaW5nOiAwOw0KICBtYXJnaW46IDA7DQogIGJvcmRlcjogMDsNCn0NCmxlZ2VuZCB7DQogIGRpc3BsYXk6IGJsb2NrOw0KICB3aWR0aDogMTAwJTsNCiAgcGFkZGluZzogMDsNCiAgbWFyZ2luLWJvdHRvbTogMjdweDsNCiAgZm9udC1zaXplOiAxOS41cHg7DQogIGxpbmUtaGVpZ2h0OiAzNnB4Ow0KICBjb2xvcjogIzMzMzMzMzsNCiAgYm9yZGVyOiAwOw0KICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTsNCn0NCmxlZ2VuZCBzbWFsbCB7DQogIGZvbnQtc2l6ZTogMTMuNXB4Ow0KICBjb2xvcjogIzk5OTk5OTsNCn0NCmxhYmVsLA0KaW5wdXQsDQpidXR0b24sDQpzZWxlY3QsDQp0ZXh0YXJlYSB7DQogIGZvbnQtc2l6ZTogMTNweDsNCiAgZm9udC13ZWlnaHQ6IG5vcm1hbDsNCiAgbGluZS1oZWlnaHQ6IDE4cHg7DQp9DQppbnB1dCwNCmJ1dHRvbiwNCnNlbGVjdCwNCnRleHRhcmVhIHsNCiAgZm9udC1mYW1pbHk6ICJIZWx2ZXRpY2EgTmV1ZSIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7DQp9DQpsYWJlbCB7DQogIGRpc3BsYXk6IGJsb2NrOw0KICBtYXJnaW4tYm90dG9tOiA1cHg7DQogIGNvbG9yOiAjMzMzMzMzOw0KfQ0KaW5wdXQsDQp0ZXh0YXJlYSwNCnNlbGVjdCwNCi51bmVkaXRhYmxlLWlucHV0IHsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICB3aWR0aDogMjEwcHg7DQogIGhlaWdodDogMThweDsNCiAgcGFkZGluZzogNHB4Ow0KICBtYXJnaW4tYm90dG9tOiA5cHg7DQogIGZvbnQtc2l6ZTogMTNweDsNCiAgbGluZS1oZWlnaHQ6IDE4cHg7DQogIGNvbG9yOiAjNTU1NTU1Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOw0KICBib3JkZXI6IDFweCBzb2xpZCAjY2NjY2NjOw0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDNweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiAzcHg7DQogIGJvcmRlci1yYWRpdXM6IDNweDsNCn0NCi51bmVkaXRhYmxlLXRleHRhcmVhIHsNCiAgd2lkdGg6IGF1dG87DQogIGhlaWdodDogYXV0bzsNCn0NCmxhYmVsIGlucHV0LA0KbGFiZWwgdGV4dGFyZWEsDQpsYWJlbCBzZWxlY3Qgew0KICBkaXNwbGF5OiBibG9jazsNCn0NCmlucHV0W3R5cGU9ImltYWdlIl0sDQppbnB1dFt0eXBlPSJjaGVja2JveCJdLA0KaW5wdXRbdHlwZT0icmFkaW8iXSB7DQogIHdpZHRoOiBhdXRvOw0KICBoZWlnaHQ6IGF1dG87DQogIHBhZGRpbmc6IDA7DQogIG1hcmdpbjogM3B4IDA7DQogICptYXJnaW4tdG9wOiAwOw0KICAvKiBJRTcgKi8NCg0KICBsaW5lLWhlaWdodDogbm9ybWFsOw0KICBjdXJzb3I6IHBvaW50ZXI7DQogIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50Ow0KICBib3JkZXI6IDAgXDk7DQogIC8qIElFOSBhbmQgZG93biAqLw0KDQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiAwOw0KICBib3JkZXItcmFkaXVzOiAwOw0KfQ0KaW5wdXRbdHlwZT0iaW1hZ2UiXSB7DQogIGJvcmRlcjogMDsNCn0NCmlucHV0W3R5cGU9ImZpbGUiXSB7DQogIHdpZHRoOiBhdXRvOw0KICBwYWRkaW5nOiBpbml0aWFsOw0KICBsaW5lLWhlaWdodDogaW5pdGlhbDsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsNCiAgYmFja2dyb3VuZC1jb2xvcjogaW5pdGlhbDsNCiAgYm9yZGVyOiBpbml0aWFsOw0KICAtd2Via2l0LWJveC1zaGFkb3c6IG5vbmU7DQogIC1tb3otYm94LXNoYWRvdzogbm9uZTsNCiAgYm94LXNoYWRvdzogbm9uZTsNCn0NCmlucHV0W3R5cGU9ImJ1dHRvbiJdLA0KaW5wdXRbdHlwZT0icmVzZXQiXSwNCmlucHV0W3R5cGU9InN1Ym1pdCJdIHsNCiAgd2lkdGg6IGF1dG87DQogIGhlaWdodDogYXV0bzsNCn0NCnNlbGVjdCwNCmlucHV0W3R5cGU9ImZpbGUiXSB7DQogIGhlaWdodDogMjhweDsNCiAgLyogSW4gSUU3LCB0aGUgaGVpZ2h0IG9mIHRoZSBzZWxlY3QgZWxlbWVudCBjYW5ub3QgYmUgY2hhbmdlZCBieSBoZWlnaHQsIG9ubHkgZm9udC1zaXplICovDQoNCiAgKm1hcmdpbi10b3A6IDRweDsNCiAgLyogRm9yIElFNywgYWRkIHRvcCBtYXJnaW4gdG8gYWxpZ24gc2VsZWN0IHdpdGggbGFiZWxzICovDQoNCiAgbGluZS1oZWlnaHQ6IDI4cHg7DQp9DQppbnB1dFt0eXBlPSJmaWxlIl0gew0KICBsaW5lLWhlaWdodDogMThweCBcOTsNCn0NCnNlbGVjdCB7DQogIHdpZHRoOiAyMjBweDsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsNCn0NCnNlbGVjdFttdWx0aXBsZV0sDQpzZWxlY3Rbc2l6ZV0gew0KICBoZWlnaHQ6IGF1dG87DQp9DQppbnB1dFt0eXBlPSJpbWFnZSJdIHsNCiAgLXdlYmtpdC1ib3gtc2hhZG93OiBub25lOw0KICAtbW96LWJveC1zaGFkb3c6IG5vbmU7DQogIGJveC1zaGFkb3c6IG5vbmU7DQp9DQp0ZXh0YXJlYSB7DQogIGhlaWdodDogYXV0bzsNCn0NCmlucHV0W3R5cGU9ImhpZGRlbiJdIHsNCiAgZGlzcGxheTogbm9uZTsNCn0NCi5yYWRpbywNCi5jaGVja2JveCB7DQogIG1pbi1oZWlnaHQ6IDE4cHg7DQogIHBhZGRpbmctbGVmdDogMThweDsNCn0NCi5yYWRpbyBpbnB1dFt0eXBlPSJyYWRpbyJdLA0KLmNoZWNrYm94IGlucHV0W3R5cGU9ImNoZWNrYm94Il0gew0KICBmbG9hdDogbGVmdDsNCiAgbWFyZ2luLWxlZnQ6IC0xOHB4Ow0KfQ0KLmNvbnRyb2xzID4gLnJhZGlvOmZpcnN0LWNoaWxkLA0KLmNvbnRyb2xzID4gLmNoZWNrYm94OmZpcnN0LWNoaWxkIHsNCiAgcGFkZGluZy10b3A6IDVweDsNCn0NCi5yYWRpby5pbmxpbmUsDQouY2hlY2tib3guaW5saW5lIHsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICBwYWRkaW5nLXRvcDogNXB4Ow0KICBtYXJnaW4tYm90dG9tOiAwOw0KICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOw0KfQ0KLnJhZGlvLmlubGluZSArIC5yYWRpby5pbmxpbmUsDQouY2hlY2tib3guaW5saW5lICsgLmNoZWNrYm94LmlubGluZSB7DQogIG1hcmdpbi1sZWZ0OiAxMHB4Ow0KfQ0KaW5wdXQsDQp0ZXh0YXJlYSB7DQogIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4wNzUpOw0KICAtbW96LWJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMDc1KTsNCiAgYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4wNzUpOw0KICAtd2Via2l0LXRyYW5zaXRpb246IGJvcmRlciBsaW5lYXIgMC4ycywgYm94LXNoYWRvdyBsaW5lYXIgMC4yczsNCiAgLW1vei10cmFuc2l0aW9uOiBib3JkZXIgbGluZWFyIDAuMnMsIGJveC1zaGFkb3cgbGluZWFyIDAuMnM7DQogIC1tcy10cmFuc2l0aW9uOiBib3JkZXIgbGluZWFyIDAuMnMsIGJveC1zaGFkb3cgbGluZWFyIDAuMnM7DQogIC1vLXRyYW5zaXRpb246IGJvcmRlciBsaW5lYXIgMC4ycywgYm94LXNoYWRvdyBsaW5lYXIgMC4yczsNCiAgdHJhbnNpdGlvbjogYm9yZGVyIGxpbmVhciAwLjJzLCBib3gtc2hhZG93IGxpbmVhciAwLjJzOw0KfQ0KaW5wdXQ6Zm9jdXMsDQp0ZXh0YXJlYTpmb2N1cyB7DQogIGJvcmRlci1jb2xvcjogcmdiYSg4MiwgMTY4LCAyMzYsIDAuOCk7DQogIG91dGxpbmU6IDA7DQogIG91dGxpbmU6IHRoaW4gZG90dGVkIFw5Ow0KICAvKiBJRTYtOSAqLw0KDQogIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMXB4IHJnYmEoMCwwLDAsLjA3NSksIDAgMCA4cHggcmdiYSg4MiwxNjgsMjM2LC42KTsNCiAgLW1vei1ib3gtc2hhZG93OiBpbnNldCAwIDFweCAxcHggcmdiYSgwLDAsMCwuMDc1KSwgMCAwIDhweCByZ2JhKDgyLDE2OCwyMzYsLjYpOw0KICBib3gtc2hhZG93OiBpbnNldCAwIDFweCAxcHggcmdiYSgwLDAsMCwuMDc1KSwgMCAwIDhweCByZ2JhKDgyLDE2OCwyMzYsLjYpOw0KfQ0KaW5wdXRbdHlwZT0iZmlsZSJdOmZvY3VzLA0KaW5wdXRbdHlwZT0icmFkaW8iXTpmb2N1cywNCmlucHV0W3R5cGU9ImNoZWNrYm94Il06Zm9jdXMsDQpzZWxlY3Q6Zm9jdXMgew0KICBvdXRsaW5lOiB0aGluIGRvdHRlZCAjMzMzOw0KICBvdXRsaW5lOiA1cHggYXV0byAtd2Via2l0LWZvY3VzLXJpbmctY29sb3I7DQogIG91dGxpbmUtb2Zmc2V0OiAtMnB4Ow0KICAtd2Via2l0LWJveC1zaGFkb3c6IG5vbmU7DQogIC1tb3otYm94LXNoYWRvdzogbm9uZTsNCiAgYm94LXNoYWRvdzogbm9uZTsNCn0NCi5pbnB1dC1taW5pIHsNCiAgd2lkdGg6IDYwcHg7DQp9DQouaW5wdXQtc21hbGwgew0KICB3aWR0aDogOTBweDsNCn0NCi5pbnB1dC1tZWRpdW0gew0KICB3aWR0aDogMTUwcHg7DQp9DQouaW5wdXQtbGFyZ2Ugew0KICB3aWR0aDogMjEwcHg7DQp9DQouaW5wdXQteGxhcmdlIHsNCiAgd2lkdGg6IDI3MHB4Ow0KfQ0KLmlucHV0LXh4bGFyZ2Ugew0KICB3aWR0aDogNTMwcHg7DQp9DQppbnB1dFtjbGFzcyo9InNwYW4iXSwNCnNlbGVjdFtjbGFzcyo9InNwYW4iXSwNCnRleHRhcmVhW2NsYXNzKj0ic3BhbiJdLA0KLnVuZWRpdGFibGUtaW5wdXRbY2xhc3MqPSJzcGFuIl0sDQoucm93LWZsdWlkIGlucHV0W2NsYXNzKj0ic3BhbiJdLA0KLnJvdy1mbHVpZCBzZWxlY3RbY2xhc3MqPSJzcGFuIl0sDQoucm93LWZsdWlkIHRleHRhcmVhW2NsYXNzKj0ic3BhbiJdLA0KLnJvdy1mbHVpZCAudW5lZGl0YWJsZS1pbnB1dFtjbGFzcyo9InNwYW4iXSB7DQogIGZsb2F0OiBub25lOw0KICBtYXJnaW4tbGVmdDogMDsNCn0NCmlucHV0LA0KdGV4dGFyZWEsDQoudW5lZGl0YWJsZS1pbnB1dCB7DQogIG1hcmdpbi1sZWZ0OiAwOw0KfQ0KaW5wdXQuc3BhbjEyLCB0ZXh0YXJlYS5zcGFuMTIsIC51bmVkaXRhYmxlLWlucHV0LnNwYW4xMiB7DQogIHdpZHRoOiA5MzBweDsNCn0NCmlucHV0LnNwYW4xMSwgdGV4dGFyZWEuc3BhbjExLCAudW5lZGl0YWJsZS1pbnB1dC5zcGFuMTEgew0KICB3aWR0aDogODUwcHg7DQp9DQppbnB1dC5zcGFuMTAsIHRleHRhcmVhLnNwYW4xMCwgLnVuZWRpdGFibGUtaW5wdXQuc3BhbjEwIHsNCiAgd2lkdGg6IDc3MHB4Ow0KfQ0KaW5wdXQuc3BhbjksIHRleHRhcmVhLnNwYW45LCAudW5lZGl0YWJsZS1pbnB1dC5zcGFuOSB7DQogIHdpZHRoOiA2OTBweDsNCn0NCmlucHV0LnNwYW44LCB0ZXh0YXJlYS5zcGFuOCwgLnVuZWRpdGFibGUtaW5wdXQuc3Bhbjggew0KICB3aWR0aDogNjEwcHg7DQp9DQppbnB1dC5zcGFuNywgdGV4dGFyZWEuc3BhbjcsIC51bmVkaXRhYmxlLWlucHV0LnNwYW43IHsNCiAgd2lkdGg6IDUzMHB4Ow0KfQ0KaW5wdXQuc3BhbjYsIHRleHRhcmVhLnNwYW42LCAudW5lZGl0YWJsZS1pbnB1dC5zcGFuNiB7DQogIHdpZHRoOiA0NTBweDsNCn0NCmlucHV0LnNwYW41LCB0ZXh0YXJlYS5zcGFuNSwgLnVuZWRpdGFibGUtaW5wdXQuc3BhbjUgew0KICB3aWR0aDogMzcwcHg7DQp9DQppbnB1dC5zcGFuNCwgdGV4dGFyZWEuc3BhbjQsIC51bmVkaXRhYmxlLWlucHV0LnNwYW40IHsNCiAgd2lkdGg6IDI5MHB4Ow0KfQ0KaW5wdXQuc3BhbjMsIHRleHRhcmVhLnNwYW4zLCAudW5lZGl0YWJsZS1pbnB1dC5zcGFuMyB7DQogIHdpZHRoOiAyMTBweDsNCn0NCmlucHV0LnNwYW4yLCB0ZXh0YXJlYS5zcGFuMiwgLnVuZWRpdGFibGUtaW5wdXQuc3BhbjIgew0KICB3aWR0aDogMTMwcHg7DQp9DQppbnB1dC5zcGFuMSwgdGV4dGFyZWEuc3BhbjEsIC51bmVkaXRhYmxlLWlucHV0LnNwYW4xIHsNCiAgd2lkdGg6IDUwcHg7DQp9DQppbnB1dFtkaXNhYmxlZF0sDQpzZWxlY3RbZGlzYWJsZWRdLA0KdGV4dGFyZWFbZGlzYWJsZWRdLA0KaW5wdXRbcmVhZG9ubHldLA0Kc2VsZWN0W3JlYWRvbmx5XSwNCnRleHRhcmVhW3JlYWRvbmx5XSB7DQogIGN1cnNvcjogbm90LWFsbG93ZWQ7DQogIGJhY2tncm91bmQtY29sb3I6ICNlZWVlZWU7DQogIGJvcmRlci1jb2xvcjogI2RkZDsNCn0NCmlucHV0W3R5cGU9InJhZGlvIl1bZGlzYWJsZWRdLA0KaW5wdXRbdHlwZT0iY2hlY2tib3giXVtkaXNhYmxlZF0sDQppbnB1dFt0eXBlPSJyYWRpbyJdW3JlYWRvbmx5XSwNCmlucHV0W3R5cGU9ImNoZWNrYm94Il1bcmVhZG9ubHldIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7DQp9DQouY29udHJvbC1ncm91cC53YXJuaW5nID4gbGFiZWwsDQouY29udHJvbC1ncm91cC53YXJuaW5nIC5oZWxwLWJsb2NrLA0KLmNvbnRyb2wtZ3JvdXAud2FybmluZyAuaGVscC1pbmxpbmUgew0KICBjb2xvcjogI2MwOTg1MzsNCn0NCi5jb250cm9sLWdyb3VwLndhcm5pbmcgaW5wdXQsDQouY29udHJvbC1ncm91cC53YXJuaW5nIHNlbGVjdCwNCi5jb250cm9sLWdyb3VwLndhcm5pbmcgdGV4dGFyZWEgew0KICBjb2xvcjogI2MwOTg1MzsNCiAgYm9yZGVyLWNvbG9yOiAjYzA5ODUzOw0KfQ0KLmNvbnRyb2wtZ3JvdXAud2FybmluZyBpbnB1dDpmb2N1cywNCi5jb250cm9sLWdyb3VwLndhcm5pbmcgc2VsZWN0OmZvY3VzLA0KLmNvbnRyb2wtZ3JvdXAud2FybmluZyB0ZXh0YXJlYTpmb2N1cyB7DQogIGJvcmRlci1jb2xvcjogI2E0N2UzYzsNCiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDAgNnB4ICNkYmM1OWU7DQogIC1tb3otYm94LXNoYWRvdzogMCAwIDZweCAjZGJjNTllOw0KICBib3gtc2hhZG93OiAwIDAgNnB4ICNkYmM1OWU7DQp9DQouY29udHJvbC1ncm91cC53YXJuaW5nIC5pbnB1dC1wcmVwZW5kIC5hZGQtb24sDQouY29udHJvbC1ncm91cC53YXJuaW5nIC5pbnB1dC1hcHBlbmQgLmFkZC1vbiB7DQogIGNvbG9yOiAjYzA5ODUzOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmNmOGUzOw0KICBib3JkZXItY29sb3I6ICNjMDk4NTM7DQp9DQouY29udHJvbC1ncm91cC5lcnJvciA+IGxhYmVsLA0KLmNvbnRyb2wtZ3JvdXAuZXJyb3IgLmhlbHAtYmxvY2ssDQouY29udHJvbC1ncm91cC5lcnJvciAuaGVscC1pbmxpbmUgew0KICBjb2xvcjogI2I5NGE0ODsNCn0NCi5jb250cm9sLWdyb3VwLmVycm9yIGlucHV0LA0KLmNvbnRyb2wtZ3JvdXAuZXJyb3Igc2VsZWN0LA0KLmNvbnRyb2wtZ3JvdXAuZXJyb3IgdGV4dGFyZWEgew0KICBjb2xvcjogI2I5NGE0ODsNCiAgYm9yZGVyLWNvbG9yOiAjYjk0YTQ4Ow0KfQ0KLmNvbnRyb2wtZ3JvdXAuZXJyb3IgaW5wdXQ6Zm9jdXMsDQouY29udHJvbC1ncm91cC5lcnJvciBzZWxlY3Q6Zm9jdXMsDQouY29udHJvbC1ncm91cC5lcnJvciB0ZXh0YXJlYTpmb2N1cyB7DQogIGJvcmRlci1jb2xvcjogIzk1M2IzOTsNCiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDAgNnB4ICNkNTkzOTI7DQogIC1tb3otYm94LXNoYWRvdzogMCAwIDZweCAjZDU5MzkyOw0KICBib3gtc2hhZG93OiAwIDAgNnB4ICNkNTkzOTI7DQp9DQouY29udHJvbC1ncm91cC5lcnJvciAuaW5wdXQtcHJlcGVuZCAuYWRkLW9uLA0KLmNvbnRyb2wtZ3JvdXAuZXJyb3IgLmlucHV0LWFwcGVuZCAuYWRkLW9uIHsNCiAgY29sb3I6ICNiOTRhNDg7DQogIGJhY2tncm91bmQtY29sb3I6ICNmMmRlZGU7DQogIGJvcmRlci1jb2xvcjogI2I5NGE0ODsNCn0NCi5jb250cm9sLWdyb3VwLnN1Y2Nlc3MgPiBsYWJlbCwNCi5jb250cm9sLWdyb3VwLnN1Y2Nlc3MgLmhlbHAtYmxvY2ssDQouY29udHJvbC1ncm91cC5zdWNjZXNzIC5oZWxwLWlubGluZSB7DQogIGNvbG9yOiAjNDY4ODQ3Ow0KfQ0KLmNvbnRyb2wtZ3JvdXAuc3VjY2VzcyBpbnB1dCwNCi5jb250cm9sLWdyb3VwLnN1Y2Nlc3Mgc2VsZWN0LA0KLmNvbnRyb2wtZ3JvdXAuc3VjY2VzcyB0ZXh0YXJlYSB7DQogIGNvbG9yOiAjNDY4ODQ3Ow0KICBib3JkZXItY29sb3I6ICM0Njg4NDc7DQp9DQouY29udHJvbC1ncm91cC5zdWNjZXNzIGlucHV0OmZvY3VzLA0KLmNvbnRyb2wtZ3JvdXAuc3VjY2VzcyBzZWxlY3Q6Zm9jdXMsDQouY29udHJvbC1ncm91cC5zdWNjZXNzIHRleHRhcmVhOmZvY3VzIHsNCiAgYm9yZGVyLWNvbG9yOiAjMzU2NjM1Ow0KICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMCA2cHggIzdhYmE3YjsNCiAgLW1vei1ib3gtc2hhZG93OiAwIDAgNnB4ICM3YWJhN2I7DQogIGJveC1zaGFkb3c6IDAgMCA2cHggIzdhYmE3YjsNCn0NCi5jb250cm9sLWdyb3VwLnN1Y2Nlc3MgLmlucHV0LXByZXBlbmQgLmFkZC1vbiwNCi5jb250cm9sLWdyb3VwLnN1Y2Nlc3MgLmlucHV0LWFwcGVuZCAuYWRkLW9uIHsNCiAgY29sb3I6ICM0Njg4NDc7DQogIGJhY2tncm91bmQtY29sb3I6ICNkZmYwZDg7DQogIGJvcmRlci1jb2xvcjogIzQ2ODg0NzsNCn0NCmlucHV0OmZvY3VzOnJlcXVpcmVkOmludmFsaWQsDQp0ZXh0YXJlYTpmb2N1czpyZXF1aXJlZDppbnZhbGlkLA0Kc2VsZWN0OmZvY3VzOnJlcXVpcmVkOmludmFsaWQgew0KICBjb2xvcjogI2I5NGE0ODsNCiAgYm9yZGVyLWNvbG9yOiAjZWU1ZjViOw0KfQ0KaW5wdXQ6Zm9jdXM6cmVxdWlyZWQ6aW52YWxpZDpmb2N1cywNCnRleHRhcmVhOmZvY3VzOnJlcXVpcmVkOmludmFsaWQ6Zm9jdXMsDQpzZWxlY3Q6Zm9jdXM6cmVxdWlyZWQ6aW52YWxpZDpmb2N1cyB7DQogIGJvcmRlci1jb2xvcjogI2U5MzIyZDsNCiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDAgNnB4ICNmOGI5Yjc7DQogIC1tb3otYm94LXNoYWRvdzogMCAwIDZweCAjZjhiOWI3Ow0KICBib3gtc2hhZG93OiAwIDAgNnB4ICNmOGI5Yjc7DQp9DQouZm9ybS1hY3Rpb25zIHsNCiAgcGFkZGluZzogMTdweCAyMHB4IDE4cHg7DQogIG1hcmdpbi10b3A6IDE4cHg7DQogIG1hcmdpbi1ib3R0b206IDE4cHg7DQogIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7DQogIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZGRkOw0KICAqem9vbTogMTsNCn0NCi5mb3JtLWFjdGlvbnM6YmVmb3JlLA0KLmZvcm0tYWN0aW9uczphZnRlciB7DQogIGRpc3BsYXk6IHRhYmxlOw0KICBjb250ZW50OiAiIjsNCn0NCi5mb3JtLWFjdGlvbnM6YWZ0ZXIgew0KICBjbGVhcjogYm90aDsNCn0NCi51bmVkaXRhYmxlLWlucHV0IHsNCiAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgY3Vyc29yOiBub3QtYWxsb3dlZDsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsNCiAgYm9yZGVyLWNvbG9yOiAjZWVlOw0KICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMDI1KTsNCiAgLW1vei1ib3gtc2hhZG93OiBpbnNldCAwIDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjAyNSk7DQogIGJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMDI1KTsNCn0NCjotbW96LXBsYWNlaG9sZGVyIHsNCiAgY29sb3I6ICM5OTk5OTk7DQp9DQo6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIgew0KICBjb2xvcjogIzk5OTk5OTsNCn0NCi5oZWxwLWJsb2NrLA0KLmhlbHAtaW5saW5lIHsNCiAgY29sb3I6ICM1NTU1NTU7DQp9DQouaGVscC1ibG9jayB7DQogIGRpc3BsYXk6IGJsb2NrOw0KICBtYXJnaW4tYm90dG9tOiA5cHg7DQp9DQouaGVscC1pbmxpbmUgew0KICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICpkaXNwbGF5OiBpbmxpbmU7DQogIC8qIElFNyBpbmxpbmUtYmxvY2sgaGFjayAqLw0KDQogICp6b29tOiAxOw0KICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOw0KICBwYWRkaW5nLWxlZnQ6IDVweDsNCn0NCi5pbnB1dC1wcmVwZW5kLA0KLmlucHV0LWFwcGVuZCB7DQogIG1hcmdpbi1ib3R0b206IDVweDsNCn0NCi5pbnB1dC1wcmVwZW5kIGlucHV0LA0KLmlucHV0LWFwcGVuZCBpbnB1dCwNCi5pbnB1dC1wcmVwZW5kIHNlbGVjdCwNCi5pbnB1dC1hcHBlbmQgc2VsZWN0LA0KLmlucHV0LXByZXBlbmQgLnVuZWRpdGFibGUtaW5wdXQsDQouaW5wdXQtYXBwZW5kIC51bmVkaXRhYmxlLWlucHV0IHsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KICBtYXJnaW4tYm90dG9tOiAwOw0KICAqbWFyZ2luLWxlZnQ6IDA7DQogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7DQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMCAzcHggM3B4IDA7DQogIC1tb3otYm9yZGVyLXJhZGl1czogMCAzcHggM3B4IDA7DQogIGJvcmRlci1yYWRpdXM6IDAgM3B4IDNweCAwOw0KfQ0KLmlucHV0LXByZXBlbmQgaW5wdXQ6Zm9jdXMsDQouaW5wdXQtYXBwZW5kIGlucHV0OmZvY3VzLA0KLmlucHV0LXByZXBlbmQgc2VsZWN0OmZvY3VzLA0KLmlucHV0LWFwcGVuZCBzZWxlY3Q6Zm9jdXMsDQouaW5wdXQtcHJlcGVuZCAudW5lZGl0YWJsZS1pbnB1dDpmb2N1cywNCi5pbnB1dC1hcHBlbmQgLnVuZWRpdGFibGUtaW5wdXQ6Zm9jdXMgew0KICB6LWluZGV4OiAyOw0KfQ0KLmlucHV0LXByZXBlbmQgLnVuZWRpdGFibGUtaW5wdXQsDQouaW5wdXQtYXBwZW5kIC51bmVkaXRhYmxlLWlucHV0IHsNCiAgYm9yZGVyLWxlZnQtY29sb3I6ICNjY2M7DQp9DQouaW5wdXQtcHJlcGVuZCAuYWRkLW9uLA0KLmlucHV0LWFwcGVuZCAuYWRkLW9uIHsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICB3aWR0aDogYXV0bzsNCiAgaGVpZ2h0OiAxOHB4Ow0KICBtaW4td2lkdGg6IDE2cHg7DQogIHBhZGRpbmc6IDRweCA1cHg7DQogIGZvbnQtd2VpZ2h0OiBub3JtYWw7DQogIGxpbmUtaGVpZ2h0OiAxOHB4Ow0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIHRleHQtc2hhZG93OiAwIDFweCAwICNmZmZmZmY7DQogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7DQogIGJhY2tncm91bmQtY29sb3I6ICNlZWVlZWU7DQogIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7DQp9DQouaW5wdXQtcHJlcGVuZCAuYWRkLW9uLA0KLmlucHV0LWFwcGVuZCAuYWRkLW9uLA0KLmlucHV0LXByZXBlbmQgLmJ0biwNCi5pbnB1dC1hcHBlbmQgLmJ0biB7DQogIG1hcmdpbi1sZWZ0OiAtMXB4Ow0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDA7DQogIC1tb3otYm9yZGVyLXJhZGl1czogMDsNCiAgYm9yZGVyLXJhZGl1czogMDsNCn0NCi5pbnB1dC1wcmVwZW5kIC5hY3RpdmUsDQouaW5wdXQtYXBwZW5kIC5hY3RpdmUgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjYTlkYmE5Ow0KICBib3JkZXItY29sb3I6ICM0NmE1NDY7DQp9DQouaW5wdXQtcHJlcGVuZCAuYWRkLW9uLA0KLmlucHV0LXByZXBlbmQgLmJ0biB7DQogIG1hcmdpbi1yaWdodDogLTFweDsNCn0NCi5pbnB1dC1wcmVwZW5kIC5hZGQtb246Zmlyc3QtY2hpbGQsDQouaW5wdXQtcHJlcGVuZCAuYnRuOmZpcnN0LWNoaWxkIHsNCiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAzcHggMCAwIDNweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiAzcHggMCAwIDNweDsNCiAgYm9yZGVyLXJhZGl1czogM3B4IDAgMCAzcHg7DQp9DQouaW5wdXQtYXBwZW5kIGlucHV0LA0KLmlucHV0LWFwcGVuZCBzZWxlY3QsDQouaW5wdXQtYXBwZW5kIC51bmVkaXRhYmxlLWlucHV0IHsNCiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAzcHggMCAwIDNweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiAzcHggMCAwIDNweDsNCiAgYm9yZGVyLXJhZGl1czogM3B4IDAgMCAzcHg7DQp9DQouaW5wdXQtYXBwZW5kIC51bmVkaXRhYmxlLWlucHV0IHsNCiAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAjY2NjOw0KICBib3JkZXItbGVmdC1jb2xvcjogI2VlZTsNCn0NCi5pbnB1dC1hcHBlbmQgLmFkZC1vbjpsYXN0LWNoaWxkLA0KLmlucHV0LWFwcGVuZCAuYnRuOmxhc3QtY2hpbGQgew0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDAgM3B4IDNweCAwOw0KICAtbW96LWJvcmRlci1yYWRpdXM6IDAgM3B4IDNweCAwOw0KICBib3JkZXItcmFkaXVzOiAwIDNweCAzcHggMDsNCn0NCi5pbnB1dC1wcmVwZW5kLmlucHV0LWFwcGVuZCBpbnB1dCwNCi5pbnB1dC1wcmVwZW5kLmlucHV0LWFwcGVuZCBzZWxlY3QsDQouaW5wdXQtcHJlcGVuZC5pbnB1dC1hcHBlbmQgLnVuZWRpdGFibGUtaW5wdXQgew0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDA7DQogIC1tb3otYm9yZGVyLXJhZGl1czogMDsNCiAgYm9yZGVyLXJhZGl1czogMDsNCn0NCi5pbnB1dC1wcmVwZW5kLmlucHV0LWFwcGVuZCAuYWRkLW9uOmZpcnN0LWNoaWxkLA0KLmlucHV0LXByZXBlbmQuaW5wdXQtYXBwZW5kIC5idG46Zmlyc3QtY2hpbGQgew0KICBtYXJnaW4tcmlnaHQ6IC0xcHg7DQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogM3B4IDAgMCAzcHg7DQogIC1tb3otYm9yZGVyLXJhZGl1czogM3B4IDAgMCAzcHg7DQogIGJvcmRlci1yYWRpdXM6IDNweCAwIDAgM3B4Ow0KfQ0KLmlucHV0LXByZXBlbmQuaW5wdXQtYXBwZW5kIC5hZGQtb246bGFzdC1jaGlsZCwNCi5pbnB1dC1wcmVwZW5kLmlucHV0LWFwcGVuZCAuYnRuOmxhc3QtY2hpbGQgew0KICBtYXJnaW4tbGVmdDogLTFweDsNCiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAwIDNweCAzcHggMDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiAwIDNweCAzcHggMDsNCiAgYm9yZGVyLXJhZGl1czogMCAzcHggM3B4IDA7DQp9DQouc2VhcmNoLXF1ZXJ5IHsNCiAgcGFkZGluZy1yaWdodDogMTRweDsNCiAgcGFkZGluZy1yaWdodDogNHB4IFw5Ow0KICBwYWRkaW5nLWxlZnQ6IDE0cHg7DQogIHBhZGRpbmctbGVmdDogNHB4IFw5Ow0KICAvKiBJRTctOCBkb2Vzbid0IGhhdmUgYm9yZGVyLXJhZGl1cywgc28gZG9uJ3QgaW5kZW50IHRoZSBwYWRkaW5nICovDQoNCiAgbWFyZ2luLWJvdHRvbTogMDsNCiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAxNHB4Ow0KICAtbW96LWJvcmRlci1yYWRpdXM6IDE0cHg7DQogIGJvcmRlci1yYWRpdXM6IDE0cHg7DQp9DQouZm9ybS1zZWFyY2ggaW5wdXQsDQouZm9ybS1pbmxpbmUgaW5wdXQsDQouZm9ybS1ob3Jpem9udGFsIGlucHV0LA0KLmZvcm0tc2VhcmNoIHRleHRhcmVhLA0KLmZvcm0taW5saW5lIHRleHRhcmVhLA0KLmZvcm0taG9yaXpvbnRhbCB0ZXh0YXJlYSwNCi5mb3JtLXNlYXJjaCBzZWxlY3QsDQouZm9ybS1pbmxpbmUgc2VsZWN0LA0KLmZvcm0taG9yaXpvbnRhbCBzZWxlY3QsDQouZm9ybS1zZWFyY2ggLmhlbHAtaW5saW5lLA0KLmZvcm0taW5saW5lIC5oZWxwLWlubGluZSwNCi5mb3JtLWhvcml6b250YWwgLmhlbHAtaW5saW5lLA0KLmZvcm0tc2VhcmNoIC51bmVkaXRhYmxlLWlucHV0LA0KLmZvcm0taW5saW5lIC51bmVkaXRhYmxlLWlucHV0LA0KLmZvcm0taG9yaXpvbnRhbCAudW5lZGl0YWJsZS1pbnB1dCwNCi5mb3JtLXNlYXJjaCAuaW5wdXQtcHJlcGVuZCwNCi5mb3JtLWlubGluZSAuaW5wdXQtcHJlcGVuZCwNCi5mb3JtLWhvcml6b250YWwgLmlucHV0LXByZXBlbmQsDQouZm9ybS1zZWFyY2ggLmlucHV0LWFwcGVuZCwNCi5mb3JtLWlubGluZSAuaW5wdXQtYXBwZW5kLA0KLmZvcm0taG9yaXpvbnRhbCAuaW5wdXQtYXBwZW5kIHsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAqZGlzcGxheTogaW5saW5lOw0KICAvKiBJRTcgaW5saW5lLWJsb2NrIGhhY2sgKi8NCg0KICAqem9vbTogMTsNCiAgbWFyZ2luLWJvdHRvbTogMDsNCn0NCi5mb3JtLXNlYXJjaCAuaGlkZSwNCi5mb3JtLWlubGluZSAuaGlkZSwNCi5mb3JtLWhvcml6b250YWwgLmhpZGUgew0KICBkaXNwbGF5OiBub25lOw0KfQ0KLmZvcm0tc2VhcmNoIGxhYmVsLA0KLmZvcm0taW5saW5lIGxhYmVsIHsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KfQ0KLmZvcm0tc2VhcmNoIC5pbnB1dC1hcHBlbmQsDQouZm9ybS1pbmxpbmUgLmlucHV0LWFwcGVuZCwNCi5mb3JtLXNlYXJjaCAuaW5wdXQtcHJlcGVuZCwNCi5mb3JtLWlubGluZSAuaW5wdXQtcHJlcGVuZCB7DQogIG1hcmdpbi1ib3R0b206IDA7DQp9DQouZm9ybS1zZWFyY2ggLnJhZGlvLA0KLmZvcm0tc2VhcmNoIC5jaGVja2JveCwNCi5mb3JtLWlubGluZSAucmFkaW8sDQouZm9ybS1pbmxpbmUgLmNoZWNrYm94IHsNCiAgcGFkZGluZy1sZWZ0OiAwOw0KICBtYXJnaW4tYm90dG9tOiAwOw0KICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOw0KfQ0KLmZvcm0tc2VhcmNoIC5yYWRpbyBpbnB1dFt0eXBlPSJyYWRpbyJdLA0KLmZvcm0tc2VhcmNoIC5jaGVja2JveCBpbnB1dFt0eXBlPSJjaGVja2JveCJdLA0KLmZvcm0taW5saW5lIC5yYWRpbyBpbnB1dFt0eXBlPSJyYWRpbyJdLA0KLmZvcm0taW5saW5lIC5jaGVja2JveCBpbnB1dFt0eXBlPSJjaGVja2JveCJdIHsNCiAgZmxvYXQ6IGxlZnQ7DQogIG1hcmdpbi1yaWdodDogM3B4Ow0KICBtYXJnaW4tbGVmdDogMDsNCn0NCi5jb250cm9sLWdyb3VwIHsNCiAgbWFyZ2luLWJvdHRvbTogOXB4Ow0KfQ0KbGVnZW5kICsgLmNvbnRyb2wtZ3JvdXAgew0KICBtYXJnaW4tdG9wOiAxOHB4Ow0KICAtd2Via2l0LW1hcmdpbi10b3AtY29sbGFwc2U6IHNlcGFyYXRlOw0KfQ0KLmZvcm0taG9yaXpvbnRhbCAuY29udHJvbC1ncm91cCB7DQogIG1hcmdpbi1ib3R0b206IDE4cHg7DQogICp6b29tOiAxOw0KfQ0KLmZvcm0taG9yaXpvbnRhbCAuY29udHJvbC1ncm91cDpiZWZvcmUsDQouZm9ybS1ob3Jpem9udGFsIC5jb250cm9sLWdyb3VwOmFmdGVyIHsNCiAgZGlzcGxheTogdGFibGU7DQogIGNvbnRlbnQ6ICIiOw0KfQ0KLmZvcm0taG9yaXpvbnRhbCAuY29udHJvbC1ncm91cDphZnRlciB7DQogIGNsZWFyOiBib3RoOw0KfQ0KLmZvcm0taG9yaXpvbnRhbCAuY29udHJvbC1sYWJlbCB7DQogIGZsb2F0OiBsZWZ0Ow0KICB3aWR0aDogMTQwcHg7DQogIHBhZGRpbmctdG9wOiA1cHg7DQogIHRleHQtYWxpZ246IHJpZ2h0Ow0KfQ0KLmZvcm0taG9yaXpvbnRhbCAuY29udHJvbHMgew0KICAqZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAqcGFkZGluZy1sZWZ0OiAyMHB4Ow0KICBtYXJnaW4tbGVmdDogMTYwcHg7DQogICptYXJnaW4tbGVmdDogMDsNCn0NCi5mb3JtLWhvcml6b250YWwgLmNvbnRyb2xzOmZpcnN0LWNoaWxkIHsNCiAgKnBhZGRpbmctbGVmdDogMTYwcHg7DQp9DQouZm9ybS1ob3Jpem9udGFsIC5oZWxwLWJsb2NrIHsNCiAgbWFyZ2luLXRvcDogOXB4Ow0KICBtYXJnaW4tYm90dG9tOiAwOw0KfQ0KLmZvcm0taG9yaXpvbnRhbCAuZm9ybS1hY3Rpb25zIHsNCiAgcGFkZGluZy1sZWZ0OiAxNjBweDsNCn0NCi5idG4gew0KICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICpkaXNwbGF5OiBpbmxpbmU7DQogIC8qIElFNyBpbmxpbmUtYmxvY2sgaGFjayAqLw0KDQogICp6b29tOiAxOw0KICBwYWRkaW5nOiA0cHggMTBweCA0cHg7DQogIG1hcmdpbi1ib3R0b206IDA7DQogIGZvbnQtc2l6ZTogMTNweDsNCiAgbGluZS1oZWlnaHQ6IDE4cHg7DQogICpsaW5lLWhlaWdodDogMjBweDsNCiAgY29sb3I6ICMzMzMzMzM7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgdGV4dC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNzUpOw0KICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOw0KICBjdXJzb3I6IHBvaW50ZXI7DQogIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiwgI2U2ZTZlNik7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmLCAjZTZlNmU2KTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIDAgMCwgMCAxMDAlLCBmcm9tKCNmZmZmZmYpLCB0bygjZTZlNmU2KSk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiwgI2U2ZTZlNik7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYsICNlNmU2ZTYpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmLCAjZTZlNmU2KTsNCiAgYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdC14Ow0KICBmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yc3RyPScjZmZmZmZmJywgZW5kQ29sb3JzdHI9JyNlNmU2ZTYnLCBHcmFkaWVudFR5cGU9MCk7DQogIGJvcmRlci1jb2xvcjogI2U2ZTZlNiAjZTZlNmU2ICNiZmJmYmY7DQogIGJvcmRlci1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjEpIHJnYmEoMCwgMCwgMCwgMC4xKSByZ2JhKDAsIDAsIDAsIDAuMjUpOw0KICAqYmFja2dyb3VuZC1jb2xvcjogI2U2ZTZlNjsNCiAgLyogRGFya2VuIElFNyBidXR0b25zIGJ5IGRlZmF1bHQgc28gdGhleSBzdGFuZCBvdXQgbW9yZSBnaXZlbiB0aGV5IHdvbid0IGhhdmUgYm9yZGVycyAqLw0KDQogIGZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KGVuYWJsZWQgPSBmYWxzZSk7DQogIGJvcmRlcjogMXB4IHNvbGlkICNjY2NjY2M7DQogICpib3JkZXI6IDA7DQogIGJvcmRlci1ib3R0b20tY29sb3I6ICNiM2IzYjM7DQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNHB4Ow0KICAtbW96LWJvcmRlci1yYWRpdXM6IDRweDsNCiAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAqbWFyZ2luLWxlZnQ6IC4zZW07DQogIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMCByZ2JhKDI1NSwyNTUsMjU1LC4yKSwgMCAxcHggMnB4IHJnYmEoMCwwLDAsLjA1KTsNCiAgLW1vei1ib3gtc2hhZG93OiBpbnNldCAwIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsLjIpLCAwIDFweCAycHggcmdiYSgwLDAsMCwuMDUpOw0KICBib3gtc2hhZG93OiBpbnNldCAwIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsLjIpLCAwIDFweCAycHggcmdiYSgwLDAsMCwuMDUpOw0KfQ0KLmJ0bjpob3ZlciwNCi5idG46YWN0aXZlLA0KLmJ0bi5hY3RpdmUsDQouYnRuLmRpc2FibGVkLA0KLmJ0bltkaXNhYmxlZF0gew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZlNmU2Ow0KICAqYmFja2dyb3VuZC1jb2xvcjogI2Q5ZDlkOTsNCn0NCi5idG46YWN0aXZlLA0KLmJ0bi5hY3RpdmUgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjY2NjIFw5Ow0KfQ0KLmJ0bjpmaXJzdC1jaGlsZCB7DQogICptYXJnaW4tbGVmdDogMDsNCn0NCi5idG46aG92ZXIgew0KICBjb2xvcjogIzMzMzMzMzsNCiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZlNmU2Ow0KICAqYmFja2dyb3VuZC1jb2xvcjogI2Q5ZDlkOTsNCiAgLyogQnV0dG9ucyBpbiBJRTcgZG9uJ3QgZ2V0IGJvcmRlcnMsIHNvIGRhcmtlbiBvbiBob3ZlciAqLw0KDQogIGJhY2tncm91bmQtcG9zaXRpb246IDAgLTE1cHg7DQogIC13ZWJraXQtdHJhbnNpdGlvbjogYmFja2dyb3VuZC1wb3NpdGlvbiAwLjFzIGxpbmVhcjsNCiAgLW1vei10cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLXBvc2l0aW9uIDAuMXMgbGluZWFyOw0KICAtbXMtdHJhbnNpdGlvbjogYmFja2dyb3VuZC1wb3NpdGlvbiAwLjFzIGxpbmVhcjsNCiAgLW8tdHJhbnNpdGlvbjogYmFja2dyb3VuZC1wb3NpdGlvbiAwLjFzIGxpbmVhcjsNCiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1wb3NpdGlvbiAwLjFzIGxpbmVhcjsNCn0NCi5idG46Zm9jdXMgew0KICBvdXRsaW5lOiB0aGluIGRvdHRlZCAjMzMzOw0KICBvdXRsaW5lOiA1cHggYXV0byAtd2Via2l0LWZvY3VzLXJpbmctY29sb3I7DQogIG91dGxpbmUtb2Zmc2V0OiAtMnB4Ow0KfQ0KLmJ0bi5hY3RpdmUsDQouYnRuOmFjdGl2ZSB7DQogIGJhY2tncm91bmQtY29sb3I6ICNlNmU2ZTY7DQogIGJhY2tncm91bmQtY29sb3I6ICNkOWQ5ZDkgXDk7DQogIGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7DQogIG91dGxpbmU6IDA7DQogIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAycHggNHB4IHJnYmEoMCwwLDAsLjE1KSwgMCAxcHggMnB4IHJnYmEoMCwwLDAsLjA1KTsNCiAgLW1vei1ib3gtc2hhZG93OiBpbnNldCAwIDJweCA0cHggcmdiYSgwLDAsMCwuMTUpLCAwIDFweCAycHggcmdiYSgwLDAsMCwuMDUpOw0KICBib3gtc2hhZG93OiBpbnNldCAwIDJweCA0cHggcmdiYSgwLDAsMCwuMTUpLCAwIDFweCAycHggcmdiYSgwLDAsMCwuMDUpOw0KfQ0KLmJ0bi5kaXNhYmxlZCwNCi5idG5bZGlzYWJsZWRdIHsNCiAgY3Vyc29yOiBkZWZhdWx0Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZlNmU2Ow0KICBiYWNrZ3JvdW5kLWltYWdlOiBub25lOw0KICBvcGFjaXR5OiAwLjY1Ow0KICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9NjUpOw0KICAtd2Via2l0LWJveC1zaGFkb3c6IG5vbmU7DQogIC1tb3otYm94LXNoYWRvdzogbm9uZTsNCiAgYm94LXNoYWRvdzogbm9uZTsNCn0NCi5idG4tbGFyZ2Ugew0KICBwYWRkaW5nOiA5cHggMTRweDsNCiAgZm9udC1zaXplOiAxNXB4Ow0KICBsaW5lLWhlaWdodDogbm9ybWFsOw0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDVweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7DQogIGJvcmRlci1yYWRpdXM6IDVweDsNCn0NCi5idG4tbGFyZ2UgW2NsYXNzXj0iaWNvbi0iXSB7DQogIG1hcmdpbi10b3A6IDFweDsNCn0NCi5idG4tc21hbGwgew0KICBwYWRkaW5nOiA1cHggOXB4Ow0KICBmb250LXNpemU6IDExcHg7DQogIGxpbmUtaGVpZ2h0OiAxNnB4Ow0KfQ0KLmJ0bi1zbWFsbCBbY2xhc3NePSJpY29uLSJdIHsNCiAgbWFyZ2luLXRvcDogLTFweDsNCn0NCi5idG4tbWluaSB7DQogIHBhZGRpbmc6IDJweCA2cHg7DQogIGZvbnQtc2l6ZTogMTFweDsNCiAgbGluZS1oZWlnaHQ6IDE0cHg7DQp9DQouYnRuLXByaW1hcnksDQouYnRuLXByaW1hcnk6aG92ZXIsDQouYnRuLXdhcm5pbmcsDQouYnRuLXdhcm5pbmc6aG92ZXIsDQouYnRuLWRhbmdlciwNCi5idG4tZGFuZ2VyOmhvdmVyLA0KLmJ0bi1zdWNjZXNzLA0KLmJ0bi1zdWNjZXNzOmhvdmVyLA0KLmJ0bi1pbmZvLA0KLmJ0bi1pbmZvOmhvdmVyLA0KLmJ0bi1pbnZlcnNlLA0KLmJ0bi1pbnZlcnNlOmhvdmVyIHsNCiAgY29sb3I6ICNmZmZmZmY7DQogIHRleHQtc2hhZG93OiAwIC0xcHggMCByZ2JhKDAsIDAsIDAsIDAuMjUpOw0KfQ0KLmJ0bi1wcmltYXJ5LmFjdGl2ZSwNCi5idG4td2FybmluZy5hY3RpdmUsDQouYnRuLWRhbmdlci5hY3RpdmUsDQouYnRuLXN1Y2Nlc3MuYWN0aXZlLA0KLmJ0bi1pbmZvLmFjdGl2ZSwNCi5idG4taW52ZXJzZS5hY3RpdmUgew0KICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjc1KTsNCn0NCi5idG4gew0KICBib3JkZXItY29sb3I6ICNjY2M7DQogIGJvcmRlci1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjEpIHJnYmEoMCwgMCwgMCwgMC4xKSByZ2JhKDAsIDAsIDAsIDAuMjUpOw0KfQ0KLmJ0bi1wcmltYXJ5IHsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNzRjYzsNCiAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjMDA4OGNjLCAjMDA1NWNjKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICMwMDg4Y2MsICMwMDU1Y2MpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgMCAwLCAwIDEwMCUsIGZyb20oIzAwODhjYyksIHRvKCMwMDU1Y2MpKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjMDA4OGNjLCAjMDA1NWNjKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgIzAwODhjYywgIzAwNTVjYyk7DQogIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0b3AsICMwMDg4Y2MsICMwMDU1Y2MpOw0KICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXg7DQogIGZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyMwMDg4Y2MnLCBlbmRDb2xvcnN0cj0nIzAwNTVjYycsIEdyYWRpZW50VHlwZT0wKTsNCiAgYm9yZGVyLWNvbG9yOiAjMDA1NWNjICMwMDU1Y2MgIzAwMzU4MDsNCiAgYm9yZGVyLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMSkgcmdiYSgwLCAwLCAwLCAwLjEpIHJnYmEoMCwgMCwgMCwgMC4yNSk7DQogICpiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1NWNjOw0KICAvKiBEYXJrZW4gSUU3IGJ1dHRvbnMgYnkgZGVmYXVsdCBzbyB0aGV5IHN0YW5kIG91dCBtb3JlIGdpdmVuIHRoZXkgd29uJ3QgaGF2ZSBib3JkZXJzICovDQoNCiAgZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoZW5hYmxlZCA9IGZhbHNlKTsNCn0NCi5idG4tcHJpbWFyeTpob3ZlciwNCi5idG4tcHJpbWFyeTphY3RpdmUsDQouYnRuLXByaW1hcnkuYWN0aXZlLA0KLmJ0bi1wcmltYXJ5LmRpc2FibGVkLA0KLmJ0bi1wcmltYXJ5W2Rpc2FibGVkXSB7DQogIGJhY2tncm91bmQtY29sb3I6ICMwMDU1Y2M7DQogICpiYWNrZ3JvdW5kLWNvbG9yOiAjMDA0YWIzOw0KfQ0KLmJ0bi1wcmltYXJ5OmFjdGl2ZSwNCi5idG4tcHJpbWFyeS5hY3RpdmUgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA0MDk5IFw5Ow0KfQ0KLmJ0bi13YXJuaW5nIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhYTczMjsNCiAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZmJiNDUwLCAjZjg5NDA2KTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmYmI0NTAsICNmODk0MDYpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgMCAwLCAwIDEwMCUsIGZyb20oI2ZiYjQ1MCksIHRvKCNmODk0MDYpKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZmJiNDUwLCAjZjg5NDA2KTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZiYjQ1MCwgI2Y4OTQwNik7DQogIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0b3AsICNmYmI0NTAsICNmODk0MDYpOw0KICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXg7DQogIGZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmYmI0NTAnLCBlbmRDb2xvcnN0cj0nI2Y4OTQwNicsIEdyYWRpZW50VHlwZT0wKTsNCiAgYm9yZGVyLWNvbG9yOiAjZjg5NDA2ICNmODk0MDYgI2FkNjcwNDsNCiAgYm9yZGVyLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMSkgcmdiYSgwLCAwLCAwLCAwLjEpIHJnYmEoMCwgMCwgMCwgMC4yNSk7DQogICpiYWNrZ3JvdW5kLWNvbG9yOiAjZjg5NDA2Ow0KICAvKiBEYXJrZW4gSUU3IGJ1dHRvbnMgYnkgZGVmYXVsdCBzbyB0aGV5IHN0YW5kIG91dCBtb3JlIGdpdmVuIHRoZXkgd29uJ3QgaGF2ZSBib3JkZXJzICovDQoNCiAgZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoZW5hYmxlZCA9IGZhbHNlKTsNCn0NCi5idG4td2FybmluZzpob3ZlciwNCi5idG4td2FybmluZzphY3RpdmUsDQouYnRuLXdhcm5pbmcuYWN0aXZlLA0KLmJ0bi13YXJuaW5nLmRpc2FibGVkLA0KLmJ0bi13YXJuaW5nW2Rpc2FibGVkXSB7DQogIGJhY2tncm91bmQtY29sb3I6ICNmODk0MDY7DQogICpiYWNrZ3JvdW5kLWNvbG9yOiAjZGY4NTA1Ow0KfQ0KLmJ0bi13YXJuaW5nOmFjdGl2ZSwNCi5idG4td2FybmluZy5hY3RpdmUgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzY3NjA1IFw5Ow0KfQ0KLmJ0bi1kYW5nZXIgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGE0ZjQ5Ow0KICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNlZTVmNWIsICNiZDM2MmYpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2VlNWY1YiwgI2JkMzYyZik7DQogIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCAwIDAsIDAgMTAwJSwgZnJvbSgjZWU1ZjViKSwgdG8oI2JkMzYyZikpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNlZTVmNWIsICNiZDM2MmYpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjZWU1ZjViLCAjYmQzNjJmKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvcCwgI2VlNWY1YiwgI2JkMzYyZik7DQogIGJhY2tncm91bmQtcmVwZWF0OiByZXBlYXQteDsNCiAgZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nI2VlNWY1YicsIGVuZENvbG9yc3RyPScjYmQzNjJmJywgR3JhZGllbnRUeXBlPTApOw0KICBib3JkZXItY29sb3I6ICNiZDM2MmYgI2JkMzYyZiAjODAyNDIwOw0KICBib3JkZXItY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4xKSByZ2JhKDAsIDAsIDAsIDAuMSkgcmdiYSgwLCAwLCAwLCAwLjI1KTsNCiAgKmJhY2tncm91bmQtY29sb3I6ICNiZDM2MmY7DQogIC8qIERhcmtlbiBJRTcgYnV0dG9ucyBieSBkZWZhdWx0IHNvIHRoZXkgc3RhbmQgb3V0IG1vcmUgZ2l2ZW4gdGhleSB3b24ndCBoYXZlIGJvcmRlcnMgKi8NCg0KICBmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChlbmFibGVkID0gZmFsc2UpOw0KfQ0KLmJ0bi1kYW5nZXI6aG92ZXIsDQouYnRuLWRhbmdlcjphY3RpdmUsDQouYnRuLWRhbmdlci5hY3RpdmUsDQouYnRuLWRhbmdlci5kaXNhYmxlZCwNCi5idG4tZGFuZ2VyW2Rpc2FibGVkXSB7DQogIGJhY2tncm91bmQtY29sb3I6ICNiZDM2MmY7DQogICpiYWNrZ3JvdW5kLWNvbG9yOiAjYTkzMDJhOw0KfQ0KLmJ0bi1kYW5nZXI6YWN0aXZlLA0KLmJ0bi1kYW5nZXIuYWN0aXZlIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzk0MmEyNSBcOTsNCn0NCi5idG4tc3VjY2VzcyB7DQogIGJhY2tncm91bmQtY29sb3I6ICM1YmI3NWI7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgIzYyYzQ2MiwgIzUxYTM1MSk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjNjJjNDYyLCAjNTFhMzUxKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIDAgMCwgMCAxMDAlLCBmcm9tKCM2MmM0NjIpLCB0bygjNTFhMzUxKSk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgIzYyYzQ2MiwgIzUxYTM1MSk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICM2MmM0NjIsICM1MWEzNTEpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG9wLCAjNjJjNDYyLCAjNTFhMzUxKTsNCiAgYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdC14Ow0KICBmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yc3RyPScjNjJjNDYyJywgZW5kQ29sb3JzdHI9JyM1MWEzNTEnLCBHcmFkaWVudFR5cGU9MCk7DQogIGJvcmRlci1jb2xvcjogIzUxYTM1MSAjNTFhMzUxICMzODcwMzg7DQogIGJvcmRlci1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjEpIHJnYmEoMCwgMCwgMCwgMC4xKSByZ2JhKDAsIDAsIDAsIDAuMjUpOw0KICAqYmFja2dyb3VuZC1jb2xvcjogIzUxYTM1MTsNCiAgLyogRGFya2VuIElFNyBidXR0b25zIGJ5IGRlZmF1bHQgc28gdGhleSBzdGFuZCBvdXQgbW9yZSBnaXZlbiB0aGV5IHdvbid0IGhhdmUgYm9yZGVycyAqLw0KDQogIGZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KGVuYWJsZWQgPSBmYWxzZSk7DQp9DQouYnRuLXN1Y2Nlc3M6aG92ZXIsDQouYnRuLXN1Y2Nlc3M6YWN0aXZlLA0KLmJ0bi1zdWNjZXNzLmFjdGl2ZSwNCi5idG4tc3VjY2Vzcy5kaXNhYmxlZCwNCi5idG4tc3VjY2Vzc1tkaXNhYmxlZF0gew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTFhMzUxOw0KICAqYmFja2dyb3VuZC1jb2xvcjogIzQ5OTI0OTsNCn0NCi5idG4tc3VjY2VzczphY3RpdmUsDQouYnRuLXN1Y2Nlc3MuYWN0aXZlIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzQwODE0MCBcOTsNCn0NCi5idG4taW5mbyB7DQogIGJhY2tncm91bmQtY29sb3I6ICM0OWFmY2Q7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgIzViYzBkZSwgIzJmOTZiNCk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjNWJjMGRlLCAjMmY5NmI0KTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIDAgMCwgMCAxMDAlLCBmcm9tKCM1YmMwZGUpLCB0bygjMmY5NmI0KSk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgIzViYzBkZSwgIzJmOTZiNCk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICM1YmMwZGUsICMyZjk2YjQpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG9wLCAjNWJjMGRlLCAjMmY5NmI0KTsNCiAgYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdC14Ow0KICBmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yc3RyPScjNWJjMGRlJywgZW5kQ29sb3JzdHI9JyMyZjk2YjQnLCBHcmFkaWVudFR5cGU9MCk7DQogIGJvcmRlci1jb2xvcjogIzJmOTZiNCAjMmY5NmI0ICMxZjYzNzc7DQogIGJvcmRlci1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjEpIHJnYmEoMCwgMCwgMCwgMC4xKSByZ2JhKDAsIDAsIDAsIDAuMjUpOw0KICAqYmFja2dyb3VuZC1jb2xvcjogIzJmOTZiNDsNCiAgLyogRGFya2VuIElFNyBidXR0b25zIGJ5IGRlZmF1bHQgc28gdGhleSBzdGFuZCBvdXQgbW9yZSBnaXZlbiB0aGV5IHdvbid0IGhhdmUgYm9yZGVycyAqLw0KDQogIGZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KGVuYWJsZWQgPSBmYWxzZSk7DQp9DQouYnRuLWluZm86aG92ZXIsDQouYnRuLWluZm86YWN0aXZlLA0KLmJ0bi1pbmZvLmFjdGl2ZSwNCi5idG4taW5mby5kaXNhYmxlZCwNCi5idG4taW5mb1tkaXNhYmxlZF0gew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmY5NmI0Ow0KICAqYmFja2dyb3VuZC1jb2xvcjogIzJhODVhMDsNCn0NCi5idG4taW5mbzphY3RpdmUsDQouYnRuLWluZm8uYWN0aXZlIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzI0NzQ4YyBcOTsNCn0NCi5idG4taW52ZXJzZSB7DQogIGJhY2tncm91bmQtY29sb3I6ICM0MTQxNDE7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgIzU1NTU1NSwgIzIyMjIyMik7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjNTU1NTU1LCAjMjIyMjIyKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIDAgMCwgMCAxMDAlLCBmcm9tKCM1NTU1NTUpLCB0bygjMjIyMjIyKSk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgIzU1NTU1NSwgIzIyMjIyMik7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICM1NTU1NTUsICMyMjIyMjIpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG9wLCAjNTU1NTU1LCAjMjIyMjIyKTsNCiAgYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdC14Ow0KICBmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yc3RyPScjNTU1NTU1JywgZW5kQ29sb3JzdHI9JyMyMjIyMjInLCBHcmFkaWVudFR5cGU9MCk7DQogIGJvcmRlci1jb2xvcjogIzIyMjIyMiAjMjIyMjIyICMwMDAwMDA7DQogIGJvcmRlci1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjEpIHJnYmEoMCwgMCwgMCwgMC4xKSByZ2JhKDAsIDAsIDAsIDAuMjUpOw0KICAqYmFja2dyb3VuZC1jb2xvcjogIzIyMjIyMjsNCiAgLyogRGFya2VuIElFNyBidXR0b25zIGJ5IGRlZmF1bHQgc28gdGhleSBzdGFuZCBvdXQgbW9yZSBnaXZlbiB0aGV5IHdvbid0IGhhdmUgYm9yZGVycyAqLw0KDQogIGZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KGVuYWJsZWQgPSBmYWxzZSk7DQp9DQouYnRuLWludmVyc2U6aG92ZXIsDQouYnRuLWludmVyc2U6YWN0aXZlLA0KLmJ0bi1pbnZlcnNlLmFjdGl2ZSwNCi5idG4taW52ZXJzZS5kaXNhYmxlZCwNCi5idG4taW52ZXJzZVtkaXNhYmxlZF0gew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyMjIyOw0KICAqYmFja2dyb3VuZC1jb2xvcjogIzE1MTUxNTsNCn0NCi5idG4taW52ZXJzZTphY3RpdmUsDQouYnRuLWludmVyc2UuYWN0aXZlIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzA4MDgwOCBcOTsNCn0NCmJ1dHRvbi5idG4sDQppbnB1dFt0eXBlPSJzdWJtaXQiXS5idG4gew0KICAqcGFkZGluZy10b3A6IDJweDsNCiAgKnBhZGRpbmctYm90dG9tOiAycHg7DQp9DQpidXR0b24uYnRuOjotbW96LWZvY3VzLWlubmVyLA0KaW5wdXRbdHlwZT0ic3VibWl0Il0uYnRuOjotbW96LWZvY3VzLWlubmVyIHsNCiAgcGFkZGluZzogMDsNCiAgYm9yZGVyOiAwOw0KfQ0KYnV0dG9uLmJ0bi5idG4tbGFyZ2UsDQppbnB1dFt0eXBlPSJzdWJtaXQiXS5idG4uYnRuLWxhcmdlIHsNCiAgKnBhZGRpbmctdG9wOiA3cHg7DQogICpwYWRkaW5nLWJvdHRvbTogN3B4Ow0KfQ0KYnV0dG9uLmJ0bi5idG4tc21hbGwsDQppbnB1dFt0eXBlPSJzdWJtaXQiXS5idG4uYnRuLXNtYWxsIHsNCiAgKnBhZGRpbmctdG9wOiAzcHg7DQogICpwYWRkaW5nLWJvdHRvbTogM3B4Ow0KfQ0KYnV0dG9uLmJ0bi5idG4tbWluaSwNCmlucHV0W3R5cGU9InN1Ym1pdCJdLmJ0bi5idG4tbWluaSB7DQogICpwYWRkaW5nLXRvcDogMXB4Ow0KICAqcGFkZGluZy1ib3R0b206IDFweDsNCn0NCltjbGFzc149Imljb24tIl0sDQpbY2xhc3MqPSIgaWNvbi0iXSB7DQogIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgd2lkdGg6IDE0cHg7DQogIGhlaWdodDogMTRweDsNCiAgKm1hcmdpbi1yaWdodDogLjNlbTsNCiAgbGluZS1oZWlnaHQ6IDE0cHg7DQogIHZlcnRpY2FsLWFsaWduOiB0ZXh0LXRvcDsNCiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCIuLi9pbWcvZ2x5cGhpY29ucy1oYWxmbGluZ3MucG5nIik7DQogIGJhY2tncm91bmQtcG9zaXRpb246IDE0cHggMTRweDsNCiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsNCn0NCltjbGFzc149Imljb24tIl06bGFzdC1jaGlsZCwNCltjbGFzcyo9IiBpY29uLSJdOmxhc3QtY2hpbGQgew0KICAqbWFyZ2luLWxlZnQ6IDA7DQp9DQouaWNvbi13aGl0ZSB7DQogIGJhY2tncm91bmQtaW1hZ2U6IHVybCgiLi4vaW1nL2dseXBoaWNvbnMtaGFsZmxpbmdzLXdoaXRlLnBuZyIpOw0KfQ0KLmljb24tZ2xhc3Mgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwICAgICAgMDsNCn0NCi5pY29uLW11c2ljIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTI0cHggMDsNCn0NCi5pY29uLXNlYXJjaCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC00OHB4IDA7DQp9DQouaWNvbi1lbnZlbG9wZSB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC03MnB4IDA7DQp9DQouaWNvbi1oZWFydCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC05NnB4IDA7DQp9DQouaWNvbi1zdGFyIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTEyMHB4IDA7DQp9DQouaWNvbi1zdGFyLWVtcHR5IHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE0NHB4IDA7DQp9DQouaWNvbi11c2VyIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2OHB4IDA7DQp9DQouaWNvbi1maWxtIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE5MnB4IDA7DQp9DQouaWNvbi10aC1sYXJnZSB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0yMTZweCAwOw0KfQ0KLmljb24tdGggew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjQwcHggMDsNCn0NCi5pY29uLXRoLWxpc3Qgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjY0cHggMDsNCn0NCi5pY29uLW9rIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTI4OHB4IDA7DQp9DQouaWNvbi1yZW1vdmUgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzEycHggMDsNCn0NCi5pY29uLXpvb20taW4gew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzM2cHggMDsNCn0NCi5pY29uLXpvb20tb3V0IHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTM2MHB4IDA7DQp9DQouaWNvbi1vZmYgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzg0cHggMDsNCn0NCi5pY29uLXNpZ25hbCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC00MDhweCAwOw0KfQ0KLmljb24tY29nIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQzMnB4IDA7DQp9DQouaWNvbi10cmFzaCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC00NTZweCAwOw0KfQ0KLmljb24taG9tZSB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IDAgLTI0cHg7DQp9DQouaWNvbi1maWxlIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTI0cHggLTI0cHg7DQp9DQouaWNvbi10aW1lIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQ4cHggLTI0cHg7DQp9DQouaWNvbi1yb2FkIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTcycHggLTI0cHg7DQp9DQouaWNvbi1kb3dubG9hZC1hbHQgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtOTZweCAtMjRweDsNCn0NCi5pY29uLWRvd25sb2FkIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTEyMHB4IC0yNHB4Ow0KfQ0KLmljb24tdXBsb2FkIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE0NHB4IC0yNHB4Ow0KfQ0KLmljb24taW5ib3ggew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTY4cHggLTI0cHg7DQp9DQouaWNvbi1wbGF5LWNpcmNsZSB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0xOTJweCAtMjRweDsNCn0NCi5pY29uLXJlcGVhdCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0yMTZweCAtMjRweDsNCn0NCi5pY29uLXJlZnJlc2ggew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjQwcHggLTI0cHg7DQp9DQouaWNvbi1saXN0LWFsdCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0yNjRweCAtMjRweDsNCn0NCi5pY29uLWxvY2sgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjg3cHggLTI0cHg7DQp9DQouaWNvbi1mbGFnIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMxMnB4IC0yNHB4Ow0KfQ0KLmljb24taGVhZHBob25lcyB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0zMzZweCAtMjRweDsNCn0NCi5pY29uLXZvbHVtZS1vZmYgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzYwcHggLTI0cHg7DQp9DQouaWNvbi12b2x1bWUtZG93biB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0zODRweCAtMjRweDsNCn0NCi5pY29uLXZvbHVtZS11cCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC00MDhweCAtMjRweDsNCn0NCi5pY29uLXFyY29kZSB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC00MzJweCAtMjRweDsNCn0NCi5pY29uLWJhcmNvZGUgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDU2cHggLTI0cHg7DQp9DQouaWNvbi10YWcgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC00OHB4Ow0KfQ0KLmljb24tdGFncyB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0yNXB4IC00OHB4Ow0KfQ0KLmljb24tYm9vayB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC00OHB4IC00OHB4Ow0KfQ0KLmljb24tYm9va21hcmsgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNzJweCAtNDhweDsNCn0NCi5pY29uLXByaW50IHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTk2cHggLTQ4cHg7DQp9DQouaWNvbi1jYW1lcmEgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTIwcHggLTQ4cHg7DQp9DQouaWNvbi1mb250IHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE0NHB4IC00OHB4Ow0KfQ0KLmljb24tYm9sZCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0xNjdweCAtNDhweDsNCn0NCi5pY29uLWl0YWxpYyB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0xOTJweCAtNDhweDsNCn0NCi5pY29uLXRleHQtaGVpZ2h0IHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTIxNnB4IC00OHB4Ow0KfQ0KLmljb24tdGV4dC13aWR0aCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0yNDBweCAtNDhweDsNCn0NCi5pY29uLWFsaWduLWxlZnQgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjY0cHggLTQ4cHg7DQp9DQouaWNvbi1hbGlnbi1jZW50ZXIgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjg4cHggLTQ4cHg7DQp9DQouaWNvbi1hbGlnbi1yaWdodCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0zMTJweCAtNDhweDsNCn0NCi5pY29uLWFsaWduLWp1c3RpZnkgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzM2cHggLTQ4cHg7DQp9DQouaWNvbi1saXN0IHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTM2MHB4IC00OHB4Ow0KfQ0KLmljb24taW5kZW50LWxlZnQgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzg0cHggLTQ4cHg7DQp9DQouaWNvbi1pbmRlbnQtcmlnaHQgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDA4cHggLTQ4cHg7DQp9DQouaWNvbi1mYWNldGltZS12aWRlbyB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC00MzJweCAtNDhweDsNCn0NCi5pY29uLXBpY3R1cmUgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDU2cHggLTQ4cHg7DQp9DQouaWNvbi1wZW5jaWwgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC03MnB4Ow0KfQ0KLmljb24tbWFwLW1hcmtlciB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0yNHB4IC03MnB4Ow0KfQ0KLmljb24tYWRqdXN0IHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQ4cHggLTcycHg7DQp9DQouaWNvbi10aW50IHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTcycHggLTcycHg7DQp9DQouaWNvbi1lZGl0IHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTk2cHggLTcycHg7DQp9DQouaWNvbi1zaGFyZSB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0xMjBweCAtNzJweDsNCn0NCi5pY29uLWNoZWNrIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE0NHB4IC03MnB4Ow0KfQ0KLmljb24tbW92ZSB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0xNjhweCAtNzJweDsNCn0NCi5pY29uLXN0ZXAtYmFja3dhcmQgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTkycHggLTcycHg7DQp9DQouaWNvbi1mYXN0LWJhY2t3YXJkIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTIxNnB4IC03MnB4Ow0KfQ0KLmljb24tYmFja3dhcmQgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjQwcHggLTcycHg7DQp9DQouaWNvbi1wbGF5IHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTI2NHB4IC03MnB4Ow0KfQ0KLmljb24tcGF1c2Ugew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjg4cHggLTcycHg7DQp9DQouaWNvbi1zdG9wIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMxMnB4IC03MnB4Ow0KfQ0KLmljb24tZm9yd2FyZCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0zMzZweCAtNzJweDsNCn0NCi5pY29uLWZhc3QtZm9yd2FyZCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0zNjBweCAtNzJweDsNCn0NCi5pY29uLXN0ZXAtZm9yd2FyZCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0zODRweCAtNzJweDsNCn0NCi5pY29uLWVqZWN0IHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQwOHB4IC03MnB4Ow0KfQ0KLmljb24tY2hldnJvbi1sZWZ0IHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQzMnB4IC03MnB4Ow0KfQ0KLmljb24tY2hldnJvbi1yaWdodCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC00NTZweCAtNzJweDsNCn0NCi5pY29uLXBsdXMtc2lnbiB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IDAgLTk2cHg7DQp9DQouaWNvbi1taW51cy1zaWduIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTI0cHggLTk2cHg7DQp9DQouaWNvbi1yZW1vdmUtc2lnbiB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC00OHB4IC05NnB4Ow0KfQ0KLmljb24tb2stc2lnbiB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC03MnB4IC05NnB4Ow0KfQ0KLmljb24tcXVlc3Rpb24tc2lnbiB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC05NnB4IC05NnB4Ow0KfQ0KLmljb24taW5mby1zaWduIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTEyMHB4IC05NnB4Ow0KfQ0KLmljb24tc2NyZWVuc2hvdCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0xNDRweCAtOTZweDsNCn0NCi5pY29uLXJlbW92ZS1jaXJjbGUgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTY4cHggLTk2cHg7DQp9DQouaWNvbi1vay1jaXJjbGUgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTkycHggLTk2cHg7DQp9DQouaWNvbi1iYW4tY2lyY2xlIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTIxNnB4IC05NnB4Ow0KfQ0KLmljb24tYXJyb3ctbGVmdCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0yNDBweCAtOTZweDsNCn0NCi5pY29uLWFycm93LXJpZ2h0IHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTI2NHB4IC05NnB4Ow0KfQ0KLmljb24tYXJyb3ctdXAgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjg5cHggLTk2cHg7DQp9DQouaWNvbi1hcnJvdy1kb3duIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMxMnB4IC05NnB4Ow0KfQ0KLmljb24tc2hhcmUtYWx0IHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMzNnB4IC05NnB4Ow0KfQ0KLmljb24tcmVzaXplLWZ1bGwgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzYwcHggLTk2cHg7DQp9DQouaWNvbi1yZXNpemUtc21hbGwgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzg0cHggLTk2cHg7DQp9DQouaWNvbi1wbHVzIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQwOHB4IC05NnB4Ow0KfQ0KLmljb24tbWludXMgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDMzcHggLTk2cHg7DQp9DQouaWNvbi1hc3RlcmlzayB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC00NTZweCAtOTZweDsNCn0NCi5pY29uLWV4Y2xhbWF0aW9uLXNpZ24gew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC0xMjBweDsNCn0NCi5pY29uLWdpZnQgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjRweCAtMTIwcHg7DQp9DQouaWNvbi1sZWFmIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQ4cHggLTEyMHB4Ow0KfQ0KLmljb24tZmlyZSB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC03MnB4IC0xMjBweDsNCn0NCi5pY29uLWV5ZS1vcGVuIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTk2cHggLTEyMHB4Ow0KfQ0KLmljb24tZXllLWNsb3NlIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTEyMHB4IC0xMjBweDsNCn0NCi5pY29uLXdhcm5pbmctc2lnbiB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0xNDRweCAtMTIwcHg7DQp9DQouaWNvbi1wbGFuZSB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0xNjhweCAtMTIwcHg7DQp9DQouaWNvbi1jYWxlbmRhciB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0xOTJweCAtMTIwcHg7DQp9DQouaWNvbi1yYW5kb20gew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjE2cHggLTEyMHB4Ow0KfQ0KLmljb24tY29tbWVudCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0yNDBweCAtMTIwcHg7DQp9DQouaWNvbi1tYWduZXQgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjY0cHggLTEyMHB4Ow0KfQ0KLmljb24tY2hldnJvbi11cCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0yODhweCAtMTIwcHg7DQp9DQouaWNvbi1jaGV2cm9uLWRvd24gew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzEzcHggLTExOXB4Ow0KfQ0KLmljb24tcmV0d2VldCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0zMzZweCAtMTIwcHg7DQp9DQouaWNvbi1zaG9wcGluZy1jYXJ0IHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTM2MHB4IC0xMjBweDsNCn0NCi5pY29uLWZvbGRlci1jbG9zZSB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0zODRweCAtMTIwcHg7DQp9DQouaWNvbi1mb2xkZXItb3BlbiB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC00MDhweCAtMTIwcHg7DQp9DQouaWNvbi1yZXNpemUtdmVydGljYWwgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDMycHggLTExOXB4Ow0KfQ0KLmljb24tcmVzaXplLWhvcml6b250YWwgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDU2cHggLTExOHB4Ow0KfQ0KLmljb24taGRkIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAtMTQ0cHg7DQp9DQouaWNvbi1idWxsaG9ybiB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0yNHB4IC0xNDRweDsNCn0NCi5pY29uLWJlbGwgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDhweCAtMTQ0cHg7DQp9DQouaWNvbi1jZXJ0aWZpY2F0ZSB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC03MnB4IC0xNDRweDsNCn0NCi5pY29uLXRodW1icy11cCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC05NnB4IC0xNDRweDsNCn0NCi5pY29uLXRodW1icy1kb3duIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTEyMHB4IC0xNDRweDsNCn0NCi5pY29uLWhhbmQtcmlnaHQgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTQ0cHggLTE0NHB4Ow0KfQ0KLmljb24taGFuZC1sZWZ0IHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2OHB4IC0xNDRweDsNCn0NCi5pY29uLWhhbmQtdXAgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTkycHggLTE0NHB4Ow0KfQ0KLmljb24taGFuZC1kb3duIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTIxNnB4IC0xNDRweDsNCn0NCi5pY29uLWNpcmNsZS1hcnJvdy1yaWdodCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0yNDBweCAtMTQ0cHg7DQp9DQouaWNvbi1jaXJjbGUtYXJyb3ctbGVmdCB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC0yNjRweCAtMTQ0cHg7DQp9DQouaWNvbi1jaXJjbGUtYXJyb3ctdXAgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjg4cHggLTE0NHB4Ow0KfQ0KLmljb24tY2lyY2xlLWFycm93LWRvd24gew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzEycHggLTE0NHB4Ow0KfQ0KLmljb24tZ2xvYmUgew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzM2cHggLTE0NHB4Ow0KfQ0KLmljb24td3JlbmNoIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTM2MHB4IC0xNDRweDsNCn0NCi5pY29uLXRhc2tzIHsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTM4NHB4IC0xNDRweDsNCn0NCi5pY29uLWZpbHRlciB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC00MDhweCAtMTQ0cHg7DQp9DQouaWNvbi1icmllZmNhc2Ugew0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDMycHggLTE0NHB4Ow0KfQ0KLmljb24tZnVsbHNjcmVlbiB7DQogIGJhY2tncm91bmQtcG9zaXRpb246IC00NTZweCAtMTQ0cHg7DQp9DQouYnRuLWdyb3VwIHsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAqem9vbTogMTsNCiAgKm1hcmdpbi1sZWZ0OiAuM2VtOw0KfQ0KLmJ0bi1ncm91cDpiZWZvcmUsDQouYnRuLWdyb3VwOmFmdGVyIHsNCiAgZGlzcGxheTogdGFibGU7DQogIGNvbnRlbnQ6ICIiOw0KfQ0KLmJ0bi1ncm91cDphZnRlciB7DQogIGNsZWFyOiBib3RoOw0KfQ0KLmJ0bi1ncm91cDpmaXJzdC1jaGlsZCB7DQogICptYXJnaW4tbGVmdDogMDsNCn0NCi5idG4tZ3JvdXAgKyAuYnRuLWdyb3VwIHsNCiAgbWFyZ2luLWxlZnQ6IDVweDsNCn0NCi5idG4tdG9vbGJhciB7DQogIG1hcmdpbi10b3A6IDlweDsNCiAgbWFyZ2luLWJvdHRvbTogOXB4Ow0KfQ0KLmJ0bi10b29sYmFyIC5idG4tZ3JvdXAgew0KICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICpkaXNwbGF5OiBpbmxpbmU7DQogIC8qIElFNyBpbmxpbmUtYmxvY2sgaGFjayAqLw0KDQogICp6b29tOiAxOw0KfQ0KLmJ0bi1ncm91cCA+IC5idG4gew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIGZsb2F0OiBsZWZ0Ow0KICBtYXJnaW4tbGVmdDogLTFweDsNCiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAwOw0KICAtbW96LWJvcmRlci1yYWRpdXM6IDA7DQogIGJvcmRlci1yYWRpdXM6IDA7DQp9DQouYnRuLWdyb3VwID4gLmJ0bjpmaXJzdC1jaGlsZCB7DQogIG1hcmdpbi1sZWZ0OiAwOw0KICAtd2Via2l0LWJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDRweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzLXRvcGxlZnQ6IDRweDsNCiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogNHB4Ow0KICAtd2Via2l0LWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDRweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbWxlZnQ6IDRweDsNCiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogNHB4Ow0KfQ0KLmJ0bi1ncm91cCA+IC5idG46bGFzdC1jaGlsZCwNCi5idG4tZ3JvdXAgPiAuZHJvcGRvd24tdG9nZ2xlIHsNCiAgLXdlYmtpdC1ib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogNHB4Ow0KICAtbW96LWJvcmRlci1yYWRpdXMtdG9wcmlnaHQ6IDRweDsNCiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDRweDsNCiAgLXdlYmtpdC1ib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogNHB4Ow0KICAtbW96LWJvcmRlci1yYWRpdXMtYm90dG9tcmlnaHQ6IDRweDsNCiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDRweDsNCn0NCi5idG4tZ3JvdXAgPiAuYnRuLmxhcmdlOmZpcnN0LWNoaWxkIHsNCiAgbWFyZ2luLWxlZnQ6IDA7DQogIC13ZWJraXQtYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogNnB4Ow0KICAtbW96LWJvcmRlci1yYWRpdXMtdG9wbGVmdDogNnB4Ow0KICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiA2cHg7DQogIC13ZWJraXQtYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogNnB4Ow0KICAtbW96LWJvcmRlci1yYWRpdXMtYm90dG9tbGVmdDogNnB4Ow0KICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA2cHg7DQp9DQouYnRuLWdyb3VwID4gLmJ0bi5sYXJnZTpsYXN0LWNoaWxkLA0KLmJ0bi1ncm91cCA+IC5sYXJnZS5kcm9wZG93bi10b2dnbGUgew0KICAtd2Via2l0LWJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiA2cHg7DQogIC1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodDogNnB4Ow0KICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogNnB4Ow0KICAtd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA2cHg7DQogIC1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21yaWdodDogNnB4Ow0KICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogNnB4Ow0KfQ0KLmJ0bi1ncm91cCA+IC5idG46aG92ZXIsDQouYnRuLWdyb3VwID4gLmJ0bjpmb2N1cywNCi5idG4tZ3JvdXAgPiAuYnRuOmFjdGl2ZSwNCi5idG4tZ3JvdXAgPiAuYnRuLmFjdGl2ZSB7DQogIHotaW5kZXg6IDI7DQp9DQouYnRuLWdyb3VwIC5kcm9wZG93bi10b2dnbGU6YWN0aXZlLA0KLmJ0bi1ncm91cC5vcGVuIC5kcm9wZG93bi10b2dnbGUgew0KICBvdXRsaW5lOiAwOw0KfQ0KLmJ0bi1ncm91cCA+IC5kcm9wZG93bi10b2dnbGUgew0KICBwYWRkaW5nLWxlZnQ6IDhweDsNCiAgcGFkZGluZy1yaWdodDogOHB4Ow0KICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDFweCAwIDAgcmdiYSgyNTUsMjU1LDI1NSwuMTI1KSwgaW5zZXQgMCAxcHggMCByZ2JhKDI1NSwyNTUsMjU1LC4yKSwgMCAxcHggMnB4IHJnYmEoMCwwLDAsLjA1KTsNCiAgLW1vei1ib3gtc2hhZG93OiBpbnNldCAxcHggMCAwIHJnYmEoMjU1LDI1NSwyNTUsLjEyNSksIGluc2V0IDAgMXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwuMiksIDAgMXB4IDJweCByZ2JhKDAsMCwwLC4wNSk7DQogIGJveC1zaGFkb3c6IGluc2V0IDFweCAwIDAgcmdiYSgyNTUsMjU1LDI1NSwuMTI1KSwgaW5zZXQgMCAxcHggMCByZ2JhKDI1NSwyNTUsMjU1LC4yKSwgMCAxcHggMnB4IHJnYmEoMCwwLDAsLjA1KTsNCiAgKnBhZGRpbmctdG9wOiA0cHg7DQogICpwYWRkaW5nLWJvdHRvbTogNHB4Ow0KfQ0KLmJ0bi1ncm91cCA+IC5idG4tbWluaS5kcm9wZG93bi10b2dnbGUgew0KICBwYWRkaW5nLWxlZnQ6IDVweDsNCiAgcGFkZGluZy1yaWdodDogNXB4Ow0KfQ0KLmJ0bi1ncm91cCA+IC5idG4tc21hbGwuZHJvcGRvd24tdG9nZ2xlIHsNCiAgKnBhZGRpbmctdG9wOiA0cHg7DQogICpwYWRkaW5nLWJvdHRvbTogNHB4Ow0KfQ0KLmJ0bi1ncm91cCA+IC5idG4tbGFyZ2UuZHJvcGRvd24tdG9nZ2xlIHsNCiAgcGFkZGluZy1sZWZ0OiAxMnB4Ow0KICBwYWRkaW5nLXJpZ2h0OiAxMnB4Ow0KfQ0KLmJ0bi1ncm91cC5vcGVuIC5kcm9wZG93bi10b2dnbGUgew0KICBiYWNrZ3JvdW5kLWltYWdlOiBub25lOw0KICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMnB4IDRweCByZ2JhKDAsMCwwLC4xNSksIDAgMXB4IDJweCByZ2JhKDAsMCwwLC4wNSk7DQogIC1tb3otYm94LXNoYWRvdzogaW5zZXQgMCAycHggNHB4IHJnYmEoMCwwLDAsLjE1KSwgMCAxcHggMnB4IHJnYmEoMCwwLDAsLjA1KTsNCiAgYm94LXNoYWRvdzogaW5zZXQgMCAycHggNHB4IHJnYmEoMCwwLDAsLjE1KSwgMCAxcHggMnB4IHJnYmEoMCwwLDAsLjA1KTsNCn0NCi5idG4tZ3JvdXAub3BlbiAuYnRuLmRyb3Bkb3duLXRvZ2dsZSB7DQogIGJhY2tncm91bmQtY29sb3I6ICNlNmU2ZTY7DQp9DQouYnRuLWdyb3VwLm9wZW4gLmJ0bi1wcmltYXJ5LmRyb3Bkb3duLXRvZ2dsZSB7DQogIGJhY2tncm91bmQtY29sb3I6ICMwMDU1Y2M7DQp9DQouYnRuLWdyb3VwLm9wZW4gLmJ0bi13YXJuaW5nLmRyb3Bkb3duLXRvZ2dsZSB7DQogIGJhY2tncm91bmQtY29sb3I6ICNmODk0MDY7DQp9DQouYnRuLWdyb3VwLm9wZW4gLmJ0bi1kYW5nZXIuZHJvcGRvd24tdG9nZ2xlIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2JkMzYyZjsNCn0NCi5idG4tZ3JvdXAub3BlbiAuYnRuLXN1Y2Nlc3MuZHJvcGRvd24tdG9nZ2xlIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzUxYTM1MTsNCn0NCi5idG4tZ3JvdXAub3BlbiAuYnRuLWluZm8uZHJvcGRvd24tdG9nZ2xlIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzJmOTZiNDsNCn0NCi5idG4tZ3JvdXAub3BlbiAuYnRuLWludmVyc2UuZHJvcGRvd24tdG9nZ2xlIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzIyMjIyMjsNCn0NCi5idG4gLmNhcmV0IHsNCiAgbWFyZ2luLXRvcDogN3B4Ow0KICBtYXJnaW4tbGVmdDogMDsNCn0NCi5idG46aG92ZXIgLmNhcmV0LA0KLm9wZW4uYnRuLWdyb3VwIC5jYXJldCB7DQogIG9wYWNpdHk6IDE7DQogIGZpbHRlcjogYWxwaGEob3BhY2l0eT0xMDApOw0KfQ0KLmJ0bi1taW5pIC5jYXJldCB7DQogIG1hcmdpbi10b3A6IDVweDsNCn0NCi5idG4tc21hbGwgLmNhcmV0IHsNCiAgbWFyZ2luLXRvcDogNnB4Ow0KfQ0KLmJ0bi1sYXJnZSAuY2FyZXQgew0KICBtYXJnaW4tdG9wOiA2cHg7DQogIGJvcmRlci1sZWZ0LXdpZHRoOiA1cHg7DQogIGJvcmRlci1yaWdodC13aWR0aDogNXB4Ow0KICBib3JkZXItdG9wLXdpZHRoOiA1cHg7DQp9DQouZHJvcHVwIC5idG4tbGFyZ2UgLmNhcmV0IHsNCiAgYm9yZGVyLWJvdHRvbTogNXB4IHNvbGlkICMwMDAwMDA7DQogIGJvcmRlci10b3A6IDA7DQp9DQouYnRuLXByaW1hcnkgLmNhcmV0LA0KLmJ0bi13YXJuaW5nIC5jYXJldCwNCi5idG4tZGFuZ2VyIC5jYXJldCwNCi5idG4taW5mbyAuY2FyZXQsDQouYnRuLXN1Y2Nlc3MgLmNhcmV0LA0KLmJ0bi1pbnZlcnNlIC5jYXJldCB7DQogIGJvcmRlci10b3AtY29sb3I6ICNmZmZmZmY7DQogIGJvcmRlci1ib3R0b20tY29sb3I6ICNmZmZmZmY7DQogIG9wYWNpdHk6IDAuNzU7DQogIGZpbHRlcjogYWxwaGEob3BhY2l0eT03NSk7DQp9DQoubmF2IHsNCiAgbWFyZ2luLWxlZnQ6IDA7DQogIG1hcmdpbi1ib3R0b206IDE4cHg7DQogIGxpc3Qtc3R5bGU6IG5vbmU7DQp9DQoubmF2ID4gbGkgPiBhIHsNCiAgZGlzcGxheTogYmxvY2s7DQp9DQoubmF2ID4gbGkgPiBhOmhvdmVyIHsNCiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlZWVlOw0KfQ0KLm5hdiA+IC5wdWxsLXJpZ2h0IHsNCiAgZmxvYXQ6IHJpZ2h0Ow0KfQ0KLm5hdiAubmF2LWhlYWRlciB7DQogIGRpc3BsYXk6IGJsb2NrOw0KICBwYWRkaW5nOiAzcHggMTVweDsNCiAgZm9udC1zaXplOiAxMXB4Ow0KICBmb250LXdlaWdodDogYm9sZDsNCiAgbGluZS1oZWlnaHQ6IDE4cHg7DQogIGNvbG9yOiAjOTk5OTk5Ow0KICB0ZXh0LXNoYWRvdzogMCAxcHggMCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7DQogIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7DQp9DQoubmF2IGxpICsgLm5hdi1oZWFkZXIgew0KICBtYXJnaW4tdG9wOiA5cHg7DQp9DQoubmF2LWxpc3Qgew0KICBwYWRkaW5nLWxlZnQ6IDE1cHg7DQogIHBhZGRpbmctcmlnaHQ6IDE1cHg7DQogIG1hcmdpbi1ib3R0b206IDA7DQp9DQoubmF2LWxpc3QgPiBsaSA+IGEsDQoubmF2LWxpc3QgLm5hdi1oZWFkZXIgew0KICBtYXJnaW4tbGVmdDogLTE1cHg7DQogIG1hcmdpbi1yaWdodDogLTE1cHg7DQogIHRleHQtc2hhZG93OiAwIDFweCAwIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTsNCn0NCi5uYXYtbGlzdCA+IGxpID4gYSB7DQogIHBhZGRpbmc6IDNweCAxNXB4Ow0KfQ0KLm5hdi1saXN0ID4gLmFjdGl2ZSA+IGEsDQoubmF2LWxpc3QgPiAuYWN0aXZlID4gYTpob3ZlciB7DQogIGNvbG9yOiAjZmZmZmZmOw0KICB0ZXh0LXNoYWRvdzogMCAtMXB4IDAgcmdiYSgwLCAwLCAwLCAwLjIpOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA4OGNjOw0KfQ0KLm5hdi1saXN0IFtjbGFzc149Imljb24tIl0gew0KICBtYXJnaW4tcmlnaHQ6IDJweDsNCn0NCi5uYXYtbGlzdCAuZGl2aWRlciB7DQogICp3aWR0aDogMTAwJTsNCiAgaGVpZ2h0OiAxcHg7DQogIG1hcmdpbjogOHB4IDFweDsNCiAgKm1hcmdpbjogLTVweCAwIDVweDsNCiAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2U1ZTVlNTsNCiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmZmZmZmY7DQp9DQoubmF2LXRhYnMsDQoubmF2LXBpbGxzIHsNCiAgKnpvb206IDE7DQp9DQoubmF2LXRhYnM6YmVmb3JlLA0KLm5hdi1waWxsczpiZWZvcmUsDQoubmF2LXRhYnM6YWZ0ZXIsDQoubmF2LXBpbGxzOmFmdGVyIHsNCiAgZGlzcGxheTogdGFibGU7DQogIGNvbnRlbnQ6ICIiOw0KfQ0KLm5hdi10YWJzOmFmdGVyLA0KLm5hdi1waWxsczphZnRlciB7DQogIGNsZWFyOiBib3RoOw0KfQ0KLm5hdi10YWJzID4gbGksDQoubmF2LXBpbGxzID4gbGkgew0KICBmbG9hdDogbGVmdDsNCn0NCi5uYXYtdGFicyA+IGxpID4gYSwNCi5uYXYtcGlsbHMgPiBsaSA+IGEgew0KICBwYWRkaW5nLXJpZ2h0OiAxMnB4Ow0KICBwYWRkaW5nLWxlZnQ6IDEycHg7DQogIG1hcmdpbi1yaWdodDogMnB4Ow0KICBsaW5lLWhlaWdodDogMTRweDsNCn0NCi5uYXYtdGFicyB7DQogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkOw0KfQ0KLm5hdi10YWJzID4gbGkgew0KICBtYXJnaW4tYm90dG9tOiAtMXB4Ow0KfQ0KLm5hdi10YWJzID4gbGkgPiBhIHsNCiAgcGFkZGluZy10b3A6IDhweDsNCiAgcGFkZGluZy1ib3R0b206IDhweDsNCiAgbGluZS1oZWlnaHQ6IDE4cHg7DQogIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDRweCA0cHggMCAwOw0KICAtbW96LWJvcmRlci1yYWRpdXM6IDRweCA0cHggMCAwOw0KICBib3JkZXItcmFkaXVzOiA0cHggNHB4IDAgMDsNCn0NCi5uYXYtdGFicyA+IGxpID4gYTpob3ZlciB7DQogIGJvcmRlci1jb2xvcjogI2VlZWVlZSAjZWVlZWVlICNkZGRkZGQ7DQp9DQoubmF2LXRhYnMgPiAuYWN0aXZlID4gYSwNCi5uYXYtdGFicyA+IC5hY3RpdmUgPiBhOmhvdmVyIHsNCiAgY29sb3I6ICM1NTU1NTU7DQogIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7DQogIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7DQogIGJvcmRlci1ib3R0b20tY29sb3I6IHRyYW5zcGFyZW50Ow0KICBjdXJzb3I6IGRlZmF1bHQ7DQp9DQoubmF2LXBpbGxzID4gbGkgPiBhIHsNCiAgcGFkZGluZy10b3A6IDhweDsNCiAgcGFkZGluZy1ib3R0b206IDhweDsNCiAgbWFyZ2luLXRvcDogMnB4Ow0KICBtYXJnaW4tYm90dG9tOiAycHg7DQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNXB4Ow0KICAtbW96LWJvcmRlci1yYWRpdXM6IDVweDsNCiAgYm9yZGVyLXJhZGl1czogNXB4Ow0KfQ0KLm5hdi1waWxscyA+IC5hY3RpdmUgPiBhLA0KLm5hdi1waWxscyA+IC5hY3RpdmUgPiBhOmhvdmVyIHsNCiAgY29sb3I6ICNmZmZmZmY7DQogIGJhY2tncm91bmQtY29sb3I6ICMwMDg4Y2M7DQp9DQoubmF2LXN0YWNrZWQgPiBsaSB7DQogIGZsb2F0OiBub25lOw0KfQ0KLm5hdi1zdGFja2VkID4gbGkgPiBhIHsNCiAgbWFyZ2luLXJpZ2h0OiAwOw0KfQ0KLm5hdi10YWJzLm5hdi1zdGFja2VkIHsNCiAgYm9yZGVyLWJvdHRvbTogMDsNCn0NCi5uYXYtdGFicy5uYXYtc3RhY2tlZCA+IGxpID4gYSB7DQogIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7DQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiAwOw0KICBib3JkZXItcmFkaXVzOiAwOw0KfQ0KLm5hdi10YWJzLm5hdi1zdGFja2VkID4gbGk6Zmlyc3QtY2hpbGQgPiBhIHsNCiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA0cHggNHB4IDAgMDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiA0cHggNHB4IDAgMDsNCiAgYm9yZGVyLXJhZGl1czogNHB4IDRweCAwIDA7DQp9DQoubmF2LXRhYnMubmF2LXN0YWNrZWQgPiBsaTpsYXN0LWNoaWxkID4gYSB7DQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMCAwIDRweCA0cHg7DQogIC1tb3otYm9yZGVyLXJhZGl1czogMCAwIDRweCA0cHg7DQogIGJvcmRlci1yYWRpdXM6IDAgMCA0cHggNHB4Ow0KfQ0KLm5hdi10YWJzLm5hdi1zdGFja2VkID4gbGkgPiBhOmhvdmVyIHsNCiAgYm9yZGVyLWNvbG9yOiAjZGRkOw0KICB6LWluZGV4OiAyOw0KfQ0KLm5hdi1waWxscy5uYXYtc3RhY2tlZCA+IGxpID4gYSB7DQogIG1hcmdpbi1ib3R0b206IDNweDsNCn0NCi5uYXYtcGlsbHMubmF2LXN0YWNrZWQgPiBsaTpsYXN0LWNoaWxkID4gYSB7DQogIG1hcmdpbi1ib3R0b206IDFweDsNCn0NCi5uYXYtdGFicyAuZHJvcGRvd24tbWVudSB7DQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMCAwIDVweCA1cHg7DQogIC1tb3otYm9yZGVyLXJhZGl1czogMCAwIDVweCA1cHg7DQogIGJvcmRlci1yYWRpdXM6IDAgMCA1cHggNXB4Ow0KfQ0KLm5hdi1waWxscyAuZHJvcGRvd24tbWVudSB7DQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNHB4Ow0KICAtbW96LWJvcmRlci1yYWRpdXM6IDRweDsNCiAgYm9yZGVyLXJhZGl1czogNHB4Ow0KfQ0KLm5hdi10YWJzIC5kcm9wZG93bi10b2dnbGUgLmNhcmV0LA0KLm5hdi1waWxscyAuZHJvcGRvd24tdG9nZ2xlIC5jYXJldCB7DQogIGJvcmRlci10b3AtY29sb3I6ICMwMDg4Y2M7DQogIGJvcmRlci1ib3R0b20tY29sb3I6ICMwMDg4Y2M7DQogIG1hcmdpbi10b3A6IDZweDsNCn0NCi5uYXYtdGFicyAuZHJvcGRvd24tdG9nZ2xlOmhvdmVyIC5jYXJldCwNCi5uYXYtcGlsbHMgLmRyb3Bkb3duLXRvZ2dsZTpob3ZlciAuY2FyZXQgew0KICBib3JkZXItdG9wLWNvbG9yOiAjMDA1NTgwOw0KICBib3JkZXItYm90dG9tLWNvbG9yOiAjMDA1NTgwOw0KfQ0KLm5hdi10YWJzIC5hY3RpdmUgLmRyb3Bkb3duLXRvZ2dsZSAuY2FyZXQsDQoubmF2LXBpbGxzIC5hY3RpdmUgLmRyb3Bkb3duLXRvZ2dsZSAuY2FyZXQgew0KICBib3JkZXItdG9wLWNvbG9yOiAjMzMzMzMzOw0KICBib3JkZXItYm90dG9tLWNvbG9yOiAjMzMzMzMzOw0KfQ0KLm5hdiA+IC5kcm9wZG93bi5hY3RpdmUgPiBhOmhvdmVyIHsNCiAgY29sb3I6ICMwMDAwMDA7DQogIGN1cnNvcjogcG9pbnRlcjsNCn0NCi5uYXYtdGFicyAub3BlbiAuZHJvcGRvd24tdG9nZ2xlLA0KLm5hdi1waWxscyAub3BlbiAuZHJvcGRvd24tdG9nZ2xlLA0KLm5hdiA+IGxpLmRyb3Bkb3duLm9wZW4uYWN0aXZlID4gYTpob3ZlciB7DQogIGNvbG9yOiAjZmZmZmZmOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTk5OTk5Ow0KICBib3JkZXItY29sb3I6ICM5OTk5OTk7DQp9DQoubmF2IGxpLmRyb3Bkb3duLm9wZW4gLmNhcmV0LA0KLm5hdiBsaS5kcm9wZG93bi5vcGVuLmFjdGl2ZSAuY2FyZXQsDQoubmF2IGxpLmRyb3Bkb3duLm9wZW4gYTpob3ZlciAuY2FyZXQgew0KICBib3JkZXItdG9wLWNvbG9yOiAjZmZmZmZmOw0KICBib3JkZXItYm90dG9tLWNvbG9yOiAjZmZmZmZmOw0KICBvcGFjaXR5OiAxOw0KICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MTAwKTsNCn0NCi50YWJzLXN0YWNrZWQgLm9wZW4gPiBhOmhvdmVyIHsNCiAgYm9yZGVyLWNvbG9yOiAjOTk5OTk5Ow0KfQ0KLnRhYmJhYmxlIHsNCiAgKnpvb206IDE7DQp9DQoudGFiYmFibGU6YmVmb3JlLA0KLnRhYmJhYmxlOmFmdGVyIHsNCiAgZGlzcGxheTogdGFibGU7DQogIGNvbnRlbnQ6ICIiOw0KfQ0KLnRhYmJhYmxlOmFmdGVyIHsNCiAgY2xlYXI6IGJvdGg7DQp9DQoudGFiLWNvbnRlbnQgew0KICBvdmVyZmxvdzogYXV0bzsNCn0NCi50YWJzLWJlbG93ID4gLm5hdi10YWJzLA0KLnRhYnMtcmlnaHQgPiAubmF2LXRhYnMsDQoudGFicy1sZWZ0ID4gLm5hdi10YWJzIHsNCiAgYm9yZGVyLWJvdHRvbTogMDsNCn0NCi50YWItY29udGVudCA+IC50YWItcGFuZSwNCi5waWxsLWNvbnRlbnQgPiAucGlsbC1wYW5lIHsNCiAgZGlzcGxheTogbm9uZTsNCn0NCi50YWItY29udGVudCA+IC5hY3RpdmUsDQoucGlsbC1jb250ZW50ID4gLmFjdGl2ZSB7DQogIGRpc3BsYXk6IGJsb2NrOw0KfQ0KLnRhYnMtYmVsb3cgPiAubmF2LXRhYnMgew0KICBib3JkZXItdG9wOiAxcHggc29saWQgI2RkZDsNCn0NCi50YWJzLWJlbG93ID4gLm5hdi10YWJzID4gbGkgew0KICBtYXJnaW4tdG9wOiAtMXB4Ow0KICBtYXJnaW4tYm90dG9tOiAwOw0KfQ0KLnRhYnMtYmVsb3cgPiAubmF2LXRhYnMgPiBsaSA+IGEgew0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDAgMCA0cHggNHB4Ow0KICAtbW96LWJvcmRlci1yYWRpdXM6IDAgMCA0cHggNHB4Ow0KICBib3JkZXItcmFkaXVzOiAwIDAgNHB4IDRweDsNCn0NCi50YWJzLWJlbG93ID4gLm5hdi10YWJzID4gbGkgPiBhOmhvdmVyIHsNCiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdHJhbnNwYXJlbnQ7DQogIGJvcmRlci10b3AtY29sb3I6ICNkZGQ7DQp9DQoudGFicy1iZWxvdyA+IC5uYXYtdGFicyA+IC5hY3RpdmUgPiBhLA0KLnRhYnMtYmVsb3cgPiAubmF2LXRhYnMgPiAuYWN0aXZlID4gYTpob3ZlciB7DQogIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgI2RkZCAjZGRkICNkZGQ7DQp9DQoudGFicy1sZWZ0ID4gLm5hdi10YWJzID4gbGksDQoudGFicy1yaWdodCA+IC5uYXYtdGFicyA+IGxpIHsNCiAgZmxvYXQ6IG5vbmU7DQp9DQoudGFicy1sZWZ0ID4gLm5hdi10YWJzID4gbGkgPiBhLA0KLnRhYnMtcmlnaHQgPiAubmF2LXRhYnMgPiBsaSA+IGEgew0KICBtaW4td2lkdGg6IDc0cHg7DQogIG1hcmdpbi1yaWdodDogMDsNCiAgbWFyZ2luLWJvdHRvbTogM3B4Ow0KfQ0KLnRhYnMtbGVmdCA+IC5uYXYtdGFicyB7DQogIGZsb2F0OiBsZWZ0Ow0KICBtYXJnaW4tcmlnaHQ6IDE5cHg7DQogIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkZGQ7DQp9DQoudGFicy1sZWZ0ID4gLm5hdi10YWJzID4gbGkgPiBhIHsNCiAgbWFyZ2luLXJpZ2h0OiAtMXB4Ow0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDRweCAwIDAgNHB4Ow0KICAtbW96LWJvcmRlci1yYWRpdXM6IDRweCAwIDAgNHB4Ow0KICBib3JkZXItcmFkaXVzOiA0cHggMCAwIDRweDsNCn0NCi50YWJzLWxlZnQgPiAubmF2LXRhYnMgPiBsaSA+IGE6aG92ZXIgew0KICBib3JkZXItY29sb3I6ICNlZWVlZWUgI2RkZGRkZCAjZWVlZWVlICNlZWVlZWU7DQp9DQoudGFicy1sZWZ0ID4gLm5hdi10YWJzIC5hY3RpdmUgPiBhLA0KLnRhYnMtbGVmdCA+IC5uYXYtdGFicyAuYWN0aXZlID4gYTpob3ZlciB7DQogIGJvcmRlci1jb2xvcjogI2RkZCB0cmFuc3BhcmVudCAjZGRkICNkZGQ7DQogICpib3JkZXItcmlnaHQtY29sb3I6ICNmZmZmZmY7DQp9DQoudGFicy1yaWdodCA+IC5uYXYtdGFicyB7DQogIGZsb2F0OiByaWdodDsNCiAgbWFyZ2luLWxlZnQ6IDE5cHg7DQogIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2RkZDsNCn0NCi50YWJzLXJpZ2h0ID4gLm5hdi10YWJzID4gbGkgPiBhIHsNCiAgbWFyZ2luLWxlZnQ6IC0xcHg7DQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMCA0cHggNHB4IDA7DQogIC1tb3otYm9yZGVyLXJhZGl1czogMCA0cHggNHB4IDA7DQogIGJvcmRlci1yYWRpdXM6IDAgNHB4IDRweCAwOw0KfQ0KLnRhYnMtcmlnaHQgPiAubmF2LXRhYnMgPiBsaSA+IGE6aG92ZXIgew0KICBib3JkZXItY29sb3I6ICNlZWVlZWUgI2VlZWVlZSAjZWVlZWVlICNkZGRkZGQ7DQp9DQoudGFicy1yaWdodCA+IC5uYXYtdGFicyAuYWN0aXZlID4gYSwNCi50YWJzLXJpZ2h0ID4gLm5hdi10YWJzIC5hY3RpdmUgPiBhOmhvdmVyIHsNCiAgYm9yZGVyLWNvbG9yOiAjZGRkICNkZGQgI2RkZCB0cmFuc3BhcmVudDsNCiAgKmJvcmRlci1sZWZ0LWNvbG9yOiAjZmZmZmZmOw0KfQ0KLm5hdmJhciB7DQogICpwb3NpdGlvbjogcmVsYXRpdmU7DQogICp6LWluZGV4OiAyOw0KICBvdmVyZmxvdzogdmlzaWJsZTsNCiAgbWFyZ2luLWJvdHRvbTogMThweDsNCn0NCi5uYXZiYXItaW5uZXIgew0KICBtaW4taGVpZ2h0OiA0MHB4Ow0KICBwYWRkaW5nLWxlZnQ6IDIwcHg7DQogIHBhZGRpbmctcmlnaHQ6IDIwcHg7DQogIGJhY2tncm91bmQtY29sb3I6ICMyYzJjMmM7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgIzMzMzMzMywgIzIyMjIyMik7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjMzMzMzMzLCAjMjIyMjIyKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIDAgMCwgMCAxMDAlLCBmcm9tKCMzMzMzMzMpLCB0bygjMjIyMjIyKSk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgIzMzMzMzMywgIzIyMjIyMik7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICMzMzMzMzMsICMyMjIyMjIpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG9wLCAjMzMzMzMzLCAjMjIyMjIyKTsNCiAgYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdC14Ow0KICBmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yc3RyPScjMzMzMzMzJywgZW5kQ29sb3JzdHI9JyMyMjIyMjInLCBHcmFkaWVudFR5cGU9MCk7DQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNHB4Ow0KICAtbW96LWJvcmRlci1yYWRpdXM6IDRweDsNCiAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsMCwwLC4yNSksIGluc2V0IDAgLTFweCAwIHJnYmEoMCwwLDAsLjEpOw0KICAtbW96LWJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsMCwwLC4yNSksIGluc2V0IDAgLTFweCAwIHJnYmEoMCwwLDAsLjEpOw0KICBib3gtc2hhZG93OiAwIDFweCAzcHggcmdiYSgwLDAsMCwuMjUpLCBpbnNldCAwIC0xcHggMCByZ2JhKDAsMCwwLC4xKTsNCn0NCi5uYXZiYXIgLmNvbnRhaW5lciB7DQogIHdpZHRoOiBhdXRvOw0KfQ0KLm5hdi1jb2xsYXBzZS5jb2xsYXBzZSB7DQogIGhlaWdodDogYXV0bzsNCn0NCi5uYXZiYXIgew0KICBjb2xvcjogIzk5OTk5OTsNCn0NCi5uYXZiYXIgLmJyYW5kOmhvdmVyIHsNCiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KfQ0KLm5hdmJhciAuYnJhbmQgew0KICBmbG9hdDogbGVmdDsNCiAgZGlzcGxheTogYmxvY2s7DQogIHBhZGRpbmc6IDhweCAyMHB4IDEycHg7DQogIG1hcmdpbi1sZWZ0OiAtMjBweDsNCiAgZm9udC1zaXplOiAyMHB4Ow0KICBmb250LXdlaWdodDogMjAwOw0KICBsaW5lLWhlaWdodDogMTsNCiAgY29sb3I6ICM5OTk5OTk7DQp9DQoubmF2YmFyIC5uYXZiYXItdGV4dCB7DQogIG1hcmdpbi1ib3R0b206IDA7DQogIGxpbmUtaGVpZ2h0OiA0MHB4Ow0KfQ0KLm5hdmJhciAubmF2YmFyLWxpbmsgew0KICBjb2xvcjogIzk5OTk5OTsNCn0NCi5uYXZiYXIgLm5hdmJhci1saW5rOmhvdmVyIHsNCiAgY29sb3I6ICNmZmZmZmY7DQp9DQoubmF2YmFyIC5idG4sDQoubmF2YmFyIC5idG4tZ3JvdXAgew0KICBtYXJnaW4tdG9wOiA1cHg7DQp9DQoubmF2YmFyIC5idG4tZ3JvdXAgLmJ0biB7DQogIG1hcmdpbjogMDsNCn0NCi5uYXZiYXItZm9ybSB7DQogIG1hcmdpbi1ib3R0b206IDA7DQogICp6b29tOiAxOw0KfQ0KLm5hdmJhci1mb3JtOmJlZm9yZSwNCi5uYXZiYXItZm9ybTphZnRlciB7DQogIGRpc3BsYXk6IHRhYmxlOw0KICBjb250ZW50OiAiIjsNCn0NCi5uYXZiYXItZm9ybTphZnRlciB7DQogIGNsZWFyOiBib3RoOw0KfQ0KLm5hdmJhci1mb3JtIGlucHV0LA0KLm5hdmJhci1mb3JtIHNlbGVjdCwNCi5uYXZiYXItZm9ybSAucmFkaW8sDQoubmF2YmFyLWZvcm0gLmNoZWNrYm94IHsNCiAgbWFyZ2luLXRvcDogNXB4Ow0KfQ0KLm5hdmJhci1mb3JtIGlucHV0LA0KLm5hdmJhci1mb3JtIHNlbGVjdCB7DQogIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgbWFyZ2luLWJvdHRvbTogMDsNCn0NCi5uYXZiYXItZm9ybSBpbnB1dFt0eXBlPSJpbWFnZSJdLA0KLm5hdmJhci1mb3JtIGlucHV0W3R5cGU9ImNoZWNrYm94Il0sDQoubmF2YmFyLWZvcm0gaW5wdXRbdHlwZT0icmFkaW8iXSB7DQogIG1hcmdpbi10b3A6IDNweDsNCn0NCi5uYXZiYXItZm9ybSAuaW5wdXQtYXBwZW5kLA0KLm5hdmJhci1mb3JtIC5pbnB1dC1wcmVwZW5kIHsNCiAgbWFyZ2luLXRvcDogNnB4Ow0KICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KfQ0KLm5hdmJhci1mb3JtIC5pbnB1dC1hcHBlbmQgaW5wdXQsDQoubmF2YmFyLWZvcm0gLmlucHV0LXByZXBlbmQgaW5wdXQgew0KICBtYXJnaW4tdG9wOiAwOw0KfQ0KLm5hdmJhci1zZWFyY2ggew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIGZsb2F0OiBsZWZ0Ow0KICBtYXJnaW4tdG9wOiA2cHg7DQogIG1hcmdpbi1ib3R0b206IDA7DQp9DQoubmF2YmFyLXNlYXJjaCAuc2VhcmNoLXF1ZXJ5IHsNCiAgcGFkZGluZzogNHB4IDlweDsNCiAgZm9udC1mYW1pbHk6ICJIZWx2ZXRpY2EgTmV1ZSIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7DQogIGZvbnQtc2l6ZTogMTNweDsNCiAgZm9udC13ZWlnaHQ6IG5vcm1hbDsNCiAgbGluZS1oZWlnaHQ6IDE7DQogIGNvbG9yOiAjZmZmZmZmOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjI2MjYyOw0KICBib3JkZXI6IDFweCBzb2xpZCAjMTUxNTE1Ow0KICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDJweCByZ2JhKDAsMCwwLC4xKSwgMCAxcHggMCByZ2JhKDI1NSwyNTUsMjU1LC4xNSk7DQogIC1tb3otYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMnB4IHJnYmEoMCwwLDAsLjEpLCAwIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsLjE1KTsNCiAgYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMnB4IHJnYmEoMCwwLDAsLjEpLCAwIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsLjE1KTsNCiAgLXdlYmtpdC10cmFuc2l0aW9uOiBub25lOw0KICAtbW96LXRyYW5zaXRpb246IG5vbmU7DQogIC1tcy10cmFuc2l0aW9uOiBub25lOw0KICAtby10cmFuc2l0aW9uOiBub25lOw0KICB0cmFuc2l0aW9uOiBub25lOw0KfQ0KLm5hdmJhci1zZWFyY2ggLnNlYXJjaC1xdWVyeTotbW96LXBsYWNlaG9sZGVyIHsNCiAgY29sb3I6ICNjY2NjY2M7DQp9DQoubmF2YmFyLXNlYXJjaCAuc2VhcmNoLXF1ZXJ5Ojotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyIHsNCiAgY29sb3I6ICNjY2NjY2M7DQp9DQoubmF2YmFyLXNlYXJjaCAuc2VhcmNoLXF1ZXJ5OmZvY3VzLA0KLm5hdmJhci1zZWFyY2ggLnNlYXJjaC1xdWVyeS5mb2N1c2VkIHsNCiAgcGFkZGluZzogNXB4IDEwcHg7DQogIGNvbG9yOiAjMzMzMzMzOw0KICB0ZXh0LXNoYWRvdzogMCAxcHggMCAjZmZmZmZmOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOw0KICBib3JkZXI6IDA7DQogIC13ZWJraXQtYm94LXNoYWRvdzogMCAwIDNweCByZ2JhKDAsIDAsIDAsIDAuMTUpOw0KICAtbW96LWJveC1zaGFkb3c6IDAgMCAzcHggcmdiYSgwLCAwLCAwLCAwLjE1KTsNCiAgYm94LXNoYWRvdzogMCAwIDNweCByZ2JhKDAsIDAsIDAsIDAuMTUpOw0KICBvdXRsaW5lOiAwOw0KfQ0KLm5hdmJhci1maXhlZC10b3AsDQoubmF2YmFyLWZpeGVkLWJvdHRvbSB7DQogIHBvc2l0aW9uOiBmaXhlZDsNCiAgcmlnaHQ6IDA7DQogIGxlZnQ6IDA7DQogIHotaW5kZXg6IDEwMzA7DQogIG1hcmdpbi1ib3R0b206IDA7DQp9DQoubmF2YmFyLWZpeGVkLXRvcCAubmF2YmFyLWlubmVyLA0KLm5hdmJhci1maXhlZC1ib3R0b20gLm5hdmJhci1pbm5lciB7DQogIHBhZGRpbmctbGVmdDogMDsNCiAgcGFkZGluZy1yaWdodDogMDsNCiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAwOw0KICAtbW96LWJvcmRlci1yYWRpdXM6IDA7DQogIGJvcmRlci1yYWRpdXM6IDA7DQp9DQoubmF2YmFyLWZpeGVkLXRvcCAuY29udGFpbmVyLA0KLm5hdmJhci1maXhlZC1ib3R0b20gLmNvbnRhaW5lciB7DQogIHdpZHRoOiA5NDBweDsNCn0NCi5uYXZiYXItZml4ZWQtdG9wIHsNCiAgdG9wOiAwOw0KfQ0KLm5hdmJhci1maXhlZC1ib3R0b20gew0KICBib3R0b206IDA7DQp9DQoubmF2YmFyIC5uYXYgew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIGxlZnQ6IDA7DQogIGRpc3BsYXk6IGJsb2NrOw0KICBmbG9hdDogbGVmdDsNCiAgbWFyZ2luOiAwIDEwcHggMCAwOw0KfQ0KLm5hdmJhciAubmF2LnB1bGwtcmlnaHQgew0KICBmbG9hdDogcmlnaHQ7DQp9DQoubmF2YmFyIC5uYXYgPiBsaSB7DQogIGRpc3BsYXk6IGJsb2NrOw0KICBmbG9hdDogbGVmdDsNCn0NCi5uYXZiYXIgLm5hdiA+IGxpID4gYSB7DQogIGZsb2F0OiBub25lOw0KICBwYWRkaW5nOiA5cHggMTBweCAxMXB4Ow0KICBsaW5lLWhlaWdodDogMTlweDsNCiAgY29sb3I6ICM5OTk5OTk7DQogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsNCiAgdGV4dC1zaGFkb3c6IDAgLTFweCAwIHJnYmEoMCwgMCwgMCwgMC4yNSk7DQp9DQoubmF2YmFyIC5idG4gew0KICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogIHBhZGRpbmc6IDRweCAxMHB4IDRweDsNCiAgbWFyZ2luOiA1cHggNXB4IDZweDsNCiAgbGluZS1oZWlnaHQ6IDE4cHg7DQp9DQoubmF2YmFyIC5idG4tZ3JvdXAgew0KICBtYXJnaW46IDA7DQogIHBhZGRpbmc6IDVweCA1cHggNnB4Ow0KfQ0KLm5hdmJhciAubmF2ID4gbGkgPiBhOmhvdmVyIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7DQogIGNvbG9yOiAjZmZmZmZmOw0KICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQp9DQoubmF2YmFyIC5uYXYgLmFjdGl2ZSA+IGEsDQoubmF2YmFyIC5uYXYgLmFjdGl2ZSA+IGE6aG92ZXIgew0KICBjb2xvcjogI2ZmZmZmZjsNCiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyMjIyOw0KfQ0KLm5hdmJhciAuZGl2aWRlci12ZXJ0aWNhbCB7DQogIGhlaWdodDogNDBweDsNCiAgd2lkdGg6IDFweDsNCiAgbWFyZ2luOiAwIDlweDsNCiAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzIyMjIyMjsNCiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgIzMzMzMzMzsNCn0NCi5uYXZiYXIgLm5hdi5wdWxsLXJpZ2h0IHsNCiAgbWFyZ2luLWxlZnQ6IDEwcHg7DQogIG1hcmdpbi1yaWdodDogMDsNCn0NCi5uYXZiYXIgLmJ0bi1uYXZiYXIgew0KICBkaXNwbGF5OiBub25lOw0KICBmbG9hdDogcmlnaHQ7DQogIHBhZGRpbmc6IDdweCAxMHB4Ow0KICBtYXJnaW4tbGVmdDogNXB4Ow0KICBtYXJnaW4tcmlnaHQ6IDVweDsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzJjMmMyYzsNCiAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjMzMzMzMzLCAjMjIyMjIyKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICMzMzMzMzMsICMyMjIyMjIpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgMCAwLCAwIDEwMCUsIGZyb20oIzMzMzMzMyksIHRvKCMyMjIyMjIpKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjMzMzMzMzLCAjMjIyMjIyKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgIzMzMzMzMywgIzIyMjIyMik7DQogIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0b3AsICMzMzMzMzMsICMyMjIyMjIpOw0KICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXg7DQogIGZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyMzMzMzMzMnLCBlbmRDb2xvcnN0cj0nIzIyMjIyMicsIEdyYWRpZW50VHlwZT0wKTsNCiAgYm9yZGVyLWNvbG9yOiAjMjIyMjIyICMyMjIyMjIgIzAwMDAwMDsNCiAgYm9yZGVyLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMSkgcmdiYSgwLCAwLCAwLCAwLjEpIHJnYmEoMCwgMCwgMCwgMC4yNSk7DQogICpiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyMjIyOw0KICAvKiBEYXJrZW4gSUU3IGJ1dHRvbnMgYnkgZGVmYXVsdCBzbyB0aGV5IHN0YW5kIG91dCBtb3JlIGdpdmVuIHRoZXkgd29uJ3QgaGF2ZSBib3JkZXJzICovDQoNCiAgZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoZW5hYmxlZCA9IGZhbHNlKTsNCiAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsLjEpLCAwIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsLjA3NSk7DQogIC1tb3otYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMCByZ2JhKDI1NSwyNTUsMjU1LC4xKSwgMCAxcHggMCByZ2JhKDI1NSwyNTUsMjU1LC4wNzUpOw0KICBib3gtc2hhZG93OiBpbnNldCAwIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsLjEpLCAwIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsLjA3NSk7DQp9DQoubmF2YmFyIC5idG4tbmF2YmFyOmhvdmVyLA0KLm5hdmJhciAuYnRuLW5hdmJhcjphY3RpdmUsDQoubmF2YmFyIC5idG4tbmF2YmFyLmFjdGl2ZSwNCi5uYXZiYXIgLmJ0bi1uYXZiYXIuZGlzYWJsZWQsDQoubmF2YmFyIC5idG4tbmF2YmFyW2Rpc2FibGVkXSB7DQogIGJhY2tncm91bmQtY29sb3I6ICMyMjIyMjI7DQogICpiYWNrZ3JvdW5kLWNvbG9yOiAjMTUxNTE1Ow0KfQ0KLm5hdmJhciAuYnRuLW5hdmJhcjphY3RpdmUsDQoubmF2YmFyIC5idG4tbmF2YmFyLmFjdGl2ZSB7DQogIGJhY2tncm91bmQtY29sb3I6ICMwODA4MDggXDk7DQp9DQoubmF2YmFyIC5idG4tbmF2YmFyIC5pY29uLWJhciB7DQogIGRpc3BsYXk6IGJsb2NrOw0KICB3aWR0aDogMThweDsNCiAgaGVpZ2h0OiAycHg7DQogIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7DQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMXB4Ow0KICAtbW96LWJvcmRlci1yYWRpdXM6IDFweDsNCiAgYm9yZGVyLXJhZGl1czogMXB4Ow0KICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMXB4IDAgcmdiYSgwLCAwLCAwLCAwLjI1KTsNCiAgLW1vei1ib3gtc2hhZG93OiAwIDFweCAwIHJnYmEoMCwgMCwgMCwgMC4yNSk7DQogIGJveC1zaGFkb3c6IDAgMXB4IDAgcmdiYSgwLCAwLCAwLCAwLjI1KTsNCn0NCi5idG4tbmF2YmFyIC5pY29uLWJhciArIC5pY29uLWJhciB7DQogIG1hcmdpbi10b3A6IDNweDsNCn0NCi5uYXZiYXIgLmRyb3Bkb3duLW1lbnU6YmVmb3JlIHsNCiAgY29udGVudDogJyc7DQogIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgYm9yZGVyLWxlZnQ6IDdweCBzb2xpZCB0cmFuc3BhcmVudDsNCiAgYm9yZGVyLXJpZ2h0OiA3cHggc29saWQgdHJhbnNwYXJlbnQ7DQogIGJvcmRlci1ib3R0b206IDdweCBzb2xpZCAjY2NjOw0KICBib3JkZXItYm90dG9tLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMik7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgdG9wOiAtN3B4Ow0KICBsZWZ0OiA5cHg7DQp9DQoubmF2YmFyIC5kcm9wZG93bi1tZW51OmFmdGVyIHsNCiAgY29udGVudDogJyc7DQogIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgYm9yZGVyLWxlZnQ6IDZweCBzb2xpZCB0cmFuc3BhcmVudDsNCiAgYm9yZGVyLXJpZ2h0OiA2cHggc29saWQgdHJhbnNwYXJlbnQ7DQogIGJvcmRlci1ib3R0b206IDZweCBzb2xpZCAjZmZmZmZmOw0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIHRvcDogLTZweDsNCiAgbGVmdDogMTBweDsNCn0NCi5uYXZiYXItZml4ZWQtYm90dG9tIC5kcm9wZG93bi1tZW51OmJlZm9yZSB7DQogIGJvcmRlci10b3A6IDdweCBzb2xpZCAjY2NjOw0KICBib3JkZXItdG9wLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMik7DQogIGJvcmRlci1ib3R0b206IDA7DQogIGJvdHRvbTogLTdweDsNCiAgdG9wOiBhdXRvOw0KfQ0KLm5hdmJhci1maXhlZC1ib3R0b20gLmRyb3Bkb3duLW1lbnU6YWZ0ZXIgew0KICBib3JkZXItdG9wOiA2cHggc29saWQgI2ZmZmZmZjsNCiAgYm9yZGVyLWJvdHRvbTogMDsNCiAgYm90dG9tOiAtNnB4Ow0KICB0b3A6IGF1dG87DQp9DQoubmF2YmFyIC5uYXYgbGkuZHJvcGRvd24gLmRyb3Bkb3duLXRvZ2dsZSAuY2FyZXQsDQoubmF2YmFyIC5uYXYgbGkuZHJvcGRvd24ub3BlbiAuY2FyZXQgew0KICBib3JkZXItdG9wLWNvbG9yOiAjZmZmZmZmOw0KICBib3JkZXItYm90dG9tLWNvbG9yOiAjZmZmZmZmOw0KfQ0KLm5hdmJhciAubmF2IGxpLmRyb3Bkb3duLmFjdGl2ZSAuY2FyZXQgew0KICBvcGFjaXR5OiAxOw0KICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MTAwKTsNCn0NCi5uYXZiYXIgLm5hdiBsaS5kcm9wZG93bi5vcGVuID4gLmRyb3Bkb3duLXRvZ2dsZSwNCi5uYXZiYXIgLm5hdiBsaS5kcm9wZG93bi5hY3RpdmUgPiAuZHJvcGRvd24tdG9nZ2xlLA0KLm5hdmJhciAubmF2IGxpLmRyb3Bkb3duLm9wZW4uYWN0aXZlID4gLmRyb3Bkb3duLXRvZ2dsZSB7DQogIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50Ow0KfQ0KLm5hdmJhciAubmF2IGxpLmRyb3Bkb3duLmFjdGl2ZSA+IC5kcm9wZG93bi10b2dnbGU6aG92ZXIgew0KICBjb2xvcjogI2ZmZmZmZjsNCn0NCi5uYXZiYXIgLnB1bGwtcmlnaHQgLmRyb3Bkb3duLW1lbnUsDQoubmF2YmFyIC5kcm9wZG93bi1tZW51LnB1bGwtcmlnaHQgew0KICBsZWZ0OiBhdXRvOw0KICByaWdodDogMDsNCn0NCi5uYXZiYXIgLnB1bGwtcmlnaHQgLmRyb3Bkb3duLW1lbnU6YmVmb3JlLA0KLm5hdmJhciAuZHJvcGRvd24tbWVudS5wdWxsLXJpZ2h0OmJlZm9yZSB7DQogIGxlZnQ6IGF1dG87DQogIHJpZ2h0OiAxMnB4Ow0KfQ0KLm5hdmJhciAucHVsbC1yaWdodCAuZHJvcGRvd24tbWVudTphZnRlciwNCi5uYXZiYXIgLmRyb3Bkb3duLW1lbnUucHVsbC1yaWdodDphZnRlciB7DQogIGxlZnQ6IGF1dG87DQogIHJpZ2h0OiAxM3B4Ow0KfQ0KLmJyZWFkY3J1bWIgew0KICBwYWRkaW5nOiA3cHggMTRweDsNCiAgbWFyZ2luOiAwIDAgMThweDsNCiAgbGlzdC1zdHlsZTogbm9uZTsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZiZmJmYjsNCiAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmLCAjZjVmNWY1KTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYsICNmNWY1ZjUpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgMCAwLCAwIDEwMCUsIGZyb20oI2ZmZmZmZiksIHRvKCNmNWY1ZjUpKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmZmZmLCAjZjVmNWY1KTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZmZmZiwgI2Y1ZjVmNSk7DQogIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0b3AsICNmZmZmZmYsICNmNWY1ZjUpOw0KICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXg7DQogIGZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmZmZmZmYnLCBlbmRDb2xvcnN0cj0nI2Y1ZjVmNScsIEdyYWRpZW50VHlwZT0wKTsNCiAgYm9yZGVyOiAxcHggc29saWQgI2RkZDsNCiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAzcHg7DQogIC1tb3otYm9yZGVyLXJhZGl1czogM3B4Ow0KICBib3JkZXItcmFkaXVzOiAzcHg7DQogIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMCAjZmZmZmZmOw0KICAtbW96LWJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDAgI2ZmZmZmZjsNCiAgYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMCAjZmZmZmZmOw0KfQ0KLmJyZWFkY3J1bWIgbGkgew0KICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICpkaXNwbGF5OiBpbmxpbmU7DQogIC8qIElFNyBpbmxpbmUtYmxvY2sgaGFjayAqLw0KDQogICp6b29tOiAxOw0KICB0ZXh0LXNoYWRvdzogMCAxcHggMCAjZmZmZmZmOw0KfQ0KLmJyZWFkY3J1bWIgLmRpdmlkZXIgew0KICBwYWRkaW5nOiAwIDVweDsNCiAgY29sb3I6ICM5OTk5OTk7DQp9DQouYnJlYWRjcnVtYiAuYWN0aXZlIGEgew0KICBjb2xvcjogIzMzMzMzMzsNCn0NCi5wYWdpbmF0aW9uIHsNCiAgaGVpZ2h0OiAzNnB4Ow0KICBtYXJnaW46IDE4cHggMDsNCn0NCi5wYWdpbmF0aW9uIHVsIHsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAqZGlzcGxheTogaW5saW5lOw0KICAvKiBJRTcgaW5saW5lLWJsb2NrIGhhY2sgKi8NCg0KICAqem9vbTogMTsNCiAgbWFyZ2luLWxlZnQ6IDA7DQogIG1hcmdpbi1ib3R0b206IDA7DQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogM3B4Ow0KICAtbW96LWJvcmRlci1yYWRpdXM6IDNweDsNCiAgYm9yZGVyLXJhZGl1czogM3B4Ow0KICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMDUpOw0KICAtbW96LWJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMDUpOw0KICBib3gtc2hhZG93OiAwIDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjA1KTsNCn0NCi5wYWdpbmF0aW9uIGxpIHsNCiAgZGlzcGxheTogaW5saW5lOw0KfQ0KLnBhZ2luYXRpb24gYSB7DQogIGZsb2F0OiBsZWZ0Ow0KICBwYWRkaW5nOiAwIDE0cHg7DQogIGxpbmUtaGVpZ2h0OiAzNHB4Ow0KICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQogIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7DQogIGJvcmRlci1sZWZ0LXdpZHRoOiAwOw0KfQ0KLnBhZ2luYXRpb24gYTpob3ZlciwNCi5wYWdpbmF0aW9uIC5hY3RpdmUgYSB7DQogIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7DQp9DQoucGFnaW5hdGlvbiAuYWN0aXZlIGEgew0KICBjb2xvcjogIzk5OTk5OTsNCiAgY3Vyc29yOiBkZWZhdWx0Ow0KfQ0KLnBhZ2luYXRpb24gLmRpc2FibGVkIHNwYW4sDQoucGFnaW5hdGlvbiAuZGlzYWJsZWQgYSwNCi5wYWdpbmF0aW9uIC5kaXNhYmxlZCBhOmhvdmVyIHsNCiAgY29sb3I6ICM5OTk5OTk7DQogIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50Ow0KICBjdXJzb3I6IGRlZmF1bHQ7DQp9DQoucGFnaW5hdGlvbiBsaTpmaXJzdC1jaGlsZCBhIHsNCiAgYm9yZGVyLWxlZnQtd2lkdGg6IDFweDsNCiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAzcHggMCAwIDNweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiAzcHggMCAwIDNweDsNCiAgYm9yZGVyLXJhZGl1czogM3B4IDAgMCAzcHg7DQp9DQoucGFnaW5hdGlvbiBsaTpsYXN0LWNoaWxkIGEgew0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDAgM3B4IDNweCAwOw0KICAtbW96LWJvcmRlci1yYWRpdXM6IDAgM3B4IDNweCAwOw0KICBib3JkZXItcmFkaXVzOiAwIDNweCAzcHggMDsNCn0NCi5wYWdpbmF0aW9uLWNlbnRlcmVkIHsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KfQ0KLnBhZ2luYXRpb24tcmlnaHQgew0KICB0ZXh0LWFsaWduOiByaWdodDsNCn0NCi5wYWdlciB7DQogIG1hcmdpbi1sZWZ0OiAwOw0KICBtYXJnaW4tYm90dG9tOiAxOHB4Ow0KICBsaXN0LXN0eWxlOiBub25lOw0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICp6b29tOiAxOw0KfQ0KLnBhZ2VyOmJlZm9yZSwNCi5wYWdlcjphZnRlciB7DQogIGRpc3BsYXk6IHRhYmxlOw0KICBjb250ZW50OiAiIjsNCn0NCi5wYWdlcjphZnRlciB7DQogIGNsZWFyOiBib3RoOw0KfQ0KLnBhZ2VyIGxpIHsNCiAgZGlzcGxheTogaW5saW5lOw0KfQ0KLnBhZ2VyIGEgew0KICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogIHBhZGRpbmc6IDVweCAxNHB4Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICBib3JkZXI6IDFweCBzb2xpZCAjZGRkOw0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDE1cHg7DQogIC1tb3otYm9yZGVyLXJhZGl1czogMTVweDsNCiAgYm9yZGVyLXJhZGl1czogMTVweDsNCn0NCi5wYWdlciBhOmhvdmVyIHsNCiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1Ow0KfQ0KLnBhZ2VyIC5uZXh0IGEgew0KICBmbG9hdDogcmlnaHQ7DQp9DQoucGFnZXIgLnByZXZpb3VzIGEgew0KICBmbG9hdDogbGVmdDsNCn0NCi5wYWdlciAuZGlzYWJsZWQgYSwNCi5wYWdlciAuZGlzYWJsZWQgYTpob3ZlciB7DQogIGNvbG9yOiAjOTk5OTk5Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICBjdXJzb3I6IGRlZmF1bHQ7DQp9DQoudGh1bWJuYWlscyB7DQogIG1hcmdpbi1sZWZ0OiAtMjBweDsNCiAgbGlzdC1zdHlsZTogbm9uZTsNCiAgKnpvb206IDE7DQp9DQoudGh1bWJuYWlsczpiZWZvcmUsDQoudGh1bWJuYWlsczphZnRlciB7DQogIGRpc3BsYXk6IHRhYmxlOw0KICBjb250ZW50OiAiIjsNCn0NCi50aHVtYm5haWxzOmFmdGVyIHsNCiAgY2xlYXI6IGJvdGg7DQp9DQoucm93LWZsdWlkIC50aHVtYm5haWxzIHsNCiAgbWFyZ2luLWxlZnQ6IDA7DQp9DQoudGh1bWJuYWlscyA+IGxpIHsNCiAgZmxvYXQ6IGxlZnQ7DQogIG1hcmdpbi1ib3R0b206IDE4cHg7DQogIG1hcmdpbi1sZWZ0OiAyMHB4Ow0KfQ0KLnRodW1ibmFpbCB7DQogIGRpc3BsYXk6IGJsb2NrOw0KICBwYWRkaW5nOiA0cHg7DQogIGxpbmUtaGVpZ2h0OiAxOw0KICBib3JkZXI6IDFweCBzb2xpZCAjZGRkOw0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDRweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiA0cHg7DQogIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDFweCAxcHggcmdiYSgwLCAwLCAwLCAwLjA3NSk7DQogIC1tb3otYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4wNzUpOw0KICBib3gtc2hhZG93OiAwIDFweCAxcHggcmdiYSgwLCAwLCAwLCAwLjA3NSk7DQp9DQphLnRodW1ibmFpbDpob3ZlciB7DQogIGJvcmRlci1jb2xvcjogIzAwODhjYzsNCiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDFweCA0cHggcmdiYSgwLCAxMDUsIDIxNCwgMC4yNSk7DQogIC1tb3otYm94LXNoYWRvdzogMCAxcHggNHB4IHJnYmEoMCwgMTA1LCAyMTQsIDAuMjUpOw0KICBib3gtc2hhZG93OiAwIDFweCA0cHggcmdiYSgwLCAxMDUsIDIxNCwgMC4yNSk7DQp9DQoudGh1bWJuYWlsID4gaW1nIHsNCiAgZGlzcGxheTogYmxvY2s7DQogIG1heC13aWR0aDogMTAwJTsNCiAgbWFyZ2luLWxlZnQ6IGF1dG87DQogIG1hcmdpbi1yaWdodDogYXV0bzsNCn0NCi50aHVtYm5haWwgLmNhcHRpb24gew0KICBwYWRkaW5nOiA5cHg7DQp9DQouYWxlcnQgew0KICBwYWRkaW5nOiA4cHggMzVweCA4cHggMTRweDsNCiAgbWFyZ2luLWJvdHRvbTogMThweDsNCiAgdGV4dC1zaGFkb3c6IDAgMXB4IDAgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmNmOGUzOw0KICBib3JkZXI6IDFweCBzb2xpZCAjZmJlZWQ1Ow0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDRweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiA0cHg7DQogIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgY29sb3I6ICNjMDk4NTM7DQp9DQouYWxlcnQtaGVhZGluZyB7DQogIGNvbG9yOiBpbmhlcml0Ow0KfQ0KLmFsZXJ0IC5jbG9zZSB7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgdG9wOiAtMnB4Ow0KICByaWdodDogLTIxcHg7DQogIGxpbmUtaGVpZ2h0OiAxOHB4Ow0KfQ0KLmFsZXJ0LXN1Y2Nlc3Mgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGZmMGQ4Ow0KICBib3JkZXItY29sb3I6ICNkNmU5YzY7DQogIGNvbG9yOiAjNDY4ODQ3Ow0KfQ0KLmFsZXJ0LWRhbmdlciwNCi5hbGVydC1lcnJvciB7DQogIGJhY2tncm91bmQtY29sb3I6ICNmMmRlZGU7DQogIGJvcmRlci1jb2xvcjogI2VlZDNkNzsNCiAgY29sb3I6ICNiOTRhNDg7DQp9DQouYWxlcnQtaW5mbyB7DQogIGJhY2tncm91bmQtY29sb3I6ICNkOWVkZjc7DQogIGJvcmRlci1jb2xvcjogI2JjZThmMTsNCiAgY29sb3I6ICMzYTg3YWQ7DQp9DQouYWxlcnQtYmxvY2sgew0KICBwYWRkaW5nLXRvcDogMTRweDsNCiAgcGFkZGluZy1ib3R0b206IDE0cHg7DQp9DQouYWxlcnQtYmxvY2sgPiBwLA0KLmFsZXJ0LWJsb2NrID4gdWwgew0KICBtYXJnaW4tYm90dG9tOiAwOw0KfQ0KLmFsZXJ0LWJsb2NrIHAgKyBwIHsNCiAgbWFyZ2luLXRvcDogNXB4Ow0KfQ0KQC13ZWJraXQta2V5ZnJhbWVzIHByb2dyZXNzLWJhci1zdHJpcGVzIHsNCiAgZnJvbSB7DQogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogNDBweCAwOw0KICB9DQogIHRvIHsNCiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDA7DQogIH0NCn0NCkAtbW96LWtleWZyYW1lcyBwcm9ncmVzcy1iYXItc3RyaXBlcyB7DQogIGZyb20gew0KICAgIGJhY2tncm91bmQtcG9zaXRpb246IDQwcHggMDsNCiAgfQ0KICB0byB7DQogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwOw0KICB9DQp9DQpALW1zLWtleWZyYW1lcyBwcm9ncmVzcy1iYXItc3RyaXBlcyB7DQogIGZyb20gew0KICAgIGJhY2tncm91bmQtcG9zaXRpb246IDQwcHggMDsNCiAgfQ0KICB0byB7DQogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwOw0KICB9DQp9DQpALW8ta2V5ZnJhbWVzIHByb2dyZXNzLWJhci1zdHJpcGVzIHsNCiAgZnJvbSB7DQogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwOw0KICB9DQogIHRvIHsNCiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA0MHB4IDA7DQogIH0NCn0NCkBrZXlmcmFtZXMgcHJvZ3Jlc3MtYmFyLXN0cmlwZXMgew0KICBmcm9tIHsNCiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA0MHB4IDA7DQogIH0NCiAgdG8gew0KICAgIGJhY2tncm91bmQtcG9zaXRpb246IDAgMDsNCiAgfQ0KfQ0KLnByb2dyZXNzIHsNCiAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgaGVpZ2h0OiAxOHB4Ow0KICBtYXJnaW4tYm90dG9tOiAxOHB4Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3Ow0KICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNmNWY1ZjUsICNmOWY5ZjkpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2Y1ZjVmNSwgI2Y5ZjlmOSk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCAwIDAsIDAgMTAwJSwgZnJvbSgjZjVmNWY1KSwgdG8oI2Y5ZjlmOSkpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNmNWY1ZjUsICNmOWY5ZjkpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjZjVmNWY1LCAjZjlmOWY5KTsNCiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvcCwgI2Y1ZjVmNSwgI2Y5ZjlmOSk7DQogIGJhY2tncm91bmQtcmVwZWF0OiByZXBlYXQteDsNCiAgZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nI2Y1ZjVmNScsIGVuZENvbG9yc3RyPScjZjlmOWY5JywgR3JhZGllbnRUeXBlPTApOw0KICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMSk7DQogIC1tb3otYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMnB4IHJnYmEoMCwgMCwgMCwgMC4xKTsNCiAgYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMnB4IHJnYmEoMCwgMCwgMCwgMC4xKTsNCiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA0cHg7DQogIC1tb3otYm9yZGVyLXJhZGl1czogNHB4Ow0KICBib3JkZXItcmFkaXVzOiA0cHg7DQp9DQoucHJvZ3Jlc3MgLmJhciB7DQogIHdpZHRoOiAwJTsNCiAgaGVpZ2h0OiAxOHB4Ow0KICBjb2xvcjogI2ZmZmZmZjsNCiAgZm9udC1zaXplOiAxMnB4Ow0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIHRleHQtc2hhZG93OiAwIC0xcHggMCByZ2JhKDAsIDAsIDAsIDAuMjUpOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGU5MGQyOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICMxNDliZGYsICMwNDgwYmUpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgIzE0OWJkZiwgIzA0ODBiZSk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCAwIDAsIDAgMTAwJSwgZnJvbSgjMTQ5YmRmKSwgdG8oIzA0ODBiZSkpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICMxNDliZGYsICMwNDgwYmUpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjMTQ5YmRmLCAjMDQ4MGJlKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvcCwgIzE0OWJkZiwgIzA0ODBiZSk7DQogIGJhY2tncm91bmQtcmVwZWF0OiByZXBlYXQteDsNCiAgZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nIzE0OWJkZicsIGVuZENvbG9yc3RyPScjMDQ4MGJlJywgR3JhZGllbnRUeXBlPTApOw0KICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgLTFweCAwIHJnYmEoMCwgMCwgMCwgMC4xNSk7DQogIC1tb3otYm94LXNoYWRvdzogaW5zZXQgMCAtMXB4IDAgcmdiYSgwLCAwLCAwLCAwLjE1KTsNCiAgYm94LXNoYWRvdzogaW5zZXQgMCAtMXB4IDAgcmdiYSgwLCAwLCAwLCAwLjE1KTsNCiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogIC1tcy1ib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAtd2Via2l0LXRyYW5zaXRpb246IHdpZHRoIDAuNnMgZWFzZTsNCiAgLW1vei10cmFuc2l0aW9uOiB3aWR0aCAwLjZzIGVhc2U7DQogIC1tcy10cmFuc2l0aW9uOiB3aWR0aCAwLjZzIGVhc2U7DQogIC1vLXRyYW5zaXRpb246IHdpZHRoIDAuNnMgZWFzZTsNCiAgdHJhbnNpdGlvbjogd2lkdGggMC42cyBlYXNlOw0KfQ0KLnByb2dyZXNzLXN0cmlwZWQgLmJhciB7DQogIGJhY2tncm91bmQtY29sb3I6ICMxNDliZGY7DQogIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCAwIDEwMCUsIDEwMCUgMCwgY29sb3Itc3RvcCgwLjI1LCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpKSwgY29sb3Itc3RvcCgwLjI1LCB0cmFuc3BhcmVudCksIGNvbG9yLXN0b3AoMC41LCB0cmFuc3BhcmVudCksIGNvbG9yLXN0b3AoMC41LCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpKSwgY29sb3Itc3RvcCgwLjc1LCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpKSwgY29sb3Itc3RvcCgwLjc1LCB0cmFuc3BhcmVudCksIHRvKHRyYW5zcGFyZW50KSk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KC00NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCgtNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCgtNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KC00NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoLTQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7DQogIC13ZWJraXQtYmFja2dyb3VuZC1zaXplOiA0MHB4IDQwcHg7DQogIC1tb3otYmFja2dyb3VuZC1zaXplOiA0MHB4IDQwcHg7DQogIC1vLWJhY2tncm91bmQtc2l6ZTogNDBweCA0MHB4Ow0KICBiYWNrZ3JvdW5kLXNpemU6IDQwcHggNDBweDsNCn0NCi5wcm9ncmVzcy5hY3RpdmUgLmJhciB7DQogIC13ZWJraXQtYW5pbWF0aW9uOiBwcm9ncmVzcy1iYXItc3RyaXBlcyAycyBsaW5lYXIgaW5maW5pdGU7DQogIC1tb3otYW5pbWF0aW9uOiBwcm9ncmVzcy1iYXItc3RyaXBlcyAycyBsaW5lYXIgaW5maW5pdGU7DQogIC1tcy1hbmltYXRpb246IHByb2dyZXNzLWJhci1zdHJpcGVzIDJzIGxpbmVhciBpbmZpbml0ZTsNCiAgLW8tYW5pbWF0aW9uOiBwcm9ncmVzcy1iYXItc3RyaXBlcyAycyBsaW5lYXIgaW5maW5pdGU7DQogIGFuaW1hdGlvbjogcHJvZ3Jlc3MtYmFyLXN0cmlwZXMgMnMgbGluZWFyIGluZmluaXRlOw0KfQ0KLnByb2dyZXNzLWRhbmdlciAuYmFyIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2RkNTE0YzsNCiAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZWU1ZjViLCAjYzQzYzM1KTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNlZTVmNWIsICNjNDNjMzUpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgMCAwLCAwIDEwMCUsIGZyb20oI2VlNWY1YiksIHRvKCNjNDNjMzUpKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZWU1ZjViLCAjYzQzYzM1KTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2VlNWY1YiwgI2M0M2MzNSk7DQogIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0b3AsICNlZTVmNWIsICNjNDNjMzUpOw0KICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXg7DQogIGZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNlZTVmNWInLCBlbmRDb2xvcnN0cj0nI2M0M2MzNScsIEdyYWRpZW50VHlwZT0wKTsNCn0NCi5wcm9ncmVzcy1kYW5nZXIucHJvZ3Jlc3Mtc3RyaXBlZCAuYmFyIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2VlNWY1YjsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIDAgMTAwJSwgMTAwJSAwLCBjb2xvci1zdG9wKDAuMjUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkpLCBjb2xvci1zdG9wKDAuMjUsIHRyYW5zcGFyZW50KSwgY29sb3Itc3RvcCgwLjUsIHRyYW5zcGFyZW50KSwgY29sb3Itc3RvcCgwLjUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkpLCBjb2xvci1zdG9wKDAuNzUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkpLCBjb2xvci1zdG9wKDAuNzUsIHRyYW5zcGFyZW50KSwgdG8odHJhbnNwYXJlbnQpKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoLTQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KC00NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KC00NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQoLTQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7DQogIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgtNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTsNCn0NCi5wcm9ncmVzcy1zdWNjZXNzIC5iYXIgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjNWViOTVlOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICM2MmM0NjIsICM1N2E5NTcpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgIzYyYzQ2MiwgIzU3YTk1Nyk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCAwIDAsIDAgMTAwJSwgZnJvbSgjNjJjNDYyKSwgdG8oIzU3YTk1NykpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICM2MmM0NjIsICM1N2E5NTcpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjNjJjNDYyLCAjNTdhOTU3KTsNCiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvcCwgIzYyYzQ2MiwgIzU3YTk1Nyk7DQogIGJhY2tncm91bmQtcmVwZWF0OiByZXBlYXQteDsNCiAgZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nIzYyYzQ2MicsIGVuZENvbG9yc3RyPScjNTdhOTU3JywgR3JhZGllbnRUeXBlPTApOw0KfQ0KLnByb2dyZXNzLXN1Y2Nlc3MucHJvZ3Jlc3Mtc3RyaXBlZCAuYmFyIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzYyYzQ2MjsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIDAgMTAwJSwgMTAwJSAwLCBjb2xvci1zdG9wKDAuMjUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkpLCBjb2xvci1zdG9wKDAuMjUsIHRyYW5zcGFyZW50KSwgY29sb3Itc3RvcCgwLjUsIHRyYW5zcGFyZW50KSwgY29sb3Itc3RvcCgwLjUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkpLCBjb2xvci1zdG9wKDAuNzUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkpLCBjb2xvci1zdG9wKDAuNzUsIHRyYW5zcGFyZW50KSwgdG8odHJhbnNwYXJlbnQpKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoLTQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KC00NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KC00NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQoLTQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7DQogIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgtNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTsNCn0NCi5wcm9ncmVzcy1pbmZvIC5iYXIgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjNGJiMWNmOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICM1YmMwZGUsICMzMzliYjkpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgIzViYzBkZSwgIzMzOWJiOSk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCAwIDAsIDAgMTAwJSwgZnJvbSgjNWJjMGRlKSwgdG8oIzMzOWJiOSkpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICM1YmMwZGUsICMzMzliYjkpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjNWJjMGRlLCAjMzM5YmI5KTsNCiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvcCwgIzViYzBkZSwgIzMzOWJiOSk7DQogIGJhY2tncm91bmQtcmVwZWF0OiByZXBlYXQteDsNCiAgZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nIzViYzBkZScsIGVuZENvbG9yc3RyPScjMzM5YmI5JywgR3JhZGllbnRUeXBlPTApOw0KfQ0KLnByb2dyZXNzLWluZm8ucHJvZ3Jlc3Mtc3RyaXBlZCAuYmFyIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzViYzBkZTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIDAgMTAwJSwgMTAwJSAwLCBjb2xvci1zdG9wKDAuMjUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkpLCBjb2xvci1zdG9wKDAuMjUsIHRyYW5zcGFyZW50KSwgY29sb3Itc3RvcCgwLjUsIHRyYW5zcGFyZW50KSwgY29sb3Itc3RvcCgwLjUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkpLCBjb2xvci1zdG9wKDAuNzUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkpLCBjb2xvci1zdG9wKDAuNzUsIHRyYW5zcGFyZW50KSwgdG8odHJhbnNwYXJlbnQpKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoLTQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KC00NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KC00NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQoLTQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7DQogIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgtNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTsNCn0NCi5wcm9ncmVzcy13YXJuaW5nIC5iYXIgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFhNzMyOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNmYmI0NTAsICNmODk0MDYpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZiYjQ1MCwgI2Y4OTQwNik7DQogIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCAwIDAsIDAgMTAwJSwgZnJvbSgjZmJiNDUwKSwgdG8oI2Y4OTQwNikpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNmYmI0NTAsICNmODk0MDYpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjZmJiNDUwLCAjZjg5NDA2KTsNCiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZiYjQ1MCwgI2Y4OTQwNik7DQogIGJhY2tncm91bmQtcmVwZWF0OiByZXBlYXQteDsNCiAgZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nI2ZiYjQ1MCcsIGVuZENvbG9yc3RyPScjZjg5NDA2JywgR3JhZGllbnRUeXBlPTApOw0KfQ0KLnByb2dyZXNzLXdhcm5pbmcucHJvZ3Jlc3Mtc3RyaXBlZCAuYmFyIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZiYjQ1MDsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIDAgMTAwJSwgMTAwJSAwLCBjb2xvci1zdG9wKDAuMjUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkpLCBjb2xvci1zdG9wKDAuMjUsIHRyYW5zcGFyZW50KSwgY29sb3Itc3RvcCgwLjUsIHRyYW5zcGFyZW50KSwgY29sb3Itc3RvcCgwLjUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkpLCBjb2xvci1zdG9wKDAuNzUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkpLCBjb2xvci1zdG9wKDAuNzUsIHRyYW5zcGFyZW50KSwgdG8odHJhbnNwYXJlbnQpKTsNCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoLTQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7DQogIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KC00NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KC00NWRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSAyNSUsIHRyYW5zcGFyZW50IDI1JSwgdHJhbnNwYXJlbnQgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSA3NSUsIHRyYW5zcGFyZW50IDc1JSwgdHJhbnNwYXJlbnQpOw0KICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQoLTQ1ZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpIDc1JSwgdHJhbnNwYXJlbnQgNzUlLCB0cmFuc3BhcmVudCk7DQogIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgtNDVkZWcsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDUwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KSA1MCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSkgNzUlLCB0cmFuc3BhcmVudCA3NSUsIHRyYW5zcGFyZW50KTsNCn0NCi5oZXJvLXVuaXQgew0KICBwYWRkaW5nOiA2MHB4Ow0KICBtYXJnaW4tYm90dG9tOiAzMHB4Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlZWVlOw0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDZweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiA2cHg7DQogIGJvcmRlci1yYWRpdXM6IDZweDsNCn0NCi5oZXJvLXVuaXQgaDEgew0KICBtYXJnaW4tYm90dG9tOiAwOw0KICBmb250LXNpemU6IDYwcHg7DQogIGxpbmUtaGVpZ2h0OiAxOw0KICBjb2xvcjogaW5oZXJpdDsNCiAgbGV0dGVyLXNwYWNpbmc6IC0xcHg7DQp9DQouaGVyby11bml0IHAgew0KICBmb250LXNpemU6IDE4cHg7DQogIGZvbnQtd2VpZ2h0OiAyMDA7DQogIGxpbmUtaGVpZ2h0OiAyN3B4Ow0KICBjb2xvcjogaW5oZXJpdDsNCn0NCi50b29sdGlwIHsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICB6LWluZGV4OiAxMDIwOw0KICBkaXNwbGF5OiBibG9jazsNCiAgdmlzaWJpbGl0eTogdmlzaWJsZTsNCiAgcGFkZGluZzogNXB4Ow0KICBmb250LXNpemU6IDExcHg7DQogIG9wYWNpdHk6IDA7DQogIGZpbHRlcjogYWxwaGEob3BhY2l0eT0wKTsNCn0NCi50b29sdGlwLmluIHsNCiAgb3BhY2l0eTogMC44Ow0KICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9ODApOw0KfQ0KLnRvb2x0aXAudG9wIHsNCiAgbWFyZ2luLXRvcDogLTJweDsNCn0NCi50b29sdGlwLnJpZ2h0IHsNCiAgbWFyZ2luLWxlZnQ6IDJweDsNCn0NCi50b29sdGlwLmJvdHRvbSB7DQogIG1hcmdpbi10b3A6IDJweDsNCn0NCi50b29sdGlwLmxlZnQgew0KICBtYXJnaW4tbGVmdDogLTJweDsNCn0NCi50b29sdGlwLnRvcCAudG9vbHRpcC1hcnJvdyB7DQogIGJvdHRvbTogMDsNCiAgbGVmdDogNTAlOw0KICBtYXJnaW4tbGVmdDogLTVweDsNCiAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCB0cmFuc3BhcmVudDsNCiAgYm9yZGVyLXJpZ2h0OiA1cHggc29saWQgdHJhbnNwYXJlbnQ7DQogIGJvcmRlci10b3A6IDVweCBzb2xpZCAjMDAwMDAwOw0KfQ0KLnRvb2x0aXAubGVmdCAudG9vbHRpcC1hcnJvdyB7DQogIHRvcDogNTAlOw0KICByaWdodDogMDsNCiAgbWFyZ2luLXRvcDogLTVweDsNCiAgYm9yZGVyLXRvcDogNXB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KICBib3JkZXItYm90dG9tOiA1cHggc29saWQgdHJhbnNwYXJlbnQ7DQogIGJvcmRlci1sZWZ0OiA1cHggc29saWQgIzAwMDAwMDsNCn0NCi50b29sdGlwLmJvdHRvbSAudG9vbHRpcC1hcnJvdyB7DQogIHRvcDogMDsNCiAgbGVmdDogNTAlOw0KICBtYXJnaW4tbGVmdDogLTVweDsNCiAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCB0cmFuc3BhcmVudDsNCiAgYm9yZGVyLXJpZ2h0OiA1cHggc29saWQgdHJhbnNwYXJlbnQ7DQogIGJvcmRlci1ib3R0b206IDVweCBzb2xpZCAjMDAwMDAwOw0KfQ0KLnRvb2x0aXAucmlnaHQgLnRvb2x0aXAtYXJyb3cgew0KICB0b3A6IDUwJTsNCiAgbGVmdDogMDsNCiAgbWFyZ2luLXRvcDogLTVweDsNCiAgYm9yZGVyLXRvcDogNXB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KICBib3JkZXItYm90dG9tOiA1cHggc29saWQgdHJhbnNwYXJlbnQ7DQogIGJvcmRlci1yaWdodDogNXB4IHNvbGlkICMwMDAwMDA7DQp9DQoudG9vbHRpcC1pbm5lciB7DQogIG1heC13aWR0aDogMjAwcHg7DQogIHBhZGRpbmc6IDNweCA4cHg7DQogIGNvbG9yOiAjZmZmZmZmOw0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMDsNCiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA0cHg7DQogIC1tb3otYm9yZGVyLXJhZGl1czogNHB4Ow0KICBib3JkZXItcmFkaXVzOiA0cHg7DQp9DQoudG9vbHRpcC1hcnJvdyB7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgd2lkdGg6IDA7DQogIGhlaWdodDogMDsNCn0NCi5wb3BvdmVyIHsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICB0b3A6IDA7DQogIGxlZnQ6IDA7DQogIHotaW5kZXg6IDEwMTA7DQogIGRpc3BsYXk6IG5vbmU7DQogIHBhZGRpbmc6IDVweDsNCn0NCi5wb3BvdmVyLnRvcCB7DQogIG1hcmdpbi10b3A6IC01cHg7DQp9DQoucG9wb3Zlci5yaWdodCB7DQogIG1hcmdpbi1sZWZ0OiA1cHg7DQp9DQoucG9wb3Zlci5ib3R0b20gew0KICBtYXJnaW4tdG9wOiA1cHg7DQp9DQoucG9wb3Zlci5sZWZ0IHsNCiAgbWFyZ2luLWxlZnQ6IC01cHg7DQp9DQoucG9wb3Zlci50b3AgLmFycm93IHsNCiAgYm90dG9tOiAwOw0KICBsZWZ0OiA1MCU7DQogIG1hcmdpbi1sZWZ0OiAtNXB4Ow0KICBib3JkZXItbGVmdDogNXB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KICBib3JkZXItcmlnaHQ6IDVweCBzb2xpZCB0cmFuc3BhcmVudDsNCiAgYm9yZGVyLXRvcDogNXB4IHNvbGlkICMwMDAwMDA7DQp9DQoucG9wb3Zlci5yaWdodCAuYXJyb3cgew0KICB0b3A6IDUwJTsNCiAgbGVmdDogMDsNCiAgbWFyZ2luLXRvcDogLTVweDsNCiAgYm9yZGVyLXRvcDogNXB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KICBib3JkZXItYm90dG9tOiA1cHggc29saWQgdHJhbnNwYXJlbnQ7DQogIGJvcmRlci1yaWdodDogNXB4IHNvbGlkICMwMDAwMDA7DQp9DQoucG9wb3Zlci5ib3R0b20gLmFycm93IHsNCiAgdG9wOiAwOw0KICBsZWZ0OiA1MCU7DQogIG1hcmdpbi1sZWZ0OiAtNXB4Ow0KICBib3JkZXItbGVmdDogNXB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KICBib3JkZXItcmlnaHQ6IDVweCBzb2xpZCB0cmFuc3BhcmVudDsNCiAgYm9yZGVyLWJvdHRvbTogNXB4IHNvbGlkICMwMDAwMDA7DQp9DQoucG9wb3Zlci5sZWZ0IC5hcnJvdyB7DQogIHRvcDogNTAlOw0KICByaWdodDogMDsNCiAgbWFyZ2luLXRvcDogLTVweDsNCiAgYm9yZGVyLXRvcDogNXB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KICBib3JkZXItYm90dG9tOiA1cHggc29saWQgdHJhbnNwYXJlbnQ7DQogIGJvcmRlci1sZWZ0OiA1cHggc29saWQgIzAwMDAwMDsNCn0NCi5wb3BvdmVyIC5hcnJvdyB7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgd2lkdGg6IDA7DQogIGhlaWdodDogMDsNCn0NCi5wb3BvdmVyLWlubmVyIHsNCiAgcGFkZGluZzogM3B4Ow0KICB3aWR0aDogMjgwcHg7DQogIG92ZXJmbG93OiBoaWRkZW47DQogIGJhY2tncm91bmQ6ICMwMDAwMDA7DQogIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC44KTsNCiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA2cHg7DQogIC1tb3otYm9yZGVyLXJhZGl1czogNnB4Ow0KICBib3JkZXItcmFkaXVzOiA2cHg7DQogIC13ZWJraXQtYm94LXNoYWRvdzogMCAzcHggN3B4IHJnYmEoMCwgMCwgMCwgMC4zKTsNCiAgLW1vei1ib3gtc2hhZG93OiAwIDNweCA3cHggcmdiYSgwLCAwLCAwLCAwLjMpOw0KICBib3gtc2hhZG93OiAwIDNweCA3cHggcmdiYSgwLCAwLCAwLCAwLjMpOw0KfQ0KLnBvcG92ZXItdGl0bGUgew0KICBwYWRkaW5nOiA5cHggMTVweDsNCiAgbGluZS1oZWlnaHQ6IDE7DQogIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7DQogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlOw0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDNweCAzcHggMCAwOw0KICAtbW96LWJvcmRlci1yYWRpdXM6IDNweCAzcHggMCAwOw0KICBib3JkZXItcmFkaXVzOiAzcHggM3B4IDAgMDsNCn0NCi5wb3BvdmVyLWNvbnRlbnQgew0KICBwYWRkaW5nOiAxNHB4Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOw0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDAgMCAzcHggM3B4Ow0KICAtbW96LWJvcmRlci1yYWRpdXM6IDAgMCAzcHggM3B4Ow0KICBib3JkZXItcmFkaXVzOiAwIDAgM3B4IDNweDsNCiAgLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94Ow0KICAtbW96LWJhY2tncm91bmQtY2xpcDogcGFkZGluZy1ib3g7DQogIGJhY2tncm91bmQtY2xpcDogcGFkZGluZy1ib3g7DQp9DQoucG9wb3Zlci1jb250ZW50IHAsDQoucG9wb3Zlci1jb250ZW50IHVsLA0KLnBvcG92ZXItY29udGVudCBvbCB7DQogIG1hcmdpbi1ib3R0b206IDA7DQp9DQoubW9kYWwtb3BlbiAuZHJvcGRvd24tbWVudSB7DQogIHotaW5kZXg6IDIwNTA7DQp9DQoubW9kYWwtb3BlbiAuZHJvcGRvd24ub3BlbiB7DQogICp6LWluZGV4OiAyMDUwOw0KfQ0KLm1vZGFsLW9wZW4gLnBvcG92ZXIgew0KICB6LWluZGV4OiAyMDYwOw0KfQ0KLm1vZGFsLW9wZW4gLnRvb2x0aXAgew0KICB6LWluZGV4OiAyMDcwOw0KfQ0KLm1vZGFsLWJhY2tkcm9wIHsNCiAgcG9zaXRpb246IGZpeGVkOw0KICB0b3A6IDA7DQogIHJpZ2h0OiAwOw0KICBib3R0b206IDA7DQogIGxlZnQ6IDA7DQogIHotaW5kZXg6IDEwNDA7DQogIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7DQp9DQoubW9kYWwtYmFja2Ryb3AuZmFkZSB7DQogIG9wYWNpdHk6IDA7DQp9DQoubW9kYWwtYmFja2Ryb3AsDQoubW9kYWwtYmFja2Ryb3AuZmFkZS5pbiB7DQogIG9wYWNpdHk6IDAuODsNCiAgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTgwKTsNCn0NCi5tb2RhbCB7DQogIHBvc2l0aW9uOiBmaXhlZDsNCiAgdG9wOiA1MCU7DQogIGxlZnQ6IDUwJTsNCiAgei1pbmRleDogMTA1MDsNCiAgb3ZlcmZsb3c6IGF1dG87DQogIHdpZHRoOiA1NjBweDsNCiAgbWFyZ2luOiAtMjUwcHggMCAwIC0yODBweDsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsNCiAgYm9yZGVyOiAxcHggc29saWQgIzk5OTsNCiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjMpOw0KICAqYm9yZGVyOiAxcHggc29saWQgIzk5OTsNCiAgLyogSUU2LTcgKi8NCg0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDZweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiA2cHg7DQogIGJvcmRlci1yYWRpdXM6IDZweDsNCiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDNweCA3cHggcmdiYSgwLCAwLCAwLCAwLjMpOw0KICAtbW96LWJveC1zaGFkb3c6IDAgM3B4IDdweCByZ2JhKDAsIDAsIDAsIDAuMyk7DQogIGJveC1zaGFkb3c6IDAgM3B4IDdweCByZ2JhKDAsIDAsIDAsIDAuMyk7DQogIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDsNCiAgLW1vei1iYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94Ow0KICBiYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94Ow0KfQ0KLm1vZGFsLmZhZGUgew0KICAtd2Via2l0LXRyYW5zaXRpb246IG9wYWNpdHkgLjNzIGxpbmVhciwgdG9wIC4zcyBlYXNlLW91dDsNCiAgLW1vei10cmFuc2l0aW9uOiBvcGFjaXR5IC4zcyBsaW5lYXIsIHRvcCAuM3MgZWFzZS1vdXQ7DQogIC1tcy10cmFuc2l0aW9uOiBvcGFjaXR5IC4zcyBsaW5lYXIsIHRvcCAuM3MgZWFzZS1vdXQ7DQogIC1vLXRyYW5zaXRpb246IG9wYWNpdHkgLjNzIGxpbmVhciwgdG9wIC4zcyBlYXNlLW91dDsNCiAgdHJhbnNpdGlvbjogb3BhY2l0eSAuM3MgbGluZWFyLCB0b3AgLjNzIGVhc2Utb3V0Ow0KICB0b3A6IC0yNSU7DQp9DQoubW9kYWwuZmFkZS5pbiB7DQogIHRvcDogNTAlOw0KfQ0KLm1vZGFsLWhlYWRlciB7DQogIHBhZGRpbmc6IDlweCAxNXB4Ow0KICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTsNCn0NCi5tb2RhbC1oZWFkZXIgLmNsb3NlIHsNCiAgbWFyZ2luLXRvcDogMnB4Ow0KfQ0KLm1vZGFsLWJvZHkgew0KICBvdmVyZmxvdy15OiBhdXRvOw0KICBtYXgtaGVpZ2h0OiA0MDBweDsNCiAgcGFkZGluZzogMTVweDsNCn0NCi5tb2RhbC1mb3JtIHsNCiAgbWFyZ2luLWJvdHRvbTogMDsNCn0NCi5tb2RhbC1mb290ZXIgew0KICBwYWRkaW5nOiAxNHB4IDE1cHggMTVweDsNCiAgbWFyZ2luLWJvdHRvbTogMDsNCiAgdGV4dC1hbGlnbjogcmlnaHQ7DQogIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7DQogIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZGRkOw0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDAgMCA2cHggNnB4Ow0KICAtbW96LWJvcmRlci1yYWRpdXM6IDAgMCA2cHggNnB4Ow0KICBib3JkZXItcmFkaXVzOiAwIDAgNnB4IDZweDsNCiAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDFweCAwICNmZmZmZmY7DQogIC1tb3otYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMCAjZmZmZmZmOw0KICBib3gtc2hhZG93OiBpbnNldCAwIDFweCAwICNmZmZmZmY7DQogICp6b29tOiAxOw0KfQ0KLm1vZGFsLWZvb3RlcjpiZWZvcmUsDQoubW9kYWwtZm9vdGVyOmFmdGVyIHsNCiAgZGlzcGxheTogdGFibGU7DQogIGNvbnRlbnQ6ICIiOw0KfQ0KLm1vZGFsLWZvb3RlcjphZnRlciB7DQogIGNsZWFyOiBib3RoOw0KfQ0KLm1vZGFsLWZvb3RlciAuYnRuICsgLmJ0biB7DQogIG1hcmdpbi1sZWZ0OiA1cHg7DQogIG1hcmdpbi1ib3R0b206IDA7DQp9DQoubW9kYWwtZm9vdGVyIC5idG4tZ3JvdXAgLmJ0biArIC5idG4gew0KICBtYXJnaW4tbGVmdDogLTFweDsNCn0NCi5kcm9wdXAsDQouZHJvcGRvd24gew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQp9DQouZHJvcGRvd24tdG9nZ2xlIHsNCiAgKm1hcmdpbi1ib3R0b206IC0zcHg7DQp9DQouZHJvcGRvd24tdG9nZ2xlOmFjdGl2ZSwNCi5vcGVuIC5kcm9wZG93bi10b2dnbGUgew0KICBvdXRsaW5lOiAwOw0KfQ0KLmNhcmV0IHsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICB3aWR0aDogMDsNCiAgaGVpZ2h0OiAwOw0KICB2ZXJ0aWNhbC1hbGlnbjogdG9wOw0KICBib3JkZXItdG9wOiA0cHggc29saWQgIzAwMDAwMDsNCiAgYm9yZGVyLXJpZ2h0OiA0cHggc29saWQgdHJhbnNwYXJlbnQ7DQogIGJvcmRlci1sZWZ0OiA0cHggc29saWQgdHJhbnNwYXJlbnQ7DQogIGNvbnRlbnQ6ICIiOw0KICBvcGFjaXR5OiAwLjM7DQogIGZpbHRlcjogYWxwaGEob3BhY2l0eT0zMCk7DQp9DQouZHJvcGRvd24gLmNhcmV0IHsNCiAgbWFyZ2luLXRvcDogOHB4Ow0KICBtYXJnaW4tbGVmdDogMnB4Ow0KfQ0KLmRyb3Bkb3duOmhvdmVyIC5jYXJldCwNCi5vcGVuIC5jYXJldCB7DQogIG9wYWNpdHk6IDE7DQogIGZpbHRlcjogYWxwaGEob3BhY2l0eT0xMDApOw0KfQ0KLmRyb3Bkb3duLW1lbnUgew0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIHRvcDogMTAwJTsNCiAgbGVmdDogMDsNCiAgei1pbmRleDogMTAwMDsNCiAgZGlzcGxheTogbm9uZTsNCiAgZmxvYXQ6IGxlZnQ7DQogIG1pbi13aWR0aDogMTYwcHg7DQogIHBhZGRpbmc6IDRweCAwOw0KICBtYXJnaW46IDFweCAwIDA7DQogIGxpc3Qtc3R5bGU6IG5vbmU7DQogIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7DQogIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7DQogIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4yKTsNCiAgKmJvcmRlci1yaWdodC13aWR0aDogMnB4Ow0KICAqYm9yZGVyLWJvdHRvbS13aWR0aDogMnB4Ow0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDVweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7DQogIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDVweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4yKTsNCiAgLW1vei1ib3gtc2hhZG93OiAwIDVweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4yKTsNCiAgYm94LXNoYWRvdzogMCA1cHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMik7DQogIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDsNCiAgLW1vei1iYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmc7DQogIGJhY2tncm91bmQtY2xpcDogcGFkZGluZy1ib3g7DQp9DQouZHJvcGRvd24tbWVudS5wdWxsLXJpZ2h0IHsNCiAgcmlnaHQ6IDA7DQogIGxlZnQ6IGF1dG87DQp9DQouZHJvcGRvd24tbWVudSAuZGl2aWRlciB7DQogICp3aWR0aDogMTAwJTsNCiAgaGVpZ2h0OiAxcHg7DQogIG1hcmdpbjogOHB4IDFweDsNCiAgKm1hcmdpbjogLTVweCAwIDVweDsNCiAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2U1ZTVlNTsNCiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmZmZmZmY7DQp9DQouZHJvcGRvd24tbWVudSBhIHsNCiAgZGlzcGxheTogYmxvY2s7DQogIHBhZGRpbmc6IDNweCAxNXB4Ow0KICBjbGVhcjogYm90aDsNCiAgZm9udC13ZWlnaHQ6IG5vcm1hbDsNCiAgbGluZS1oZWlnaHQ6IDE4cHg7DQogIGNvbG9yOiAjMzMzMzMzOw0KICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KfQ0KLmRyb3Bkb3duLW1lbnUgbGkgPiBhOmhvdmVyLA0KLmRyb3Bkb3duLW1lbnUgLmFjdGl2ZSA+IGEsDQouZHJvcGRvd24tbWVudSAuYWN0aXZlID4gYTpob3ZlciB7DQogIGNvbG9yOiAjZmZmZmZmOw0KICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQogIGJhY2tncm91bmQtY29sb3I6ICMwMDg4Y2M7DQp9DQoub3BlbiB7DQogICp6LWluZGV4OiAxMDAwOw0KfQ0KLm9wZW4gLmRyb3Bkb3duLW1lbnUgew0KICBkaXNwbGF5OiBibG9jazsNCn0NCi5wdWxsLXJpZ2h0IC5kcm9wZG93bi1tZW51IHsNCiAgcmlnaHQ6IDA7DQogIGxlZnQ6IGF1dG87DQp9DQouZHJvcHVwIC5jYXJldCwNCi5uYXZiYXItZml4ZWQtYm90dG9tIC5kcm9wZG93biAuY2FyZXQgew0KICBib3JkZXItdG9wOiAwOw0KICBib3JkZXItYm90dG9tOiA0cHggc29saWQgIzAwMDAwMDsNCiAgY29udGVudDogIlwyMTkxIjsNCn0NCi5kcm9wdXAgLmRyb3Bkb3duLW1lbnUsDQoubmF2YmFyLWZpeGVkLWJvdHRvbSAuZHJvcGRvd24gLmRyb3Bkb3duLW1lbnUgew0KICB0b3A6IGF1dG87DQogIGJvdHRvbTogMTAwJTsNCiAgbWFyZ2luLWJvdHRvbTogMXB4Ow0KfQ0KLnR5cGVhaGVhZCB7DQogIG1hcmdpbi10b3A6IDJweDsNCiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA0cHg7DQogIC1tb3otYm9yZGVyLXJhZGl1czogNHB4Ow0KICBib3JkZXItcmFkaXVzOiA0cHg7DQp9DQouYWNjb3JkaW9uIHsNCiAgbWFyZ2luLWJvdHRvbTogMThweDsNCn0NCi5hY2NvcmRpb24tZ3JvdXAgew0KICBtYXJnaW4tYm90dG9tOiAycHg7DQogIGJvcmRlcjogMXB4IHNvbGlkICNlNWU1ZTU7DQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNHB4Ow0KICAtbW96LWJvcmRlci1yYWRpdXM6IDRweDsNCiAgYm9yZGVyLXJhZGl1czogNHB4Ow0KfQ0KLmFjY29yZGlvbi1oZWFkaW5nIHsNCiAgYm9yZGVyLWJvdHRvbTogMDsNCn0NCi5hY2NvcmRpb24taGVhZGluZyAuYWNjb3JkaW9uLXRvZ2dsZSB7DQogIGRpc3BsYXk6IGJsb2NrOw0KICBwYWRkaW5nOiA4cHggMTVweDsNCn0NCi5hY2NvcmRpb24tdG9nZ2xlIHsNCiAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KLmFjY29yZGlvbi1pbm5lciB7DQogIHBhZGRpbmc6IDlweCAxNXB4Ow0KICBib3JkZXItdG9wOiAxcHggc29saWQgI2U1ZTVlNTsNCn0NCi5jYXJvdXNlbCB7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgbWFyZ2luLWJvdHRvbTogMThweDsNCiAgbGluZS1oZWlnaHQ6IDE7DQp9DQouY2Fyb3VzZWwtaW5uZXIgew0KICBvdmVyZmxvdzogaGlkZGVuOw0KICB3aWR0aDogMTAwJTsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KfQ0KLmNhcm91c2VsIC5pdGVtIHsNCiAgZGlzcGxheTogbm9uZTsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAtd2Via2l0LXRyYW5zaXRpb246IDAuNnMgZWFzZS1pbi1vdXQgbGVmdDsNCiAgLW1vei10cmFuc2l0aW9uOiAwLjZzIGVhc2UtaW4tb3V0IGxlZnQ7DQogIC1tcy10cmFuc2l0aW9uOiAwLjZzIGVhc2UtaW4tb3V0IGxlZnQ7DQogIC1vLXRyYW5zaXRpb246IDAuNnMgZWFzZS1pbi1vdXQgbGVmdDsNCiAgdHJhbnNpdGlvbjogMC42cyBlYXNlLWluLW91dCBsZWZ0Ow0KfQ0KLmNhcm91c2VsIC5pdGVtID4gaW1nIHsNCiAgZGlzcGxheTogYmxvY2s7DQogIGxpbmUtaGVpZ2h0OiAxOw0KfQ0KLmNhcm91c2VsIC5hY3RpdmUsDQouY2Fyb3VzZWwgLm5leHQsDQouY2Fyb3VzZWwgLnByZXYgew0KICBkaXNwbGF5OiBibG9jazsNCn0NCi5jYXJvdXNlbCAuYWN0aXZlIHsNCiAgbGVmdDogMDsNCn0NCi5jYXJvdXNlbCAubmV4dCwNCi5jYXJvdXNlbCAucHJldiB7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgdG9wOiAwOw0KICB3aWR0aDogMTAwJTsNCn0NCi5jYXJvdXNlbCAubmV4dCB7DQogIGxlZnQ6IDEwMCU7DQp9DQouY2Fyb3VzZWwgLnByZXYgew0KICBsZWZ0OiAtMTAwJTsNCn0NCi5jYXJvdXNlbCAubmV4dC5sZWZ0LA0KLmNhcm91c2VsIC5wcmV2LnJpZ2h0IHsNCiAgbGVmdDogMDsNCn0NCi5jYXJvdXNlbCAuYWN0aXZlLmxlZnQgew0KICBsZWZ0OiAtMTAwJTsNCn0NCi5jYXJvdXNlbCAuYWN0aXZlLnJpZ2h0IHsNCiAgbGVmdDogMTAwJTsNCn0NCi5jYXJvdXNlbC1jb250cm9sIHsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICB0b3A6IDQwJTsNCiAgbGVmdDogMTVweDsNCiAgd2lkdGg6IDQwcHg7DQogIGhlaWdodDogNDBweDsNCiAgbWFyZ2luLXRvcDogLTIwcHg7DQogIGZvbnQtc2l6ZTogNjBweDsNCiAgZm9udC13ZWlnaHQ6IDEwMDsNCiAgbGluZS1oZWlnaHQ6IDMwcHg7DQogIGNvbG9yOiAjZmZmZmZmOw0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIGJhY2tncm91bmQ6ICMyMjIyMjI7DQogIGJvcmRlcjogM3B4IHNvbGlkICNmZmZmZmY7DQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMjNweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiAyM3B4Ow0KICBib3JkZXItcmFkaXVzOiAyM3B4Ow0KICBvcGFjaXR5OiAwLjU7DQogIGZpbHRlcjogYWxwaGEob3BhY2l0eT01MCk7DQp9DQouY2Fyb3VzZWwtY29udHJvbC5yaWdodCB7DQogIGxlZnQ6IGF1dG87DQogIHJpZ2h0OiAxNXB4Ow0KfQ0KLmNhcm91c2VsLWNvbnRyb2w6aG92ZXIgew0KICBjb2xvcjogI2ZmZmZmZjsNCiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICBvcGFjaXR5OiAwLjk7DQogIGZpbHRlcjogYWxwaGEob3BhY2l0eT05MCk7DQp9DQouY2Fyb3VzZWwtY2FwdGlvbiB7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgbGVmdDogMDsNCiAgcmlnaHQ6IDA7DQogIGJvdHRvbTogMDsNCiAgcGFkZGluZzogMTBweCAxNXB4IDVweDsNCiAgYmFja2dyb3VuZDogIzMzMzMzMzsNCiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjc1KTsNCn0NCi5jYXJvdXNlbC1jYXB0aW9uIGg0LA0KLmNhcm91c2VsLWNhcHRpb24gcCB7DQogIGNvbG9yOiAjZmZmZmZmOw0KfQ0KLndlbGwgew0KICBtaW4taGVpZ2h0OiAyMHB4Ow0KICBwYWRkaW5nOiAxOXB4Ow0KICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1Ow0KICBib3JkZXI6IDFweCBzb2xpZCAjZWVlOw0KICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMDUpOw0KICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDRweDsNCiAgLW1vei1ib3JkZXItcmFkaXVzOiA0cHg7DQogIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDFweCAxcHggcmdiYSgwLCAwLCAwLCAwLjA1KTsNCiAgLW1vei1ib3gtc2hhZG93OiBpbnNldCAwIDFweCAxcHggcmdiYSgwLCAwLCAwLCAwLjA1KTsNCiAgYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7DQp9DQoud2VsbCBibG9ja3F1b3RlIHsNCiAgYm9yZGVyLWNvbG9yOiAjZGRkOw0KICBib3JkZXItY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4xNSk7DQp9DQoud2VsbC1sYXJnZSB7DQogIHBhZGRpbmc6IDI0cHg7DQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNnB4Ow0KICAtbW96LWJvcmRlci1yYWRpdXM6IDZweDsNCiAgYm9yZGVyLXJhZGl1czogNnB4Ow0KfQ0KLndlbGwtc21hbGwgew0KICBwYWRkaW5nOiA5cHg7DQogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogM3B4Ow0KICAtbW96LWJvcmRlci1yYWRpdXM6IDNweDsNCiAgYm9yZGVyLXJhZGl1czogM3B4Ow0KfQ0KLmNsb3NlIHsNCiAgZmxvYXQ6IHJpZ2h0Ow0KICBmb250LXNpemU6IDIwcHg7DQogIGZvbnQtd2VpZ2h0OiBib2xkOw0KICBsaW5lLWhlaWdodDogMThweDsNCiAgY29sb3I6ICMwMDAwMDA7DQogIHRleHQtc2hhZG93OiAwIDFweCAwICNmZmZmZmY7DQogIG9wYWNpdHk6IDAuMjsNCiAgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTIwKTsNCn0NCi5jbG9zZTpob3ZlciB7DQogIGNvbG9yOiAjMDAwMDAwOw0KICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQogIGN1cnNvcjogcG9pbnRlcjsNCiAgb3BhY2l0eTogMC40Ow0KICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9NDApOw0KfQ0KYnV0dG9uLmNsb3NlIHsNCiAgcGFkZGluZzogMDsNCiAgY3Vyc29yOiBwb2ludGVyOw0KICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsNCiAgYm9yZGVyOiAwOw0KICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7DQp9DQoucHVsbC1yaWdodCB7DQogIGZsb2F0OiByaWdodDsNCn0NCi5wdWxsLWxlZnQgew0KICBmbG9hdDogbGVmdDsNCn0NCi5oaWRlIHsNCiAgZGlzcGxheTogbm9uZTsNCn0NCi5zaG93IHsNCiAgZGlzcGxheTogYmxvY2s7DQp9DQouaW52aXNpYmxlIHsNCiAgdmlzaWJpbGl0eTogaGlkZGVuOw0KfQ0KLmZhZGUgew0KICBvcGFjaXR5OiAwOw0KICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MCk7DQogIC13ZWJraXQtdHJhbnNpdGlvbjogb3BhY2l0eSAwLjE1cyBsaW5lYXI7DQogIC1tb3otdHJhbnNpdGlvbjogb3BhY2l0eSAwLjE1cyBsaW5lYXI7DQogIC1tcy10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMTVzIGxpbmVhcjsNCiAgLW8tdHJhbnNpdGlvbjogb3BhY2l0eSAwLjE1cyBsaW5lYXI7DQogIHRyYW5zaXRpb246IG9wYWNpdHkgMC4xNXMgbGluZWFyOw0KfQ0KLmZhZGUuaW4gew0KICBvcGFjaXR5OiAxOw0KICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MTAwKTsNCn0NCi5jb2xsYXBzZSB7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgaGVpZ2h0OiAwOw0KICBvdmVyZmxvdzogaGlkZGVuOw0KICAtd2Via2l0LXRyYW5zaXRpb246IGhlaWdodCAwLjM1cyBlYXNlOw0KICAtbW96LXRyYW5zaXRpb246IGhlaWdodCAwLjM1cyBlYXNlOw0KICAtbXMtdHJhbnNpdGlvbjogaGVpZ2h0IDAuMzVzIGVhc2U7DQogIC1vLXRyYW5zaXRpb246IGhlaWdodCAwLjM1cyBlYXNlOw0KICB0cmFuc2l0aW9uOiBoZWlnaHQgMC4zNXMgZWFzZTsNCn0NCi5jb2xsYXBzZS5pbiB7DQogIGhlaWdodDogYXV0bzsNCn0NCi5oaWRkZW4gew0KICBkaXNwbGF5OiBub25lOw0KICB2aXNpYmlsaXR5OiBoaWRkZW47DQp9DQoudmlzaWJsZS1waG9uZSB7DQogIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsNCn0NCi52aXNpYmxlLXRhYmxldCB7DQogIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsNCn0NCi5oaWRkZW4tZGVza3RvcCB7DQogIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsNCn0NCkBtZWRpYSAobWF4LXdpZHRoOiA3NjdweCkgew0KICAudmlzaWJsZS1waG9uZSB7DQogICAgZGlzcGxheTogaW5oZXJpdCAhaW1wb3J0YW50Ow0KICB9DQogIC5oaWRkZW4tcGhvbmUgew0KICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsNCiAgfQ0KICAuaGlkZGVuLWRlc2t0b3Agew0KICAgIGRpc3BsYXk6IGluaGVyaXQgIWltcG9ydGFudDsNCiAgfQ0KICAudmlzaWJsZS1kZXNrdG9wIHsNCiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7DQogIH0NCn0NCkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkgYW5kIChtYXgtd2lkdGg6IDk3OXB4KSB7DQogIC52aXNpYmxlLXRhYmxldCB7DQogICAgZGlzcGxheTogaW5oZXJpdCAhaW1wb3J0YW50Ow0KICB9DQogIC5oaWRkZW4tdGFibGV0IHsNCiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7DQogIH0NCiAgLmhpZGRlbi1kZXNrdG9wIHsNCiAgICBkaXNwbGF5OiBpbmhlcml0ICFpbXBvcnRhbnQ7DQogIH0NCiAgLnZpc2libGUtZGVza3RvcCB7DQogICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50IDsNCiAgfQ0KfQ0KQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7DQogIC5uYXYtY29sbGFwc2Ugew0KICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTsNCiAgfQ0KICAucGFnZS1oZWFkZXIgaDEgc21hbGwgew0KICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgIGxpbmUtaGVpZ2h0OiAxOHB4Ow0KICB9DQogIGlucHV0W3R5cGU9ImNoZWNrYm94Il0sDQogIGlucHV0W3R5cGU9InJhZGlvIl0gew0KICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7DQogIH0NCiAgLmZvcm0taG9yaXpvbnRhbCAuY29udHJvbC1ncm91cCA+IGxhYmVsIHsNCiAgICBmbG9hdDogbm9uZTsNCiAgICB3aWR0aDogYXV0bzsNCiAgICBwYWRkaW5nLXRvcDogMDsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICB9DQogIC5mb3JtLWhvcml6b250YWwgLmNvbnRyb2xzIHsNCiAgICBtYXJnaW4tbGVmdDogMDsNCiAgfQ0KICAuZm9ybS1ob3Jpem9udGFsIC5jb250cm9sLWxpc3Qgew0KICAgIHBhZGRpbmctdG9wOiAwOw0KICB9DQogIC5mb3JtLWhvcml6b250YWwgLmZvcm0tYWN0aW9ucyB7DQogICAgcGFkZGluZy1sZWZ0OiAxMHB4Ow0KICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7DQogIH0NCiAgLm1vZGFsIHsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgdG9wOiAxMHB4Ow0KICAgIGxlZnQ6IDEwcHg7DQogICAgcmlnaHQ6IDEwcHg7DQogICAgd2lkdGg6IGF1dG87DQogICAgbWFyZ2luOiAwOw0KICB9DQogIC5tb2RhbC5mYWRlLmluIHsNCiAgICB0b3A6IGF1dG87DQogIH0NCiAgLm1vZGFsLWhlYWRlciAuY2xvc2Ugew0KICAgIHBhZGRpbmc6IDEwcHg7DQogICAgbWFyZ2luOiAtMTBweDsNCiAgfQ0KICAuY2Fyb3VzZWwtY2FwdGlvbiB7DQogICAgcG9zaXRpb246IHN0YXRpYzsNCiAgfQ0KfQ0KQG1lZGlhIChtYXgtd2lkdGg6IDc2N3B4KSB7DQogIGJvZHkgew0KICAgIHBhZGRpbmctbGVmdDogMjBweDsNCiAgICBwYWRkaW5nLXJpZ2h0OiAyMHB4Ow0KICB9DQogIC5uYXZiYXItZml4ZWQtdG9wLA0KICAubmF2YmFyLWZpeGVkLWJvdHRvbSB7DQogICAgbWFyZ2luLWxlZnQ6IC0yMHB4Ow0KICAgIG1hcmdpbi1yaWdodDogLTIwcHg7DQogIH0NCiAgLmNvbnRhaW5lci1mbHVpZCB7DQogICAgcGFkZGluZzogMDsNCiAgfQ0KICAuZGwtaG9yaXpvbnRhbCBkdCB7DQogICAgZmxvYXQ6IG5vbmU7DQogICAgY2xlYXI6IG5vbmU7DQogICAgd2lkdGg6IGF1dG87DQogICAgdGV4dC1hbGlnbjogbGVmdDsNCiAgfQ0KICAuZGwtaG9yaXpvbnRhbCBkZCB7DQogICAgbWFyZ2luLWxlZnQ6IDA7DQogIH0NCiAgLmNvbnRhaW5lciB7DQogICAgd2lkdGg6IGF1dG87DQogIH0NCiAgLnJvdy1mbHVpZCB7DQogICAgd2lkdGg6IDEwMCU7DQogIH0NCiAgLnJvdywNCiAgLnRodW1ibmFpbHMgew0KICAgIG1hcmdpbi1sZWZ0OiAwOw0KICB9DQogIFtjbGFzcyo9InNwYW4iXSwNCiAgLnJvdy1mbHVpZCBbY2xhc3MqPSJzcGFuIl0gew0KICAgIGZsb2F0OiBub25lOw0KICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgIHdpZHRoOiBhdXRvOw0KICAgIG1hcmdpbi1sZWZ0OiAwOw0KICB9DQogIC5pbnB1dC1sYXJnZSwNCiAgLmlucHV0LXhsYXJnZSwNCiAgLmlucHV0LXh4bGFyZ2UsDQogIGlucHV0W2NsYXNzKj0ic3BhbiJdLA0KICBzZWxlY3RbY2xhc3MqPSJzcGFuIl0sDQogIHRleHRhcmVhW2NsYXNzKj0ic3BhbiJdLA0KICAudW5lZGl0YWJsZS1pbnB1dCB7DQogICAgZGlzcGxheTogYmxvY2s7DQogICAgd2lkdGg6IDEwMCU7DQogICAgbWluLWhlaWdodDogMjhweDsNCiAgICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgIC1tcy1ib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogIH0NCiAgLmlucHV0LXByZXBlbmQgaW5wdXQsDQogIC5pbnB1dC1hcHBlbmQgaW5wdXQsDQogIC5pbnB1dC1wcmVwZW5kIGlucHV0W2NsYXNzKj0ic3BhbiJdLA0KICAuaW5wdXQtYXBwZW5kIGlucHV0W2NsYXNzKj0ic3BhbiJdIHsNCiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgd2lkdGg6IGF1dG87DQogIH0NCn0NCkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkgYW5kIChtYXgtd2lkdGg6IDk3OXB4KSB7DQogIC5yb3cgew0KICAgIG1hcmdpbi1sZWZ0OiAtMjBweDsNCiAgICAqem9vbTogMTsNCiAgfQ0KICAucm93OmJlZm9yZSwNCiAgLnJvdzphZnRlciB7DQogICAgZGlzcGxheTogdGFibGU7DQogICAgY29udGVudDogIiI7DQogIH0NCiAgLnJvdzphZnRlciB7DQogICAgY2xlYXI6IGJvdGg7DQogIH0NCiAgW2NsYXNzKj0ic3BhbiJdIHsNCiAgICBmbG9hdDogbGVmdDsNCiAgICBtYXJnaW4tbGVmdDogMjBweDsNCiAgfQ0KICAuY29udGFpbmVyLA0KICAubmF2YmFyLWZpeGVkLXRvcCAuY29udGFpbmVyLA0KICAubmF2YmFyLWZpeGVkLWJvdHRvbSAuY29udGFpbmVyIHsNCiAgICB3aWR0aDogNzI0cHg7DQogIH0NCiAgLnNwYW4xMiB7DQogICAgd2lkdGg6IDcyNHB4Ow0KICB9DQogIC5zcGFuMTEgew0KICAgIHdpZHRoOiA2NjJweDsNCiAgfQ0KICAuc3BhbjEwIHsNCiAgICB3aWR0aDogNjAwcHg7DQogIH0NCiAgLnNwYW45IHsNCiAgICB3aWR0aDogNTM4cHg7DQogIH0NCiAgLnNwYW44IHsNCiAgICB3aWR0aDogNDc2cHg7DQogIH0NCiAgLnNwYW43IHsNCiAgICB3aWR0aDogNDE0cHg7DQogIH0NCiAgLnNwYW42IHsNCiAgICB3aWR0aDogMzUycHg7DQogIH0NCiAgLnNwYW41IHsNCiAgICB3aWR0aDogMjkwcHg7DQogIH0NCiAgLnNwYW40IHsNCiAgICB3aWR0aDogMjI4cHg7DQogIH0NCiAgLnNwYW4zIHsNCiAgICB3aWR0aDogMTY2cHg7DQogIH0NCiAgLnNwYW4yIHsNCiAgICB3aWR0aDogMTA0cHg7DQogIH0NCiAgLnNwYW4xIHsNCiAgICB3aWR0aDogNDJweDsNCiAgfQ0KICAub2Zmc2V0MTIgew0KICAgIG1hcmdpbi1sZWZ0OiA3NjRweDsNCiAgfQ0KICAub2Zmc2V0MTEgew0KICAgIG1hcmdpbi1sZWZ0OiA3MDJweDsNCiAgfQ0KICAub2Zmc2V0MTAgew0KICAgIG1hcmdpbi1sZWZ0OiA2NDBweDsNCiAgfQ0KICAub2Zmc2V0OSB7DQogICAgbWFyZ2luLWxlZnQ6IDU3OHB4Ow0KICB9DQogIC5vZmZzZXQ4IHsNCiAgICBtYXJnaW4tbGVmdDogNTE2cHg7DQogIH0NCiAgLm9mZnNldDcgew0KICAgIG1hcmdpbi1sZWZ0OiA0NTRweDsNCiAgfQ0KICAub2Zmc2V0NiB7DQogICAgbWFyZ2luLWxlZnQ6IDM5MnB4Ow0KICB9DQogIC5vZmZzZXQ1IHsNCiAgICBtYXJnaW4tbGVmdDogMzMwcHg7DQogIH0NCiAgLm9mZnNldDQgew0KICAgIG1hcmdpbi1sZWZ0OiAyNjhweDsNCiAgfQ0KICAub2Zmc2V0MyB7DQogICAgbWFyZ2luLWxlZnQ6IDIwNnB4Ow0KICB9DQogIC5vZmZzZXQyIHsNCiAgICBtYXJnaW4tbGVmdDogMTQ0cHg7DQogIH0NCiAgLm9mZnNldDEgew0KICAgIG1hcmdpbi1sZWZ0OiA4MnB4Ow0KICB9DQogIC5yb3ctZmx1aWQgew0KICAgIHdpZHRoOiAxMDAlOw0KICAgICp6b29tOiAxOw0KICB9DQogIC5yb3ctZmx1aWQ6YmVmb3JlLA0KICAucm93LWZsdWlkOmFmdGVyIHsNCiAgICBkaXNwbGF5OiB0YWJsZTsNCiAgICBjb250ZW50OiAiIjsNCiAgfQ0KICAucm93LWZsdWlkOmFmdGVyIHsNCiAgICBjbGVhcjogYm90aDsNCiAgfQ0KICAucm93LWZsdWlkIFtjbGFzcyo9InNwYW4iXSB7DQogICAgZGlzcGxheTogYmxvY2s7DQogICAgd2lkdGg6IDEwMCU7DQogICAgbWluLWhlaWdodDogMjhweDsNCiAgICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgIC1tcy1ib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgbWFyZ2luLWxlZnQ6IDIuNzYyNDMwOTM5JTsNCiAgICAqbWFyZ2luLWxlZnQ6IDIuNzA5MjM5NDQ5NjM4Mjk4JTsNCiAgfQ0KICAucm93LWZsdWlkIFtjbGFzcyo9InNwYW4iXTpmaXJzdC1jaGlsZCB7DQogICAgbWFyZ2luLWxlZnQ6IDA7DQogIH0NCiAgLnJvdy1mbHVpZCAuc3BhbjEyIHsNCiAgICB3aWR0aDogOTkuOTk5OTk5OTkzJTsNCiAgICAqd2lkdGg6IDk5Ljk0NjgwODUwMzYzODMlOw0KICB9DQogIC5yb3ctZmx1aWQgLnNwYW4xMSB7DQogICAgd2lkdGg6IDkxLjQzNjQ2NDA4MiU7DQogICAgKndpZHRoOiA5MS4zODMyNzI1OTI2MzgyOSU7DQogIH0NCiAgLnJvdy1mbHVpZCAuc3BhbjEwIHsNCiAgICB3aWR0aDogODIuODcyOTI4MTcxMDAwMDElOw0KICAgICp3aWR0aDogODIuODE5NzM2NjgxNjM4MyU7DQogIH0NCiAgLnJvdy1mbHVpZCAuc3Bhbjkgew0KICAgIHdpZHRoOiA3NC4zMDkzOTIyNiU7DQogICAgKndpZHRoOiA3NC4yNTYyMDA3NzA2MzgyOSU7DQogIH0NCiAgLnJvdy1mbHVpZCAuc3Bhbjggew0KICAgIHdpZHRoOiA2NS43NDU4NTYzNDkwMDAwMSU7DQogICAgKndpZHRoOiA2NS42OTI2NjQ4NTk2MzgzJTsNCiAgfQ0KICAucm93LWZsdWlkIC5zcGFuNyB7DQogICAgd2lkdGg6IDU3LjE4MjMyMDQzODAwMDAwNSU7DQogICAgKndpZHRoOiA1Ny4xMjkxMjg5NDg2MzgzMDQlOw0KICB9DQogIC5yb3ctZmx1aWQgLnNwYW42IHsNCiAgICB3aWR0aDogNDguNjE4Nzg0NTI3JTsNCiAgICAqd2lkdGg6IDQ4LjU2NTU5MzAzNzYzODMlOw0KICB9DQogIC5yb3ctZmx1aWQgLnNwYW41IHsNCiAgICB3aWR0aDogNDAuMDU1MjQ4NjE2JTsNCiAgICAqd2lkdGg6IDQwLjAwMjA1NzEyNjYzODMlOw0KICB9DQogIC5yb3ctZmx1aWQgLnNwYW40IHsNCiAgICB3aWR0aDogMzEuNDkxNzEyNzA1JTsNCiAgICAqd2lkdGg6IDMxLjQzODUyMTIxNTYzODMlOw0KICB9DQogIC5yb3ctZmx1aWQgLnNwYW4zIHsNCiAgICB3aWR0aDogMjIuOTI4MTc2Nzk0JTsNCiAgICAqd2lkdGg6IDIyLjg3NDk4NTMwNDYzODI5NyU7DQogIH0NCiAgLnJvdy1mbHVpZCAuc3BhbjIgew0KICAgIHdpZHRoOiAxNC4zNjQ2NDA4ODMlOw0KICAgICp3aWR0aDogMTQuMzExNDQ5MzkzNjM4Mjk4JTsNCiAgfQ0KICAucm93LWZsdWlkIC5zcGFuMSB7DQogICAgd2lkdGg6IDUuODAxMTA0OTcyJTsNCiAgICAqd2lkdGg6IDUuNzQ3OTEzNDgyNjM4Mjk4JTsNCiAgfQ0KICBpbnB1dCwNCiAgdGV4dGFyZWEsDQogIC51bmVkaXRhYmxlLWlucHV0IHsNCiAgICBtYXJnaW4tbGVmdDogMDsNCiAgfQ0KICBpbnB1dC5zcGFuMTIsIHRleHRhcmVhLnNwYW4xMiwgLnVuZWRpdGFibGUtaW5wdXQuc3BhbjEyIHsNCiAgICB3aWR0aDogNzE0cHg7DQogIH0NCiAgaW5wdXQuc3BhbjExLCB0ZXh0YXJlYS5zcGFuMTEsIC51bmVkaXRhYmxlLWlucHV0LnNwYW4xMSB7DQogICAgd2lkdGg6IDY1MnB4Ow0KICB9DQogIGlucHV0LnNwYW4xMCwgdGV4dGFyZWEuc3BhbjEwLCAudW5lZGl0YWJsZS1pbnB1dC5zcGFuMTAgew0KICAgIHdpZHRoOiA1OTBweDsNCiAgfQ0KICBpbnB1dC5zcGFuOSwgdGV4dGFyZWEuc3BhbjksIC51bmVkaXRhYmxlLWlucHV0LnNwYW45IHsNCiAgICB3aWR0aDogNTI4cHg7DQogIH0NCiAgaW5wdXQuc3BhbjgsIHRleHRhcmVhLnNwYW44LCAudW5lZGl0YWJsZS1pbnB1dC5zcGFuOCB7DQogICAgd2lkdGg6IDQ2NnB4Ow0KICB9DQogIGlucHV0LnNwYW43LCB0ZXh0YXJlYS5zcGFuNywgLnVuZWRpdGFibGUtaW5wdXQuc3Bhbjcgew0KICAgIHdpZHRoOiA0MDRweDsNCiAgfQ0KICBpbnB1dC5zcGFuNiwgdGV4dGFyZWEuc3BhbjYsIC51bmVkaXRhYmxlLWlucHV0LnNwYW42IHsNCiAgICB3aWR0aDogMzQycHg7DQogIH0NCiAgaW5wdXQuc3BhbjUsIHRleHRhcmVhLnNwYW41LCAudW5lZGl0YWJsZS1pbnB1dC5zcGFuNSB7DQogICAgd2lkdGg6IDI4MHB4Ow0KICB9DQogIGlucHV0LnNwYW40LCB0ZXh0YXJlYS5zcGFuNCwgLnVuZWRpdGFibGUtaW5wdXQuc3BhbjQgew0KICAgIHdpZHRoOiAyMThweDsNCiAgfQ0KICBpbnB1dC5zcGFuMywgdGV4dGFyZWEuc3BhbjMsIC51bmVkaXRhYmxlLWlucHV0LnNwYW4zIHsNCiAgICB3aWR0aDogMTU2cHg7DQogIH0NCiAgaW5wdXQuc3BhbjIsIHRleHRhcmVhLnNwYW4yLCAudW5lZGl0YWJsZS1pbnB1dC5zcGFuMiB7DQogICAgd2lkdGg6IDk0cHg7DQogIH0NCiAgaW5wdXQuc3BhbjEsIHRleHRhcmVhLnNwYW4xLCAudW5lZGl0YWJsZS1pbnB1dC5zcGFuMSB7DQogICAgd2lkdGg6IDMycHg7DQogIH0NCn0NCkBtZWRpYSAobWluLXdpZHRoOiAxMjAwcHgpIHsNCiAgLnJvdyB7DQogICAgbWFyZ2luLWxlZnQ6IC0zMHB4Ow0KICAgICp6b29tOiAxOw0KICB9DQogIC5yb3c6YmVmb3JlLA0KICAucm93OmFmdGVyIHsNCiAgICBkaXNwbGF5OiB0YWJsZTsNCiAgICBjb250ZW50OiAiIjsNCiAgfQ0KICAucm93OmFmdGVyIHsNCiAgICBjbGVhcjogYm90aDsNCiAgfQ0KICBbY2xhc3MqPSJzcGFuIl0gew0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIG1hcmdpbi1sZWZ0OiAzMHB4Ow0KICB9DQogIC5jb250YWluZXIsDQogIC5uYXZiYXItZml4ZWQtdG9wIC5jb250YWluZXIsDQogIC5uYXZiYXItZml4ZWQtYm90dG9tIC5jb250YWluZXIgew0KICAgIHdpZHRoOiAxMTcwcHg7DQogIH0NCiAgLnNwYW4xMiB7DQogICAgd2lkdGg6IDExNzBweDsNCiAgfQ0KICAuc3BhbjExIHsNCiAgICB3aWR0aDogMTA3MHB4Ow0KICB9DQogIC5zcGFuMTAgew0KICAgIHdpZHRoOiA5NzBweDsNCiAgfQ0KICAuc3Bhbjkgew0KICAgIHdpZHRoOiA4NzBweDsNCiAgfQ0KICAuc3Bhbjggew0KICAgIHdpZHRoOiA3NzBweDsNCiAgfQ0KICAuc3Bhbjcgew0KICAgIHdpZHRoOiA2NzBweDsNCiAgfQ0KICAuc3BhbjYgew0KICAgIHdpZHRoOiA1NzBweDsNCiAgfQ0KICAuc3BhbjUgew0KICAgIHdpZHRoOiA0NzBweDsNCiAgfQ0KICAuc3BhbjQgew0KICAgIHdpZHRoOiAzNzBweDsNCiAgfQ0KICAuc3BhbjMgew0KICAgIHdpZHRoOiAyNzBweDsNCiAgfQ0KICAuc3BhbjIgew0KICAgIHdpZHRoOiAxNzBweDsNCiAgfQ0KICAuc3BhbjEgew0KICAgIHdpZHRoOiA3MHB4Ow0KICB9DQogIC5vZmZzZXQxMiB7DQogICAgbWFyZ2luLWxlZnQ6IDEyMzBweDsNCiAgfQ0KICAub2Zmc2V0MTEgew0KICAgIG1hcmdpbi1sZWZ0OiAxMTMwcHg7DQogIH0NCiAgLm9mZnNldDEwIHsNCiAgICBtYXJnaW4tbGVmdDogMTAzMHB4Ow0KICB9DQogIC5vZmZzZXQ5IHsNCiAgICBtYXJnaW4tbGVmdDogOTMwcHg7DQogIH0NCiAgLm9mZnNldDggew0KICAgIG1hcmdpbi1sZWZ0OiA4MzBweDsNCiAgfQ0KICAub2Zmc2V0NyB7DQogICAgbWFyZ2luLWxlZnQ6IDczMHB4Ow0KICB9DQogIC5vZmZzZXQ2IHsNCiAgICBtYXJnaW4tbGVmdDogNjMwcHg7DQogIH0NCiAgLm9mZnNldDUgew0KICAgIG1hcmdpbi1sZWZ0OiA1MzBweDsNCiAgfQ0KICAub2Zmc2V0NCB7DQogICAgbWFyZ2luLWxlZnQ6IDQzMHB4Ow0KICB9DQogIC5vZmZzZXQzIHsNCiAgICBtYXJnaW4tbGVmdDogMzMwcHg7DQogIH0NCiAgLm9mZnNldDIgew0KICAgIG1hcmdpbi1sZWZ0OiAyMzBweDsNCiAgfQ0KICAub2Zmc2V0MSB7DQogICAgbWFyZ2luLWxlZnQ6IDEzMHB4Ow0KICB9DQogIC5yb3ctZmx1aWQgew0KICAgIHdpZHRoOiAxMDAlOw0KICAgICp6b29tOiAxOw0KICB9DQogIC5yb3ctZmx1aWQ6YmVmb3JlLA0KICAucm93LWZsdWlkOmFmdGVyIHsNCiAgICBkaXNwbGF5OiB0YWJsZTsNCiAgICBjb250ZW50OiAiIjsNCiAgfQ0KICAucm93LWZsdWlkOmFmdGVyIHsNCiAgICBjbGVhcjogYm90aDsNCiAgfQ0KICAucm93LWZsdWlkIFtjbGFzcyo9InNwYW4iXSB7DQogICAgZGlzcGxheTogYmxvY2s7DQogICAgd2lkdGg6IDEwMCU7DQogICAgbWluLWhlaWdodDogMjhweDsNCiAgICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgIC1tcy1ib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgbWFyZ2luLWxlZnQ6IDIuNTY0MTAyNTY0JTsNCiAgICAqbWFyZ2luLWxlZnQ6IDIuNTEwOTExMDc0NjM4Mjk4JTsNCiAgfQ0KICAucm93LWZsdWlkIFtjbGFzcyo9InNwYW4iXTpmaXJzdC1jaGlsZCB7DQogICAgbWFyZ2luLWxlZnQ6IDA7DQogIH0NCiAgLnJvdy1mbHVpZCAuc3BhbjEyIHsNCiAgICB3aWR0aDogMTAwJTsNCiAgICAqd2lkdGg6IDk5Ljk0NjgwODUxMDYzODI5JTsNCiAgfQ0KICAucm93LWZsdWlkIC5zcGFuMTEgew0KICAgIHdpZHRoOiA5MS40NTI5OTE0NTMwMDAwMSU7DQogICAgKndpZHRoOiA5MS4zOTk3OTk5NjM2MzgzJTsNCiAgfQ0KICAucm93LWZsdWlkIC5zcGFuMTAgew0KICAgIHdpZHRoOiA4Mi45MDU5ODI5MDYlOw0KICAgICp3aWR0aDogODIuODUyNzkxNDE2NjM4MyU7DQogIH0NCiAgLnJvdy1mbHVpZCAuc3Bhbjkgew0KICAgIHdpZHRoOiA3NC4zNTg5NzQzNTklOw0KICAgICp3aWR0aDogNzQuMzA1NzgyODY5NjM4MjklOw0KICB9DQogIC5yb3ctZmx1aWQgLnNwYW44IHsNCiAgICB3aWR0aDogNjUuODExOTY1ODEyMDAwMDElOw0KICAgICp3aWR0aDogNjUuNzU4Nzc0MzIyNjM4MyU7DQogIH0NCiAgLnJvdy1mbHVpZCAuc3Bhbjcgew0KICAgIHdpZHRoOiA1Ny4yNjQ5NTcyNjUlOw0KICAgICp3aWR0aDogNTcuMjExNzY1Nzc1NjM4MyU7DQogIH0NCiAgLnJvdy1mbHVpZCAuc3BhbjYgew0KICAgIHdpZHRoOiA0OC43MTc5NDg3MTglOw0KICAgICp3aWR0aDogNDguNjY0NzU3MjI4NjM4MyU7DQogIH0NCiAgLnJvdy1mbHVpZCAuc3BhbjUgew0KICAgIHdpZHRoOiA0MC4xNzA5NDAxNzEwMDAwMDUlOw0KICAgICp3aWR0aDogNDAuMTE3NzQ4NjgxNjM4MzA0JTsNCiAgfQ0KICAucm93LWZsdWlkIC5zcGFuNCB7DQogICAgd2lkdGg6IDMxLjYyMzkzMTYyNCU7DQogICAgKndpZHRoOiAzMS41NzA3NDAxMzQ2MzgzJTsNCiAgfQ0KICAucm93LWZsdWlkIC5zcGFuMyB7DQogICAgd2lkdGg6IDIzLjA3NjkyMzA3NyU7DQogICAgKndpZHRoOiAyMy4wMjM3MzE1ODc2MzgzJTsNCiAgfQ0KICAucm93LWZsdWlkIC5zcGFuMiB7DQogICAgd2lkdGg6IDE0LjUyOTkxNDUzMDAwMDAwMSU7DQogICAgKndpZHRoOiAxNC40NzY3MjMwNDA2MzgzJTsNCiAgfQ0KICAucm93LWZsdWlkIC5zcGFuMSB7DQogICAgd2lkdGg6IDUuOTgyOTA1OTgzJTsNCiAgICAqd2lkdGg6IDUuOTI5NzE0NDkzNjM4Mjk4JTsNCiAgfQ0KICBpbnB1dCwNCiAgdGV4dGFyZWEsDQogIC51bmVkaXRhYmxlLWlucHV0IHsNCiAgICBtYXJnaW4tbGVmdDogMDsNCiAgfQ0KICBpbnB1dC5zcGFuMTIsIHRleHRhcmVhLnNwYW4xMiwgLnVuZWRpdGFibGUtaW5wdXQuc3BhbjEyIHsNCiAgICB3aWR0aDogMTE2MHB4Ow0KICB9DQogIGlucHV0LnNwYW4xMSwgdGV4dGFyZWEuc3BhbjExLCAudW5lZGl0YWJsZS1pbnB1dC5zcGFuMTEgew0KICAgIHdpZHRoOiAxMDYwcHg7DQogIH0NCiAgaW5wdXQuc3BhbjEwLCB0ZXh0YXJlYS5zcGFuMTAsIC51bmVkaXRhYmxlLWlucHV0LnNwYW4xMCB7DQogICAgd2lkdGg6IDk2MHB4Ow0KICB9DQogIGlucHV0LnNwYW45LCB0ZXh0YXJlYS5zcGFuOSwgLnVuZWRpdGFibGUtaW5wdXQuc3Bhbjkgew0KICAgIHdpZHRoOiA4NjBweDsNCiAgfQ0KICBpbnB1dC5zcGFuOCwgdGV4dGFyZWEuc3BhbjgsIC51bmVkaXRhYmxlLWlucHV0LnNwYW44IHsNCiAgICB3aWR0aDogNzYwcHg7DQogIH0NCiAgaW5wdXQuc3BhbjcsIHRleHRhcmVhLnNwYW43LCAudW5lZGl0YWJsZS1pbnB1dC5zcGFuNyB7DQogICAgd2lkdGg6IDY2MHB4Ow0KICB9DQogIGlucHV0LnNwYW42LCB0ZXh0YXJlYS5zcGFuNiwgLnVuZWRpdGFibGUtaW5wdXQuc3BhbjYgew0KICAgIHdpZHRoOiA1NjBweDsNCiAgfQ0KICBpbnB1dC5zcGFuNSwgdGV4dGFyZWEuc3BhbjUsIC51bmVkaXRhYmxlLWlucHV0LnNwYW41IHsNCiAgICB3aWR0aDogNDYwcHg7DQogIH0NCiAgaW5wdXQuc3BhbjQsIHRleHRhcmVhLnNwYW40LCAudW5lZGl0YWJsZS1pbnB1dC5zcGFuNCB7DQogICAgd2lkdGg6IDM2MHB4Ow0KICB9DQogIGlucHV0LnNwYW4zLCB0ZXh0YXJlYS5zcGFuMywgLnVuZWRpdGFibGUtaW5wdXQuc3BhbjMgew0KICAgIHdpZHRoOiAyNjBweDsNCiAgfQ0KICBpbnB1dC5zcGFuMiwgdGV4dGFyZWEuc3BhbjIsIC51bmVkaXRhYmxlLWlucHV0LnNwYW4yIHsNCiAgICB3aWR0aDogMTYwcHg7DQogIH0NCiAgaW5wdXQuc3BhbjEsIHRleHRhcmVhLnNwYW4xLCAudW5lZGl0YWJsZS1pbnB1dC5zcGFuMSB7DQogICAgd2lkdGg6IDYwcHg7DQogIH0NCiAgLnRodW1ibmFpbHMgew0KICAgIG1hcmdpbi1sZWZ0OiAtMzBweDsNCiAgfQ0KICAudGh1bWJuYWlscyA+IGxpIHsNCiAgICBtYXJnaW4tbGVmdDogMzBweDsNCiAgfQ0KICAucm93LWZsdWlkIC50aHVtYm5haWxzIHsNCiAgICBtYXJnaW4tbGVmdDogMDsNCiAgfQ0KfQ0KQG1lZGlhIChtYXgtd2lkdGg6IDk3OXB4KSB7DQogIGJvZHkgew0KICAgIHBhZGRpbmctdG9wOiAwOw0KICB9DQogIC5uYXZiYXItZml4ZWQtdG9wIHsNCiAgICBwb3NpdGlvbjogc3RhdGljOw0KICAgIG1hcmdpbi1ib3R0b206IDE4cHg7DQogIH0NCiAgLm5hdmJhci1maXhlZC10b3AgLm5hdmJhci1pbm5lciB7DQogICAgcGFkZGluZzogNXB4Ow0KICB9DQogIC5uYXZiYXIgLmNvbnRhaW5lciB7DQogICAgd2lkdGg6IGF1dG87DQogICAgcGFkZGluZzogMDsNCiAgfQ0KICAubmF2YmFyIC5icmFuZCB7DQogICAgcGFkZGluZy1sZWZ0OiAxMHB4Ow0KICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7DQogICAgbWFyZ2luOiAwIDAgMCAtNXB4Ow0KICB9DQogIC5uYXYtY29sbGFwc2Ugew0KICAgIGNsZWFyOiBib3RoOw0KICB9DQogIC5uYXYtY29sbGFwc2UgLm5hdiB7DQogICAgZmxvYXQ6IG5vbmU7DQogICAgbWFyZ2luOiAwIDAgOXB4Ow0KICB9DQogIC5uYXYtY29sbGFwc2UgLm5hdiA+IGxpIHsNCiAgICBmbG9hdDogbm9uZTsNCiAgfQ0KICAubmF2LWNvbGxhcHNlIC5uYXYgPiBsaSA+IGEgew0KICAgIG1hcmdpbi1ib3R0b206IDJweDsNCiAgfQ0KICAubmF2LWNvbGxhcHNlIC5uYXYgPiAuZGl2aWRlci12ZXJ0aWNhbCB7DQogICAgZGlzcGxheTogbm9uZTsNCiAgfQ0KICAubmF2LWNvbGxhcHNlIC5uYXYgLm5hdi1oZWFkZXIgew0KICAgIGNvbG9yOiAjOTk5OTk5Ow0KICAgIHRleHQtc2hhZG93OiBub25lOw0KICB9DQogIC5uYXYtY29sbGFwc2UgLm5hdiA+IGxpID4gYSwNCiAgLm5hdi1jb2xsYXBzZSAuZHJvcGRvd24tbWVudSBhIHsNCiAgICBwYWRkaW5nOiA2cHggMTVweDsNCiAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICBjb2xvcjogIzk5OTk5OTsNCiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDNweDsNCiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDNweDsNCiAgICBib3JkZXItcmFkaXVzOiAzcHg7DQogIH0NCiAgLm5hdi1jb2xsYXBzZSAuYnRuIHsNCiAgICBwYWRkaW5nOiA0cHggMTBweCA0cHg7DQogICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsNCiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDRweDsNCiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDRweDsNCiAgICBib3JkZXItcmFkaXVzOiA0cHg7DQogIH0NCiAgLm5hdi1jb2xsYXBzZSAuZHJvcGRvd24tbWVudSBsaSArIGxpIGEgew0KICAgIG1hcmdpbi1ib3R0b206IDJweDsNCiAgfQ0KICAubmF2LWNvbGxhcHNlIC5uYXYgPiBsaSA+IGE6aG92ZXIsDQogIC5uYXYtY29sbGFwc2UgLmRyb3Bkb3duLW1lbnUgYTpob3ZlciB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogIzIyMjIyMjsNCiAgfQ0KICAubmF2LWNvbGxhcHNlLmluIC5idG4tZ3JvdXAgew0KICAgIG1hcmdpbi10b3A6IDVweDsNCiAgICBwYWRkaW5nOiAwOw0KICB9DQogIC5uYXYtY29sbGFwc2UgLmRyb3Bkb3duLW1lbnUgew0KICAgIHBvc2l0aW9uOiBzdGF0aWM7DQogICAgdG9wOiBhdXRvOw0KICAgIGxlZnQ6IGF1dG87DQogICAgZmxvYXQ6IG5vbmU7DQogICAgZGlzcGxheTogYmxvY2s7DQogICAgbWF4LXdpZHRoOiBub25lOw0KICAgIG1hcmdpbjogMCAxNXB4Ow0KICAgIHBhZGRpbmc6IDA7DQogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7DQogICAgYm9yZGVyOiBub25lOw0KICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMDsNCiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDA7DQogICAgYm9yZGVyLXJhZGl1czogMDsNCiAgICAtd2Via2l0LWJveC1zaGFkb3c6IG5vbmU7DQogICAgLW1vei1ib3gtc2hhZG93OiBub25lOw0KICAgIGJveC1zaGFkb3c6IG5vbmU7DQogIH0NCiAgLm5hdi1jb2xsYXBzZSAuZHJvcGRvd24tbWVudTpiZWZvcmUsDQogIC5uYXYtY29sbGFwc2UgLmRyb3Bkb3duLW1lbnU6YWZ0ZXIgew0KICAgIGRpc3BsYXk6IG5vbmU7DQogIH0NCiAgLm5hdi1jb2xsYXBzZSAuZHJvcGRvd24tbWVudSAuZGl2aWRlciB7DQogICAgZGlzcGxheTogbm9uZTsNCiAgfQ0KICAubmF2LWNvbGxhcHNlIC5uYXZiYXItZm9ybSwNCiAgLm5hdi1jb2xsYXBzZSAubmF2YmFyLXNlYXJjaCB7DQogICAgZmxvYXQ6IG5vbmU7DQogICAgcGFkZGluZzogOXB4IDE1cHg7DQogICAgbWFyZ2luOiA5cHggMDsNCiAgICBib3JkZXItdG9wOiAxcHggc29saWQgIzIyMjIyMjsNCiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzIyMjIyMjsNCiAgICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwuMSksIDAgMXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwuMSk7DQogICAgLW1vei1ib3gtc2hhZG93OiBpbnNldCAwIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsLjEpLCAwIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsLjEpOw0KICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwuMSksIDAgMXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwuMSk7DQogIH0NCiAgLm5hdmJhciAubmF2LWNvbGxhcHNlIC5uYXYucHVsbC1yaWdodCB7DQogICAgZmxvYXQ6IG5vbmU7DQogICAgbWFyZ2luLWxlZnQ6IDA7DQogIH0NCiAgLm5hdi1jb2xsYXBzZSwNCiAgLm5hdi1jb2xsYXBzZS5jb2xsYXBzZSB7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICBoZWlnaHQ6IDA7DQogIH0NCiAgLm5hdmJhciAuYnRuLW5hdmJhciB7DQogICAgZGlzcGxheTogYmxvY2s7DQogIH0NCiAgLm5hdmJhci1zdGF0aWMgLm5hdmJhci1pbm5lciB7DQogICAgcGFkZGluZy1sZWZ0OiAxMHB4Ow0KICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7DQogIH0NCn0NCkBtZWRpYSAobWluLXdpZHRoOiA5ODBweCkgew0KICAubmF2LWNvbGxhcHNlLmNvbGxhcHNlIHsNCiAgICBoZWlnaHQ6IGF1dG8gIWltcG9ydGFudDsNCiAgICBvdmVyZmxvdzogdmlzaWJsZSAhaW1wb3J0YW50Ow0KICB9DQp9"/>
                  <L7p:VariableToSet stringValue="output"/>
                </L7p:SetVariable>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="RIGHT.COMMENT"/>
                      <L7p:value stringValue="//bootstrap.css"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:Expression1 stringValue="${resource}"/>
                  <L7p:Expression2 stringValue="base64tools.js"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item binary="included">
                      <L7p:RightValue stringValue="base64tools.js"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="YXBwbGljYXRpb24veC1qYXZhc2NyaXB0O2NoYXJzZXQ9dXRmLTg="/>
                  <L7p:VariableToSet stringValue="content_type"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="PCEtLQ0KZnVuY3Rpb24gdXJsRGVjb2RlKHN0cil7DQogICAgc3RyPXN0ci5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcKycsJ2cnKSwnICcpOw0KICAgIHJldHVybiB1bmVzY2FwZShzdHIpOw0KfQ0KZnVuY3Rpb24gdXJsRW5jb2RlKHN0cil7DQogICAgc3RyPWVzY2FwZShzdHIpOw0KICAgIHN0cj1zdHIucmVwbGFjZShuZXcgUmVnRXhwKCdcXCsnLCdnJyksJyUyQicpOw0KICAgIHJldHVybiBzdHIucmVwbGFjZShuZXcgUmVnRXhwKCclMjAnLCdnJyksJysnKTsNCn0NCg0KdmFyIEVORF9PRl9JTlBVVCA9IC0xOw0KDQp2YXIgYmFzZTY0Q2hhcnMgPSBuZXcgQXJyYXkoDQogICAgJ0EnLCdCJywnQycsJ0QnLCdFJywnRicsJ0cnLCdIJywNCiAgICAnSScsJ0onLCdLJywnTCcsJ00nLCdOJywnTycsJ1AnLA0KICAgICdRJywnUicsJ1MnLCdUJywnVScsJ1YnLCdXJywnWCcsDQogICAgJ1knLCdaJywnYScsJ2InLCdjJywnZCcsJ2UnLCdmJywNCiAgICAnZycsJ2gnLCdpJywnaicsJ2snLCdsJywnbScsJ24nLA0KICAgICdvJywncCcsJ3EnLCdyJywncycsJ3QnLCd1JywndicsDQogICAgJ3cnLCd4JywneScsJ3onLCcwJywnMScsJzInLCczJywNCiAgICAnNCcsJzUnLCc2JywnNycsJzgnLCc5JywnKycsJy8nDQopOw0KDQp2YXIgcmV2ZXJzZUJhc2U2NENoYXJzID0gbmV3IEFycmF5KCk7DQpmb3IgKHZhciBpPTA7IGkgPCBiYXNlNjRDaGFycy5sZW5ndGg7IGkrKyl7DQogICAgcmV2ZXJzZUJhc2U2NENoYXJzW2Jhc2U2NENoYXJzW2ldXSA9IGk7DQp9DQoNCnZhciBiYXNlNjRTdHI7DQp2YXIgYmFzZTY0Q291bnQ7DQpmdW5jdGlvbiBzZXRCYXNlNjRTdHIoc3RyKXsNCiAgICBiYXNlNjRTdHIgPSBzdHI7DQogICAgYmFzZTY0Q291bnQgPSAwOw0KfQ0KZnVuY3Rpb24gcmVhZEJhc2U2NCgpeyAgICANCiAgICBpZiAoIWJhc2U2NFN0cikgcmV0dXJuIEVORF9PRl9JTlBVVDsNCiAgICBpZiAoYmFzZTY0Q291bnQgPj0gYmFzZTY0U3RyLmxlbmd0aCkgcmV0dXJuIEVORF9PRl9JTlBVVDsNCiAgICB2YXIgYyA9IGJhc2U2NFN0ci5jaGFyQ29kZUF0KGJhc2U2NENvdW50KSAmIDB4ZmY7DQogICAgYmFzZTY0Q291bnQrKzsNCiAgICByZXR1cm4gYzsNCn0NCmZ1bmN0aW9uIGVuY29kZUJhc2U2NChzdHIpew0KICAgIHNldEJhc2U2NFN0cihzdHIpOw0KICAgIHZhciByZXN1bHQgPSAnJzsNCiAgICB2YXIgaW5CdWZmZXIgPSBuZXcgQXJyYXkoMyk7DQogICAgdmFyIGxpbmVDb3VudCA9IDA7DQogICAgdmFyIGRvbmUgPSBmYWxzZTsNCiAgICB3aGlsZSAoIWRvbmUgJiYgKGluQnVmZmVyWzBdID0gcmVhZEJhc2U2NCgpKSAhPSBFTkRfT0ZfSU5QVVQpew0KICAgICAgICBpbkJ1ZmZlclsxXSA9IHJlYWRCYXNlNjQoKTsNCiAgICAgICAgaW5CdWZmZXJbMl0gPSByZWFkQmFzZTY0KCk7DQogICAgICAgIHJlc3VsdCArPSAoYmFzZTY0Q2hhcnNbIGluQnVmZmVyWzBdID4+IDIgXSk7DQogICAgICAgIGlmIChpbkJ1ZmZlclsxXSAhPSBFTkRfT0ZfSU5QVVQpew0KICAgICAgICAgICAgcmVzdWx0ICs9IChiYXNlNjRDaGFycyBbKCggaW5CdWZmZXJbMF0gPDwgNCApICYgMHgzMCkgfCAoaW5CdWZmZXJbMV0gPj4gNCkgXSk7DQogICAgICAgICAgICBpZiAoaW5CdWZmZXJbMl0gIT0gRU5EX09GX0lOUFVUKXsNCiAgICAgICAgICAgICAgICByZXN1bHQgKz0gKGJhc2U2NENoYXJzIFsoKGluQnVmZmVyWzFdIDw8IDIpICYgMHgzYykgfCAoaW5CdWZmZXJbMl0gPj4gNikgXSk7DQogICAgICAgICAgICAgICAgcmVzdWx0ICs9IChiYXNlNjRDaGFycyBbaW5CdWZmZXJbMl0gJiAweDNGXSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHJlc3VsdCArPSAoYmFzZTY0Q2hhcnMgWygoaW5CdWZmZXJbMV0gPDwgMikgJiAweDNjKV0pOw0KICAgICAgICAgICAgICAgIHJlc3VsdCArPSAoJz0nKTsNCiAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJlc3VsdCArPSAoYmFzZTY0Q2hhcnMgWygoIGluQnVmZmVyWzBdIDw8IDQgKSAmIDB4MzApXSk7DQogICAgICAgICAgICByZXN1bHQgKz0gKCc9Jyk7DQogICAgICAgICAgICByZXN1bHQgKz0gKCc9Jyk7DQogICAgICAgICAgICBkb25lID0gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgICBsaW5lQ291bnQgKz0gNDsNCiAgICAgICAgaWYgKGxpbmVDb3VudCA+PSA3Nil7DQogICAgICAgICAgICByZXN1bHQgKz0gKCdcbicpOw0KICAgICAgICAgICAgbGluZUNvdW50ID0gMDsNCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gcmVzdWx0Ow0KfQ0KZnVuY3Rpb24gcmVhZFJldmVyc2VCYXNlNjQoKXsgICANCiAgICBpZiAoIWJhc2U2NFN0cikgcmV0dXJuIEVORF9PRl9JTlBVVDsNCiAgICB3aGlsZSAodHJ1ZSl7ICAgICAgDQogICAgICAgIGlmIChiYXNlNjRDb3VudCA+PSBiYXNlNjRTdHIubGVuZ3RoKSByZXR1cm4gRU5EX09GX0lOUFVUOw0KICAgICAgICB2YXIgbmV4dENoYXJhY3RlciA9IGJhc2U2NFN0ci5jaGFyQXQoYmFzZTY0Q291bnQpOw0KICAgICAgICBiYXNlNjRDb3VudCsrOw0KICAgICAgICBpZiAocmV2ZXJzZUJhc2U2NENoYXJzW25leHRDaGFyYWN0ZXJdKXsNCiAgICAgICAgICAgIHJldHVybiByZXZlcnNlQmFzZTY0Q2hhcnNbbmV4dENoYXJhY3Rlcl07DQogICAgICAgIH0NCiAgICAgICAgaWYgKG5leHRDaGFyYWN0ZXIgPT0gJ0EnKSByZXR1cm4gMDsNCiAgICB9DQogICAgcmV0dXJuIEVORF9PRl9JTlBVVDsNCn0NCg0KZnVuY3Rpb24gbnRvcyhuKXsNCiAgICBuPW4udG9TdHJpbmcoMTYpOw0KICAgIGlmIChuLmxlbmd0aCA9PSAxKSBuPSIwIituOw0KICAgIG49IiUiK247DQogICAgcmV0dXJuIHVuZXNjYXBlKG4pOw0KfQ0KDQpmdW5jdGlvbiBkZWNvZGVCYXNlNjQoc3RyKXsNCiAgICBzZXRCYXNlNjRTdHIoc3RyKTsNCiAgICB2YXIgcmVzdWx0ID0gIiI7DQogICAgdmFyIGluQnVmZmVyID0gbmV3IEFycmF5KDQpOw0KICAgIHZhciBkb25lID0gZmFsc2U7DQogICAgd2hpbGUgKCFkb25lICYmIChpbkJ1ZmZlclswXSA9IHJlYWRSZXZlcnNlQmFzZTY0KCkpICE9IEVORF9PRl9JTlBVVA0KICAgICAgICAmJiAoaW5CdWZmZXJbMV0gPSByZWFkUmV2ZXJzZUJhc2U2NCgpKSAhPSBFTkRfT0ZfSU5QVVQpew0KICAgICAgICBpbkJ1ZmZlclsyXSA9IHJlYWRSZXZlcnNlQmFzZTY0KCk7DQogICAgICAgIGluQnVmZmVyWzNdID0gcmVhZFJldmVyc2VCYXNlNjQoKTsNCiAgICAgICAgcmVzdWx0ICs9IG50b3MoKCgoaW5CdWZmZXJbMF0gPDwgMikgJiAweGZmKXwgaW5CdWZmZXJbMV0gPj4gNCkpOw0KICAgICAgICBpZiAoaW5CdWZmZXJbMl0gIT0gRU5EX09GX0lOUFVUKXsNCiAgICAgICAgICAgIHJlc3VsdCArPSAgbnRvcygoKChpbkJ1ZmZlclsxXSA8PCA0KSAmIDB4ZmYpfCBpbkJ1ZmZlclsyXSA+PiAyKSk7DQogICAgICAgICAgICBpZiAoaW5CdWZmZXJbM10gIT0gRU5EX09GX0lOUFVUKXsNCiAgICAgICAgICAgICAgICByZXN1bHQgKz0gIG50b3MoKCgoaW5CdWZmZXJbMl0gPDwgNikgICYgMHhmZikgfCBpbkJ1ZmZlclszXSkpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGRvbmUgPSB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiByZXN1bHQ7DQp9DQoNCnZhciBkaWdpdEFycmF5ID0gbmV3IEFycmF5KCcwJywnMScsJzInLCczJywnNCcsJzUnLCc2JywnNycsJzgnLCc5JywnYScsJ2InLCdjJywnZCcsJ2UnLCdmJyk7DQpmdW5jdGlvbiB0b0hleChuKXsNCiAgICB2YXIgcmVzdWx0ID0gJycNCiAgICB2YXIgc3RhcnQgPSB0cnVlOw0KICAgIGZvciAodmFyIGk9MzI7IGk+MDspew0KICAgICAgICBpLT00Ow0KICAgICAgICB2YXIgZGlnaXQgPSAobj4+aSkgJiAweGY7DQogICAgICAgIGlmICghc3RhcnQgfHwgZGlnaXQgIT0gMCl7DQogICAgICAgICAgICBzdGFydCA9IGZhbHNlOw0KICAgICAgICAgICAgcmVzdWx0ICs9IGRpZ2l0QXJyYXlbZGlnaXRdOw0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiAocmVzdWx0PT0nJz8nMCc6cmVzdWx0KTsNCn0NCg0KZnVuY3Rpb24gcGFkKHN0ciwgbGVuLCBwYWQpew0KICAgIHZhciByZXN1bHQgPSBzdHI7DQogICAgZm9yICh2YXIgaT1zdHIubGVuZ3RoOyBpPGxlbjsgaSsrKXsNCiAgICAgICAgcmVzdWx0ID0gcGFkICsgcmVzdWx0Ow0KICAgIH0NCiAgICByZXR1cm4gcmVzdWx0Ow0KfQ0KDQpmdW5jdGlvbiBlbmNvZGVIZXgoc3RyKXsNCiAgICB2YXIgcmVzdWx0ID0gIiI7DQogICAgZm9yICh2YXIgaT0wOyBpPHN0ci5sZW5ndGg7IGkrKyl7DQogICAgICAgIHJlc3VsdCArPSBwYWQodG9IZXgoc3RyLmNoYXJDb2RlQXQoaSkmMHhmZiksMiwnMCcpOw0KICAgIH0NCiAgICByZXR1cm4gcmVzdWx0Ow0KfQ0KDQp2YXIgaGV4diA9IHsNCiAgIjAwIjowLCIwMSI6MSwiMDIiOjIsIjAzIjozLCIwNCI6NCwiMDUiOjUsIjA2Ijo2LCIwNyI6NywiMDgiOjgsIjA5Ijo5LCIwQSI6MTAsIjBCIjoxMSwiMEMiOjEyLCIwRCI6MTMsIjBFIjoxNCwiMEYiOjE1LA0KICAiMTAiOjE2LCIxMSI6MTcsIjEyIjoxOCwiMTMiOjE5LCIxNCI6MjAsIjE1IjoyMSwiMTYiOjIyLCIxNyI6MjMsIjE4IjoyNCwiMTkiOjI1LCIxQSI6MjYsIjFCIjoyNywiMUMiOjI4LCIxRCI6MjksIjFFIjozMCwiMUYiOjMxLA0KICAiMjAiOjMyLCIyMSI6MzMsIjIyIjozNCwiMjMiOjM1LCIyNCI6MzYsIjI1IjozNywiMjYiOjM4LCIyNyI6MzksIjI4Ijo0MCwiMjkiOjQxLCIyQSI6NDIsIjJCIjo0MywiMkMiOjQ0LCIyRCI6NDUsIjJFIjo0NiwiMkYiOjQ3LA0KICAiMzAiOjQ4LCIzMSI6NDksIjMyIjo1MCwiMzMiOjUxLCIzNCI6NTIsIjM1Ijo1MywiMzYiOjU0LCIzNyI6NTUsIjM4Ijo1NiwiMzkiOjU3LCIzQSI6NTgsIjNCIjo1OSwiM0MiOjYwLCIzRCI6NjEsIjNFIjo2MiwiM0YiOjYzLA0KICAiNDAiOjY0LCI0MSI6NjUsIjQyIjo2NiwiNDMiOjY3LCI0NCI6NjgsIjQ1Ijo2OSwiNDYiOjcwLCI0NyI6NzEsIjQ4Ijo3MiwiNDkiOjczLCI0QSI6NzQsIjRCIjo3NSwiNEMiOjc2LCI0RCI6NzcsIjRFIjo3OCwiNEYiOjc5LA0KICAiNTAiOjgwLCI1MSI6ODEsIjUyIjo4MiwiNTMiOjgzLCI1NCI6ODQsIjU1Ijo4NSwiNTYiOjg2LCI1NyI6ODcsIjU4Ijo4OCwiNTkiOjg5LCI1QSI6OTAsIjVCIjo5MSwiNUMiOjkyLCI1RCI6OTMsIjVFIjo5NCwiNUYiOjk1LA0KICAiNjAiOjk2LCI2MSI6OTcsIjYyIjo5OCwiNjMiOjk5LCI2NCI6MTAwLCI2NSI6MTAxLCI2NiI6MTAyLCI2NyI6MTAzLCI2OCI6MTA0LCI2OSI6MTA1LCI2QSI6MTA2LCI2QiI6MTA3LCI2QyI6MTA4LCI2RCI6MTA5LCI2RSI6MTEwLCI2RiI6MTExLA0KICAiNzAiOjExMiwiNzEiOjExMywiNzIiOjExNCwiNzMiOjExNSwiNzQiOjExNiwiNzUiOjExNywiNzYiOjExOCwiNzciOjExOSwiNzgiOjEyMCwiNzkiOjEyMSwiN0EiOjEyMiwiN0IiOjEyMywiN0MiOjEyNCwiN0QiOjEyNSwiN0UiOjEyNiwiN0YiOjEyNywNCiAgIjgwIjoxMjgsIjgxIjoxMjksIjgyIjoxMzAsIjgzIjoxMzEsIjg0IjoxMzIsIjg1IjoxMzMsIjg2IjoxMzQsIjg3IjoxMzUsIjg4IjoxMzYsIjg5IjoxMzcsIjhBIjoxMzgsIjhCIjoxMzksIjhDIjoxNDAsIjhEIjoxNDEsIjhFIjoxNDIsIjhGIjoxNDMsDQogICI5MCI6MTQ0LCI5MSI6MTQ1LCI5MiI6MTQ2LCI5MyI6MTQ3LCI5NCI6MTQ4LCI5NSI6MTQ5LCI5NiI6MTUwLCI5NyI6MTUxLCI5OCI6MTUyLCI5OSI6MTUzLCI5QSI6MTU0LCI5QiI6MTU1LCI5QyI6MTU2LCI5RCI6MTU3LCI5RSI6MTU4LCI5RiI6MTU5LA0KICAiQTAiOjE2MCwiQTEiOjE2MSwiQTIiOjE2MiwiQTMiOjE2MywiQTQiOjE2NCwiQTUiOjE2NSwiQTYiOjE2NiwiQTciOjE2NywiQTgiOjE2OCwiQTkiOjE2OSwiQUEiOjE3MCwiQUIiOjE3MSwiQUMiOjE3MiwiQUQiOjE3MywiQUUiOjE3NCwiQUYiOjE3NSwNCiAgIkIwIjoxNzYsIkIxIjoxNzcsIkIyIjoxNzgsIkIzIjoxNzksIkI0IjoxODAsIkI1IjoxODEsIkI2IjoxODIsIkI3IjoxODMsIkI4IjoxODQsIkI5IjoxODUsIkJBIjoxODYsIkJCIjoxODcsIkJDIjoxODgsIkJEIjoxODksIkJFIjoxOTAsIkJGIjoxOTEsDQogICJDMCI6MTkyLCJDMSI6MTkzLCJDMiI6MTk0LCJDMyI6MTk1LCJDNCI6MTk2LCJDNSI6MTk3LCJDNiI6MTk4LCJDNyI6MTk5LCJDOCI6MjAwLCJDOSI6MjAxLCJDQSI6MjAyLCJDQiI6MjAzLCJDQyI6MjA0LCJDRCI6MjA1LCJDRSI6MjA2LCJDRiI6MjA3LA0KICAiRDAiOjIwOCwiRDEiOjIwOSwiRDIiOjIxMCwiRDMiOjIxMSwiRDQiOjIxMiwiRDUiOjIxMywiRDYiOjIxNCwiRDciOjIxNSwiRDgiOjIxNiwiRDkiOjIxNywiREEiOjIxOCwiREIiOjIxOSwiREMiOjIyMCwiREQiOjIyMSwiREUiOjIyMiwiREYiOjIyMywNCiAgIkUwIjoyMjQsIkUxIjoyMjUsIkUyIjoyMjYsIkUzIjoyMjcsIkU0IjoyMjgsIkU1IjoyMjksIkU2IjoyMzAsIkU3IjoyMzEsIkU4IjoyMzIsIkU5IjoyMzMsIkVBIjoyMzQsIkVCIjoyMzUsIkVDIjoyMzYsIkVEIjoyMzcsIkVFIjoyMzgsIkVGIjoyMzksDQogICJGMCI6MjQwLCJGMSI6MjQxLCJGMiI6MjQyLCJGMyI6MjQzLCJGNCI6MjQ0LCJGNSI6MjQ1LCJGNiI6MjQ2LCJGNyI6MjQ3LCJGOCI6MjQ4LCJGOSI6MjQ5LCJGQSI6MjUwLCJGQiI6MjUxLCJGQyI6MjUyLCJGRCI6MjUzLCJGRSI6MjU0LCJGRiI6MjU1DQp9Ow0KDQpmdW5jdGlvbiBkZWNvZGVIZXgoc3RyKXsNCiAgICBzdHIgPSBzdHIudG9VcHBlckNhc2UoKS5yZXBsYWNlKG5ldyBSZWdFeHAoInMvW14wLTlBLVpdLy9nIikpOw0KICAgIHZhciByZXN1bHQgPSAiIjsNCiAgICB2YXIgbmV4dGNoYXIgPSAiIjsNCiAgICBmb3IgKHZhciBpPTA7IGk8c3RyLmxlbmd0aDsgaSsrKXsNCiAgICAgICAgbmV4dGNoYXIgKz0gc3RyLmNoYXJBdChpKTsNCiAgICAgICAgaWYgKG5leHRjaGFyLmxlbmd0aCA9PSAyKXsNCiAgICAgICAgICAgIHJlc3VsdCArPSBudG9zKGhleHZbbmV4dGNoYXJdKTsNCiAgICAgICAgICAgIG5leHRjaGFyID0gIiI7DQogICAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIHJlc3VsdDsNCiAgICANCn0NCi8vLS0+"/>
                  <L7p:VariableToSet stringValue="output"/>
                </L7p:SetVariable>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="RIGHT.COMMENT"/>
                      <L7p:value stringValue="//base64tools.js"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:Expression1 stringValue="${resource}"/>
                  <L7p:Expression2 stringValue="app.js"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item binary="included">
                      <L7p:RightValue stringValue="app.js"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="YXBwbGljYXRpb24veC1qYXZhc2NyaXB0O2NoYXJzZXQ9dXRmLTg="/>
                  <L7p:VariableToSet stringValue="content_type"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="JChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7DQoNCiAgJC5hamF4U2V0dXAoew0KICAgIGNhY2hlOiBmYWxzZSwNCiAgICBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgiDQogIH0pOw0KdHJ5ew0KICB2YXIgbG9hZFVybDEgPSAiL3BvcnRhbENvbmZpZy9JZGVudGl0eVByb3ZpZGVycz8kZm9ybWF0PWpzb24iOw0KICAkLmdldEpTT04obG9hZFVybDEsIGZ1bmN0aW9uKGpzb24pIHsNCiAgICAgIHZhciBsaXN0SXRlbXMgPSAiIjsNCiAgICAgIC8vYWxlcnQoanNvbi5kLnJlc3VsdHMpOw0KICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGpzb24uZC5yZXN1bHRzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGxpc3RJdGVtcyArPSAiPG9wdGlvbiB2YWx1ZT0nIiArIGpzb24uZC5yZXN1bHRzW2ldLklkICsgIjo6IiArIGpzb24uZC5yZXN1bHRzW2ldLlNlYXJjaEJhc2UgKyAiJz4iICsganNvbi5kLnJlc3VsdHNbaV0uTmFtZSArICI8L29wdGlvbj4iOw0KICAgICAgfS8vZW5kIG9mIGZvcg0KICAgICAgJCgiI2xkYXBQcm92aWRlciIpLmh0bWwobGlzdEl0ZW1zKTsNCiAgICB9ICAvL2VuZCBvZiBmdW5jdGlvbihqc29uKQ0KICApLmZhaWwoZnVuY3Rpb24ocmVzcCl7DQogICAgbGlzdEl0ZW1zID0gIjxvcHRpb24gdmFsdWU9Jzo6Jz5Ob25lPC9vcHRpb24+IjsNCiAgICAkKCIjbGRhcFByb3ZpZGVyIikuaHRtbChsaXN0SXRlbXMpOw0KICB9KTsNCn1jYXRjaChlKXsNCmNvbnNvbGUubG9nKGUpOyANCn0NCg0KdHJ5ew0KICB2YXIgbG9hZFVybDIgPSAiL3BvcnRhbENvbmZpZy9KZGJjQ29ubmVjdGlvbnM/JGZvcm1hdD1qc29uIjsNCiAgJC5nZXRKU09OKGxvYWRVcmwyLCBmdW5jdGlvbihqc29uKSB7DQogICAgICB2YXIgbGlzdEl0ZW1zID0gIiI7DQogICAgICAvL2FsZXJ0KGpzb24uZC5yZXN1bHRzKTsNCiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBqc29uLmQucmVzdWx0cy5sZW5ndGg7IGkrKykgew0KICAgICAgICBsaXN0SXRlbXMgKz0gIjxvcHRpb24gdmFsdWU9JyIgKyBqc29uLmQucmVzdWx0c1tpXS5OYW1lICsgIic+IiArIGpzb24uZC5yZXN1bHRzW2ldLk5hbWUgKyAiPC9vcHRpb24+IjsNCiAgICAgIH0vL2VuZCBvZiBmb3INCiAgICAgICQoIltpZD1qZGJjQ29ubmVjdGlvbl0iKS5odG1sKGxpc3RJdGVtcyk7DQogICAgICAkKCJbaWQ9amRiY0Nvbm5lY3Rpb24yXSIpLmh0bWwobGlzdEl0ZW1zKTsNCiAgICAgICQoIltpZD1qZGJjQ29ubmVjdGlvbjNdIikuaHRtbChsaXN0SXRlbXMpOw0KICAgICAgJCgiW2lkPW1ldHJpY3NKZGJjQ29ubmVjdGlvbl0iKS5odG1sKGxpc3RJdGVtcyk7DQogICAgfSAgLy9lbmQgb2YgZnVuY3Rpb24oanNvbikNCiAgKTsNCn1jYXRjaChlKXsNCmNvbnNvbGUubG9nKGUpOw0KfQ0KDQp0cnl7DQogIHZhciBsb2FkVXJsMyA9ICIvcG9ydGFsQ29uZmlnL0ludGVybmFsR3JvdXBzPyRmb3JtYXQ9anNvbiI7DQovKg0KICAkLmdldEpTT04obG9hZFVybDMsIGZ1bmN0aW9uKGpzb24pIHsNCiAgICAgIHZhciBsaXN0SXRlbXMgPSAiIjsNCiAgICAgIC8vYWxlcnQoanNvbi5kLnJlc3VsdHMpOw0KICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGpzb24uZC5yZXN1bHRzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGxpc3RJdGVtcyArPSAiPG9wdGlvbiB2YWx1ZT0nIiArIGVuY29kZUhleChkZWNvZGVCYXNlNjQoanNvbi5kLnJlc3VsdHNbaV0uR29pZC5yZXBsYWNlKC8oXHJcbnxcbnxccikvZ20sIiIpKSkgKyAiOjoiICsganNvbi5kLnJlc3VsdHNbaV0uTmFtZSArICInPiIgKyBqc29uLmQucmVzdWx0c1tpXS5OYW1lICsgIjwvb3B0aW9uPiI7DQogICAgICB9Ly9lbmQgb2YgZm9yDQogICAgICAkKCJbaWQ9aW50ZXJuYWxHcm91cF0iKS5odG1sKGxpc3RJdGVtcyk7DQogICAgICAkKCJbaWQ9aW50ZXJuYWxHcm91cDJdIikuaHRtbChsaXN0SXRlbXMpOw0KICAgIH0gIC8vZW5kIG9mIGZ1bmN0aW9uKGpzb24pDQogICk7DQoqLw0KfWNhdGNoKGUpew0KY29uc29sZS5sb2coZSk7DQp9DQoNCnRyeXsNCiAgdmFyIGxvYWRVcmw0ID0gIi9wb3J0YWxDb25maWcvQ2xpZW50Q2VydHM/JGZvcm1hdD1qc29uIjsNCiAgJC5nZXRKU09OKGxvYWRVcmw0LCBmdW5jdGlvbihqc29uKSB7DQogICAgICB2YXIgbGlzdEl0ZW1zID0gIiI7DQogICAgICAvL2FsZXJ0KGpzb24uZC5yZXN1bHRzKTsNCiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBqc29uLmQucmVzdWx0cy5sZW5ndGg7IGkrKykgew0KICAgICAgICBsaXN0SXRlbXMgKz0gIjxvcHRpb24gdmFsdWU9JyIgKyBqc29uLmQucmVzdWx0c1tpXS5Mb2dpbiArICInPiIgKyBqc29uLmQucmVzdWx0c1tpXS5Mb2dpbiArICI8L29wdGlvbj4iOw0KICAgICAgfS8vZW5kIG9mIGZvcg0KICAgICAgIGxpc3RJdGVtcyArPSAiPG9wdGlvbiB2YWx1ZT0nJz4tbm9uZS08L29wdGlvbj4iOw0KICAgICAgJCgiW2lkPXByaXZhdGVLZXldIikuaHRtbChsaXN0SXRlbXMpOw0KICAgIH0gIC8vZW5kIG9mIGZ1bmN0aW9uKGpzb24pDQogICk7DQp9Y2F0Y2goZSl7DQokKCJbaWQ9cHJpdmF0ZUtleV0iKS5odG1sKCI8b3B0aW9uIHZhbHVlPScnPi1ub25lLTwvb3B0aW9uPiIpOw0KY29uc29sZS5sb2coZSk7DQp9DQoNCg0KICAkKCIjcG9ydGFsQXV0aEZvcm0iKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHsNCiAgJCgnI3BvcnRhbEF1dGhTdWJtaXQnKS5hdHRyKCJkaXNhYmxlZCIsIHRydWUpOw0KICAkKCIjcG9ydGFsQXV0aFJlc3VsdCIpLnRleHQoJycpOw0KICAkKCIjcG9ydGFsTWdtdFJlc3VsdCIpLnRleHQoJycpOw0KICANCiAgICAvLyBTdG9wIGZvcm0gZnJvbSBzdWJtaXR0aW5nIG5vcm1hbGx5DQogICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsNCg0KICAgIHZhciB0ZW5hbnRJZCA9ICQoIiN0ZW5hbnRJZCIpLnZhbCgpOw0KICAgIHZhciBsZGFwUHJvdmlkZXIgPSAkKCIjbGRhcFByb3ZpZGVyIikudmFsKCk7DQogICAgdmFyIGpkYmNDb25uZWN0aW9uID0gJCgiI2pkYmNDb25uZWN0aW9uIikudmFsKCk7DQogICAgLy92YXIgaW50ZXJuYWxHcm91cCA9ICQoIiNpbnRlcm5hbEdyb3VwIikudmFsKCk7DQogICAgdmFyIHRva2VuVGltZW91dCA9ICQoIiN0b2tlblRpbWVvdXQiKS52YWwoKTsNCiAgICB2YXIgY2FjaGVUaW1lb3V0ID0gJCgiI2NhY2hlVGltZW91dCIpLnZhbCgpOw0KICAgIHZhciBhdXRoVHlwZSA9ICQoIiNhdXRoVHlwZSIpLnZhbCgpOw0KICAgIC8vdmFyIGdyb3VwSW5mbyA9IGludGVybmFsR3JvdXAuc3BsaXQoIjo6Iik7DQogICAgdmFyIGxkYXBJbmZvID0gbGRhcFByb3ZpZGVyLnNwbGl0KCI6OiIpOw0KICAgIHZhciBtYXhJbnZhbGlkTG9naW5BdHRlbXB0ID0gJCgiI21heEludmFsaWRMb2dpbkF0dGVtcHQiKS52YWwoKTsNCiAgICAvL2FsZXJ0KHRlbmFudElkKyIsIitsZGFwUHJvdmlkZXIrIiwiK2pkYmNDb25uZWN0aW9uKyIsIitpbnRlcm5hbEdyb3VwKyIsIit0b2tlblRpbWVvdXQrIiwiK2NhY2hlVGltZW91dCk7DQogICAgLy9hbGVydChncm91cEluZm9bMF0rIiwiK2dyb3VwSW5mb1sxXSsiLCIrbGRhcEluZm9bMF0rIiwiK2xkYXBJbmZvWzFdKTsNCiAgICB2YXIgcGFzc3dvcmRQb2xpY3kgPSAkKCIjcGFzc3dvcmRQb2xpY3kiKS52YWwoKTsNCiAgICB2YXIgeG1sRG9jdW1lbnQgPSAnPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48ZW50cnkgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDUvQXRvbSIgeG1sbnM6ZD0iaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9hZG8vMjAwNy8wOC9kYXRhc2VydmljZXMiIHhtbG5zOm09Imh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vYWRvLzIwMDcvMDgvZGF0YXNlcnZpY2VzL21ldGFkYXRhIj48dGl0bGUgdHlwZT0idGV4dCIvPjxhdXRob3I+PG5hbWUvPjwvYXV0aG9yPjxjYXRlZ29yeSBzY2hlbWU9Imh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vYWRvLzIwMDcvMDgvZGF0YXNlcnZpY2VzL3NjaGVtZSIgdGVybT0iSmRiY01vZGVsLlBvcnRhbEF1dGgiLz48Y29udGVudCB0eXBlPSJhcHBsaWNhdGlvbi94bWwiPjxtOnByb3BlcnRpZXM+PGQ6VGVuYW50SWQ+JyArIHRlbmFudElkICsgJzwvZDpUZW5hbnRJZD48ZDpBdXRoVHlwZT4nICsgYXV0aFR5cGUgKyAnPC9kOkF1dGhUeXBlPjxkOklkZW50aXR5UHJvdmlkZXJJZD4nICsgbGRhcEluZm9bMF0gKyAnPC9kOklkZW50aXR5UHJvdmlkZXJJZD48ZDpTZWFyY2hCYXNlPicgKyBsZGFwSW5mb1sxXSArICc8L2Q6U2VhcmNoQmFzZT48ZDpKZGJjQ29ubmVjdGlvbk5hbWU+JyArIGpkYmNDb25uZWN0aW9uICsgJzwvZDpKZGJjQ29ubmVjdGlvbk5hbWU+PGQ6VG9rZW5UaW1lb3V0IG06dHlwZT0iRWRtLkludDE2Ij4nICsgdG9rZW5UaW1lb3V0ICsgJzwvZDpUb2tlblRpbWVvdXQ+PGQ6Q2FjaGVUaW1lb3V0IG06dHlwZT0iRWRtLkludDE2Ij4nICsgY2FjaGVUaW1lb3V0ICsgJzwvZDpDYWNoZVRpbWVvdXQ+PGQ6TWF4SW52YWxpZExvZ2luQXR0ZW1wdCBtOnR5cGU9IkVkbS5JbnQxNiI+JyArIG1heEludmFsaWRMb2dpbkF0dGVtcHQgKyAnPC9kOk1heEludmFsaWRMb2dpbkF0dGVtcHQ+PGQ6UGFzc3dvcmRQb2xpY3k+PCFbQ0RBVEFbJyArIHBhc3N3b3JkUG9saWN5ICsgJ11dPjwvZDpQYXNzd29yZFBvbGljeT48L206cHJvcGVydGllcz48L2NvbnRlbnQ+PC9lbnRyeT4nOw0KDQogICAgJC5hamF4KHsNCiAgICAgIHVybDogIlBvcnRhbEF1dGhzP292ZXJ3cml0ZT0ke3JlcXVlc3QuaHR0cC5wYXJhbWV0ZXIub3ZlcndyaXRlfSIsDQogICAgICB0eXBlOiAiUE9TVCIsDQogICAgICBkYXRhOiB4bWxEb2N1bWVudCwNCiAgICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24veG1sOyBjaGFyc2V0PXV0Zi04IiwNCiAgICAgIGRhdGFUeXBlOiAidGV4dCIsDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIGZvcm1hdHRlZERhdGEgPSB2a2JlYXV0aWZ5KGRhdGEsICd4bWwnLCBmYWxzZSk7DQogICAgICAgICQoIiNwb3J0YWxBdXRoUmVzdWx0IikudGV4dChmb3JtYXR0ZWREYXRhKTsNCiAgICAgICAgcHJldHR5UHJpbnQoKTsNCiAgICAgIH0sDQogICAgICBlcnJvcjogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICBmb3JtYXR0ZWREYXRhID0gdmtiZWF1dGlmeShkYXRhLnJlc3BvbnNlVGV4dCwgJ3htbCcsIGZhbHNlKTsNCiAgICAgICAgJCgiI3BvcnRhbEF1dGhSZXN1bHQiKS50ZXh0KGZvcm1hdHRlZERhdGEpOw0KICAgICAgICBwcmV0dHlQcmludCgpOw0KICAgICAgfQ0KICAgIH0pDQoNCiAgICAvLyQoIiNwb3J0YWxBdXRoUmVzdWx0IikudGV4dChmb3JtYXR0ZWREYXRhKTsNCiAgICAvL3ByZXR0eVByaW50KCk7DQogICAgJCgnI3BvcnRhbEF1dGhTdWJtaXQnKS5hdHRyKCJkaXNhYmxlZCIsIGZhbHNlKTsNCiAgfSk7DQoNCiAgJCgiI3BvcnRhbE1nbXRGb3JtIikuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7DQogICQoJyNwb3J0YWxEYXRhU3VibWl0JykuYXR0cigiZGlzYWJsZWQiLCB0cnVlKTsNCiAgJCgiI3BvcnRhbEF1dGhSZXN1bHQiKS50ZXh0KCcnKTsNCiAgJCgiI3BvcnRhbE1nbXRSZXN1bHQiKS50ZXh0KCcnKTsNCg0KICAgIC8vIFN0b3AgZm9ybSBmcm9tIHN1Ym1pdHRpbmcgbm9ybWFsbHkNCiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KDQogICAgdmFyIHRlbmFudElkID0gJCgiI3RlbmFudElkMiIpLnZhbCgpOw0KICAgIHZhciBqZGJjQ29ubmVjdGlvbiA9ICQoIiNqZGJjQ29ubmVjdGlvbjIiKS52YWwoKTsNCiAgICB2YXIgbWV0cmljc0Nvbm5lY3Rpb24gPSAkKCIjbWV0cmljc0pkYmNDb25uZWN0aW9uIikudmFsKCk7DQogICAgLy92YXIgaW50ZXJuYWxHcm91cCA9ICQoIiNpbnRlcm5hbEdyb3VwMiIpLnZhbCgpOw0KICAgIC8vdmFyIGdyb3VwSW5mbyA9IGludGVybmFsR3JvdXAuc3BsaXQoIjo6Iik7DQogICAgdmFyIG1hbmFnZWRHYXRld2F5VXJsID0gJCgiI21hbmFnZWRHYXRld2F5VXJsIikudmFsKCk7DQogICAgdmFyIHByaXZhdGVLZXkgPSAkKCIjcHJpdmF0ZUtleSIpLnZhbCgpOw0KICAgIHZhciBzeW5jRmxhZ1RpbWVvdXQgPSAkKCIjc3luY0ZsYWdUaW1lb3V0IikudmFsKCk7DQogICAgdmFyIG1ldGFkYXRhQ2FjaGVUaW1lb3V0ID0gJCgiI21ldGFkYXRhQ2FjaGVUaW1lb3V0IikudmFsKCk7DQoNCiAgICB2YXIgeG1sRG9jdW1lbnQgPSAnPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48ZW50cnkgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDUvQXRvbSIgeG1sbnM6ZD0iaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9hZG8vMjAwNy8wOC9kYXRhc2VydmljZXMiIHhtbG5zOm09Imh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vYWRvLzIwMDcvMDgvZGF0YXNlcnZpY2VzL21ldGFkYXRhIj48dGl0bGUgdHlwZT0idGV4dCIvPjxhdXRob3I+PG5hbWUvPjwvYXV0aG9yPjxjYXRlZ29yeSBzY2hlbWU9Imh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vYWRvLzIwMDcvMDgvZGF0YXNlcnZpY2VzL3NjaGVtZSIgdGVybT0iSmRiY01vZGVsLlBvcnRhbE1nbXQiLz48Y29udGVudCB0eXBlPSJhcHBsaWNhdGlvbi94bWwiPjxtOnByb3BlcnRpZXM+PGQ6VGVuYW50SWQ+JyArIHRlbmFudElkICsgJzwvZDpUZW5hbnRJZD48ZDpKZGJjQ29ubmVjdGlvbk5hbWU+JyArIGpkYmNDb25uZWN0aW9uICsgJzwvZDpKZGJjQ29ubmVjdGlvbk5hbWU+PGQ6TWV0cmljc0Nvbm5lY3Rpb25OYW1lPicgKyBtZXRyaWNzQ29ubmVjdGlvbiArICc8L2Q6TWV0cmljc0Nvbm5lY3Rpb25OYW1lPjxkOk1hbmFnZWRHYXRld2F5VXJsPicgKyBtYW5hZ2VkR2F0ZXdheVVybCArICc8L2Q6TWFuYWdlZEdhdGV3YXlVcmw+PGQ6UHJpdmF0ZUtleT4nICsgcHJpdmF0ZUtleSArICc8L2Q6UHJpdmF0ZUtleT48ZDpTeW5jRmxhZ1RpbWVvdXQ+JyArIHN5bmNGbGFnVGltZW91dCArICc8L2Q6U3luY0ZsYWdUaW1lb3V0PjxkOk1ldGFkYXRhQ2FjaGVUaW1lb3V0PicgKyBtZXRhZGF0YUNhY2hlVGltZW91dCArICc8L2Q6TWV0YWRhdGFDYWNoZVRpbWVvdXQ+PC9tOnByb3BlcnRpZXM+PC9jb250ZW50PjwvZW50cnk+JzsNCg0KICAgICQuYWpheCh7DQogICAgICB1cmw6ICJQb3J0YWxNZ210cz9vdmVyd3JpdGU9JHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLm92ZXJ3cml0ZX0iLA0KICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgZGF0YTogeG1sRG9jdW1lbnQsDQogICAgICBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL3htbDsgY2hhcnNldD11dGYtOCIsDQogICAgICBkYXRhVHlwZTogInRleHQiLA0KICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgew0KICAgICAgICBmb3JtYXR0ZWREYXRhID0gdmtiZWF1dGlmeShkYXRhLCAneG1sJywgZmFsc2UpOw0KICAgICAgICAkKCIjcG9ydGFsTWdtdFJlc3VsdCIpLnRleHQoZm9ybWF0dGVkRGF0YSk7DQogICAgICAgIHByZXR0eVByaW50KCk7DQogICAgICB9LA0KICAgICAgZXJyb3I6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgZm9ybWF0dGVkRGF0YSA9IHZrYmVhdXRpZnkoZGF0YS5yZXNwb25zZVRleHQsICd4bWwnLCBmYWxzZSk7DQogICAgICAgICQoIiNwb3J0YWxNZ210UmVzdWx0IikudGV4dChmb3JtYXR0ZWREYXRhKTsNCiAgICAgICAgcHJldHR5UHJpbnQoKTsNCiAgICAgIH0NCiAgICB9KQ0KDQogICAgJCgnI3BvcnRhbERhdGFTdWJtaXQnKS5hdHRyKCJkaXNhYmxlZCIsIGZhbHNlKTsNCiAgfSk7DQogIA0KICAkKCIjcG9ydGFsTWV0cmljc0Zvcm0iKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHsNCiAgJCgnI3BvcnRhbE1ldHJpY3NTdWJtaXQnKS5hdHRyKCJkaXNhYmxlZCIsIHRydWUpOw0KICAkKCIjcG9ydGFsTWV0cmljc1Jlc3VsdCIpLnRleHQoJycpOw0KICAkKCIjcG9ydGFsTWV0cmljc1Jlc3VsdCIpLnRleHQoJycpOw0KICANCiAgICAvLyBTdG9wIGZvcm0gZnJvbSBzdWJtaXR0aW5nIG5vcm1hbGx5DQogICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsNCg0KICAgIHZhciB0ZW5hbnRJZCA9ICQoIiN0ZW5hbnRJZDMiKS52YWwoKTsgICAgDQogICAgdmFyIGpkYmNDb25uZWN0aW9uID0gJCgiI2pkYmNDb25uZWN0aW9uMyIpLnZhbCgpOyAgICANCiAgICB2YXIgeG1sRG9jdW1lbnQgPSAnPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48ZW50cnkgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDUvQXRvbSIgeG1sbnM6ZD0iaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9hZG8vMjAwNy8wOC9kYXRhc2VydmljZXMiIHhtbG5zOm09Imh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vYWRvLzIwMDcvMDgvZGF0YXNlcnZpY2VzL21ldGFkYXRhIj48dGl0bGUgdHlwZT0idGV4dCIvPjxhdXRob3I+PG5hbWUvPjwvYXV0aG9yPjxjYXRlZ29yeSBzY2hlbWU9Imh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vYWRvLzIwMDcvMDgvZGF0YXNlcnZpY2VzL3NjaGVtZSIgdGVybT0iSmRiY01vZGVsLlBvcnRhbE1ldHJpYyIvPjxjb250ZW50IHR5cGU9ImFwcGxpY2F0aW9uL3htbCI+PG06cHJvcGVydGllcz48ZDpUZW5hbnRJZD4nICsgdGVuYW50SWQgKyAnPC9kOlRlbmFudElkPjxkOkpkYmNDb25uZWN0aW9uTmFtZT4nICsgamRiY0Nvbm5lY3Rpb24gKyAnPC9kOkpkYmNDb25uZWN0aW9uTmFtZT48L206cHJvcGVydGllcz48L2NvbnRlbnQ+PC9lbnRyeT4nOw0KDQogICAgJC5hamF4KHsNCiAgICAgIHVybDogIlBvcnRhbE1ldHJpY3M/b3ZlcndyaXRlPSR7cmVxdWVzdC5odHRwLnBhcmFtZXRlci5vdmVyd3JpdGV9IiwNCiAgICAgIHR5cGU6ICJQT1NUIiwNCiAgICAgIGRhdGE6IHhtbERvY3VtZW50LA0KICAgICAgY29udGVudFR5cGU6ICJhcHBsaWNhdGlvbi94bWw7IGNoYXJzZXQ9dXRmLTgiLA0KICAgICAgZGF0YVR5cGU6ICJ0ZXh0IiwNCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgZm9ybWF0dGVkRGF0YSA9IHZrYmVhdXRpZnkoZGF0YSwgJ3htbCcsIGZhbHNlKTsNCiAgICAgICAgJCgiI3BvcnRhbE1ldHJpY3NSZXN1bHQiKS50ZXh0KGZvcm1hdHRlZERhdGEpOw0KICAgICAgICBwcmV0dHlQcmludCgpOw0KICAgICAgfSwNCiAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIGZvcm1hdHRlZERhdGEgPSB2a2JlYXV0aWZ5KGRhdGEucmVzcG9uc2VUZXh0LCAneG1sJywgZmFsc2UpOw0KICAgICAgICAkKCIjcG9ydGFsTWV0cmljc1Jlc3VsdCIpLnRleHQoZm9ybWF0dGVkRGF0YSk7DQogICAgICAgIHByZXR0eVByaW50KCk7DQogICAgICB9DQogICAgfSkNCg0KICAgIC8vJCgiI3BvcnRhbEF1dGhSZXN1bHQiKS50ZXh0KGZvcm1hdHRlZERhdGEpOw0KICAgIC8vcHJldHR5UHJpbnQoKTsNCiAgICAkKCcjcG9ydGFsTWV0cmljc1N1Ym1pdCcpLmF0dHIoImRpc2FibGVkIiwgZmFsc2UpOw0KICB9KTsNCg0KfSk7"/>
                  <L7p:VariableToSet stringValue="output"/>
                </L7p:SetVariable>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="RIGHT.COMMENT"/>
                      <L7p:value stringValue="//app.js"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
              <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                  <L7p:Expression1 stringValue="${resource}"/>
                  <L7p:Expression2 stringValue="authenticate"/>
                  <L7p:Operator operator="EMPTY"/>
                  <L7p:Predicates predicates="included">
                    <L7p:item binary="included">
                      <L7p:Operator operator="EMPTY"/>
                      <L7p:RightValue stringValue="authenticate"/>
                    </L7p:item>
                  </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="dGV4dC9odG1sO2NoYXJzZXQ9dXRmLTg="/>
                  <L7p:VariableToSet stringValue="content_type"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                  <L7p:Base64Expression stringValue="PCFET0NUWVBFIGh0bWw+DQo8aHRtbD4NCjxoZWFkPg0KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iP3Jlc291cmNlPWJvb3RzdHJhcC5jc3MiLz4NCjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9Ij9yZXNvdXJjZT1wcmV0dGlmeS5jc3MiLz4NCjwvaGVhZD4NCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ij9yZXNvdXJjZT1qcXVlcnkuanMiPjwvc2NyaXB0Pg0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iP3Jlc291cmNlPWJvb3RzdHJhcC5qcyI+PC9zY3JpcHQ+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSI/cmVzb3VyY2U9YXBwLmpzJm92ZXJ3cml0ZT0ke3JlcXVlc3QuaHR0cC5wYXJhbWV0ZXIub3ZlcndyaXRlfSI+PC9zY3JpcHQ+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSI/cmVzb3VyY2U9dmtCZWF1dGlmeS5qcyI+PC9zY3JpcHQ+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSI/cmVzb3VyY2U9cHJldHRpZnkuanMiPjwvc2NyaXB0Pg0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iP3Jlc291cmNlPWJhc2U2NHRvb2xzLmpzIj48L3NjcmlwdD4NCjxoND5QdWJsaXNoIGEgVGVuYW50IEF1dGhlbnRpY2F0aW9uIFNlcnZpY2U8L2g0Pg0KPGZvcm0gYWN0aW9uPSJQb3J0YWxBdXRoIiBtZXRob2Q9IlBPU1QiIGlkPSJwb3J0YWxBdXRoRm9ybSI+DQoJPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ib3ZlcndyaXRlIiB2YWx1ZT0iJHtyZXF1ZXN0Lmh0dHAucGFyYW1ldGVyLm92ZXJ3cml0ZX0iLz4NCgk8dGFibGUgY2xhc3M9InRhYmxlIHRhYmxlLXN0cmlwZWQgdGFibGUtY29uZGVuc2VkIiBib3JkZXI9IjAiIGNlbGxzcGFjaW5nPSIwIiBjZWxscGFkZGluZz0iMCI+DQoJCTx0cj4NCgkJCTx0ZD4NCgkJCQk8IS0tIGZvcm0gdGFibGUgW3N0YXJ0XS0tPg0KCQkJCTx0YWJsZSBjbGFzcz0idGFibGUgdGFibGUtc3RyaXBlZCB0YWJsZS1jb25kZW5zZWQiIGJvcmRlcj0iMCIgY2VsbHNwYWNpbmc9IjAiIGNlbGxwYWRkaW5nPSIwIj4NCgkJCQkJPHRyPg0KCQkJCQkJPHRkPlRlbmFudCBwcmVmaXg8L3RkPg0KCQkJCQkJPHRkPg0KCQkJCQkJCTxpbnB1dCB0eXBlPSJ0ZXh0IiBzdHlsZT0iaGVpZ2h0OjMwcHgiIG5hbWU9InRlbmFudElkIiBpZD0idGVuYW50SWQiICByZXF1aXJlZD0icmVxdWlyZSIvPg0KCQkJCQkJPC90ZD4NCgkJCQkJPC90cj4NCgkJCQkJPHRyPg0KCQkJCQkJPHRkPkF1dGggVHlwZTwvdGQ+DQoJCQkJCQk8dGQ+DQoJCQkJCQkJPHNlbGVjdCBpZD0iYXV0aFR5cGUiPg0KCQkJCQkJCQk8b3B0aW9uPkRCX09OTFk8L29wdGlvbj4NCgkJCQkJCQkJPG9wdGlvbj5MREFQX09OTFk8L29wdGlvbj4NCgkJCQkJCQk8L3NlbGVjdD4NCgkJCQkJCTwvdGQ+DQoJCQkJCQk8dGQgYWxpZ249ImxlZnQiPldlIHdpbGwgb25seSBzdXBwb3J0IERCX09OTFkgaW4gUHJvZHVjdGlvbjwvdGQ+DQoJCQkJCTwvdHI+DQoJCQkJCTx0cj4NCgkJCQkJCTx0ZD5MREFQIFByb3ZpZGVyPC90ZD4NCgkJCQkJCTx0ZD4NCgkJCQkJCQk8c2VsZWN0IGlkPSJsZGFwUHJvdmlkZXIiLz4NCgkJCQkJCTwvdGQ+DQoJCQkJCTwvdHI+DQoJCQkJCTx0cj4NCgkJCQkJCTx0ZD5KREJDIENvbm5lY3Rpb248L3RkPg0KCQkJCQkJPHRkPg0KCQkJCQkJCTxzZWxlY3QgaWQ9ImpkYmNDb25uZWN0aW9uIi8+DQoJCQkJCQk8L3RkPg0KCQkJCQkJPHRkIGFsaWduPSJsZWZ0Ij5UaGlzIHNob3VsZCBoYXZlIHRoZSBUb2tlbiB0YWJsZTwvdGQ+DQoJCQkJCTwvdHI+DQoJCQkJCTx0cj4NCgkJCQkJCTx0ZD5Ub2tlbiBUaW1lb3V0DQoJCQkJCQkJPGJyLz4NCkRlZmF1bHQgaXMgOTAwc2Vjb25kcygxNSBtaW51dGVzKQ0KCQkJCQkJPC90ZD4NCgkJCQkJCTx0ZD4NCgkJCQkJCQk8aW5wdXQgdHlwZT0ibnVtYmVyIiBzdHlsZT0iaGVpZ2h0OjMwcHgiIG5hbWU9InRva2VuVGltZW91dCIgaWQ9InRva2VuVGltZW91dCIgcmVxdWlyZWQ9InJlcXVpcmUiIHZhbHVlPSI5MDAiLz4NCgkJCQkJCTwvdGQ+DQoJCQkJCTwvdHI+DQoJCQkJCTx0cj4NCgkJCQkJCTx0ZD5DYWNoZSBUaW1lb3V0DQoJCQkJCQkJPGJyLz4NCkRlZmF1bHQgaXMgNjBzZWNvbmRzKDEgbWludXRlcykNCg0KCQkJCQkJPC90ZD4NCgkJCQkJCTx0ZD4NCgkJCQkJCQk8aW5wdXQgdHlwZT0ibnVtYmVyIiBzdHlsZT0iaGVpZ2h0OjMwcHgiIG5hbWU9ImNhY2hlVGltZW91dCIgaWQ9ImNhY2hlVGltZW91dCIgcmVxdWlyZWQ9InJlcXVpcmUiIHZhbHVlPSI2MCIvPg0KCQkJCQkJPC90ZD4NCgkJCQkJPC90cj4NCgkJCQkJPHRyPg0KCQkJCQkJPHRkPk1heCBJbnZhbGlkIFBhc3N3b3JkIEF0dGVtcHRzDQoJCQkJCQkJPGJyLz4NCkRlZmF1bHQgaXMgNSBhdHRlbXBzDQoNCgkJCQkJCTwvdGQ+DQoJCQkJCQk8dGQ+DQoJCQkJCQkJPGlucHV0IHR5cGU9Im51bWJlciIgc3R5bGU9ImhlaWdodDozMHB4IiBuYW1lPSJtYXhJbnZhbGlkTG9naW5BdHRlbXB0IiBpZD0ibWF4SW52YWxpZExvZ2luQXR0ZW1wdCIgcmVxdWlyZWQ9InJlcXVpcmUiIHZhbHVlPSI1Ii8+DQoJCQkJCQk8L3RkPg0KCQkJCQk8L3RyPg0KCQkJCQk8dHI+DQoJCQkJCQk8dGQ+UGFzc3dvcmQgUG9saWN5IFJlZ2V4DQoJCQkJCQkJPGJyLz4NCgkJCQkJCTwvdGQ+DQoJCQkJCQk8dGQ+DQoJCQkJCQkJPGlucHV0IHR5cGU9InRleHQiIHN0eWxlPSJoZWlnaHQ6MzBweCIgbmFtZT0icGFzc3dvcmRQb2xpY3kiIGlkPSJwYXNzd29yZFBvbGljeSIgcmVxdWlyZWQ9InJlcXVpcmUiIHZhbHVlPSJeKD89Lns4LDYwfSkoPz0uKltBLVpdKSg/PS4qW2Etel0pKD89LipbMC05XSkoPz0uKlxXKSg/IS4qKC4pXDF7MX0pLiskIi8+DQoJCQkJCQk8L3RkPg0KCQkJCQk8L3RyPg0KCQkJCQk8dHI+DQoJCQkJCQk8dGQgY29sc3Bhbj0iMyI+DQoJCQkJCQkJPGlucHV0IGlkPSJwb3J0YWxBdXRoU3VibWl0IiB0eXBlPSJzdWJtaXQiLz4NCgkJCQkJCTwvdGQ+DQoJCQkJCTwvdHI+DQoJCQkJPC90YWJsZT4NCgkJCQk8IS0tIGZvcm0gdGFibGUgW2VuZF0tLT4NCgkJCTwvdGQ+DQoJCQk8dGQgd2lkdGg9IjUwJSI+DQoJCQkJPGRpdiBpZD0icG9ydGFsQXV0aFJlc3VsdERpdiI+DQoJCQkJCTxwcmUgaWQ9InBvcnRhbEF1dGhSZXN1bHQiIGNsYXNzPSJwcmV0dHlwcmludCBwcmUtc2Nyb2xsYWJsZSIvPg0KCQkJCTwvZGl2Pg0KCQkJPC90ZD4NCgkJPC90cj4NCgk8L3RhYmxlPg0KPC9mb3JtPg0KPHA+PC9wPg0KPGg0PlB1Ymxpc2ggYSBUZW5hbnQgUG9ydGFsIERhdGEgTWFuYWdlbWVudCBTZXJ2aWNlPC9oND4NCjxmb3JtIGFjdGlvbj0iUG9ydGFsTWdtdCIgbWV0aG9kPSJQT1NUIiBpZD0icG9ydGFsTWdtdEZvcm0iPg0KCTxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9Im92ZXJ3cml0ZSIgdmFsdWU9IiR7cmVxdWVzdC5odHRwLnBhcmFtZXRlci5vdmVyd3JpdGV9Ii8+DQoJPHRhYmxlIGNsYXNzPSJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRhYmxlLWNvbmRlbnNlZCIgYm9yZGVyPSIwIiBjZWxsc3BhY2luZz0iMCIgY2VsbHBhZGRpbmc9IjAiPg0KCQk8dHI+DQoJCQk8dGQ+DQoJCQkJPCEtLSBmb3JtIHRhYmxlIFtzdGFydF0tLT4NCgkJCQk8dGFibGUgY2xhc3M9InRhYmxlIHRhYmxlLXN0cmlwZWQgdGFibGUtY29uZGVuc2VkIiBib3JkZXI9IjAiIGNlbGxzcGFjaW5nPSIwIiBjZWxscGFkZGluZz0iMCI+DQoJCQkJCTx0cj4NCgkJCQkJCTx0ZD5UZW5hbnQgcHJlZml4PC90ZD4NCgkJCQkJCTx0ZD4NCgkJCQkJCQk8aW5wdXQgdHlwZT0idGV4dCIgc3R5bGU9ImhlaWdodDozMHB4IiBuYW1lPSJ0ZW5hbnRJZDIiIGlkPSJ0ZW5hbnRJZDIiIHJlcXVpcmVkPSJyZXF1aXJlIi8+DQoJCQkJCQk8L3RkPg0KCQkJCQkJPHRkPjwvdGQ+DQoJCQkJCTwvdHI+DQoJCQkJCTx0cj4NCgkJCQkJCTx0ZD5KREJDIENvbm5lY3Rpb248L3RkPg0KCQkJCQkJPHRkPg0KCQkJCQkJCTxzZWxlY3QgaWQ9ImpkYmNDb25uZWN0aW9uMiI+PC9zZWxlY3Q+DQoJCQkJCQk8L3RkPg0KCQkJCQkJPHRkIGFsaWduPSJsZWZ0Ij5UaGlzIHNob3VsZCBoYXZlIHRoZSBBcGlFdWxhLGV0YyB0YWJsZXM8L3RkPg0KCQkJCQk8L3RyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4NCgkJCQkJCTx0ZD5NZXRyaWNzIEpEQkMgQ29ubmVjdGlvbjwvdGQ+DQoJCQkJCQk8dGQ+DQoJCQkJCQkJPHNlbGVjdCBpZD0ibWV0cmljc0pkYmNDb25uZWN0aW9uIj48L3NlbGVjdD4NCgkJCQkJCTwvdGQ+DQoJCQkJCQk8dGQgYWxpZ249ImxlZnQiPlRoaXMgc2hvdWxkIGhhdmUgdGhlIEFQSV9NRVRSSUNTLHJlZmVyZW5jZSB0YWJsZXMsY3VzdG9tIGVudGl0aWVzPC90ZD4NCgkJCQkJPC90cj4NCgkJCQkJPHRyPg0KCQkJCQkJPHRkPk1hbmFnZWQgR2F0ZXdheSBQb3J0YWxtYW4gVXJsPC90ZD4NCgkJCQkJCTx0ZD4NCgkJCQkJCQk8aW5wdXQgdHlwZT0idGV4dCIgc3R5bGU9ImhlaWdodDozMHB4IiBuYW1lPSJtYW5hZ2VkR2F0ZXdheVVybCIgaWQ9Im1hbmFnZWRHYXRld2F5VXJsIiByZXF1aXJlZD0icmVxdWlyZSIvPg0KCQkJCQkJPC90ZD4NCgkJCQkJCTx0ZCBhbGlnbj0ibGVmdCI+ZXg6aHR0cHM6Ly9TU0c6ODQ0My9wb3J0YWxtYW4vMTwvdGQ+DQoJCQkJCTwvdHI+DQoJCQkJCTx0cj4NCgkJCQkJCTx0ZD5Qcml2YXRlIEtleSBmb3IgdGhlIE1hbmFnZWQgR2F0ZXdheTwvdGQ+DQoJCQkJCQk8dGQ+DQoJCQkJCQkJPHNlbGVjdCBpZD0icHJpdmF0ZUtleSI+PC9zZWxlY3Q+DQoJCQkJCQk8L3RkPg0KCQkJCQkJPHRkIGFsaWduPSJsZWZ0Ij50aGUgcHJpdmF0ZSBrZXkgZnJvbSB0aGUgbWFuYWdlZCBnYXRld2F5IGZvciBtdXR1YWwgYXV0aC4gTWFrZSBzdXJlIHRoYXQgdGhlIGhvc3QgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIFBvcnRhbCBTU0cgYW5kIHRoYXQgdGhlIHByaXZhdGUga2V5IGhhcyBiZWVuIGltcG9ydGVkIGFzIHdlbGwuPC90ZD4NCgkJCQkJPC90cj4NCgkJCQkJPHRyPg0KCQkJCQkJPHRkPlN5bmMgRmxhZyBUaW1lb3V0DQoJCQkJCQk8YnIvPg0KCQkJCQkJRGVmYXVsdCBpcyA2MHNlY29uZHMoMSBtaW51dGUpDQoJCQkJCQk8L3RkPg0KCQkJCQkJPHRkPg0KCQkJCQkJPGlucHV0IHR5cGU9InRleHQiIHN0eWxlPSJoZWlnaHQ6MzBweCIgbmFtZT0ic3luY0ZsYWdUaW1lb3V0IiBpZD0ic3luY0ZsYWdUaW1lb3V0IiByZXF1aXJlZD0icmVxdWlyZSIgdmFsdWU9IjYwIi8+DQoJCQkJCQk8L3RkPg0KCQkJCQkJPHRkIGFsaWduPSJsZWZ0Ij5EZXRlcm1pbmVzIGhvdyBvZnRlbiB3ZSB3YW50IHRvIGZldGNoL3N5bmMgQVBJcyBmcm9tIHRoZSBtYW5hZ2VkIGdhdGV3YXk8L3RkPg0KCQkJCQk8L3RyPg0KCQkJCQk8dHI+DQoJCQkJCQk8dGQ+TWV0YWRhdGEgQ2FjaGUgVGltZW91dA0KCQkJCQkJPGJyLz4NCgkJCQkJCURlZmF1bHQgaXMgMzAwc2Vjb25kcyg1IG1pbnV0ZSkNCgkJCQkJCTwvdGQ+DQoJCQkJCQk8dGQ+DQoJCQkJCQk8aW5wdXQgdHlwZT0idGV4dCIgc3R5bGU9ImhlaWdodDozMHB4IiBuYW1lPSJtZXRhZGF0YUNhY2hlVGltZW91dCIgaWQ9Im1ldGFkYXRhQ2FjaGVUaW1lb3V0IiByZXF1aXJlZD0icmVxdWlyZSIgdmFsdWU9IjMwMCIvPg0KCQkJCQkJPC90ZD4NCgkJCQkJCTx0ZCBhbGlnbj0ibGVmdCI+RGV0ZXJtaW5lcyBob3cgb2Z0ZW4gd2Ugd2FudCB0byByZWFkIHRoZSBkYXRhYmFzZSBmb3IgJG1ldGFkYXRhPC90ZD4NCgkJCQkJPC90cj4NCgkJCQkJPHRyPg0KCQkJCQkJPHRkIGNvbHNwYW49IjMiPg0KCQkJCQkJPGlucHV0IGlkPSJwb3J0YWxEYXRhU3VibWl0IiB0eXBlPSJzdWJtaXQiLz4NCgkJCQkJCTwvdGQ+DQoJCQkJCTwvdHI+DQoJCQkJPC90YWJsZT4NCgkJCQk8IS0tIGZvcm0gdGFibGUgW2VuZF0tLT4NCgkJCTwvdGQ+DQoJCQk8dGQgd2lkdGg9IjUwJSI+DQoJCQkJPGRpdiBpZD0icG9ydGFsTWdtdFJlc3VsdERpdiI+DQoJCQkJPHByZSBpZD0icG9ydGFsTWdtdFJlc3VsdCIgY2xhc3M9InByZXR0eXByaW50IHByZS1zY3JvbGxhYmxlIj48L3ByZT4NCgkJCQk8L2Rpdj4NCgkJCTwvdGQ+DQoJCTwvdHI+DQoJPC90YWJsZT4NCjwvZm9ybT4NCjxwPjwvcD4NCjxoND5QdWJsaXNoIGEgVGVuYW50IFBvcnRhbCBBbmFseXRpY3MvTWV0cmljcyBTZXJ2aWNlPC9oND4NCjxmb3JtIGFjdGlvbj0iUG9ydGFsTWV0cmljcyIgbWV0aG9kPSJQT1NUIiBpZD0icG9ydGFsTWV0cmljc0Zvcm0iPg0KCTxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9Im92ZXJ3cml0ZSIgdmFsdWU9IiR7cmVxdWVzdC5odHRwLnBhcmFtZXRlci5vdmVyd3JpdGV9Ii8+DQoJPHRhYmxlIGNsYXNzPSJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRhYmxlLWNvbmRlbnNlZCIgYm9yZGVyPSIwIiBjZWxsc3BhY2luZz0iMCIgY2VsbHBhZGRpbmc9IjAiPg0KCQk8dHI+DQoJCQk8dGQ+DQoJCQkJPCEtLSBmb3JtIHRhYmxlIFtzdGFydF0tLT4NCgkJCQk8dGFibGUgY2xhc3M9InRhYmxlIHRhYmxlLXN0cmlwZWQgdGFibGUtY29uZGVuc2VkIiBib3JkZXI9IjAiIGNlbGxzcGFjaW5nPSIwIiBjZWxscGFkZGluZz0iMCI+DQoJCQkJCTx0cj4NCgkJCQkJCTx0ZD5UZW5hbnQgcHJlZml4PC90ZD4NCgkJCQkJCTx0ZD4NCgkJCQkJCQk8aW5wdXQgdHlwZT0idGV4dCIgc3R5bGU9ImhlaWdodDozMHB4IiBuYW1lPSJ0ZW5hbnRJZDIiIGlkPSJ0ZW5hbnRJZDMiIHJlcXVpcmVkPSJyZXF1aXJlIi8+DQoJCQkJCQk8L3RkPg0KCQkJCQkJPHRkPjwvdGQ+DQoJCQkJCTwvdHI+DQoJCQkJCTx0cj4NCgkJCQkJCTx0ZD5KREJDIENvbm5lY3Rpb248L3RkPg0KCQkJCQkJPHRkPg0KCQkJCQkJCTxzZWxlY3QgaWQ9ImpkYmNDb25uZWN0aW9uMyI+PC9zZWxlY3Q+DQoJCQkJCQk8L3RkPg0KCQkJCQkJPHRkIGFsaWduPSJsZWZ0Ij5UaGlzIHNob3VsZCBoYXZlIHRoZSBBUElfTUVUUklDUywgUkVGIHRhYmxlczwvdGQ+DQoJCQkJCTwvdHI+CQkJCQkNCgkJCQkJPHRyPg0KCQkJCQkJPHRkIGNvbHNwYW49IjMiPg0KCQkJCQkJPGlucHV0IGlkPSJwb3J0YWxNZXRyaWNzU3VibWl0IiB0eXBlPSJzdWJtaXQiLz4NCgkJCQkJCTwvdGQ+DQoJCQkJCTwvdHI+DQoJCQkJPC90YWJsZT4NCgkJCQk8IS0tIGZvcm0gdGFibGUgW2VuZF0tLT4NCgkJCTwvdGQ+DQoJCQk8dGQgd2lkdGg9IjUwJSI+DQoJCQkJPGRpdiBpZD0icG9ydGFsTWV0cmljc1Jlc3VsdERpdiI+DQoJCQkJPHByZSBpZD0icG9ydGFsTWV0cmljc1Jlc3VsdCIgY2xhc3M9InByZXR0eXByaW50IHByZS1zY3JvbGxhYmxlIj48L3ByZT4NCgkJCQk8L2Rpdj4NCgkJCTwvdGQ+DQoJCTwvdHI+DQoJPC90YWJsZT4NCjwvZm9ybT4NCjwvZm9ybT4NCjwvaHRtbD4="/>
                  <L7p:VariableToSet stringValue="output"/>
                </L7p:SetVariable>
                <L7p:assertionComment>
                  <L7p:Properties mapValue="included">
                    <L7p:entry>
                      <L7p:key stringValue="RIGHT.COMMENT"/>
                      <L7p:value stringValue="//main page"/>
                    </L7p:entry>
                  </L7p:Properties>
                </L7p:assertionComment>
              </wsp:All>
            </wsp:OneOrMore>
            <L7p:assertionComment>
              <L7p:Properties mapValue="included">
                <L7p:entry>
                  <L7p:key stringValue="LEFT.COMMENT"/>
                  <L7p:value stringValue="forms()"/>
                </L7p:entry>
                <L7p:entry>
                  <L7p:key stringValue="RIGHT.COMMENT"/>
                  <L7p:value stringValue="//This Index section is for TESTING ONLY, SHOULD BE DELETED IN A PRODUCTION SYSTEM!!!"/>
                </L7p:entry>
              </L7p:Properties>
            </L7p:assertionComment>
          </wsp:All>
          <wsp:All wsp:Usage="Required">
            <L7p:ComparisonAssertion>
              <L7p:AssertionComment assertionComment="included">
                <L7p:Properties mapValue="included">
                  <L7p:entry>
                    <L7p:key stringValue="RIGHT.COMMENT"/>
                    <L7p:value stringValue="//skip if there's alreay an error"/>
                  </L7p:entry>
                </L7p:Properties>
              </L7p:AssertionComment>
              <L7p:CaseSensitive booleanValue="false"/>
              <L7p:Expression1 stringValue="${errorCode}"/>
              <L7p:Operator operatorNull="null"/>
              <L7p:Predicates predicates="included">
                <L7p:item dataType="included">
                  <L7p:Type variableDataType="string"/>
                </L7p:item>
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="0"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:ComparisonAssertion>
              <L7p:CaseSensitive booleanValue="false"/>
              <L7p:Expression1 stringValue="${mode}"/>
              <L7p:Expression2 stringValue="testerror"/>
              <L7p:Predicates predicates="included">
                <L7p:item binary="included">
                  <L7p:CaseSensitive booleanValue="false"/>
                  <L7p:RightValue stringValue="testerror"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:SetVariable>
              <L7p:Base64Expression stringValue="VW5zdXBwb3J0ZWQgT3BlcmF0aW9u"/>
              <L7p:VariableToSet stringValue="errorMsg"/>
            </L7p:SetVariable>
            <L7p:SetVariable>
              <L7p:Base64Expression stringValue="NTAw"/>
              <L7p:VariableToSet stringValue="errorCode"/>
            </L7p:SetVariable>
            <L7p:assertionComment>
              <L7p:Properties mapValue="included">
                <L7p:entry>
                  <L7p:key stringValue="LEFT.COMMENT"/>
                  <L7p:value stringValue="else"/>
                </L7p:entry>
                <L7p:entry>
                  <L7p:key stringValue="RIGHT.COMMENT"/>
                  <L7p:value stringValue="//catch condition for Unknown or Unsupported Operation"/>
                </L7p:entry>
              </L7p:Properties>
            </L7p:assertionComment>
          </wsp:All>
          <wsp:All wsp:Usage="Required">
            <L7p:ComparisonAssertion>
              <L7p:AssertionComment assertionComment="included">
                <L7p:Properties mapValue="included">
                  <L7p:entry>
                    <L7p:key stringValue="RIGHT.COMMENT"/>
                    <L7p:value stringValue="//skip if there's alreay an error"/>
                  </L7p:entry>
                </L7p:Properties>
              </L7p:AssertionComment>
              <L7p:CaseSensitive booleanValue="false"/>
              <L7p:Expression1 stringValue="${errorCode}"/>
              <L7p:Operator operatorNull="null"/>
              <L7p:Predicates predicates="included">
                <L7p:item dataType="included">
                  <L7p:Type variableDataType="string"/>
                </L7p:item>
                <L7p:item binary="included">
                  <L7p:RightValue stringValue="0"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:ComparisonAssertion>
              <L7p:Expression1 stringValue="${mode}"/>
              <L7p:Expression2 stringValue="authenticate"/>
              <L7p:Negate booleanValue="true"/>
              <L7p:Operator operator="EMPTY"/>
              <L7p:Predicates predicates="included">
                <L7p:item binary="included">
                  <L7p:Negated booleanValue="true"/>
                  <L7p:Operator operator="EMPTY"/>
                  <L7p:RightValue stringValue="authenticate"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:ComparisonAssertion>
              <L7p:Expression1 stringValue="${entity_type}"/>
              <L7p:Expression2 stringValue="authenticate"/>
              <L7p:Operator operator="EMPTY"/>
              <L7p:Predicates predicates="included">
                <L7p:item binary="included">
                  <L7p:Operator operator="EMPTY"/>
                  <L7p:RightValue stringValue="authenticate"/>
                </L7p:item>
              </L7p:Predicates>
            </L7p:ComparisonAssertion>
            <L7p:SetVariable>
              <L7p:Base64Expression stringValue="YXBwbGljYXRpb24veG1sO2NoYXJzZXQ9dXRmLTg="/>
              <L7p:VariableToSet stringValue="content_type"/>
            </L7p:SetVariable>
            <L7p:SetVariable>
              <L7p:Base64Expression stringValue="NDA0"/>
              <L7p:VariableToSet stringValue="httpStatusCode"/>
            </L7p:SetVariable>
            <L7p:SetVariable>
              <L7p:Base64Expression stringValue="PGVycm9yIHhtbG5zPSJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL2Fkby8yMDA3LzA4L2RhdGFzZXJ2aWNlcy9tZXRhZGF0YSI+DQo8Y29kZT5Ob3RGb3VuZEV4Y2VwdGlvbjwvY29kZT4NCjxtZXNzYWdlIGxhbmc9ImVuLVVTIj5Ob3QgRm91bmQ8L21lc3NhZ2U+DQo8L2Vycm9yPg=="/>
              <L7p:VariableToSet stringValue="output"/>
            </L7p:SetVariable>
            <L7p:assertionComment>
              <L7p:Properties mapValue="included">
                <L7p:entry>
                  <L7p:key stringValue="LEFT.COMMENT"/>
                  <L7p:value stringValue="NotFound()"/>
                </L7p:entry>
              </L7p:Properties>
            </L7p:assertionComment>
          </wsp:All>
          <L7p:TrueAssertion/>
          <L7p:assertionComment>
            <L7p:Properties mapValue="included">
              <L7p:entry>
                <L7p:key stringValue="LEFT.COMMENT"/>
                <L7p:value stringValue="main()"/>
              </L7p:entry>
            </L7p:Properties>
          </L7p:assertionComment>
        </wsp:OneOrMore>
      </wsp:All>
      <wsp:All wsp:Usage="Required">
        <L7p:SetVariable>
          <L7p:Base64Expression stringValue="NTAz"/>
          <L7p:VariableToSet stringValue="errorCode"/>
        </L7p:SetVariable>
        <L7p:SetVariable>
          <L7p:Base64Expression stringValue="U2VydmljZSBVbmF2YWlsYWJsZQ=="/>
          <L7p:VariableToSet stringValue="errorMsg"/>
        </L7p:SetVariable>
      </wsp:All>
    </wsp:OneOrMore>
    <L7p:SetVariable>
      <L7p:AssertionComment assertionComment="included">
        <L7p:Properties mapValue="included">
          <L7p:entry>
            <L7p:key stringValue="LEFT.COMMENT"/>
            <L7p:value stringValue="Restore original request"/>
          </L7p:entry>
        </L7p:Properties>
      </L7p:AssertionComment>
      <L7p:Base64Expression stringValue="JHtyZXF1ZXN0T3JpZ2luYWwubWFpbnBhcnR9"/>
      <L7p:ContentType stringValue="text/xml; charset=utf-8"/>
      <L7p:DataType variableDataType="message"/>
      <L7p:VariableToSet stringValue="request"/>
    </L7p:SetVariable>
    <wsp:OneOrMore wsp:Usage="Required">
      <wsp:All wsp:Usage="Required">
        <wsp:OneOrMore wsp:Usage="Required">
          <L7p:ComparisonAssertion>
            <L7p:CaseSensitive booleanValue="false"/>
            <L7p:Expression1 stringValue="${errorCode}"/>
            <L7p:Operator operatorNull="null"/>
            <L7p:Predicates predicates="included">
              <L7p:item dataType="included">
                <L7p:Type variableDataType="string"/>
              </L7p:item>
              <L7p:item binary="included">
                <L7p:RightValue stringValue="0"/>
              </L7p:item>
            </L7p:Predicates>
          </L7p:ComparisonAssertion>
          <L7p:ComparisonAssertion>
            <L7p:CaseSensitive booleanValue="false"/>
            <L7p:Expression1 stringValue="${errorCode}"/>
            <L7p:Operator operatorNull="null"/>
            <L7p:Predicates predicates="included">
              <L7p:item dataType="included">
                <L7p:Type variableDataType="string"/>
              </L7p:item>
              <L7p:item binary="included">
                <L7p:RightValue stringValue="200"/>
              </L7p:item>
            </L7p:Predicates>
          </L7p:ComparisonAssertion>
        </wsp:OneOrMore>
        <L7p:HardcodedResponse>
          <L7p:Base64ResponseBody stringValue="JHtvdXRwdXR9"/>
          <L7p:ResponseContentType stringValue="${content_type}"/>
          <L7p:ResponseStatus stringValue="${httpStatusCode}"/>
        </L7p:HardcodedResponse>
        <L7p:assertionComment>
          <L7p:Properties mapValue="included">
            <L7p:entry>
              <L7p:key stringValue="LEFT.COMMENT"/>
              <L7p:value stringValue="if (success path)"/>
            </L7p:entry>
            <L7p:entry>
              <L7p:key stringValue="RIGHT.COMMENT"/>
              <L7p:value stringValue="// Return response"/>
            </L7p:entry>
          </L7p:Properties>
        </L7p:assertionComment>
      </wsp:All>
      <wsp:All wsp:Usage="Required">
        <L7p:CustomizeErrorResponse>
          <L7p:Content stringValue="&lt;error xmlns=&quot;http://schemas.microsoft.com/ado/2007/08/dataservices/metadata&quot;>&lt;code>${errorCode}&lt;/code>&lt;message lang=&quot;en-US&quot;>${errorMsg}&lt;/message>&lt;l7>&lt;Method>${operation}&lt;/Method>&lt;Resource>${request.http.uri}&lt;/Resource>&lt;ResourceId>${entity_id}&lt;/ResourceId>&lt;Timestamp>${gateway.time}&lt;/Timestamp>&lt;/l7>&lt;/error>"/>
          <L7p:ContentType stringValue="text/xml; charset=UTF-8"/>
          <L7p:ExtraHeaders nameValuePairArray="included"/>
          <L7p:HttpStatus stringValue="${errorCode}"/>
        </L7p:CustomizeErrorResponse>
        <L7p:FalseAssertion/>
        <L7p:assertionComment>
          <L7p:Properties mapValue="included">
            <L7p:entry>
              <L7p:key stringValue="LEFT.COMMENT"/>
              <L7p:value stringValue="Else (error)"/>
            </L7p:entry>
            <L7p:entry>
              <L7p:key stringValue="RIGHT.COMMENT"/>
              <L7p:value stringValue="// Return error, falsify policy"/>
            </L7p:entry>
          </L7p:Properties>
        </L7p:assertionComment>
      </wsp:All>
    </wsp:OneOrMore>
  </wsp:All>
</wsp:Policy>