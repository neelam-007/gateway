<div>
    <h2>Migration</h2>
    <p>The migration APIs allow you to move folders, services and policies from one gateway to another, including all dependent resources.</p>
    <p>The following is an overview of the migration workflow:</p>
    <ul>
        <li>Export a bundle from the source Gateway.</li>
        <li>Map entities as required.</li>
        <li>Import the bundle into the target Gateway.</li>
    </ul>
    <h3>Exporting a bundle</h3>
    <p>Send the following request to export a bundle.</p>
    <table cellpadding="0" cellspacing="0" class="api-example"> 
        <caption>Bundle Export Example</caption>
        <tbody>
        <tr><td></td><td></td></tr>
        <tr><td colspan="2">Request</td>
        </tr>
        <tr>
            <td>Uri</td>
            <td><div class="code">https://$#{host}:$#{port}/$#{service-url}/1.0/bundle?[folder|service|policy]={id}</div></td>
        </tr>
        <tr><td>Http Method</td>
            <td>GET</td>
        </tr>
        <tr><td colspan="2">Response</td></tr>
        <tr>
            <td>Http Status</td>
            <td>200</td>
        </tr>
        <tr>
            <td>Message Body</td>
            <td><div class="code">
				<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;l7:Item xmlns:l7=&quot;http://ns.l7tech.com/2010/04/gateway-management&quot;&gt;
    &lt;l7:Name&gt;Bundle&lt;/l7:Name&gt;
    &lt;l7:Type&gt;BUNDLE&lt;/l7:Type&gt;
    &lt;l7:TimeStamp&gt;2014-01-13T11:43:01.482-08:00&lt;/l7:TimeStamp&gt;
    &lt;l7:Link/&gt; &lt;!-- This will contain the link used to generate this bundle. --&gt;
    ...
    &lt;l7:Resource&gt;
        &lt;l7:Bundle&gt; &lt;!-- The bundle object --&gt;
            &lt;l7:References&gt; &lt;!-- This is the list of entities that are in the bundle.
                &lt;l7:Item /&gt;
                ...
            &lt;/l7:References&gt;
            &lt;l7:Mappings&gt;
                &lt;!-- This is the list of mappings. It describes how to create the entity on import. The must be
                one mapping for every entity. A mapping may not reference a resource in the bundle if it will not be
                migrated. They are in the order they should be created in so to avoid any dependency issues.--&gt;
                &lt;l7:Mapping /&gt;
                ...
            &lt;/l7:Mappings&gt;
        &lt;/l7:Bundle&gt;
    &lt;/l7:Resource&gt;
&lt;/l7:Item&gt;
				</pre></div>
            </td>
        </tr>
        </tbody>
    </table>
    <p>The request URI contains query parameters of the folders, services or policies to export, specified by their ids.</p>
    <p>For example:</p>
    <p class="code indent">https://$#{host}:$#{port}/$#{service-url}/1.0/bundle?folder=888&service=123&service=567</p>
    <p>The above URI will bundle folder with id 888, and services with id 123 and 456.</p>
    <h3>Importing a bundle</h3>
    <p>To import a bundle send a PUT request with the same bundle XML to https://$#{host}:$#{port}/$#{service-url}/1.0/bundle</p>
    <table cellpadding="0" cellspacing="0" class="api-example"> 
        <caption>Import Bundle Example</caption>
        <tbody>
        <tr><td></td><td></td></tr>
        <tr><td colspan="2">Request</td>
        </tr>
        <tr>
            <td>Uri</td>
            <td><div class="code">https://$#{host}:$#{port}/$#{service-url}/1.0/bundle</div></td>
        </tr>
        <tr>
            <td>Http Method</td>
            <td>PUT</td>
        </tr>
        <tr>
            <td>Content-Type</td>
            <td>application/xml</td>
        </tr>
        <tr>
            <td>Message Body</td>
            <td><div class="code">
				<pre>
&lt;l7:Bundle xmlns:l7=&quot;http://ns.l7tech.com/2010/04/gateway-management&quot;&gt; &lt;!-- The bundle object --&gt;
    &lt;l7:References&gt; &lt;!-- This is the list of entities that are in the bundle.
        &lt;l7:Item /&gt;
        ...
    &lt;/l7:References&gt;
    &lt;l7:Mappings&gt;
                    &lt;!-- This is the list of mappings. It describes how to create the entity on import. The must be
                    one mapping for every entity. A mapping may not reference a resource in the bundle if it will not be
                    migrated. They are in the order they should be created in so to avoid any dependency issues.--&gt;
        &lt;l7:Mapping /&gt;
        ...
    &lt;/l7:Mappings&gt;
&lt;/l7:Bundle&gt;
				</pre></div>
            </td>
        </tr>
        <tr><td colspan="2">Response</td></tr>
        <tr>
            <td>Http Status</td>
            <td>200</td>
        </tr>
        <tr>
            <td>Message Body</td>
            <td><div class="code">
				<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;l7:Item xmlns:l7=&quot;http://ns.l7tech.com/2010/04/gateway-management&quot;&gt;
    &lt;l7:Name&gt;Bundle mappings&lt;/l7:Name&gt;
    &lt;l7:Type&gt;BUNDLE MAPPINGS&lt;/l7:Type&gt;
    &lt;l7:TimeStamp&gt;2014-04-01T15:20:04.222-07:00&lt;/l7:TimeStamp&gt;
    &lt;l7:Link rel=&quot;self&quot; uri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/bundle&quot;/&gt;
    &lt;l7:Resource&gt;
        &lt;l7:Mappings&gt;
            &lt;l7:Mapping /&gt;
            ...
        &lt;/l7:Mappings&gt;
    &lt;/l7:Resource&gt;
&lt;/l7:Item&gt;
				</pre></div>
            </td>
        </tr>
        </tbody>
    </table>
    <p>The response will contain a list of mappings describing the actions that were performed during the bundle import. If bundle import failed for any reason, the mappings will describe the errors.</p>
    <h3>Mapping</h3>
    <h4>Mapping Attributes</h4>
    <p>The mapping section in a bundle describes how to import the entities listed in the resource section when the bundle is imported. Default mappings are automatically created when the bundle is exported. The mapping section has the following attributes:</p>
    <table class="properties-table" cellpadding="0" cellspacing="0">
        <tr><td>type</td><td>Type of entity being mapped</td></tr>
        <tr><td>scrId</td><td>Source ID of the service being mapping; this normally references an entity in the bundle resources section</td></tr>
        <tr><td>srcUri</td><td>Source URI to retrieve the entity from the gateway</td></tr>
        <tr><td>targetId</td><td>During bundle import, this ID instructs the importer to map this entity with the given target ID. The bundle importer will return a list of the mappings that were made (i.e., ID of the entity that was mapped or created on the target Gateway during import).</td></tr>
        <tr><td>targetUri</td><td>Target uri of the entity that was mapped or created.</td></tr>
        <tr><td>action</td>
            <td>The possible mapping actions are as follows:
                <table class="properties-table" cellpadding="0" cellspacing="0">
                    <tr><td>NewOrExisting</td><td>If an existing entity is found on the target Gateway, map to this existing entity (no update occurs). If an existing entity is not found, then create a new one on the target Gateway.</td></tr>
                    <tr><td>NewOrUpdate</td><td>If an existing entity is found on the target Gateway, map to this existing entity and update it using information from the bundle. If an existing entity is not found, then create a new one on the target Gateway.</td></tr>
                    <tr><td>AlwaysCreateNew</td><td>If an existing entity is found on the target Gateway, then create a new one with a different ID. If an existing entity is not found, then create a new one with the source ID.</td></tr>
                    <tr><td>Ignore</td><td>Ignore this entity and do not import it.</td></tr>
                </table>
            </td>
        </tr>
        <tr><td>actionTaken</td>
            <td>This is the action that was taken during the import. This attribute is only returned by the bundle import results. The possible actions are as follows:
                <table class="properties-table" cellpadding="0" cellspacing="0">
                    <tr><td>UsedExisting</td><td>The entity was mapped to an existing entity on the target gateway. The target entity was not updated.</td></tr>
                    <tr><td>UpdatedExisting</td><td>The entity was mapped to an existing entity on the target gateway and the target entity was updated.</td></tr>
                    <tr><td>CreatedNew</td><td>A new entity was created on the target gateway.</td></tr>
                    <tr><td>Ignored</td><td>The entity was ignored and not imported.</td></tr>
                </table>
            </td>
        </tr>
        <tr><td>errorType</td>
            <td>This is set if there was an error attempting to import the entity. The possible errors are as follows:
                <table class="properties-table" cellpadding="0" cellspacing="0">
                    <tr><td>TargetExists</td><td>A new entity was supposed to be created but an entity already exists on the target gateway. See the <a href="#failonexisting">FailOnExisting</a> property.</td></tr>
                    <tr><td>TargetNotFound</td><td>An existing entity should exist on the target gateway but it cannot be found. See the <a href="#failonnew">FailOnNew</a> property.</td></tr>
                    <tr><td>UniqueKeyConflict</td><td>There is an entity on the target gateway with a conflicting unique key (usually name) as the one that is being created or updated.</td></tr>
                    <tr><td>CannotReplaceDependency</td><td>An error occurred when replacing an entity's dependencies.</td></tr>
                    <tr><td>InvalidResource</td><td>A problem occurred when updating an entity.</td></tr>
                </table>
            </td>
        </tr>
    </table>
    <h4>Simple Mapping Examples</h4>
    <h5>NewOrExisting</h5>
    <p>This will create a new entity or reuse an existing one:</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;NewOrExisting&quot; /&gt;
        </pre>
    </div>
    <h6>Possible Responses</h6>
    <p>An entity with the same ID exists on the target gateway and this existing entity was used:</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;NewOrExisting&quot;
    actionTaken=&quot;UsedExisting&quot;
    targetId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    targetUri=&quot;https://ssgtarget/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot; /&gt;
        </pre>
    </div>
    <p>An entity with the same ID does NOT exist on the target gateway and a new entity with the specified ID was created:</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;NewOrExisting&quot;
    actionTaken=&quot;CreatedNew&quot;
    targetId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    targetUri=&quot;https://ssgtarget/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot; /&gt;
        </pre>
    </div>
    <p>An entity with the same ID does NOT exist on the target gateway but one with a conflicting unique key was present instead, resulting in a 409 error response:</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;NewOrExisting&quot;
    errorType=&quot;UniqueKeyConflict&quot; &gt;
        &lt;l7:Properties&gt;
            &lt;l7:Property key="ErrorMessage"&gt;
                &lt;l7:StringValue&gt;(name)  must be unique&lt;/l7:StringValue&gt;
        &lt;/l7:Property&gt;
&lt;/l7:Mapping&gt;
        </pre>
    </div>
    <h5>NewOrUpdate</h5>
    <p>This will create a new entity or update an existing one:</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;NewOrUpdate&quot; /&gt;
        </pre>
    </div>
    <h6>Possible Responses</h6>
    <p>An entity with the same ID exists on the target gateway. This entity has been updated using the entity in the import bundle:</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;NewOrUpdate&quot;
    actionTaken=&quot;UpdatedExisting&quot;
    targetId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    targetUri=&quot;https://ssgtarget/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot; /&gt;
        </pre>
    </div>
    <p>An entity with the same ID does NOT exist on the target gateway and a new entity with the ID specified was created:</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;NewOrUpdate&quot;
    actionTaken=&quot;CreatedNew&quot;
    targetId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    targetUri=&quot;https://ssgtarget/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot; /&gt;
        </pre>
    </div>
    <p>An entity with the same ID does NOT exist on the target Gateway, but an entity with a conflicting unique key is present instead. Alternatively, an entity with the same ID exists, but unique key errors occurred when updating it, resulting in a 409 error response:</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;NewOrUpdate&quot;
    errorType=&quot;UniqueKeyConflict&quot; &gt;
        &lt;l7:Properties&gt;
            &lt;l7:Property key="ErrorMessage"&gt;
                &lt;l7:StringValue&gt;(name)  must be unique&lt;/l7:StringValue&gt;
        &lt;/l7:Property&gt;
&lt;/l7:Mapping&gt;
        </pre>
    </div>
    <h5>AlwaysCreateNew</h5>
    <p>This will create a new entity:</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;AlwaysCreateNew&quot; /&gt;
        </pre>
    </div>
    <h6>Possible Responses</h6>
    <p>An entity with the same ID exists on the target gateway, resulting in a new entity with a new ID being created on the target Gateway.</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;AlwaysCreateNew&quot;
    actionTaken=&quot;CreatedNew&quot;
    targetId=&quot;8756846868e6eb676bf4ed8a9bfba04b&quot;
    targetUri=&quot;https://ssgtarget/restman/1.0/policies/8756846868e6eb676bf4ed8a9bfba04b&quot; /&gt;
        </pre>
    </div>
    <p>An entity with the same ID does NOT exist on the target gateway, resulting in a new entity being created with the specified ID.</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;AlwaysCreateNew&quot;
    actionTaken=&quot;CreatedNew&quot;
    targetId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    targetUri=&quot;https://ssgtarget/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot; /&gt;
        </pre>
    </div>
    <p>The entity created has unique key conflicts with an entity on the gateway, resulting in a 409 error response::</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;AlwaysCreateNew&quot;
    errorType=&quot;UniqueKeyConflict&quot; &gt;
        &lt;l7:Properties&gt;
            &lt;l7:Property key="ErrorMessage"&gt;
                &lt;l7:StringValue&gt;(name)  must be unique&lt;/l7:StringValue&gt;
        &lt;/l7:Property&gt;
&lt;/l7:Mapping&gt;
        </pre>
    </div>
    <h5>Ignore</h5>
    <p>This will ignore the entity. No attempt will be made to import the entity.</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;Ignore&quot; /&gt;
        </pre>
    </div>
    <h6>Possible Responses</h6>
    <p>There is only one possible response</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    actionTaken=&quot;Ignored&quot; /&gt;
        </pre>
    </div>
    <h4>Mapping Properties</h4>
    <p>A mapping can also have properties specified. Properties are specified as a key value map. The currently supported properties are:</p>
    <table class="properties-table" cellpadding="0" cellspacing="0">
        <tr><td><a class="anchor" id="failonexisting">NewOrExisting</a>FailOnExisting</td><td>This is a boolean property that can be applied to any mapping type. If true it will fail with a 409 if an entity with the same id exists on the target. The possible values are 'true' or 'false'. If this is not specified false is assumed. Example Failure response:
            <div class="code"><pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    errorType=&quot;TargetExists&quot; /&gt;
            </pre></div>
        </td></tr>
        <tr><td><a class="anchor" id="failonnew">FailOnNew</a>FailOnNew</td><td>This is a boolean property that can be applied to any mapping type. If true it will fail with a 409 if an entity with the same id DOES NOT EXIST on the target. The possible values are 'true' or 'false'. If this is not specified false is assumed. Example Failure response:
            <div class="code"><pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    errorType=&quot;TargetNotFound&quot; /&gt;
            </pre></div>
        </td></tr>
        <tr><td>MapBy</td><td>This can specify the unique key to map the target by. The possible values are 'name'. If this is not specified mapping is done by the id.</td></tr>
        <tr><td>MapTo</td><td>This allow mapping to a different entity. The default it to map to an entity on the target with the same mapTo property. This is only used with the mapBy property.</td></tr>
    </table>
    <h4>Complex Mapping Examples</h4>
    <h5>Mapping by Name</h5>
    <p>Map a policy to a policy on the target gateway with the same name.</p>
    <div class="code">
        <pre>
&lt;l7:mapping
     type=&quot;POLICY&quot;
     srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
     srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
     action=&quot;NewOrUpdate&quot; &gt;
    &lt;l7:property key=&quot;mapBy&quot; value=&quot;name&quot; /&gt;
&lt;/l7:mapping&gt;
        </pre>
    </div>
    <h6>Possible Responses</h6>
    <p>If an entity with the same Name DOES NOT exist on the target gateway this will create a new entity with the ID specified.</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;NewOrUpdate&quot; &gt;
    actionTaken=&quot;CreatedNew&quot;
    targetId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    targetUri=&quot;https://ssgtarget/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot; &gt;
    &lt;l7:property key=&quot;mapBy&quot; value=&quot;name&quot; /&gt;
&lt;/l7:mapping&gt;
        </pre>
    </div>
    <p>If an entity with the same Name exist on the target gateway this will update the entity.</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;NewOrUpdate&quot; &gt;
    actionTaken=&quot;UpdatedExisting&quot;
    targetId=&quot;8756846868e6eb676bf4ed8a9bfba04b&quot;
    targetUri=&quot;https://ssgtarget/restman/1.0/policies/8756846868e6eb676bf4ed8a9bfba04b&quot; &gt;
    &lt;l7:property key=&quot;mapBy&quot; value=&quot;name&quot; /&gt;
&lt;/l7:mapping&gt;
        </pre>
    </div>
    <p>If an entity with the same Name DOES NOT exist on the target gateway but one with the same id does, this will fail.</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;NewOrUpdate&quot; &gt;
    errorType=&quot;UniqueKeyConflict&quot;
    targetId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot; &gt;
    &lt;l7:Properties&gt;
        &lt;l7:Property key=&quot;ErrorMessage&quot;&gt;
            &lt;l7:StringValue&gt;Other entity exists with the given id: 97cd0afb295cd2d823d0fdd43e720bbc&lt;/l7:StringValue&gt;
        &lt;/l7:Property&gt;
        &lt;l7:Property key=&quot;MapBy&quot;&gt;
            &lt;l7:StringValue&gt;name&lt;/l7:StringValue&gt;
        &lt;/l7:Property&gt;
    &lt;/l7:Properties&gt;
&lt;/l7:Mapping&gt;
        </pre>
    </div>
    <h5>Mapping by Name to a Specific Entity</h5>
    <p>Map a service to a service on the target gateway with a specific name.</p>
    <div class="code">
        <pre>
&lt;l7:mapping
     type=&quot;POLICY&quot;
     srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
     srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
     action=&quot;NewOrExisting&quot; &gt;
    &lt;l7:property key=&quot;MapBy&quot; value=&quot;name&quot; /&gt;
    &lt;l7:property key=&quot;MapTo&quot; value=&quot;MyTargetService&quot; /&gt;
&lt;/l7:mapping&gt;
        </pre>
    </div>
    <h6>Possible Responses</h6>
    <p>If an entity with the target name DOES NOT exist on the target gateway this will create a new entity with the ID specified, and the mapTo name ("MyTargetService").</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;NewOrExisting&quot;
    actionTaken=&quot;CreatedNew&quot;
    targetId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    targetUri=&quot;https://ssgtarget/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot; &gt;
    &lt;l7:property key=&quot;MapBy&quot; value=&quot;name&quot; /&gt;
    &lt;l7:property key=&quot;MapTo&quot; value=&quot;MyTargetService&quot; /&gt;
&lt;/l7:mapping&gt;
        </pre>
    </div>
    <p>If an entity with the target name exist on the target gateway this will do nothing, used the existing service.</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;NewOrExisting&quot;
    actionTaken=&quot;UsedExisting&quot;
    targetId=&quot;8756846868e6eb676bf4ed8a9bfba04b&quot;
    targetUri=&quot;https://ssgtarget/restman/1.0/policies/8756846868e6eb676bf4ed8a9bfba04b&quot; &gt;
    &lt;l7:property key=&quot;MapBy&quot; value=&quot;name&quot; /&gt;
    &lt;l7:property key=&quot;MapTo&quot; value=&quot;MyTargetService&quot; /&gt;
&lt;/l7:mapping&gt;
        </pre>
    </div>
    <p>If an entity with the target name DOES NOT exist on the target gateway but one with the same id does, this will fail.</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;NewOrExisting&quot;
    errorType=&quot;UniqueKeyConflict&quot;
    targetId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    targetUri=&quot;https://ssgtarget/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot; &gt;
    &lt;l7:Property key=&quot;ErrorMessage&quot;&gt;
        &lt;l7:StringValue&gt;Other entity exists with the given id: 7d428d5529fece370bc3cb5b44027ba0&lt;/l7:StringValue&gt;
    &lt;/l7:Property&gt;
    &lt;l7:property key=&quot;MapBy&quot; value=&quot;name&quot; /&gt;
    &lt;l7:property key=&quot;MapTo&quot; value=&quot;MyTargetService&quot; /&gt;
&lt;/l7:mapping&gt;
        </pre>
    </div>
    <h5>Mapping by ID where Entity Must Exist on the Target</h5>
    <p>Map a service to a service on the target gateway. The service must exist on the target gateway.</p>
    <div class="code">
        <pre>
&lt;l7:mapping
     type=&quot;POLICY&quot;
     srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
     srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
     action=&quot;NewOrExisting&quot; &gt;
    &lt;l7:property key=&quot;FailOnNew&quot; value=&quot;true&quot; /&gt;
&lt;/l7:mapping&gt;
        </pre>
    </div>
    <h6>Possible Responses</h6>
    <p>If an entity with the same ID DOES NOT exist on the target gateway this will fail.</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;NewOrExisting&quot;
    errorType=&quot;TargetNotFound&quot; &gt;
    &lt;l7:property key=&quot;FailOnNew&quot; value=&quot;true&quot; /&gt;
&lt;/l7:mapping&gt;
        </pre>
    </div>
    <p>If an entity with the same ID exist on the target gateway this will do nothing, used the existing service.</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    action=&quot;NewOrExisting&quot;
    actionTaken=&quot;UsedExisting&quot;
    targetId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    targetUri=&quot;https://ssgtarget/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot; &gt;
    &lt;l7:property key=&quot;FailOnNew&quot; value=&quot;true&quot; /&gt;
&lt;/l7:mapping&gt;
        </pre>
    </div>

    <h5>Mapping by Name to Specific Entity Do Not Fail on ID Clash </h5>
    <p>Map a service to a service on the target gateway with a specific name. Do not fail if a service with the same id exists on the target gateway.</p>
    <div class="code">
        <pre>
&lt;l7:mapping
     type=&quot;POLICY&quot;
     srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
     srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
     action=&quot;AlwaysCreateNew&quot; &gt;
    &lt;l7:property key=&quot;MapBy&quot; value=&quot;name&quot; /&gt;
    &lt;l7:property key=&quot;MapTo&quot; value=&quot;MyTargetService&quot; /&gt;
&lt;/l7:mapping&gt;
        </pre>
    </div>
    <h6>Possible Responses</h6>
    <p>If an entity with the same Name DOES NOT exist on the target gateway this will create a new entity with the ID specified, and the mapTo name ("MyTargetService").</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    actionTaken=&quot;CreatedNew&quot;
    targetId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    targetUri=&quot;https://ssgtarget/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot; &gt;
    &lt;l7:property key=&quot;MapBy&quot; value=&quot;name&quot; /&gt;
    &lt;l7:property key=&quot;MapTo&quot; value=&quot;MyTargetService&quot; /&gt;
&lt;/l7:mapping&gt;
        </pre>
    </div>
    <p>If an entity with the same Name exist on the target gateway this will fail with unique key conflict.</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    errorType=&quot;UniqueKeyConflict&quot;
    targetId=&quot;8756846868e6eb676bf4ed8a9bfba04b&quot;
    targetUri=&quot;https://ssgtarget/restman/1.0/policies/8756846868e6eb676bf4ed8a9bfba04b&quot; &gt;
    &lt;l7:property key=&quot;MapBy&quot; value=&quot;name&quot; /&gt;
    &lt;l7:property key=&quot;MapTo&quot; value=&quot;MyTargetService&quot; /&gt;
&lt;/l7:mapping&gt;
        </pre>
    </div>
    <p>If an entity with the same Name DOES NOT exist on the target gateway but one with the same id does, this will create a new entity with a new ID, and the mapTo name ("MyTargetService").</p>
    <div class="code">
        <pre>
&lt;l7:mapping
    type=&quot;POLICY&quot;
    srcId=&quot;97cd0afb295cd2d823d0fdd43e720bbc&quot;
    srcUri=&quot;https://ssgsource/restman/1.0/policies/97cd0afb295cd2d823d0fdd43e720bbc&quot;
    actionTaken=&quot;CreatedNew&quot;
    targetId=&quot;8756846868e6eb676bf4ed8a9bfba04b&quot;
    targetUri=&quot;https://ssgtarget/restman/1.0/policies/8756846868e6eb676bf4ed8a9bfba04b&quot; &gt;
    &lt;l7:property key=&quot;MapBy&quot; value=&quot;name&quot; /&gt;
    &lt;l7:property key=&quot;MapTo&quot; value=&quot;MyTargetService&quot; /&gt;
&lt;/l7:mapping&gt;
        </pre>
    </div>
    <h3>Supporting Large Migrations</h3>
    <p>In order to support large migrations you may need to increase the maximum message size that the target Gateway can accept. In order to do that either:</p>
    <ul>
        <li>Edit the <span class="italicize">io.xmlPartMaxBytes</span> cluster property to increase the maximum message size that can be accepted by the Gateway.</li>
        <li>Or, override the maximum message size in the listening port properties.</li>
    </ul>
    <h3>Example Bundle Migration</h3>
    <p>This bundle migration example will work through the following work flow:</p>
    <ol>
        <li>Migrating from a development Gateway to a new production Gateway.</li>
        <li>Migrating updated policies from the development Gateway to the production Gateway.</li>
    </ol>
    <h4>Set Up</h4>
    <p>The are two Gateways running. A development (source) Gateway, and a production (target) Gateway. Both Gateways are licensed and have the Gateway REST Management Service installed. The production Gateway is otherwise empty.</p>
    <p>The development Gateways contains the following:</p>
    <ul>
        <li>A secure password: "LocalhostDBPassword"</li>
        <li>A JDBC connection to the local database. It used the password from above via a context variable.</li>
        <li>A policy fragment that uses the JDBC Connection via a JDBC Query Assertion.</li>
        <li>An Encapsulated Assertion that uses the policy fragment above</li>
        <li>A service that uses the Encapsulated Assertion above.</li>
        <li>A folder containing the service from above.</li>
    </ul>
    <h4>Exporting the Migration Bundle</h4>
    <p>To create the migration bundle we will export the folder from above. In order to export the folder we first need to get it's id. In order to do that send a request to list folders and filter by the folder name, "Migration":</p>
    <table cellpadding="0" cellspacing="0" class="api-example">
        <caption>List folders with name "Migration"</caption>
        <tbody>
        <tr><td></td><td></td></tr>
        <tr><td colspan="2">Request</td>
        </tr>
        <tr>
            <td>Uri</td>
            <td><div class="code"><a href="https://$#{host}:$#{port}/$#{service-url}/1.0/folders?name=Migration">https://$#{host}:$#{port}/$#{service-url}/1.0/folders=Migration</a></div></td>
        </tr>
        <tr><td>Http Method</td>
            <td>GET</td>
        </tr>
        <tr><td colspan="2">Response</td></tr>
        <tr>
            <td>Http Status</td>
            <td>200</td>
        </tr>
        <tr>
            <td>Message Body</td>
            <td><div class="code">
				<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;l7:List xmlns:l7=&quot;http://ns.l7tech.com/2010/04/gateway-management&quot;&gt;
    &lt;l7:Name&gt;FOLDER List&lt;/l7:Name&gt;
    &lt;l7:Type&gt;List&lt;/l7:Type&gt;
    &lt;l7:TimeStamp&gt;2014-07-14T15:53:10.941-07:00&lt;/l7:TimeStamp&gt;
    &lt;l7:Link rel=&quot;self&quot; uri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/folders?name=Migration&quot;/&gt;
    &lt;l7:Link rel=&quot;template&quot; uri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/folders/template&quot;/&gt;
    &lt;l7:Item&gt;
        &lt;l7:Name&gt;Migration&lt;/l7:Name&gt;
        &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d736&lt;/l7:Id&gt;
        &lt;l7:Type&gt;FOLDER&lt;/l7:Type&gt;
        &lt;l7:TimeStamp&gt;2014-07-14T15:53:10.941-07:00&lt;/l7:TimeStamp&gt;
        &lt;l7:Link rel=&quot;self&quot; uri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/folders/6b52de26ef82cc4df397d1909490d736&quot;/&gt;
        &lt;l7:Resource&gt;
            &lt;l7:Folder folderId=&quot;0000000000000000ffffffffffffec76&quot; id=&quot;6b52de26ef82cc4df397d1909490d736&quot; version=&quot;0&quot;&gt;
                &lt;l7:Name&gt;Migration&lt;/l7:Name&gt;
            &lt;/l7:Folder&gt;
        &lt;/l7:Resource&gt;
    &lt;/l7:Item&gt;
&lt;/l7:List&gt;
				</pre></div>
            </td>
        </tr>
        </tbody>
    </table>
    <p>The folder id is "6b52de26ef82cc4df397d1909490d736" from above. Export the bundle using the folder id:</p>
    <table cellpadding="0" cellspacing="0" class="api-example">
        <caption>Export bundle of folder "6b52de26ef82cc4df397d1909490d736"</caption>
        <tbody>
        <tr><td></td><td></td></tr>
        <tr><td colspan="2">Request</td>
        </tr>
        <tr>
            <td>Uri</td>
            <td><div class="code"><a href="https://$#{host}:$#{port}/$#{service-url}/1.0/bundle?folder=6b52de26ef82cc4df397d1909490d736">https://$#{host}:$#{port}/$#{service-url}/1.0/bundle?folder=6b52de26ef82cc4df397d1909490d736</a></div></td>
        </tr>
        <tr><td>Http Method</td>
            <td>GET</td>
        </tr>
        <tr><td colspan="2">Response</td></tr>
        <tr>
            <td>Http Status</td>
            <td>200</td>
        </tr>
        <tr>
            <td>Message Body</td>
            <td><div class="code">
				<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;l7:Item xmlns:l7=&quot;http://ns.l7tech.com/2010/04/gateway-management&quot;&gt;
    &lt;l7:Name&gt;Bundle&lt;/l7:Name&gt;
    &lt;l7:Type&gt;BUNDLE&lt;/l7:Type&gt;
    &lt;l7:TimeStamp&gt;2014-07-14T16:01:51.399-07:00&lt;/l7:TimeStamp&gt;
    &lt;l7:Link rel=&quot;self&quot; uri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/bundle?folder=6b52de26ef82cc4df397d1909490d736&quot;/&gt;
    &lt;l7:Resource&gt;
        &lt;l7:Bundle&gt;
            &lt;l7:References&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;Migration&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d736&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;FOLDER&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:01:51.387-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:Folder folderId=&quot;0000000000000000ffffffffffffec76&quot; id=&quot;6b52de26ef82cc4df397d1909490d736&quot; version=&quot;0&quot;&gt;
                            &lt;l7:Name&gt;Migration&lt;/l7:Name&gt;
                        &lt;/l7:Folder&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;LocalhostDBPassword&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d7ee&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;SECURE_PASSWORD&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:01:51.387-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:StoredPassword id=&quot;6b52de26ef82cc4df397d1909490d7ee&quot; version=&quot;2&quot;&gt;
                            &lt;l7:Name&gt;LocalhostDBPassword&lt;/l7:Name&gt;
                            &lt;l7:Properties&gt;
&lt;l7:Property key=&quot;usageFromVariable&quot;&gt;
    &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;description&quot;&gt;
    &lt;l7:StringValue&gt;&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;lastUpdated&quot;&gt;
    &lt;l7:DateValue&gt;2014-05-13T17:21:45.137-07:00&lt;/l7:DateValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;type&quot;&gt;
    &lt;l7:StringValue&gt;Password&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
                            &lt;/l7:Properties&gt;
                        &lt;/l7:StoredPassword&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;LocalJDBC&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d7d9&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;JDBC_CONNECTION&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:01:51.388-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:JDBCConnection id=&quot;6b52de26ef82cc4df397d1909490d7d9&quot; version=&quot;2&quot;&gt;
                            &lt;l7:Name&gt;LocalJDBC&lt;/l7:Name&gt;
                            &lt;l7:Enabled&gt;true&lt;/l7:Enabled&gt;
                            &lt;l7:Properties&gt;
&lt;l7:Property key=&quot;maximumPoolSize&quot;&gt;
    &lt;l7:IntegerValue&gt;15&lt;/l7:IntegerValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;minimumPoolSize&quot;&gt;
    &lt;l7:IntegerValue&gt;3&lt;/l7:IntegerValue&gt;
&lt;/l7:Property&gt;
                            &lt;/l7:Properties&gt;
                            &lt;l7:Extension&gt;
&lt;l7:DriverClass&gt;com.mysql.jdbc.Driver&lt;/l7:DriverClass&gt;
&lt;l7:JdbcUrl&gt;jdbc:mysql://localhost:3306/&lt;/l7:JdbcUrl&gt;
&lt;l7:ConnectionProperties&gt;
    &lt;l7:Property key=&quot;EnableCancelTimeout&quot;&gt;
        &lt;l7:StringValue&gt;true&lt;/l7:StringValue&gt;
    &lt;/l7:Property&gt;
    &lt;l7:Property key=&quot;password&quot;&gt;
        &lt;l7:StringValue&gt;${secpass.localhostDBPassword.plaintext}&lt;/l7:StringValue&gt;
    &lt;/l7:Property&gt;
    &lt;l7:Property key=&quot;user&quot;&gt;
        &lt;l7:StringValue&gt;root&lt;/l7:StringValue&gt;
    &lt;/l7:Property&gt;
&lt;/l7:ConnectionProperties&gt;
                            &lt;/l7:Extension&gt;
                        &lt;/l7:JDBCConnection&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;encassPolicy&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d7bf&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;POLICY&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:01:51.390-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:Policy guid=&quot;945a4a17-a9b3-44c4-92a9-1dc2f09bb430&quot; id=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; version=&quot;2&quot;&gt;
                            &lt;l7:PolicyDetail folderId=&quot;6b52de26ef82cc4df397d1909490d736&quot; guid=&quot;945a4a17-a9b3-44c4-92a9-1dc2f09bb430&quot; id=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; version=&quot;2&quot;&gt;
&lt;l7:Name&gt;encassPolicy&lt;/l7:Name&gt;
&lt;l7:PolicyType&gt;Include&lt;/l7:PolicyType&gt;
&lt;l7:Properties&gt;
    &lt;l7:Property key=&quot;revision&quot;&gt;
        &lt;l7:LongValue&gt;3&lt;/l7:LongValue&gt;
    &lt;/l7:Property&gt;
    &lt;l7:Property key=&quot;soap&quot;&gt;
        &lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
    &lt;/l7:Property&gt;
&lt;/l7:Properties&gt;
                            &lt;/l7:PolicyDetail&gt;
                            &lt;l7:Resources&gt;
&lt;l7:ResourceSet tag=&quot;policy&quot;&gt;
    &lt;l7:Resource type=&quot;policy&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;wsp:Policy xmlns:L7p=&amp;quot;http://www.layer7tech.com/ws/policy&amp;quot; xmlns:wsp=&amp;quot;http://schemas.xmlsoap.org/ws/2002/12/policy&amp;quot;&amp;gt;
    &amp;lt;wsp:All wsp:Usage=&amp;quot;Required&amp;quot;&amp;gt;
        &amp;lt;L7p:AuditDetailAssertion&amp;gt;
            &amp;lt;L7p:Detail stringValue=&amp;quot;Policy Fragment: encassPolicy&amp;quot;/&amp;gt;
        &amp;lt;/L7p:AuditDetailAssertion&amp;gt;
        &amp;lt;L7p:JdbcQuery&amp;gt;
            &amp;lt;L7p:ConnectionName stringValue=&amp;quot;LocalJDBC&amp;quot;/&amp;gt;
            &amp;lt;L7p:ConvertVariablesToStrings booleanValue=&amp;quot;false&amp;quot;/&amp;gt;
            &amp;lt;L7p:SqlQuery stringValue=&amp;quot;select &amp;amp;quot;test&amp;amp;quot;&amp;quot;/&amp;gt;
        &amp;lt;/L7p:JdbcQuery&amp;gt;
        &amp;lt;L7p:HardcodedResponse&amp;gt;
            &amp;lt;L7p:Base64ResponseBody stringValue=&amp;quot;VGhpcyBkb2VzIG5vdCBkbyBhbnl0aGluZyB5ZXQh&amp;quot;/&amp;gt;
            &amp;lt;L7p:ResponseContentType stringValue=&amp;quot;text/plain; charset=UTF-8&amp;quot;/&amp;gt;
        &amp;lt;/L7p:HardcodedResponse&amp;gt;
    &amp;lt;/wsp:All&amp;gt;
&amp;lt;/wsp:Policy&amp;gt;
&lt;/l7:Resource&gt;
&lt;/l7:ResourceSet&gt;
                            &lt;/l7:Resources&gt;
                        &lt;/l7:Policy&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;MyJDBCEncass&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d802&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;ENCAPSULATED_ASSERTION&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:01:51.391-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:EncapsulatedAssertion id=&quot;6b52de26ef82cc4df397d1909490d802&quot; version=&quot;0&quot;&gt;
                            &lt;l7:Name&gt;MyJDBCEncass&lt;/l7:Name&gt;
                            &lt;l7:Guid&gt;405c790d-35f3-4f7d-8dfe-57f6647ab5b4&lt;/l7:Guid&gt;
                            &lt;l7:PolicyReference id=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; resourceUri=&quot;http://ns.l7tech.com/2010/04/gateway-management/policies&quot;/&gt;
                            &lt;l7:EncapsulatedArguments/&gt;
                            &lt;l7:EncapsulatedResults&gt;
&lt;l7:EncapsulatedAssertionResult&gt;
    &lt;l7:ResultName&gt;jdbcQuery.queryresult.count&lt;/l7:ResultName&gt;
    &lt;l7:ResultType&gt;int&lt;/l7:ResultType&gt;
&lt;/l7:EncapsulatedAssertionResult&gt;
                            &lt;/l7:EncapsulatedResults&gt;
                            &lt;l7:Properties&gt;
&lt;l7:Property key=&quot;paletteFolder&quot;&gt;
    &lt;l7:StringValue&gt;internalAssertions&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;policyGuid&quot;&gt;
    &lt;l7:StringValue&gt;945a4a17-a9b3-44c4-92a9-1dc2f09bb430&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;allowTracing&quot;&gt;
    &lt;l7:StringValue&gt;false&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
                            &lt;/l7:Properties&gt;
                        &lt;/l7:EncapsulatedAssertion&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;SimpleService&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d77b&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;SERVICE&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:01:51.399-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:Service id=&quot;6b52de26ef82cc4df397d1909490d77b&quot; version=&quot;2&quot;&gt;
                            &lt;l7:ServiceDetail folderId=&quot;6b52de26ef82cc4df397d1909490d736&quot; id=&quot;6b52de26ef82cc4df397d1909490d77b&quot; version=&quot;2&quot;&gt;
&lt;l7:Name&gt;SimpleService&lt;/l7:Name&gt;
&lt;l7:Enabled&gt;true&lt;/l7:Enabled&gt;
&lt;l7:ServiceMappings&gt;
    &lt;l7:HttpMapping&gt;
        &lt;l7:UrlPattern&gt;/SimpleService&lt;/l7:UrlPattern&gt;
        &lt;l7:Verbs&gt;
            &lt;l7:Verb&gt;GET&lt;/l7:Verb&gt;
            &lt;l7:Verb&gt;POST&lt;/l7:Verb&gt;
            &lt;l7:Verb&gt;PUT&lt;/l7:Verb&gt;
            &lt;l7:Verb&gt;DELETE&lt;/l7:Verb&gt;
        &lt;/l7:Verbs&gt;
    &lt;/l7:HttpMapping&gt;
&lt;/l7:ServiceMappings&gt;
&lt;l7:Properties&gt;
    &lt;l7:Property key=&quot;policyRevision&quot;&gt;
        &lt;l7:LongValue&gt;2&lt;/l7:LongValue&gt;
    &lt;/l7:Property&gt;
    &lt;l7:Property key=&quot;wssProcessingEnabled&quot;&gt;
        &lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
    &lt;/l7:Property&gt;
    &lt;l7:Property key=&quot;soap&quot;&gt;
        &lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
    &lt;/l7:Property&gt;
    &lt;l7:Property key=&quot;internal&quot;&gt;
        &lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
    &lt;/l7:Property&gt;
    &lt;l7:Property key=&quot;tracingEnabled&quot;&gt;
        &lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
    &lt;/l7:Property&gt;
&lt;/l7:Properties&gt;
                            &lt;/l7:ServiceDetail&gt;
                            &lt;l7:Resources&gt;
&lt;l7:ResourceSet tag=&quot;policy&quot;&gt;
    &lt;l7:Resource type=&quot;policy&quot; version=&quot;1&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;wsp:Policy xmlns:L7p=&amp;quot;http://www.layer7tech.com/ws/policy&amp;quot; xmlns:wsp=&amp;quot;http://schemas.xmlsoap.org/ws/2002/12/policy&amp;quot;&amp;gt;
    &amp;lt;wsp:All wsp:Usage=&amp;quot;Required&amp;quot;&amp;gt;
        &amp;lt;L7p:Encapsulated&amp;gt;
            &amp;lt;L7p:EncapsulatedAssertionConfigGuid stringValue=&amp;quot;405c790d-35f3-4f7d-8dfe-57f6647ab5b4&amp;quot;/&amp;gt;
            &amp;lt;L7p:EncapsulatedAssertionConfigName stringValue=&amp;quot;MyJDBCEncass&amp;quot;/&amp;gt;
        &amp;lt;/L7p:Encapsulated&amp;gt;
    &amp;lt;/wsp:All&amp;gt;
&amp;lt;/wsp:Policy&amp;gt;
&lt;/l7:Resource&gt;
&lt;/l7:ResourceSet&gt;
                            &lt;/l7:Resources&gt;
                        &lt;/l7:Service&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
            &lt;/l7:References&gt;
            &lt;l7:Mappings&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;0000000000000000ffffffffffffec76&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/folders/0000000000000000ffffffffffffec76&quot; type=&quot;FOLDER&quot;&gt;
                    &lt;l7:Properties&gt;
                        &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                            &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                        &lt;/l7:Property&gt;
                    &lt;/l7:Properties&gt;
                &lt;/l7:Mapping&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d736&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/folders/6b52de26ef82cc4df397d1909490d736&quot; type=&quot;FOLDER&quot;/&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7ee&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/passwords/6b52de26ef82cc4df397d1909490d7ee&quot; type=&quot;SECURE_PASSWORD&quot;&gt;
                    &lt;l7:Properties&gt;
                        &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                            &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                        &lt;/l7:Property&gt;
                    &lt;/l7:Properties&gt;
                &lt;/l7:Mapping&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7d9&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/jdbcConnections/6b52de26ef82cc4df397d1909490d7d9&quot; type=&quot;JDBC_CONNECTION&quot;/&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/policies/6b52de26ef82cc4df397d1909490d7bf&quot; type=&quot;POLICY&quot;/&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d802&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/encapsulatedAssertions/6b52de26ef82cc4df397d1909490d802&quot; type=&quot;ENCAPSULATED_ASSERTION&quot;/&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d77b&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/services/6b52de26ef82cc4df397d1909490d77b&quot; type=&quot;SERVICE&quot;/&gt;
            &lt;/l7:Mappings&gt;
        &lt;/l7:Bundle&gt;
    &lt;/l7:Resource&gt;
&lt;/l7:Item&gt;
				</pre></div>
            </td>
        </tr>
        </tbody>
    </table>
    <h4>Importing the Migration Bundle</h4>
    <p>If we try to import this bundle as is it will fail with the following mapping:</p>
    <div class="code"><pre>
&lt;l7:Mapping action=&quot;NewOrExisting&quot; errorType=&quot;TargetNotFound&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7ee&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/passwords/6b52de26ef82cc4df397d1909490d7ee&quot; type=&quot;SECURE_PASSWORD&quot;&gt;
    &lt;l7:Properties&gt;
        &lt;l7:Property key=&quot;ErrorMessage&quot;&gt;
            &lt;l7:StringValue&gt;Could not locate entity: Fail on new specified and could not locate existing target.. Source Entity: EntityHeader. Name=null, id=6b52de26ef82cc4df397d1909490d7ee, description=null, type = SECURE_PASSWORD&lt;/l7:StringValue&gt;
        &lt;/l7:Property&gt;
        &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
            &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
        &lt;/l7:Property&gt;
    &lt;/l7:Properties&gt;
&lt;/l7:Mapping&gt;
    </pre></div>
    <p>We can solve this by either creating a password on the production Gateway and mapping to it. Create one on the Production Gateway using the API with the same ID as the one on the development gateway:</p>
    <table cellpadding="0" cellspacing="0" class="api-example">
        <caption>Create secure password with id</caption>
        <tbody>
        <tr><td></td><td></td></tr>
        <tr><td colspan="2">Request</td>
        </tr>
        <tr>
            <td>Uri</td>
            <td><div class="code"><a href="https://$#{host}:$#{port}/$#{service-url}/1.0/passwords/6b52de26ef82cc4df397d1909490d7ee">https://$#{host}:$#{port}/$#{service-url}/1.0/passwords/6b52de26ef82cc4df397d1909490d7ee</a></div></td>
        </tr>
        <tr>
            <td>Http Method</td>
            <td>PUT</td>
        </tr>
        <tr>
            <td>Content-Type</td>
            <td>application/xml</td>
        </tr>
        <tr>
            <td>Message Body</td>
            <td><div class="code">
				<pre>
&lt;l7:StoredPassword id=&quot;6b52de26ef82cc4df397d1909490d7ee&quot; version=&quot;2&quot xmlns:l7="http://ns.l7tech.com/2010/04/gateway-management" &gt;
                    &lt;l7:Name&gt;LocalhostDBPassword&lt;/l7:Name&gt;
                    &lt;l7:Password&gt;password&lt;/l7:Password&gt;
                    &lt;l7:Properties&gt;
&lt;l7:Property key=&quot;usageFromVariable&quot;&gt;
&lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;description&quot;&gt;
&lt;l7:StringValue&gt;&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;lastUpdated&quot;&gt;
&lt;l7:DateValue&gt;2014-05-13T17:21:45.137-07:00&lt;/l7:DateValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;type&quot;&gt;
&lt;l7:StringValue&gt;Password&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
                    &lt;/l7:Properties&gt;
                &lt;/l7:StoredPassword&gt;
				</pre></div>
            </td>
        </tr>
        <tr><td colspan="2">Response</td></tr>
        <tr>
            <td>Http Status</td>
            <td>201</td>
        </tr>
        <tr>
            <td>Message Body</td>
            <td><div class="code">
				<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;l7:Item xmlns:l7=&quot;http://ns.l7tech.com/2010/04/gateway-management&quot;&gt;
    &lt;l7:Name&gt;LocalhostDBPassword&lt;/l7:Name&gt;
    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d7ee&lt;/l7:Id&gt;
    &lt;l7:Type&gt;SECURE_PASSWORD&lt;/l7:Type&gt;
    &lt;l7:TimeStamp&gt;2014-07-14T17:16:05.337-07:00&lt;/l7:TimeStamp&gt;
    &lt;l7:Link rel=&quot;self&quot; uri=&quot;https://vkazakovssgnewgateway.ca.com:8443/restman/1.0/passwords/6b52de26ef82cc4df397d1909490d7ee&quot;/&gt;
    &lt;l7:Link rel=&quot;template&quot; uri=&quot;https://vkazakovssgnewgateway.ca.com:8443/restman/1.0/passwords/template&quot;/&gt;
    &lt;l7:Link rel=&quot;list&quot; uri=&quot;https://vkazakovssgnewgateway.ca.com:8443/restman/1.0/passwords&quot;/&gt;
&lt;/l7:Item&gt;
				</pre></div>
            </td>
        </tr>
        </tbody>
    </table>
    <p>One the password is created you can import the bundle:</p>
    <table cellpadding="0" cellspacing="0" class="api-example">
        <caption>Importing bundle</caption>
        <tbody>
        <tr><td></td><td></td></tr>
        <tr><td colspan="2">Request</td>
        </tr>
        <tr>
            <td>Uri</td>
            <td><div class="code"><a href="https://$#{host}:$#{port}/$#{service-url}/1.0/bundle">https://$#{host}:$#{port}/$#{service-url}/1.0/bundle</a></div></td>
        </tr>
        <tr>
            <td>Http Method</td>
            <td>PUT</td>
        </tr>
        <tr>
            <td>Content-Type</td>
            <td>application/xml</td>
        </tr>
        <tr>
            <td>Message Body</td>
            <td><div class="code">
				<pre>
&lt;l7:Bundle xmlns:l7=&quot;http://ns.l7tech.com/2010/04/gateway-management&quot;&gt;
            &lt;l7:References&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;Migration&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d736&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;FOLDER&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:01:51.387-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:Folder folderId=&quot;0000000000000000ffffffffffffec76&quot; id=&quot;6b52de26ef82cc4df397d1909490d736&quot; version=&quot;0&quot;&gt;
                            &lt;l7:Name&gt;Migration&lt;/l7:Name&gt;
                        &lt;/l7:Folder&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;LocalhostDBPassword&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d7ee&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;SECURE_PASSWORD&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:01:51.387-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:StoredPassword id=&quot;6b52de26ef82cc4df397d1909490d7ee&quot; version=&quot;2&quot;&gt;
                            &lt;l7:Name&gt;LocalhostDBPassword&lt;/l7:Name&gt;
                            &lt;l7:Password&gt;password&lt;/l7:Password&gt;
                            &lt;l7:Properties&gt;
&lt;l7:Property key=&quot;usageFromVariable&quot;&gt;
    &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;description&quot;&gt;
    &lt;l7:StringValue&gt;&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;lastUpdated&quot;&gt;
    &lt;l7:DateValue&gt;2014-05-13T17:21:45.137-07:00&lt;/l7:DateValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;type&quot;&gt;
    &lt;l7:StringValue&gt;Password&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
                            &lt;/l7:Properties&gt;
                        &lt;/l7:StoredPassword&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;LocalJDBC&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d7d9&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;JDBC_CONNECTION&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:01:51.388-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:JDBCConnection id=&quot;6b52de26ef82cc4df397d1909490d7d9&quot; version=&quot;2&quot;&gt;
                            &lt;l7:Name&gt;LocalJDBC&lt;/l7:Name&gt;
                            &lt;l7:Enabled&gt;true&lt;/l7:Enabled&gt;
                            &lt;l7:Properties&gt;
&lt;l7:Property key=&quot;maximumPoolSize&quot;&gt;
    &lt;l7:IntegerValue&gt;15&lt;/l7:IntegerValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;minimumPoolSize&quot;&gt;
    &lt;l7:IntegerValue&gt;3&lt;/l7:IntegerValue&gt;
&lt;/l7:Property&gt;
                            &lt;/l7:Properties&gt;
                            &lt;l7:Extension&gt;
&lt;l7:DriverClass&gt;com.mysql.jdbc.Driver&lt;/l7:DriverClass&gt;
&lt;l7:JdbcUrl&gt;jdbc:mysql://localhost:3306/&lt;/l7:JdbcUrl&gt;
&lt;l7:ConnectionProperties&gt;
    &lt;l7:Property key=&quot;EnableCancelTimeout&quot;&gt;
        &lt;l7:StringValue&gt;true&lt;/l7:StringValue&gt;
    &lt;/l7:Property&gt;
    &lt;l7:Property key=&quot;password&quot;&gt;
        &lt;l7:StringValue&gt;${secpass.localhostDBPassword.plaintext}&lt;/l7:StringValue&gt;
    &lt;/l7:Property&gt;
    &lt;l7:Property key=&quot;user&quot;&gt;
        &lt;l7:StringValue&gt;root&lt;/l7:StringValue&gt;
    &lt;/l7:Property&gt;
&lt;/l7:ConnectionProperties&gt;
                            &lt;/l7:Extension&gt;
                        &lt;/l7:JDBCConnection&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;encassPolicy&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d7bf&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;POLICY&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:01:51.390-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:Policy guid=&quot;945a4a17-a9b3-44c4-92a9-1dc2f09bb430&quot; id=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; version=&quot;2&quot;&gt;
                            &lt;l7:PolicyDetail folderId=&quot;6b52de26ef82cc4df397d1909490d736&quot; guid=&quot;945a4a17-a9b3-44c4-92a9-1dc2f09bb430&quot; id=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; version=&quot;2&quot;&gt;
&lt;l7:Name&gt;encassPolicy&lt;/l7:Name&gt;
&lt;l7:PolicyType&gt;Include&lt;/l7:PolicyType&gt;
&lt;l7:Properties&gt;
    &lt;l7:Property key=&quot;revision&quot;&gt;
        &lt;l7:LongValue&gt;3&lt;/l7:LongValue&gt;
    &lt;/l7:Property&gt;
    &lt;l7:Property key=&quot;soap&quot;&gt;
        &lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
    &lt;/l7:Property&gt;
&lt;/l7:Properties&gt;
                            &lt;/l7:PolicyDetail&gt;
                            &lt;l7:Resources&gt;
&lt;l7:ResourceSet tag=&quot;policy&quot;&gt;
    &lt;l7:Resource type=&quot;policy&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;wsp:Policy xmlns:L7p=&amp;quot;http://www.layer7tech.com/ws/policy&amp;quot; xmlns:wsp=&amp;quot;http://schemas.xmlsoap.org/ws/2002/12/policy&amp;quot;&amp;gt;
    &amp;lt;wsp:All wsp:Usage=&amp;quot;Required&amp;quot;&amp;gt;
        &amp;lt;L7p:AuditDetailAssertion&amp;gt;
            &amp;lt;L7p:Detail stringValue=&amp;quot;Policy Fragment: encassPolicy&amp;quot;/&amp;gt;
        &amp;lt;/L7p:AuditDetailAssertion&amp;gt;
        &amp;lt;L7p:JdbcQuery&amp;gt;
            &amp;lt;L7p:ConnectionName stringValue=&amp;quot;LocalJDBC&amp;quot;/&amp;gt;
            &amp;lt;L7p:ConvertVariablesToStrings booleanValue=&amp;quot;false&amp;quot;/&amp;gt;
            &amp;lt;L7p:SqlQuery stringValue=&amp;quot;select &amp;amp;quot;test&amp;amp;quot;&amp;quot;/&amp;gt;
        &amp;lt;/L7p:JdbcQuery&amp;gt;
        &amp;lt;L7p:HardcodedResponse&amp;gt;
            &amp;lt;L7p:Base64ResponseBody stringValue=&amp;quot;VGhpcyBkb2VzIG5vdCBkbyBhbnl0aGluZyB5ZXQh&amp;quot;/&amp;gt;
            &amp;lt;L7p:ResponseContentType stringValue=&amp;quot;text/plain; charset=UTF-8&amp;quot;/&amp;gt;
        &amp;lt;/L7p:HardcodedResponse&amp;gt;
    &amp;lt;/wsp:All&amp;gt;
&amp;lt;/wsp:Policy&amp;gt;
&lt;/l7:Resource&gt;
&lt;/l7:ResourceSet&gt;
                            &lt;/l7:Resources&gt;
                        &lt;/l7:Policy&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;MyJDBCEncass&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d802&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;ENCAPSULATED_ASSERTION&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:01:51.391-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:EncapsulatedAssertion id=&quot;6b52de26ef82cc4df397d1909490d802&quot; version=&quot;0&quot;&gt;
                            &lt;l7:Name&gt;MyJDBCEncass&lt;/l7:Name&gt;
                            &lt;l7:Guid&gt;405c790d-35f3-4f7d-8dfe-57f6647ab5b4&lt;/l7:Guid&gt;
                            &lt;l7:PolicyReference id=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; resourceUri=&quot;http://ns.l7tech.com/2010/04/gateway-management/policies&quot;/&gt;
                            &lt;l7:EncapsulatedArguments/&gt;
                            &lt;l7:EncapsulatedResults&gt;
&lt;l7:EncapsulatedAssertionResult&gt;
    &lt;l7:ResultName&gt;jdbcQuery.queryresult.count&lt;/l7:ResultName&gt;
    &lt;l7:ResultType&gt;int&lt;/l7:ResultType&gt;
&lt;/l7:EncapsulatedAssertionResult&gt;
                            &lt;/l7:EncapsulatedResults&gt;
                            &lt;l7:Properties&gt;
&lt;l7:Property key=&quot;paletteFolder&quot;&gt;
    &lt;l7:StringValue&gt;internalAssertions&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;policyGuid&quot;&gt;
    &lt;l7:StringValue&gt;945a4a17-a9b3-44c4-92a9-1dc2f09bb430&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;allowTracing&quot;&gt;
    &lt;l7:StringValue&gt;false&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
                            &lt;/l7:Properties&gt;
                        &lt;/l7:EncapsulatedAssertion&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;SimpleService&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d77b&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;SERVICE&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:01:51.399-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:Service id=&quot;6b52de26ef82cc4df397d1909490d77b&quot; version=&quot;2&quot;&gt;
                            &lt;l7:ServiceDetail folderId=&quot;6b52de26ef82cc4df397d1909490d736&quot; id=&quot;6b52de26ef82cc4df397d1909490d77b&quot; version=&quot;2&quot;&gt;
&lt;l7:Name&gt;SimpleService&lt;/l7:Name&gt;
&lt;l7:Enabled&gt;true&lt;/l7:Enabled&gt;
&lt;l7:ServiceMappings&gt;
    &lt;l7:HttpMapping&gt;
        &lt;l7:UrlPattern&gt;/SimpleService&lt;/l7:UrlPattern&gt;
        &lt;l7:Verbs&gt;
            &lt;l7:Verb&gt;GET&lt;/l7:Verb&gt;
            &lt;l7:Verb&gt;POST&lt;/l7:Verb&gt;
            &lt;l7:Verb&gt;PUT&lt;/l7:Verb&gt;
            &lt;l7:Verb&gt;DELETE&lt;/l7:Verb&gt;
        &lt;/l7:Verbs&gt;
    &lt;/l7:HttpMapping&gt;
&lt;/l7:ServiceMappings&gt;
&lt;l7:Properties&gt;
    &lt;l7:Property key=&quot;policyRevision&quot;&gt;
        &lt;l7:LongValue&gt;2&lt;/l7:LongValue&gt;
    &lt;/l7:Property&gt;
    &lt;l7:Property key=&quot;wssProcessingEnabled&quot;&gt;
        &lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
    &lt;/l7:Property&gt;
    &lt;l7:Property key=&quot;soap&quot;&gt;
        &lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
    &lt;/l7:Property&gt;
    &lt;l7:Property key=&quot;internal&quot;&gt;
        &lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
    &lt;/l7:Property&gt;
    &lt;l7:Property key=&quot;tracingEnabled&quot;&gt;
        &lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
    &lt;/l7:Property&gt;
&lt;/l7:Properties&gt;
                            &lt;/l7:ServiceDetail&gt;
                            &lt;l7:Resources&gt;
&lt;l7:ResourceSet tag=&quot;policy&quot;&gt;
    &lt;l7:Resource type=&quot;policy&quot; version=&quot;1&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;wsp:Policy xmlns:L7p=&amp;quot;http://www.layer7tech.com/ws/policy&amp;quot; xmlns:wsp=&amp;quot;http://schemas.xmlsoap.org/ws/2002/12/policy&amp;quot;&amp;gt;
    &amp;lt;wsp:All wsp:Usage=&amp;quot;Required&amp;quot;&amp;gt;
        &amp;lt;L7p:Encapsulated&amp;gt;
            &amp;lt;L7p:EncapsulatedAssertionConfigGuid stringValue=&amp;quot;405c790d-35f3-4f7d-8dfe-57f6647ab5b4&amp;quot;/&amp;gt;
            &amp;lt;L7p:EncapsulatedAssertionConfigName stringValue=&amp;quot;MyJDBCEncass&amp;quot;/&amp;gt;
        &amp;lt;/L7p:Encapsulated&amp;gt;
    &amp;lt;/wsp:All&amp;gt;
&amp;lt;/wsp:Policy&amp;gt;
&lt;/l7:Resource&gt;
&lt;/l7:ResourceSet&gt;
                            &lt;/l7:Resources&gt;
                        &lt;/l7:Service&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
            &lt;/l7:References&gt;
            &lt;l7:Mappings&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;0000000000000000ffffffffffffec76&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/folders/0000000000000000ffffffffffffec76&quot; type=&quot;FOLDER&quot;&gt;
                    &lt;l7:Properties&gt;
                        &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                            &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                        &lt;/l7:Property&gt;
                    &lt;/l7:Properties&gt;
                &lt;/l7:Mapping&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d736&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/folders/6b52de26ef82cc4df397d1909490d736&quot; type=&quot;FOLDER&quot;/&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7ee&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/passwords/6b52de26ef82cc4df397d1909490d7ee&quot; type=&quot;SECURE_PASSWORD&quot;&gt;
                    &lt;l7:Properties&gt;
                        &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                            &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                        &lt;/l7:Property&gt;
                    &lt;/l7:Properties&gt;
                &lt;/l7:Mapping&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7d9&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/jdbcConnections/6b52de26ef82cc4df397d1909490d7d9&quot; type=&quot;JDBC_CONNECTION&quot;/&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/policies/6b52de26ef82cc4df397d1909490d7bf&quot; type=&quot;POLICY&quot;/&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d802&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/encapsulatedAssertions/6b52de26ef82cc4df397d1909490d802&quot; type=&quot;ENCAPSULATED_ASSERTION&quot;/&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d77b&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/services/6b52de26ef82cc4df397d1909490d77b&quot; type=&quot;SERVICE&quot;/&gt;
            &lt;/l7:Mappings&gt;
        &lt;/l7:Bundle&gt;
				</pre></div>
            </td>
        </tr>
        <tr><td colspan="2">Response</td></tr>
        <tr>
            <td>Http Status</td>
            <td>201</td>
        </tr>
        <tr>
            <td>Message Body</td>
            <td><div class="code">
				<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;l7:Item xmlns:l7=&quot;http://ns.l7tech.com/2010/04/gateway-management&quot;&gt;
    &lt;l7:Name&gt;Bundle mappings&lt;/l7:Name&gt;
    &lt;l7:Type&gt;BUNDLE MAPPINGS&lt;/l7:Type&gt;
    &lt;l7:TimeStamp&gt;2014-07-14T16:13:48.452-07:00&lt;/l7:TimeStamp&gt;
    &lt;l7:Link rel=&quot;self&quot; uri=&quot;https://productionGateway/restman/1.0/bundle/&quot;/&gt;
    &lt;l7:Resource&gt;
        &lt;l7:Mappings&gt;
            &lt;l7:Mapping action=&quot;NewOrExisting&quot; actionTaken=&quot;UsedExisting&quot; srcId=&quot;0000000000000000ffffffffffffec76&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/folders/0000000000000000ffffffffffffec76&quot; targetId=&quot;0000000000000000ffffffffffffec76&quot; targetUri=&quot;https://productionGateway/restman/1.0/folders/0000000000000000ffffffffffffec76&quot; type=&quot;FOLDER&quot;&gt;
                &lt;l7:Properties&gt;
                    &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                        &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                    &lt;/l7:Property&gt;
                &lt;/l7:Properties&gt;
            &lt;/l7:Mapping&gt;
            &lt;l7:Mapping action=&quot;NewOrExisting&quot; actionTaken=&quot;CreatedNew&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d736&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/folders/6b52de26ef82cc4df397d1909490d736&quot; targetId=&quot;6b52de26ef82cc4df397d1909490d736&quot; targetUri=&quot;https://productionGateway/restman/1.0/folders/6b52de26ef82cc4df397d1909490d736&quot; type=&quot;FOLDER&quot;/&gt;
            &lt;l7:Mapping action=&quot;NewOrExisting&quot; actionTaken=&quot;UsedExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7ee&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/passwords/6b52de26ef82cc4df397d1909490d7ee&quot; targetId=&quot;6b52de26ef82cc4df397d1909490d7ee&quot; targetUri=&quot;https://productionGateway/restman/1.0/passwords/6b52de26ef82cc4df397d1909490d7ee&quot; type=&quot;SECURE_PASSWORD&quot;/&gt;
                &lt;l7:Properties&gt;
                    &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                        &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                    &lt;/l7:Property&gt;
                &lt;/l7:Properties&gt;
            &lt;l7:Mapping action=&quot;NewOrExisting&quot; actionTaken=&quot;CreatedNew&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7d9&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/jdbcConnections/6b52de26ef82cc4df397d1909490d7d9&quot; targetId=&quot;6b52de26ef82cc4df397d1909490d7d9&quot; targetUri=&quot;https://productionGateway/restman/1.0/jdbcConnections/6b52de26ef82cc4df397d1909490d7d9&quot; type=&quot;JDBC_CONNECTION&quot;/&gt;
            &lt;l7:Mapping action=&quot;NewOrExisting&quot; actionTaken=&quot;CreatedNew&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/policies/6b52de26ef82cc4df397d1909490d7bf&quot; targetId=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; targetUri=&quot;https://productionGateway/restman/1.0/policies/6b52de26ef82cc4df397d1909490d7bf&quot; type=&quot;POLICY&quot;/&gt;
            &lt;l7:Mapping action=&quot;NewOrExisting&quot; actionTaken=&quot;CreatedNew&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d802&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/encapsulatedAssertions/6b52de26ef82cc4df397d1909490d802&quot; targetId=&quot;6b52de26ef82cc4df397d1909490d802&quot; targetUri=&quot;https://productionGateway/restman/1.0/encapsulatedAssertions/6b52de26ef82cc4df397d1909490d802&quot; type=&quot;ENCAPSULATED_ASSERTION&quot;/&gt;
            &lt;l7:Mapping action=&quot;NewOrExisting&quot; actionTaken=&quot;CreatedNew&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d77b&quot; srcUri=&quot;https://$#{host}:$#{port}/$#{service-url}/1.0/services/6b52de26ef82cc4df397d1909490d77b&quot; targetId=&quot;6b52de26ef82cc4df397d1909490d77b&quot; targetUri=&quot;https://productionGateway/restman/1.0/services/6b52de26ef82cc4df397d1909490d77b&quot; type=&quot;SERVICE&quot;/&gt;
        &lt;/l7:Mappings&gt;
    &lt;/l7:Resource&gt;
&lt;/l7:Item&gt;
				</pre></div>
            </td>
        </tr>
        </tbody>
    </table>
    <p>The production Gateway should now have the same folder, service, encapsulated assertion, policy jdbc connection and secure password that the development gateway has.</p>
    <h4>Exporting the Updated Migration Bundle</h4>
    <p>Assume that there was some development on the SimpleService that was exported above from the development Gateway. Some authentication security is added to restrict usage of the service. The Require SSL assertion is added and a simple service user must be authenticated using Basic http credentials.</p>
    <p>Export the bundle from the development gateway again, but this time with default action NewOrUpdate. This will change the mapping so that it will update existing entities on the production gateway when it is importing them.</p>
    <table cellpadding="0" cellspacing="0" class="api-example">
    <caption>Export bundle of folder "6b52de26ef82cc4df397d1909490d736" with default action NewOrUpdate</caption>
    <tbody>
    <tr><td></td><td></td></tr>
    <tr><td colspan="2">Request</td>
    </tr>
    <tr>
        <td>Uri</td>
        <td><div class="code"><a href="https://$#{host}:$#{port}/$#{service-url}/1.0/bundle?folder=6b52de26ef82cc4df397d1909490d736">https://$#{host}:$#{port}/$#{service-url}/1.0/bundle?folder=6b52de26ef82cc4df397d1909490d736</a></div></td>
    </tr>
    <tr><td>Http Method</td>
        <td>GET</td>
    </tr>
    <tr><td colspan="2">Response</td></tr>
    <tr>
        <td>Http Status</td>
        <td>200</td>
    </tr>
    <tr>
    <td>Message Body</td>
    <td><div class="code">
    <pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;l7:Item xmlns:l7=&quot;http://ns.l7tech.com/2010/04/gateway-management&quot;&gt;
    &lt;l7:Name&gt;Bundle&lt;/l7:Name&gt;
    &lt;l7:Type&gt;BUNDLE&lt;/l7:Type&gt;
    &lt;l7:TimeStamp&gt;2014-07-14T17:20:53.700-07:00&lt;/l7:TimeStamp&gt;
    &lt;l7:Link rel=&quot;self&quot; uri=&quot;https://10.242.14.142:8443/restman/1.0/bundle?folder=6b52de26ef82cc4df397d1909490d736&amp;amp;defaultAction=NewOrUpdate&quot;/&gt;
    &lt;l7:Resource&gt;
        &lt;l7:Bundle&gt;
            &lt;l7:References&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;Migration&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d736&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;FOLDER&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:35:58.546-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:Folder folderId=&quot;0000000000000000ffffffffffffec76&quot; id=&quot;6b52de26ef82cc4df397d1909490d736&quot; version=&quot;0&quot;&gt;
                            &lt;l7:Name&gt;Migration&lt;/l7:Name&gt;
                        &lt;/l7:Folder&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;LocalhostDBPassword&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d7ee&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;SECURE_PASSWORD&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:35:58.549-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:StoredPassword id=&quot;6b52de26ef82cc4df397d1909490d7ee&quot; version=&quot;2&quot;&gt;
                            &lt;l7:Name&gt;LocalhostDBPassword&lt;/l7:Name&gt;
                            &lt;l7:Properties&gt;
        &lt;l7:Property key=&quot;usageFromVariable&quot;&gt;
        &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
        &lt;/l7:Property&gt;
        &lt;l7:Property key=&quot;description&quot;&gt;
        &lt;l7:StringValue&gt;&lt;/l7:StringValue&gt;
        &lt;/l7:Property&gt;
        &lt;l7:Property key=&quot;lastUpdated&quot;&gt;
        &lt;l7:DateValue&gt;2014-05-13T17:21:45.137-07:00&lt;/l7:DateValue&gt;
        &lt;/l7:Property&gt;
        &lt;l7:Property key=&quot;type&quot;&gt;
        &lt;l7:StringValue&gt;Password&lt;/l7:StringValue&gt;
        &lt;/l7:Property&gt;
                            &lt;/l7:Properties&gt;
                        &lt;/l7:StoredPassword&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;LocalJDBC&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d7d9&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;JDBC_CONNECTION&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:35:58.549-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:JDBCConnection id=&quot;6b52de26ef82cc4df397d1909490d7d9&quot; version=&quot;2&quot;&gt;
                            &lt;l7:Name&gt;LocalJDBC&lt;/l7:Name&gt;
                            &lt;l7:Enabled&gt;true&lt;/l7:Enabled&gt;
                            &lt;l7:Properties&gt;
        &lt;l7:Property key=&quot;maximumPoolSize&quot;&gt;
        &lt;l7:IntegerValue&gt;15&lt;/l7:IntegerValue&gt;
        &lt;/l7:Property&gt;
        &lt;l7:Property key=&quot;minimumPoolSize&quot;&gt;
        &lt;l7:IntegerValue&gt;3&lt;/l7:IntegerValue&gt;
        &lt;/l7:Property&gt;
                            &lt;/l7:Properties&gt;
                            &lt;l7:Extension&gt;
        &lt;l7:DriverClass&gt;com.mysql.jdbc.Driver&lt;/l7:DriverClass&gt;
        &lt;l7:JdbcUrl&gt;jdbc:mysql://localhost:3306/&lt;/l7:JdbcUrl&gt;
        &lt;l7:ConnectionProperties&gt;
        &lt;l7:Property key=&quot;EnableCancelTimeout&quot;&gt;
        &lt;l7:StringValue&gt;true&lt;/l7:StringValue&gt;
        &lt;/l7:Property&gt;
        &lt;l7:Property key=&quot;password&quot;&gt;
        &lt;l7:StringValue&gt;${secpass.localhostDBPassword.plaintext}&lt;/l7:StringValue&gt;
        &lt;/l7:Property&gt;
        &lt;l7:Property key=&quot;user&quot;&gt;
        &lt;l7:StringValue&gt;root&lt;/l7:StringValue&gt;
        &lt;/l7:Property&gt;
        &lt;/l7:ConnectionProperties&gt;
                            &lt;/l7:Extension&gt;
                        &lt;/l7:JDBCConnection&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;encassPolicy&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d7bf&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;POLICY&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:35:58.551-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:Policy guid=&quot;945a4a17-a9b3-44c4-92a9-1dc2f09bb430&quot; id=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; version=&quot;3&quot;&gt;
                            &lt;l7:PolicyDetail folderId=&quot;6b52de26ef82cc4df397d1909490d736&quot; guid=&quot;945a4a17-a9b3-44c4-92a9-1dc2f09bb430&quot; id=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; version=&quot;3&quot;&gt;
        &lt;l7:Name&gt;encassPolicy&lt;/l7:Name&gt;
        &lt;l7:PolicyType&gt;Include&lt;/l7:PolicyType&gt;
        &lt;l7:Properties&gt;
        &lt;l7:Property key=&quot;revision&quot;&gt;
        &lt;l7:LongValue&gt;4&lt;/l7:LongValue&gt;
        &lt;/l7:Property&gt;
        &lt;l7:Property key=&quot;soap&quot;&gt;
        &lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
        &lt;/l7:Property&gt;
        &lt;/l7:Properties&gt;
                            &lt;/l7:PolicyDetail&gt;
                            &lt;l7:Resources&gt;
        &lt;l7:ResourceSet tag=&quot;policy&quot;&gt;
        &lt;l7:Resource type=&quot;policy&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
        &amp;lt;wsp:Policy xmlns:L7p=&amp;quot;http://www.layer7tech.com/ws/policy&amp;quot; xmlns:wsp=&amp;quot;http://schemas.xmlsoap.org/ws/2002/12/policy&amp;quot;&amp;gt;
        &amp;lt;wsp:All wsp:Usage=&amp;quot;Required&amp;quot;&amp;gt;
        &amp;lt;L7p:JdbcQuery&amp;gt;
            &amp;lt;L7p:ConnectionName stringValue=&amp;quot;LocalJDBC&amp;quot;/&amp;gt;
            &amp;lt;L7p:ConvertVariablesToStrings booleanValue=&amp;quot;false&amp;quot;/&amp;gt;
            &amp;lt;L7p:GenerateXmlResult booleanValue=&amp;quot;true&amp;quot;/&amp;gt;
            &amp;lt;L7p:NamingMap mapValue=&amp;quot;included&amp;quot;&amp;gt;
                &amp;lt;L7p:entry&amp;gt;
                    &amp;lt;L7p:key stringValue=&amp;quot;current_version&amp;quot;/&amp;gt;
                    &amp;lt;L7p:value stringValue=&amp;quot;current_version&amp;quot;/&amp;gt;
                &amp;lt;/L7p:entry&amp;gt;
            &amp;lt;/L7p:NamingMap&amp;gt;
            &amp;lt;L7p:SqlQuery stringValue=&amp;quot;select * from ssg.ssg_version;&amp;quot;/&amp;gt;
        &amp;lt;/L7p:JdbcQuery&amp;gt;
        &amp;lt;L7p:HardcodedResponse&amp;gt;
            &amp;lt;L7p:Base64ResponseBody stringValue=&amp;quot;U1NHIFZlcnNpb246ICR7amRiY1F1ZXJ5LmN1cnJlbnRfdmVyc2lvbn0=&amp;quot;/&amp;gt;
            &amp;lt;L7p:ResponseContentType stringValue=&amp;quot;text/plain; charset=UTF-8&amp;quot;/&amp;gt;
        &amp;lt;/L7p:HardcodedResponse&amp;gt;
        &amp;lt;/wsp:All&amp;gt;
        &amp;lt;/wsp:Policy&amp;gt;
        &lt;/l7:Resource&gt;
        &lt;/l7:ResourceSet&gt;
                            &lt;/l7:Resources&gt;
                        &lt;/l7:Policy&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;Internal Identity Provider&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;0000000000000000fffffffffffffffe&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;ID_PROVIDER_CONFIG&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:35:58.551-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:IdentityProvider id=&quot;0000000000000000fffffffffffffffe&quot; version=&quot;0&quot;&gt;
                            &lt;l7:Name&gt;Internal Identity Provider&lt;/l7:Name&gt;
                            &lt;l7:IdentityProviderType&gt;Internal&lt;/l7:IdentityProviderType&gt;
                        &lt;/l7:IdentityProvider&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;SimpleServiceUser&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;a71d2733b59a6360e8134b6e32c1fb6b&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;USER&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:35:58.551-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:User providerId=&quot;0000000000000000fffffffffffffffe&quot; id=&quot;a71d2733b59a6360e8134b6e32c1fb6b&quot;&gt;
                            &lt;l7:Login&gt;SimpleServiceUser&lt;/l7:Login&gt;
                        &lt;/l7:User&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;MyJDBCEncass&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d802&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;ENCAPSULATED_ASSERTION&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:35:58.551-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:EncapsulatedAssertion id=&quot;6b52de26ef82cc4df397d1909490d802&quot; version=&quot;0&quot;&gt;
                            &lt;l7:Name&gt;MyJDBCEncass&lt;/l7:Name&gt;
                            &lt;l7:Guid&gt;405c790d-35f3-4f7d-8dfe-57f6647ab5b4&lt;/l7:Guid&gt;
                            &lt;l7:PolicyReference id=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; resourceUri=&quot;http://ns.l7tech.com/2010/04/gateway-management/policies&quot;/&gt;
                            &lt;l7:EncapsulatedArguments/&gt;
                            &lt;l7:EncapsulatedResults&gt;
        &lt;l7:EncapsulatedAssertionResult&gt;
        &lt;l7:ResultName&gt;jdbcQuery.queryresult.count&lt;/l7:ResultName&gt;
        &lt;l7:ResultType&gt;int&lt;/l7:ResultType&gt;
        &lt;/l7:EncapsulatedAssertionResult&gt;
                            &lt;/l7:EncapsulatedResults&gt;
                            &lt;l7:Properties&gt;
        &lt;l7:Property key=&quot;paletteFolder&quot;&gt;
        &lt;l7:StringValue&gt;internalAssertions&lt;/l7:StringValue&gt;
        &lt;/l7:Property&gt;
        &lt;l7:Property key=&quot;policyGuid&quot;&gt;
        &lt;l7:StringValue&gt;945a4a17-a9b3-44c4-92a9-1dc2f09bb430&lt;/l7:StringValue&gt;
        &lt;/l7:Property&gt;
        &lt;l7:Property key=&quot;allowTracing&quot;&gt;
        &lt;l7:StringValue&gt;false&lt;/l7:StringValue&gt;
        &lt;/l7:Property&gt;
                            &lt;/l7:Properties&gt;
                        &lt;/l7:EncapsulatedAssertion&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
                &lt;l7:Item&gt;
                    &lt;l7:Name&gt;SimpleService&lt;/l7:Name&gt;
                    &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d77b&lt;/l7:Id&gt;
                    &lt;l7:Type&gt;SERVICE&lt;/l7:Type&gt;
                    &lt;l7:TimeStamp&gt;2014-07-14T16:35:58.558-07:00&lt;/l7:TimeStamp&gt;
                    &lt;l7:Resource&gt;
                        &lt;l7:Service id=&quot;6b52de26ef82cc4df397d1909490d77b&quot; version=&quot;2&quot;&gt;
                            &lt;l7:ServiceDetail folderId=&quot;6b52de26ef82cc4df397d1909490d736&quot; id=&quot;6b52de26ef82cc4df397d1909490d77b&quot; version=&quot;2&quot;&gt;
        &lt;l7:Name&gt;SimpleService&lt;/l7:Name&gt;
        &lt;l7:Enabled&gt;true&lt;/l7:Enabled&gt;
        &lt;l7:ServiceMappings&gt;
        &lt;l7:HttpMapping&gt;
        &lt;l7:UrlPattern&gt;/SimpleService&lt;/l7:UrlPattern&gt;
        &lt;l7:Verbs&gt;
            &lt;l7:Verb&gt;GET&lt;/l7:Verb&gt;
            &lt;l7:Verb&gt;POST&lt;/l7:Verb&gt;
            &lt;l7:Verb&gt;PUT&lt;/l7:Verb&gt;
            &lt;l7:Verb&gt;DELETE&lt;/l7:Verb&gt;
        &lt;/l7:Verbs&gt;
        &lt;/l7:HttpMapping&gt;
        &lt;/l7:ServiceMappings&gt;
        &lt;l7:Properties&gt;
        &lt;l7:Property key=&quot;policyRevision&quot;&gt;
        &lt;l7:LongValue&gt;3&lt;/l7:LongValue&gt;
        &lt;/l7:Property&gt;
        &lt;l7:Property key=&quot;wssProcessingEnabled&quot;&gt;
        &lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
        &lt;/l7:Property&gt;
        &lt;l7:Property key=&quot;soap&quot;&gt;
        &lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
        &lt;/l7:Property&gt;
        &lt;l7:Property key=&quot;internal&quot;&gt;
        &lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
        &lt;/l7:Property&gt;
        &lt;l7:Property key=&quot;tracingEnabled&quot;&gt;
        &lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
        &lt;/l7:Property&gt;
        &lt;/l7:Properties&gt;
                            &lt;/l7:ServiceDetail&gt;
                            &lt;l7:Resources&gt;
        &lt;l7:ResourceSet tag=&quot;policy&quot;&gt;
        &lt;l7:Resource type=&quot;policy&quot; version=&quot;2&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
        &amp;lt;wsp:Policy xmlns:L7p=&amp;quot;http://www.layer7tech.com/ws/policy&amp;quot; xmlns:wsp=&amp;quot;http://schemas.xmlsoap.org/ws/2002/12/policy&amp;quot;&amp;gt;
        &amp;lt;wsp:All wsp:Usage=&amp;quot;Required&amp;quot;&amp;gt;
        &amp;lt;L7p:SslAssertion&amp;gt;
            &amp;lt;L7p:RequireClientAuthentication booleanValue=&amp;quot;true&amp;quot;/&amp;gt;
        &amp;lt;/L7p:SslAssertion&amp;gt;
        &amp;lt;L7p:HttpBasic/&amp;gt;
        &amp;lt;L7p:SpecificUser&amp;gt;
            &amp;lt;L7p:IdentityProviderOid goidValue=&amp;quot;0000000000000000fffffffffffffffe&amp;quot;/&amp;gt;
            &amp;lt;L7p:UserLogin stringValue=&amp;quot;SimpleServiceUser&amp;quot;/&amp;gt;
            &amp;lt;L7p:UserName stringValue=&amp;quot;SimpleServiceUser&amp;quot;/&amp;gt;
            &amp;lt;L7p:UserUid stringValue=&amp;quot;a71d2733b59a6360e8134b6e32c1fb6b&amp;quot;/&amp;gt;
        &amp;lt;/L7p:SpecificUser&amp;gt;
        &amp;lt;L7p:Encapsulated&amp;gt;
            &amp;lt;L7p:EncapsulatedAssertionConfigGuid stringValue=&amp;quot;405c790d-35f3-4f7d-8dfe-57f6647ab5b4&amp;quot;/&amp;gt;
            &amp;lt;L7p:EncapsulatedAssertionConfigName stringValue=&amp;quot;MyJDBCEncass&amp;quot;/&amp;gt;
        &amp;lt;/L7p:Encapsulated&amp;gt;
        &amp;lt;/wsp:All&amp;gt;
        &amp;lt;/wsp:Policy&amp;gt;
        &lt;/l7:Resource&gt;
        &lt;/l7:ResourceSet&gt;
                            &lt;/l7:Resources&gt;
                        &lt;/l7:Service&gt;
                    &lt;/l7:Resource&gt;
                &lt;/l7:Item&gt;
            &lt;/l7:References&gt;
            &lt;l7:Mappings&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;0000000000000000ffffffffffffec76&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/folders/0000000000000000ffffffffffffec76&quot; type=&quot;FOLDER&quot;&gt;
                    &lt;l7:Properties&gt;
                        &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                            &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                        &lt;/l7:Property&gt;
                    &lt;/l7:Properties&gt;
                &lt;/l7:Mapping&gt;
                &lt;l7:Mapping action=&quot;NewOrUpdate&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d736&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/folders/6b52de26ef82cc4df397d1909490d736&quot; type=&quot;FOLDER&quot;/&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7ee&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/passwords/6b52de26ef82cc4df397d1909490d7ee&quot; type=&quot;SECURE_PASSWORD&quot;&gt;
                    &lt;l7:Properties&gt;
                        &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                            &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                        &lt;/l7:Property&gt;
                    &lt;/l7:Properties&gt;
                &lt;/l7:Mapping&gt;
                &lt;l7:Mapping action=&quot;NewOrUpdate&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7d9&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/jdbcConnections/6b52de26ef82cc4df397d1909490d7d9&quot; type=&quot;JDBC_CONNECTION&quot;/&gt;
                &lt;l7:Mapping action=&quot;NewOrUpdate&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/policies/6b52de26ef82cc4df397d1909490d7bf&quot; type=&quot;POLICY&quot;/&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;0000000000000000fffffffffffffffe&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/identityProviders/0000000000000000fffffffffffffffe&quot; type=&quot;ID_PROVIDER_CONFIG&quot;&gt;
                    &lt;l7:Properties&gt;
                        &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                            &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                        &lt;/l7:Property&gt;
                    &lt;/l7:Properties&gt;
                &lt;/l7:Mapping&gt;
                &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;a71d2733b59a6360e8134b6e32c1fb6b&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/identityProviders/0000000000000000fffffffffffffffe/users/a71d2733b59a6360e8134b6e32c1fb6b&quot; type=&quot;USER&quot;&gt;
                    &lt;l7:Properties&gt;
                        &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                            &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                        &lt;/l7:Property&gt;
                    &lt;/l7:Properties&gt;
                &lt;/l7:Mapping&gt;
                &lt;l7:Mapping action=&quot;NewOrUpdate&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d802&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/encapsulatedAssertions/6b52de26ef82cc4df397d1909490d802&quot; type=&quot;ENCAPSULATED_ASSERTION&quot;/&gt;
                &lt;l7:Mapping action=&quot;NewOrUpdate&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d77b&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/services/6b52de26ef82cc4df397d1909490d77b&quot; type=&quot;SERVICE&quot;/&gt;
            &lt;/l7:Mappings&gt;
        &lt;/l7:Bundle&gt;
    &lt;/l7:Resource&gt;
&lt;/l7:Item&gt;
    </pre></div>
    </td>
    </tr>
    </tbody>
    </table>
    <p>If we try and import the bundle as is above it will fail because it expects the simple service user to exist on the target gateway. The following mapping is returned:</p>
    <div class="code"><pre>
&lt;l7:Mapping action=&quot;NewOrExisting&quot; errorType=&quot;TargetNotFound&quot; srcId=&quot;a71d2733b59a6360e8134b6e32c1fb6b&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/identityProviders/0000000000000000fffffffffffffffe/users/a71d2733b59a6360e8134b6e32c1fb6b&quot; type=&quot;USER&quot;&gt;
    &lt;l7:Properties&gt;
        &lt;l7:Property key=&quot;ErrorMessage&quot;&gt;
            &lt;l7:StringValue&gt;Could not locate entity: Fail on new specified and could not locate existing target.. Source Entity: EntityHeader. Name=SimpleServiceUser, id=a71d2733b59a6360e8134b6e32c1fb6b, description=null, type = USER&lt;/l7:StringValue&gt;
        &lt;/l7:Property&gt;
        &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
            &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
        &lt;/l7:Property&gt;
    &lt;/l7:Properties&gt;
&lt;/l7:Mapping&gt;
    </pre></div>
    <p>Create a user on the production gateway in the internal identity provider called "ProductionSimpleServiceUser". Map the Simple service user by name to the "ProductionSimpleServiceUser" and import the bundle:</p>
    <table cellpadding="0" cellspacing="0" class="api-example">
    <caption>Importing bundle 2</caption>
    <tbody>
    <tr><td></td><td></td></tr>
    <tr><td colspan="2">Request</td>
    </tr>
    <tr>
        <td>Uri</td>
        <td><div class="code"><a href="https://$#{host}:$#{port}/$#{service-url}/1.0/bundle">https://$#{host}:$#{port}/$#{service-url}/1.0/bundle</a></div></td>
    </tr>
    <tr>
        <td>Http Method</td>
        <td>PUT</td>
    </tr>
    <tr>
        <td>Content-Type</td>
        <td>application/xml</td>
    </tr>
    <tr>
    <td>Message Body</td>
    <td><div class="code">
    <pre>
&lt;l7:Bundle xmlns:l7=&quot;http://ns.l7tech.com/2010/04/gateway-management&quot;&gt;
    &lt;l7:References&gt;
        &lt;l7:Item&gt;
            &lt;l7:Name&gt;Migration&lt;/l7:Name&gt;
            &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d736&lt;/l7:Id&gt;
            &lt;l7:Type&gt;FOLDER&lt;/l7:Type&gt;
            &lt;l7:TimeStamp&gt;2014-07-14T16:35:58.546-07:00&lt;/l7:TimeStamp&gt;
            &lt;l7:Resource&gt;
                &lt;l7:Folder folderId=&quot;0000000000000000ffffffffffffec76&quot; id=&quot;6b52de26ef82cc4df397d1909490d736&quot; version=&quot;0&quot;&gt;
                    &lt;l7:Name&gt;Migration&lt;/l7:Name&gt;
                &lt;/l7:Folder&gt;
            &lt;/l7:Resource&gt;
        &lt;/l7:Item&gt;
        &lt;l7:Item&gt;
            &lt;l7:Name&gt;LocalhostDBPassword&lt;/l7:Name&gt;
            &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d7ee&lt;/l7:Id&gt;
            &lt;l7:Type&gt;SECURE_PASSWORD&lt;/l7:Type&gt;
            &lt;l7:TimeStamp&gt;2014-07-14T16:35:58.549-07:00&lt;/l7:TimeStamp&gt;
            &lt;l7:Resource&gt;
                &lt;l7:StoredPassword id=&quot;6b52de26ef82cc4df397d1909490d7ee&quot; version=&quot;2&quot;&gt;
                    &lt;l7:Name&gt;LocalhostDBPassword&lt;/l7:Name&gt;
                    &lt;l7:Properties&gt;
&lt;l7:Property key=&quot;usageFromVariable&quot;&gt;
&lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;description&quot;&gt;
&lt;l7:StringValue&gt;&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;lastUpdated&quot;&gt;
&lt;l7:DateValue&gt;2014-05-13T17:21:45.137-07:00&lt;/l7:DateValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;type&quot;&gt;
&lt;l7:StringValue&gt;Password&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
                    &lt;/l7:Properties&gt;
                &lt;/l7:StoredPassword&gt;
            &lt;/l7:Resource&gt;
        &lt;/l7:Item&gt;
        &lt;l7:Item&gt;
            &lt;l7:Name&gt;LocalJDBC&lt;/l7:Name&gt;
            &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d7d9&lt;/l7:Id&gt;
            &lt;l7:Type&gt;JDBC_CONNECTION&lt;/l7:Type&gt;
            &lt;l7:TimeStamp&gt;2014-07-14T16:35:58.549-07:00&lt;/l7:TimeStamp&gt;
            &lt;l7:Resource&gt;
                &lt;l7:JDBCConnection id=&quot;6b52de26ef82cc4df397d1909490d7d9&quot; version=&quot;2&quot;&gt;
                    &lt;l7:Name&gt;LocalJDBC&lt;/l7:Name&gt;
                    &lt;l7:Enabled&gt;true&lt;/l7:Enabled&gt;
                    &lt;l7:Properties&gt;
&lt;l7:Property key=&quot;maximumPoolSize&quot;&gt;
&lt;l7:IntegerValue&gt;15&lt;/l7:IntegerValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;minimumPoolSize&quot;&gt;
&lt;l7:IntegerValue&gt;3&lt;/l7:IntegerValue&gt;
&lt;/l7:Property&gt;
                    &lt;/l7:Properties&gt;
                    &lt;l7:Extension&gt;
&lt;l7:DriverClass&gt;com.mysql.jdbc.Driver&lt;/l7:DriverClass&gt;
&lt;l7:JdbcUrl&gt;jdbc:mysql://localhost:3306/&lt;/l7:JdbcUrl&gt;
&lt;l7:ConnectionProperties&gt;
&lt;l7:Property key=&quot;EnableCancelTimeout&quot;&gt;
&lt;l7:StringValue&gt;true&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;password&quot;&gt;
&lt;l7:StringValue&gt;${secpass.localhostDBPassword.plaintext}&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;user&quot;&gt;
&lt;l7:StringValue&gt;root&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
&lt;/l7:ConnectionProperties&gt;
                    &lt;/l7:Extension&gt;
                &lt;/l7:JDBCConnection&gt;
            &lt;/l7:Resource&gt;
        &lt;/l7:Item&gt;
        &lt;l7:Item&gt;
            &lt;l7:Name&gt;encassPolicy&lt;/l7:Name&gt;
            &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d7bf&lt;/l7:Id&gt;
            &lt;l7:Type&gt;POLICY&lt;/l7:Type&gt;
            &lt;l7:TimeStamp&gt;2014-07-14T16:35:58.551-07:00&lt;/l7:TimeStamp&gt;
            &lt;l7:Resource&gt;
                &lt;l7:Policy guid=&quot;945a4a17-a9b3-44c4-92a9-1dc2f09bb430&quot; id=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; version=&quot;3&quot;&gt;
                    &lt;l7:PolicyDetail folderId=&quot;6b52de26ef82cc4df397d1909490d736&quot; guid=&quot;945a4a17-a9b3-44c4-92a9-1dc2f09bb430&quot; id=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; version=&quot;3&quot;&gt;
&lt;l7:Name&gt;encassPolicy&lt;/l7:Name&gt;
&lt;l7:PolicyType&gt;Include&lt;/l7:PolicyType&gt;
&lt;l7:Properties&gt;
&lt;l7:Property key=&quot;revision&quot;&gt;
&lt;l7:LongValue&gt;4&lt;/l7:LongValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;soap&quot;&gt;
&lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
&lt;/l7:Property&gt;
&lt;/l7:Properties&gt;
                    &lt;/l7:PolicyDetail&gt;
                    &lt;l7:Resources&gt;
&lt;l7:ResourceSet tag=&quot;policy&quot;&gt;
&lt;l7:Resource type=&quot;policy&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;wsp:Policy xmlns:L7p=&amp;quot;http://www.layer7tech.com/ws/policy&amp;quot; xmlns:wsp=&amp;quot;http://schemas.xmlsoap.org/ws/2002/12/policy&amp;quot;&amp;gt;
&amp;lt;wsp:All wsp:Usage=&amp;quot;Required&amp;quot;&amp;gt;
&amp;lt;L7p:JdbcQuery&amp;gt;
    &amp;lt;L7p:ConnectionName stringValue=&amp;quot;LocalJDBC&amp;quot;/&amp;gt;
    &amp;lt;L7p:ConvertVariablesToStrings booleanValue=&amp;quot;false&amp;quot;/&amp;gt;
    &amp;lt;L7p:GenerateXmlResult booleanValue=&amp;quot;true&amp;quot;/&amp;gt;
    &amp;lt;L7p:NamingMap mapValue=&amp;quot;included&amp;quot;&amp;gt;
        &amp;lt;L7p:entry&amp;gt;
            &amp;lt;L7p:key stringValue=&amp;quot;current_version&amp;quot;/&amp;gt;
            &amp;lt;L7p:value stringValue=&amp;quot;current_version&amp;quot;/&amp;gt;
        &amp;lt;/L7p:entry&amp;gt;
    &amp;lt;/L7p:NamingMap&amp;gt;
    &amp;lt;L7p:SqlQuery stringValue=&amp;quot;select * from ssg.ssg_version;&amp;quot;/&amp;gt;
&amp;lt;/L7p:JdbcQuery&amp;gt;
&amp;lt;L7p:HardcodedResponse&amp;gt;
    &amp;lt;L7p:Base64ResponseBody stringValue=&amp;quot;U1NHIFZlcnNpb246ICR7amRiY1F1ZXJ5LmN1cnJlbnRfdmVyc2lvbn0=&amp;quot;/&amp;gt;
    &amp;lt;L7p:ResponseContentType stringValue=&amp;quot;text/plain; charset=UTF-8&amp;quot;/&amp;gt;
&amp;lt;/L7p:HardcodedResponse&amp;gt;
&amp;lt;/wsp:All&amp;gt;
&amp;lt;/wsp:Policy&amp;gt;
&lt;/l7:Resource&gt;
&lt;/l7:ResourceSet&gt;
                    &lt;/l7:Resources&gt;
                &lt;/l7:Policy&gt;
            &lt;/l7:Resource&gt;
        &lt;/l7:Item&gt;
        &lt;l7:Item&gt;
            &lt;l7:Name&gt;Internal Identity Provider&lt;/l7:Name&gt;
            &lt;l7:Id&gt;0000000000000000fffffffffffffffe&lt;/l7:Id&gt;
            &lt;l7:Type&gt;ID_PROVIDER_CONFIG&lt;/l7:Type&gt;
            &lt;l7:TimeStamp&gt;2014-07-14T16:35:58.551-07:00&lt;/l7:TimeStamp&gt;
            &lt;l7:Resource&gt;
                &lt;l7:IdentityProvider id=&quot;0000000000000000fffffffffffffffe&quot; version=&quot;0&quot;&gt;
                    &lt;l7:Name&gt;Internal Identity Provider&lt;/l7:Name&gt;
                    &lt;l7:IdentityProviderType&gt;Internal&lt;/l7:IdentityProviderType&gt;
                &lt;/l7:IdentityProvider&gt;
            &lt;/l7:Resource&gt;
        &lt;/l7:Item&gt;
        &lt;l7:Item&gt;
            &lt;l7:Name&gt;SimpleServiceUser&lt;/l7:Name&gt;
            &lt;l7:Id&gt;a71d2733b59a6360e8134b6e32c1fb6b&lt;/l7:Id&gt;
            &lt;l7:Type&gt;USER&lt;/l7:Type&gt;
            &lt;l7:TimeStamp&gt;2014-07-14T16:35:58.551-07:00&lt;/l7:TimeStamp&gt;
            &lt;l7:Resource&gt;
                &lt;l7:User providerId=&quot;0000000000000000fffffffffffffffe&quot; id=&quot;a71d2733b59a6360e8134b6e32c1fb6b&quot;&gt;
                    &lt;l7:Login&gt;SimpleServiceUser&lt;/l7:Login&gt;
                &lt;/l7:User&gt;
            &lt;/l7:Resource&gt;
        &lt;/l7:Item&gt;
        &lt;l7:Item&gt;
            &lt;l7:Name&gt;MyJDBCEncass&lt;/l7:Name&gt;
            &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d802&lt;/l7:Id&gt;
            &lt;l7:Type&gt;ENCAPSULATED_ASSERTION&lt;/l7:Type&gt;
            &lt;l7:TimeStamp&gt;2014-07-14T16:35:58.551-07:00&lt;/l7:TimeStamp&gt;
            &lt;l7:Resource&gt;
                &lt;l7:EncapsulatedAssertion id=&quot;6b52de26ef82cc4df397d1909490d802&quot; version=&quot;0&quot;&gt;
                    &lt;l7:Name&gt;MyJDBCEncass&lt;/l7:Name&gt;
                    &lt;l7:Guid&gt;405c790d-35f3-4f7d-8dfe-57f6647ab5b4&lt;/l7:Guid&gt;
                    &lt;l7:PolicyReference id=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; resourceUri=&quot;http://ns.l7tech.com/2010/04/gateway-management/policies&quot;/&gt;
                    &lt;l7:EncapsulatedArguments/&gt;
                    &lt;l7:EncapsulatedResults&gt;
&lt;l7:EncapsulatedAssertionResult&gt;
&lt;l7:ResultName&gt;jdbcQuery.queryresult.count&lt;/l7:ResultName&gt;
&lt;l7:ResultType&gt;int&lt;/l7:ResultType&gt;
&lt;/l7:EncapsulatedAssertionResult&gt;
                    &lt;/l7:EncapsulatedResults&gt;
                    &lt;l7:Properties&gt;
&lt;l7:Property key=&quot;paletteFolder&quot;&gt;
&lt;l7:StringValue&gt;internalAssertions&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;policyGuid&quot;&gt;
&lt;l7:StringValue&gt;945a4a17-a9b3-44c4-92a9-1dc2f09bb430&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;allowTracing&quot;&gt;
&lt;l7:StringValue&gt;false&lt;/l7:StringValue&gt;
&lt;/l7:Property&gt;
                    &lt;/l7:Properties&gt;
                &lt;/l7:EncapsulatedAssertion&gt;
            &lt;/l7:Resource&gt;
        &lt;/l7:Item&gt;
        &lt;l7:Item&gt;
            &lt;l7:Name&gt;SimpleService&lt;/l7:Name&gt;
            &lt;l7:Id&gt;6b52de26ef82cc4df397d1909490d77b&lt;/l7:Id&gt;
            &lt;l7:Type&gt;SERVICE&lt;/l7:Type&gt;
            &lt;l7:TimeStamp&gt;2014-07-14T16:35:58.558-07:00&lt;/l7:TimeStamp&gt;
            &lt;l7:Resource&gt;
                &lt;l7:Service id=&quot;6b52de26ef82cc4df397d1909490d77b&quot; version=&quot;2&quot;&gt;
                    &lt;l7:ServiceDetail folderId=&quot;6b52de26ef82cc4df397d1909490d736&quot; id=&quot;6b52de26ef82cc4df397d1909490d77b&quot; version=&quot;2&quot;&gt;
&lt;l7:Name&gt;SimpleService&lt;/l7:Name&gt;
&lt;l7:Enabled&gt;true&lt;/l7:Enabled&gt;
&lt;l7:ServiceMappings&gt;
&lt;l7:HttpMapping&gt;
&lt;l7:UrlPattern&gt;/SimpleService&lt;/l7:UrlPattern&gt;
&lt;l7:Verbs&gt;
    &lt;l7:Verb&gt;GET&lt;/l7:Verb&gt;
    &lt;l7:Verb&gt;POST&lt;/l7:Verb&gt;
    &lt;l7:Verb&gt;PUT&lt;/l7:Verb&gt;
    &lt;l7:Verb&gt;DELETE&lt;/l7:Verb&gt;
&lt;/l7:Verbs&gt;
&lt;/l7:HttpMapping&gt;
&lt;/l7:ServiceMappings&gt;
&lt;l7:Properties&gt;
&lt;l7:Property key=&quot;policyRevision&quot;&gt;
&lt;l7:LongValue&gt;3&lt;/l7:LongValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;wssProcessingEnabled&quot;&gt;
&lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;soap&quot;&gt;
&lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;internal&quot;&gt;
&lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
&lt;/l7:Property&gt;
&lt;l7:Property key=&quot;tracingEnabled&quot;&gt;
&lt;l7:BooleanValue&gt;false&lt;/l7:BooleanValue&gt;
&lt;/l7:Property&gt;
&lt;/l7:Properties&gt;
                    &lt;/l7:ServiceDetail&gt;
                    &lt;l7:Resources&gt;
&lt;l7:ResourceSet tag=&quot;policy&quot;&gt;
&lt;l7:Resource type=&quot;policy&quot; version=&quot;2&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;wsp:Policy xmlns:L7p=&amp;quot;http://www.layer7tech.com/ws/policy&amp;quot; xmlns:wsp=&amp;quot;http://schemas.xmlsoap.org/ws/2002/12/policy&amp;quot;&amp;gt;
&amp;lt;wsp:All wsp:Usage=&amp;quot;Required&amp;quot;&amp;gt;
&amp;lt;L7p:SslAssertion&amp;gt;
    &amp;lt;L7p:RequireClientAuthentication booleanValue=&amp;quot;true&amp;quot;/&amp;gt;
&amp;lt;/L7p:SslAssertion&amp;gt;
&amp;lt;L7p:HttpBasic/&amp;gt;
&amp;lt;L7p:SpecificUser&amp;gt;
    &amp;lt;L7p:IdentityProviderOid goidValue=&amp;quot;0000000000000000fffffffffffffffe&amp;quot;/&amp;gt;
    &amp;lt;L7p:UserLogin stringValue=&amp;quot;SimpleServiceUser&amp;quot;/&amp;gt;
    &amp;lt;L7p:UserName stringValue=&amp;quot;SimpleServiceUser&amp;quot;/&amp;gt;
    &amp;lt;L7p:UserUid stringValue=&amp;quot;a71d2733b59a6360e8134b6e32c1fb6b&amp;quot;/&amp;gt;
&amp;lt;/L7p:SpecificUser&amp;gt;
&amp;lt;L7p:Encapsulated&amp;gt;
    &amp;lt;L7p:EncapsulatedAssertionConfigGuid stringValue=&amp;quot;405c790d-35f3-4f7d-8dfe-57f6647ab5b4&amp;quot;/&amp;gt;
    &amp;lt;L7p:EncapsulatedAssertionConfigName stringValue=&amp;quot;MyJDBCEncass&amp;quot;/&amp;gt;
&amp;lt;/L7p:Encapsulated&amp;gt;
&amp;lt;/wsp:All&amp;gt;
&amp;lt;/wsp:Policy&amp;gt;
&lt;/l7:Resource&gt;
&lt;/l7:ResourceSet&gt;
                    &lt;/l7:Resources&gt;
                &lt;/l7:Service&gt;
            &lt;/l7:Resource&gt;
        &lt;/l7:Item&gt;
    &lt;/l7:References&gt;
    &lt;l7:Mappings&gt;
        &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;0000000000000000ffffffffffffec76&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/folders/0000000000000000ffffffffffffec76&quot; type=&quot;FOLDER&quot;&gt;
            &lt;l7:Properties&gt;
                &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                    &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                &lt;/l7:Property&gt;
            &lt;/l7:Properties&gt;
        &lt;/l7:Mapping&gt;
        &lt;l7:Mapping action=&quot;NewOrUpdate&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d736&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/folders/6b52de26ef82cc4df397d1909490d736&quot; type=&quot;FOLDER&quot;/&gt;
        &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7ee&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/passwords/6b52de26ef82cc4df397d1909490d7ee&quot; type=&quot;SECURE_PASSWORD&quot;&gt;
            &lt;l7:Properties&gt;
                &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                    &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                &lt;/l7:Property&gt;
            &lt;/l7:Properties&gt;
        &lt;/l7:Mapping&gt;
        &lt;l7:Mapping action=&quot;NewOrUpdate&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7d9&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/jdbcConnections/6b52de26ef82cc4df397d1909490d7d9&quot; type=&quot;JDBC_CONNECTION&quot;/&gt;
        &lt;l7:Mapping action=&quot;NewOrUpdate&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/policies/6b52de26ef82cc4df397d1909490d7bf&quot; type=&quot;POLICY&quot;/&gt;
        &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;0000000000000000fffffffffffffffe&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/identityProviders/0000000000000000fffffffffffffffe&quot; type=&quot;ID_PROVIDER_CONFIG&quot;&gt;
            &lt;l7:Properties&gt;
                &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                    &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                &lt;/l7:Property&gt;
            &lt;/l7:Properties&gt;
        &lt;/l7:Mapping&gt;
        &lt;l7:Mapping action=&quot;NewOrExisting&quot; srcId=&quot;a71d2733b59a6360e8134b6e32c1fb6b&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/identityProviders/0000000000000000fffffffffffffffe/users/a71d2733b59a6360e8134b6e32c1fb6b&quot; type=&quot;USER&quot;&gt;
            &lt;l7:Properties&gt;
                &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                    &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                &lt;/l7:Property&gt;
                &lt;l7:Property key=&quot;MapBy&quot;&gt;
                    &lt;l7:StringValue&gt;name&lt;/l7:StringValue&gt;
                &lt;/l7:Property&gt;
                &lt;l7:Property key=&quot;MapTo&quot;&gt;
                    &lt;l7:StringValue&gt;ProductionSimpleServiceUser&lt;/l7:StringValue&gt;
                &lt;/l7:Property&gt;
            &lt;/l7:Properties&gt;
        &lt;/l7:Mapping&gt;
        &lt;l7:Mapping action=&quot;NewOrUpdate&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d802&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/encapsulatedAssertions/6b52de26ef82cc4df397d1909490d802&quot; type=&quot;ENCAPSULATED_ASSERTION&quot;/&gt;
        &lt;l7:Mapping action=&quot;NewOrUpdate&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d77b&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/services/6b52de26ef82cc4df397d1909490d77b&quot; type=&quot;SERVICE&quot;/&gt;
    &lt;/l7:Mappings&gt;
&lt;/l7:Bundle&gt;
				</pre></div>
    </td>
    </tr>
    <tr><td colspan="2">Response</td></tr>
    <tr>
        <td>Http Status</td>
        <td>201</td>
    </tr>
    <tr>
        <td>Message Body</td>
        <td><div class="code">
				<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;l7:Item xmlns:l7=&quot;http://ns.l7tech.com/2010/04/gateway-management&quot;&gt;
    &lt;l7:Name&gt;Bundle mappings&lt;/l7:Name&gt;
    &lt;l7:Type&gt;BUNDLE MAPPINGS&lt;/l7:Type&gt;
    &lt;l7:TimeStamp&gt;2014-07-14T17:29:32.042-07:00&lt;/l7:TimeStamp&gt;
    &lt;l7:Link rel=&quot;self&quot; uri=&quot;https://vkazakovssgnewgateway.ca.com:8443/restman/1.0/bundle/&quot;/&gt;
    &lt;l7:Resource&gt;
        &lt;l7:Mappings&gt;
            &lt;l7:Mapping action=&quot;NewOrExisting&quot; actionTaken=&quot;UsedExisting&quot; srcId=&quot;0000000000000000ffffffffffffec76&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/folders/0000000000000000ffffffffffffec76&quot; targetId=&quot;0000000000000000ffffffffffffec76&quot; targetUri=&quot;https://vkazakovssgnewgateway.ca.com:8443/restman/1.0/folders/0000000000000000ffffffffffffec76&quot; type=&quot;FOLDER&quot;&gt;
                &lt;l7:Properties&gt;
                    &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                        &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                    &lt;/l7:Property&gt;
                &lt;/l7:Properties&gt;
            &lt;/l7:Mapping&gt;
            &lt;l7:Mapping action=&quot;NewOrUpdate&quot; actionTaken=&quot;UpdatedExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d736&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/folders/6b52de26ef82cc4df397d1909490d736&quot; targetId=&quot;6b52de26ef82cc4df397d1909490d736&quot; targetUri=&quot;https://vkazakovssgnewgateway.ca.com:8443/restman/1.0/folders/6b52de26ef82cc4df397d1909490d736&quot; type=&quot;FOLDER&quot;/&gt;
            &lt;l7:Mapping action=&quot;NewOrExisting&quot; actionTaken=&quot;UsedExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7ee&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/passwords/6b52de26ef82cc4df397d1909490d7ee&quot; targetId=&quot;6b52de26ef82cc4df397d1909490d7ee&quot; targetUri=&quot;https://vkazakovssgnewgateway.ca.com:8443/restman/1.0/passwords/6b52de26ef82cc4df397d1909490d7ee&quot; type=&quot;SECURE_PASSWORD&quot;&gt;
                &lt;l7:Properties&gt;
                    &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                        &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                    &lt;/l7:Property&gt;
                &lt;/l7:Properties&gt;
            &lt;/l7:Mapping&gt;
            &lt;l7:Mapping action=&quot;NewOrUpdate&quot; actionTaken=&quot;UpdatedExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7d9&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/jdbcConnections/6b52de26ef82cc4df397d1909490d7d9&quot; targetId=&quot;6b52de26ef82cc4df397d1909490d7d9&quot; targetUri=&quot;https://vkazakovssgnewgateway.ca.com:8443/restman/1.0/jdbcConnections/6b52de26ef82cc4df397d1909490d7d9&quot; type=&quot;JDBC_CONNECTION&quot;/&gt;
            &lt;l7:Mapping action=&quot;NewOrUpdate&quot; actionTaken=&quot;UpdatedExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/policies/6b52de26ef82cc4df397d1909490d7bf&quot; targetId=&quot;6b52de26ef82cc4df397d1909490d7bf&quot; targetUri=&quot;https://vkazakovssgnewgateway.ca.com:8443/restman/1.0/policies/6b52de26ef82cc4df397d1909490d7bf&quot; type=&quot;POLICY&quot;/&gt;
            &lt;l7:Mapping action=&quot;NewOrExisting&quot; actionTaken=&quot;UsedExisting&quot; srcId=&quot;0000000000000000fffffffffffffffe&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/identityProviders/0000000000000000fffffffffffffffe&quot; targetId=&quot;0000000000000000fffffffffffffffe&quot; targetUri=&quot;https://vkazakovssgnewgateway.ca.com:8443/restman/1.0/identityProviders/0000000000000000fffffffffffffffe&quot; type=&quot;ID_PROVIDER_CONFIG&quot;&gt;
                &lt;l7:Properties&gt;
                    &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                        &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                    &lt;/l7:Property&gt;
                &lt;/l7:Properties&gt;
            &lt;/l7:Mapping&gt;
            &lt;l7:Mapping action=&quot;NewOrExisting&quot; actionTaken=&quot;UsedExisting&quot; srcId=&quot;a71d2733b59a6360e8134b6e32c1fb6b&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/identityProviders/0000000000000000fffffffffffffffe/users/a71d2733b59a6360e8134b6e32c1fb6b&quot; targetId=&quot;959c06d8af08a8cb2a568915e0314d89&quot; targetUri=&quot;https://vkazakovssgnewgateway.ca.com:8443/restman/1.0/identityProviders/0000000000000000fffffffffffffffe/users/959c06d8af08a8cb2a568915e0314d89&quot; type=&quot;USER&quot;&gt;
                &lt;l7:Properties&gt;
                    &lt;l7:Property key=&quot;MapTo&quot;&gt;
                        &lt;l7:StringValue&gt;ProductionSimpleServiceUser&lt;/l7:StringValue&gt;
                    &lt;/l7:Property&gt;
                    &lt;l7:Property key=&quot;FailOnNew&quot;&gt;
                        &lt;l7:BooleanValue&gt;true&lt;/l7:BooleanValue&gt;
                    &lt;/l7:Property&gt;
                    &lt;l7:Property key=&quot;MapBy&quot;&gt;
                        &lt;l7:StringValue&gt;name&lt;/l7:StringValue&gt;
                    &lt;/l7:Property&gt;
                &lt;/l7:Properties&gt;
            &lt;/l7:Mapping&gt;
            &lt;l7:Mapping action=&quot;NewOrUpdate&quot; actionTaken=&quot;UpdatedExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d802&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/encapsulatedAssertions/6b52de26ef82cc4df397d1909490d802&quot; targetId=&quot;6b52de26ef82cc4df397d1909490d802&quot; targetUri=&quot;https://vkazakovssgnewgateway.ca.com:8443/restman/1.0/encapsulatedAssertions/6b52de26ef82cc4df397d1909490d802&quot; type=&quot;ENCAPSULATED_ASSERTION&quot;/&gt;
            &lt;l7:Mapping action=&quot;NewOrUpdate&quot; actionTaken=&quot;UpdatedExisting&quot; srcId=&quot;6b52de26ef82cc4df397d1909490d77b&quot; srcUri=&quot;https://10.242.14.142:8443/restman/1.0/services/6b52de26ef82cc4df397d1909490d77b&quot; targetId=&quot;6b52de26ef82cc4df397d1909490d77b&quot; targetUri=&quot;https://vkazakovssgnewgateway.ca.com:8443/restman/1.0/services/6b52de26ef82cc4df397d1909490d77b&quot; type=&quot;SERVICE&quot;/&gt;
        &lt;/l7:Mappings&gt;
    &lt;/l7:Resource&gt;
&lt;/l7:Item&gt;
				</pre></div>
        </td>
    </tr>
    </tbody>
    </table>
    <p>The service in now updated on the target gateway to match the one from the development gateway, except it used the "ProductionSimpleServiceUser" instead.</p>
</div>