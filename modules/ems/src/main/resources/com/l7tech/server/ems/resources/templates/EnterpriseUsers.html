<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" xmlns:wicket="http://wicket.apache.org/">
<head>
    <!-- PROTOTYPE ONLY BEGIN -->
    <meta http-equiv="Expires" content="-1" />
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta http-equiv="Pragma" content="no-cache" />
    <!-- PROTOTYPE ONLY END -->
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>User Accounts [Enterprise Service Manager]</title>
    <link rel="stylesheet" type="text/css" href="../css/l7.css" />

    <!-- Required YUI modules: button, connection, datasource, datatable, dragdrop, json -->
    <link rel="stylesheet" type="text/css" href="../yui/button/assets/skins/sam/button.css">
    <link rel="stylesheet" type="text/css" href="../yui/datatable/assets/skins/sam/datatable.css">
    <script type="text/javascript" src="../yui/yahoo-dom-event/yahoo-dom-event.js"></script>
    <script type="text/javascript" src="../yui/element/element-beta-min.js"></script>
    <script type="text/javascript" src="../yui/button/button-min.js"></script>
    <script type="text/javascript" src="../yui/connection/connection-min.js"></script>
    <script type="text/javascript" src="../yui/datasource/datasource-beta-min.js"></script>
    <script type="text/javascript" src="../yui/dragdrop/dragdrop-min.js"></script>
    <script type="text/javascript" src="../yui/datatable/datatable-beta-min.js"></script>
    <script type="text/javascript" src="../yui/json/json-min.js"></script>

    <link rel="stylesheet" type="text/css" href="../css/l7-yui-skin.css"> <!-- modifies YUI sam skin; must come after YUI CSS files -->
    <script type="text/javascript" src="../js/l7.js"></script>
    <script type="text/javascript" src="../js/enterpriseTable.js"></script>
    <script type="text/javascript" src="../js/treeTable.js"></script>
    <script type="text/javascript">
        function init() {
            var addUserButton = new YAHOO.widget.Button('addUserButton');
            var removeUserButton = new YAHOO.widget.Button('removeUserButton');
            var editUserButton = new YAHOO.widget.Button('editUserButton');
            removeUserButton.set('disabled', true);
            editUserButton.set('disabled', true);
            // TODO assign URLs or use YAHOO.util.Event.addListener('addUserButton', 'click', function() {...})

            var accounts = [
                    {guid:'2a34df91-d78e-45a8-9bb9-e30c9beda337', userId:'bart', accountClass:'User', surname:'Simpson', givenNames:'Bart'},
                    {guid:'d978bb7a-7cfd-4d89-8420-28d43f93081c', userId:'homer', accountClass:'User', surname:'Simpson', givenNames:'Homer'},
                    {guid:'8fa8f98c-9ba8-4d65-8a19-2b604cbbda7a', userId:'lisa', accountClass:'Administrator', surname:'Simpson', givenNames:'Lisa'},
                    {guid:'a9ea99f3-7bbc-45c0-9668-3b0db3b57b4f', userId:'marge', accountClass:'Administrator', surname:'Simpson', givenNames:'Marge'}
                ];

            var columnDefs = [
                {key:'userId', label:'User ID', sortable:true, resizeable:true},
                {key:'accountClass', label:'Account Class', sortable:true, resizeable:true},
                {key:'surname', label:'Surname', sortable:true, resizeable:true},
                {key:'givenNames', label:'Given Names', sortable:true, resizeable:true}
            ];

            var dataSource = new YAHOO.util.DataSource(accounts);
            dataSource.responseType = YAHOO.util.DataSource.TYPE_JSARRAY;
            dataSource.responseSchema = {
                fields: ['guid','userId','accountClass','surname','givenNames']
            };

            var dataTable = new YAHOO.widget.DataTable(
                'userAccounts',
                columnDefs,
                dataSource,
                {
                    draggableColumns : true,
                    selectionMode    : 'single'
                });

            // Subscribes to events for row selection.
            dataTable.subscribe("rowMouseoverEvent", dataTable.onEventHighlightRow);
            dataTable.subscribe("rowMouseoutEvent", dataTable.onEventUnhighlightRow);
            dataTable.subscribe("rowClickEvent", dataTable.onEventSelectRow);

            // Subscribes to row select changes for enabling/disabling toolbar buttons.
            function enableOrDisableToolbarButtons(event, target) {
                var selectedRows = this.getSelectedTrEls();
                var hasSelectedRows = (selectedRows != null) && (selectedRows.length != 0);
                removeUserButton.set('disabled', !hasSelectedRows);
                editUserButton.set('disabled', !hasSelectedRows);
            }
            dataTable.subscribe("rowSelectEvent", enableOrDisableToolbarButtons);
            dataTable.subscribe("rowUnSelectEvent", enableOrDisableToolbarButtons);
        }
    </script>
</head>
<body class="yui-skin-sam" onload="init();">
<noscript><div class="javascriptWarning">This page requires JavaScript. Your browser either does not have JavaScript support or has disabled it.</div></noscript>
<table width="100%">
    <tr>
        <td>
            <div class="header">
                <table width="100%">
                    <tr class="header">
                        <td class="logoLeft"><img src="../images/logoLeft.png" alt="" /></td>
                        <td class="logo"><a href="Monitor.html"><img src="../images/l7Logo.png" alt="Layer 7 Technologies Inc." /><img src="../images/esmLogo.png" alt="" /></a></td>
                        <td class="logoRight"><img src="../images/logoRight.png" alt="" /></td>
                        <td width="100%"><img src="../images/spacer.png" alt="" /></td>
                        <td class="middle nowrap">Logged in as "admin"<br />since May 5, 2008 05:57:54 PM</td>
                        <td class="middle"><form method="get" action="Login.html"><input type="submit" value="Log Out" /></form></td>
                        <td class="middle help"><a href="Help.html" target="l7-esm-help" title="Open help page in a separate window">Help</a></td>
                    </tr>
                </table>
            </div>
            <div class="divider"><img src="../images/spacer.png" alt="" /></div>
            <div>
                <table>
                    <tr>
                        <td id="tabLTManageGateways"><img src="../images/tabLT.png" alt="" /></td>
                        <td id="tabCTManageGateways" class="tabCT"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabRTManageGateways"><img src="../images/tabRT.png" alt="" /></td>
                        <td id="tabLTManagePolicies"><img src="../images/tabLT.png" alt="" /></td>
                        <td id="tabCTManagePolicies" class="tabCT"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabRTManagePolicies"><img src="../images/tabRT.png" alt="" /></td>
                        <td id="tabLTReports"><img src="../images/tabLT.png" alt="" /></td>
                        <td id="tabCTReports" class="tabCT"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabRTReports"><img src="../images/tabRT.png" alt="" /></td>
                        <td id="tabLTTools"><img src="../images/tabLT.png" alt="" /></td>
                        <td id="tabCTTools" class="tabCT"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabRTTools"><img src="../images/tabRT.png" alt="" /></td>
                        <td id="tabLTSettings"><img src="../images/tabLT.png" alt="" /></td>
                        <td id="tabCTSettings" class="tabCT"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabRTSettings"><img src="../images/tabRT.png" alt="" /></td>
                        <td><img src="../images/tabLT.png" alt="" /></td>
                        <td class="tabCT"><img src="../images/spacer.png" alt="" /></td>
                        <td><img src="../images/tabRT.png" alt="" /></td>
                    </tr>
                    <tr>
                        <td id="tabLMManageGateways" class="tabLM"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabCMManageGateways" class="tabCM"><a href="Monitor.html">Manage Gateways</a></td>
                        <td id="tabRMManageGateways" class="tabRM"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabLMManagePolicies" class="tabLM"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabCMManagePolicies" class="tabCM"><a href="PolicyMigration.html">Manage Policies</a></td>
                        <td id="tabRMManagePolicies" class="tabRM"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabLMReports" class="tabLM"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabCMReports" class="tabCM"><a href="StandardReports.html">Reports</a></td>
                        <td id="tabRMReports" class="tabRM"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabLMTools" class="tabLM"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabCMTools" class="tabCM"><a href="Messages.html">Tools</a></td>
                        <td id="tabRMTools" class="tabRM"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabLMSettings" class="tabLM"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabCMSettings" class="tabCMon">Settings</td>
                        <td id="tabRMSettings" class="tabRM"><img src="../images/spacer.png" alt="" /></td>
                        <td class="tabLM"><img src="../images/spacer.png" alt="" /></td>
                        <td class="tabCM" width="100%"><img src="../images/spacer.png" alt="" /></td>
                        <td class="tabRM"><img src="../images/spacer.png" alt="" /></td>
                    </tr>
                    <tr>
                        <td id="tabLBManageGateways"><img src="../images/tabLBoff.png" alt="" /></td>
                        <td id="tabCBManageGateways" class="tabCBoff"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabRBManageGateways"><img src="../images/tabRBoff.png" alt="" /></td>
                        <td id="tabLBManagePolicies"><img src="../images/tabLBoff.png" alt="" /></td>
                        <td id="tabCBManagePolicies" class="tabCBoff"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabRBManagePolicies"><img src="../images/tabRBoff.png" alt="" /></td>
                        <td id="tabLBReports"><img src="../images/tabLBoff.png" alt="" /></td>
                        <td id="tabCBReports" class="tabCBoff"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabRBReports"><img src="../images/tabRBoff.png" alt="" /></td>
                        <td id="tabLBTools"><img src="../images/tabLBoff.png" alt="" /></td>
                        <td id="tabCBTools" class="tabCBoff"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabRBTools"><img src="../images/tabRBoff.png" alt="" /></td>
                        <td id="tabLBSettings"><img src="../images/tabLBon.png" alt="" /></td>
                        <td id="tabCBSettings" class="tabCBon"><img src="../images/spacer.png" alt="" /></td>
                        <td id="tabRBSettings"><img src="../images/tabRBon.png" alt="" /></td>
                        <td><img src="../images/tabLBoff.png" alt="" /></td>
                        <td class="tabCBoff"><img src="../images/spacer.png" alt="" /></td>
                        <td><img src="../images/tabRBoff.png" alt="" /></td>
                    </tr>
                </table>
            </div>
            <script language="JavaScript" type="text/javascript">
                l7.TabBar.initTab('ManageGateways');
                l7.TabBar.initTab('ManagePolicies');
                l7.TabBar.initTab('Reports');
                l7.TabBar.initTab('Tools');
            </script>
            <div class="subtabBar">
                <span class="subtabOff"><a href="UserSettings.html">User Settings</a></span>
                |
                <span class="subtabOff"><a href="SystemSettings.html">System Settings</a></span>
                |
                <span class="subtabOn">User Accounts</span>
            </div>
            <div class="content">
                <wicket:extend>
                    <form wicket:id="form" action="">
                        <div class="panel">
                            <div class="panelToolbar">
                               <button id="addUserButton" type="button" wicket:id="addUserButton"><img src="../images/addUser.png" alt="" /> <wicket:message key="label.new">New</wicket:message></button>
                               <button id="editUserButton" type="button" wicket:id="editUserButton"><img src="../images/editUser.png" alt="" /> <wicket:message key="label.edit">Edit</wicket:message></button>
                                <button id="resetUserPasswordButton" type="button" wicket:id="resetUserPasswordButton"><img src="../images/editUser.png" alt="" /> <wicket:message key="label.resetPassword">Reset Password</wicket:message></button>
                               <input name="userId" type="hidden" value="" wicket:id="userId"/>
                            </div>
                            <div wicket:id="usertable.container">
                                <div wicket:id="usertable"/>
                            </div>
                        </div>
                    </form>
                    <div wicket:id="user.container">
                        <div wicket:id="user.content"/>
                    </div>
                </wicket:extend>
            </div>
            <div class="statusBar">
                <table>
                    <tr>
                        <td width="100%">Time Zone: Canada/Pacific (GMT-08:00/<b>-07:00</b>)</td>
                        <td><a class="nowrap" href="http://www.layer7tech.com" target="_blank">Layer 7 Technologies Inc.</a></td>
                    </tr>
                </table>
            </div>
            <div class="divider"><img src="../images/spacer.png" alt="" /></div>
        </td>
    </tr>
</table>
</body>
</html>
