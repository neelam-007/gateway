<!--
  Ivy settings file for use with the build
-->
<ivysettings>

    <settings
        defaultResolver="libs-and-build"/>
	<credentials host="apim-artifactory-poc.l7tech.com" realm="Artifactory Realm" username="system.user" passwd="AP6krWWQbjzdgzpD"/>
    <resolvers>
        <chain name="libs-and-build">
            <filesystem name="localfile" checksums="">
                <artifact pattern="${src.root}/lib/repository/[organisation]/[artifact]-[revision].[ext]"/>
                <ivy pattern="${src.root}/lib/repository/[organisation]/[module]-ivy-[revision].xml"/>
            </filesystem>
            <filesystem name="shared" checksums="">
                <artifact pattern="${src.root}/build/ivy/repository/[artifact]-[revision].[ext]"/>
                <ivy pattern="${src.root}/build/ivy/repository/[module]-ivy-[revision].xml"/>
            </filesystem>

			<!-- For download -->
			<ibiblio name="artifactory-download" root="http://apim-artifactory-poc.l7tech.com:8081/artifactory/libs-snapshot" m2compatible="true" usepoms="false" />

			<!-- For L7 builds snapshot upload -->
			<url name="artifactory-snapshot" m2compatible="true">
                <ivy pattern="http://apim-artifactory-poc.l7tech.com:8081/artifactory/apim-maven-snapshot-local/[organisation]/[module]/[revision]-SNAPSHOT/ivy-[revision].xml" />
                <artifact pattern="http://apim-artifactory-poc.l7tech.com:8081/artifactory/apim-maven-snapshot-local/[organisation]/[module]/[revision]-SNAPSHOT/[artifact]-[revision].[ext]" />
                <artifact pattern="http://apim-artifactory-poc.l7tech.com:8081/artifactory/apim-maven-snapshot-local/[organisation]/[module]/[revision]-SNAPSHOT/[artifact].[ext]" />
            </url>

			<!-- For thirdparty upload -->
			<url name="artifactory-thirdparty" m2compatible="true">
                <ivy pattern="http://apim-artifactory-poc.l7tech.com:8081/artifactory/apim-maven-thirdparty-local/[organisation]/[module]/[revision]/ivy-[revision].xml" />
                <artifact pattern="http://apim-artifactory-poc.l7tech.com:8081/artifactory/apim-maven-thirdparty-local/[organisation]/[module]/[revision]/[artifact]-[revision].[ext]" />
                <artifact pattern="http://apim-artifactory-poc.l7tech.com:8081/artifactory/apim-maven-thirdparty-local/[organisation]/[module]/[revision]/[artifact].[ext]" />
            </url>
        </chain>
    </resolvers>
    
    <!-- 
      Note that this can cause an NPE if used when installing dependencies
    -->
    <caches useOrigin="true" defaultCacheDir="${src.root}/build/ivy/cache" memorySize="25000"/>
</ivysettings>
