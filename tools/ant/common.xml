<?xml version="1.0" encoding="UTF-8"?>
<!-- Collection of commonly used Ant targets.
     This file is to be <import>'ed to Ant build files. -->
<project name="common" basedir=".">

    <dirname property="common.basedir" file="${ant.file.common}"/>

    <!-- Extra Ant tasks definitions -->
    <taskdef resource="net/sf/antcontrib/antcontrib.properties">
        <classpath>
            <pathelement location="${common.basedir}/../../lib/ant-contrib.jar"/>
        </classpath>
    </taskdef>

    <!-- Initializes the ssg.home property. -->
    <target name="-common.init.ssg.home">
        <if>
            <os family="unix"/>
            <then>
                <property name="ssg.home" value="/ssg"/>
            </then>
            <elseif>
                <os family="windows"/>
                <then>
                    <property name="ssg.home" value="C:\Program Files\Layer 7 Technologies\SecureSpan Gateway"/>
                </then>
            </elseif>
        </if>
    </target>

    <!-- Tests if the SSG home folder exists. 
         Side effect: Initializes the ssg.home property. -->
    <target name="-common.test.ssg.home" depends="-common.init.ssg.home">
        <fail message="SSG home folder not found: ${ssg.home}">
            <condition>
                <not>
                    <available file="${ssg.home}"/>
                </not>
            </condition>
        </fail>
    </target>

</project>